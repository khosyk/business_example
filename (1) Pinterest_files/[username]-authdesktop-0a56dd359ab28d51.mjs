(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77429,51798,50157,29522,39395,61116,38989,58789,68743,33390,21756,36811,60206,76865,40667,73098,35404,89734,46760,88962,15071,86173,75579],{703173:e=>{const t={fragment:{argumentDefinitions:n=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowerListPaginationQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"FollowersModalGraphQL_pinner"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"FollowerListPaginationQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:a=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"PinnerFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PinnerFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pinner",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"MEDIUM"}],kind:"ScalarField",name:"avatar",storageKey:'avatar(size:"MEDIUM")'},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:a,filters:null,handle:"connection",key:"FollowerList_pinner_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"PinnerFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"Pinner",abstractKey:null}],storageKey:null}]},params:{cacheID:"831a2294b7b68de7a34187be2bd5e8fd",id:null,metadata:{},name:"FollowerListPaginationQuery",operationKind:"query",text:"query FollowerListPaginationQuery(\n  $count: Int = 50\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...FollowersModalGraphQL_pinner_1G22uz\n    id\n  }\n}\n\nfragment FollowersModalGraphQL_pinner_1G22uz on Pinner {\n  followers {\n    __typename\n    ... on PinnerFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...UserListItem_pinner\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_pinner on Pinner {\n  username\n  fullName\n  avatar(size: MEDIUM)\n  explicitlyFollowedByMe\n  entityId\n}\n"}};var n,i,o,r,a;t.hash="722e1c75c60d6175b014d7bb9f4637e9",e.exports=t},614338:e=>{const t={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerGraphQLQuery",selections:[{alias:null,args:null,concreteType:"GetModelById",kind:"LinkedField",name:"modelById",plural:!1,selections:[{alias:null,args:i=[{kind:"Variable",name:"entityId",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"pinner",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowersModalGraphQL_pinner"}],type:"Pinner",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"FollowersControllerGraphQLQuery",selections:[{alias:null,args:null,concreteType:"GetModelById",kind:"LinkedField",name:"modelById",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"pinner",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[o,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Literal",name:"first",value:50}],concreteType:"PinnerFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PinnerFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pinner",kind:"LinkedField",name:"node",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"MEDIUM"}],kind:"ScalarField",name:"avatar",storageKey:'avatar(size:"MEDIUM")'},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:s,filters:null,handle:"connection",key:"FollowerList_pinner_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"PinnerFollowersConnectionContainer",abstractKey:null}],storageKey:null},l],type:"Pinner",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{cacheID:"093814992f48006191ae6581c5a623a0",id:null,metadata:{},name:"FollowersControllerGraphQLQuery",operationKind:"query",text:"query FollowersControllerGraphQLQuery(\n  $userId: String!\n) {\n  modelById {\n    pinner(entityId: $userId) {\n      __typename\n      ... on Pinner {\n        username\n        followerCount\n        ...FollowersModalGraphQL_pinner\n      }\n      ... on Node {\n        __isNode: __typename\n        id\n      }\n    }\n  }\n}\n\nfragment FollowersModalGraphQL_pinner on Pinner {\n  followers {\n    __typename\n    ... on PinnerFollowersConnectionContainer {\n      connection(first: 50) {\n        edges {\n          node {\n            ...UserListItem_pinner\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_pinner on Pinner {\n  username\n  fullName\n  avatar(size: MEDIUM)\n  explicitlyFollowedByMe\n  entityId\n}\n"}};var n,i,o,r,a,s,l;t.hash="96c0121d5ebebc449d9dcb7a8583e8a0",e.exports=t},61433:(e,t,n)=>{const i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:o=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:o},fragmentPathInResult:["node"],operation:n(703173),identifierField:"id"}},name:"FollowersModalGraphQL_pinner",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"PinnerFollowersConnection",kind:"LinkedField",name:"__FollowerList_pinner_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PinnerFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pinner",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserListItem_pinner"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"PinnerFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Pinner",abstractKey:null};var o;i.hash="722e1c75c60d6175b014d7bb9f4637e9",e.exports=i},364262:e=>{const t={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemFollowMutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:"PinnerFollowPayload",kind:"LinkedField",name:"pinnerFollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!1,selections:[o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"Pinner",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UserListItemFollowMutation",selections:[{alias:null,args:i,concreteType:"PinnerFollowPayload",kind:"LinkedField",name:"pinnerFollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o,r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{cacheID:"c866ff3ca2abd3dc802b4d4c238ff989",id:null,metadata:{},name:"UserListItemFollowMutation",operationKind:"mutation",text:"mutation UserListItemFollowMutation(\n  $followee: String!\n) {\n  pinnerFollow(input: {followee: $followee}) {\n    response {\n      __typename\n      ... on Error {\n        __isError: __typename\n        error {\n          message\n        }\n      }\n      ... on Pinner {\n        explicitlyFollowedByMe\n        username\n      }\n      ... on Node {\n        __isNode: __typename\n        id\n      }\n    }\n  }\n}\n"}};var n,i,o,r;t.hash="4fc1339e3e107d1629b4f4d924cdf6a7",e.exports=t},311150:e=>{const t={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemUnfollowMutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:"PinnerUnfollowPayload",kind:"LinkedField",name:"pinnerUnfollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!1,selections:[o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"Pinner",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UserListItemUnfollowMutation",selections:[{alias:null,args:i,concreteType:"PinnerUnfollowPayload",kind:"LinkedField",name:"pinnerUnfollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o,r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{cacheID:"471eedcd65cc33a0012b4c9366dabcc5",id:null,metadata:{},name:"UserListItemUnfollowMutation",operationKind:"mutation",text:"mutation UserListItemUnfollowMutation(\n  $followee: String!\n) {\n  pinnerUnfollow(input: {followee: $followee}) {\n    response {\n      __typename\n      ... on Error {\n        __isError: __typename\n        error {\n          message\n        }\n      }\n      ... on Pinner {\n        explicitlyFollowedByMe\n        username\n      }\n      ... on Node {\n        __isNode: __typename\n        id\n      }\n    }\n  }\n}\n"}};var n,i,o,r;t.hash="f306b28154fd514523bf70c9f730a94a",e.exports=t},451119:e=>{const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserListItem_pinner",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"MEDIUM"}],kind:"ScalarField",name:"avatar",storageKey:'avatar(size:"MEDIUM")'},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pinner",abstractKey:null,hash:"3e572b7bc1809577b6564690d80c953c"};e.exports=t},641661:(e,t,n)=>{var i={"./":[318205,9],"./CZ":[706711,9,6711],"./CZ.js":[706711,9,6711],"./DA":[377333,9,77333],"./DA.js":[377333,9,77333],"./DE":[498302,9,98302],"./DE.js":[498302,9,98302],"./ENUK":[15662,9,15662],"./ENUK.js":[15662,9,15662],"./ENUS":[658213,9,58213],"./ENUS.js":[658213,9,58213],"./ESAR":[534894,9,34894],"./ESAR.js":[534894,9,34894],"./ESES":[195798,9,95798],"./ESES.js":[195798,9,95798],"./ESMX":[291024,9,91024],"./ESMX.js":[291024,9,91024],"./FI":[554886,9,54886],"./FI.js":[554886,9,54886],"./FR":[8218,9,8218],"./FR.js":[8218,9,8218],"./GR":[564236,9,64236],"./GR.js":[564236,9,64236],"./HI":[605117,9,5117],"./HI.js":[605117,9,5117],"./HU":[88880,9,88880],"./HU.js":[88880,9,88880],"./ID":[188428,9,88428],"./ID.js":[188428,9,88428],"./IT":[881997,9,81997],"./IT.js":[881997,9,81997],"./JP":[372456,9,72456],"./JP.js":[372456,9,72456],"./KR":[849295,9,49295],"./KR.js":[849295,9,49295],"./MS":[564142,9,64142],"./MS.js":[564142,9,64142],"./NL":[607081,9,7081],"./NL.js":[607081,9,7081],"./NO":[574849,9,74849],"./NO.js":[574849,9,74849],"./PL":[858892,9,58892],"./PL.js":[858892,9,58892],"./PTBR":[204798,9,4798],"./PTBR.js":[204798,9,4798],"./PTPT":[367343,9,67343],"./PTPT.js":[367343,9,67343],"./RO":[765171,9,65171],"./RO.js":[765171,9,65171],"./RU":[390988,9,90988],"./RU.js":[390988,9,90988],"./SK":[532792,9,32792],"./SK.js":[532792,9,32792],"./SV":[772853,9,72853],"./SV.js":[772853,9,72853],"./TH":[213755,9,13755],"./TH.js":[213755,9,13755],"./TL":[551618,9,51618],"./TL.js":[551618,9,51618],"./TR":[400571,9,571],"./TR.js":[400571,9,571],"./UA":[874132,9,74132],"./UA.js":[874132,9,74132],"./VT":[700762,9,762],"./VT.js":[700762,9,762],"./ZHCN":[28240,9,28240],"./ZHCN.js":[28240,9,28240],"./ZHTW":[859490,9,59490],"./ZHTW.js":[859490,9,59490],"./index":[318205,9],"./index.js":[318205,9],"./localeToFilename":[932466,9],"./localeToFilename.js":[932466,9],"./types":[695846,7,95846],"./types.js":[695846,7,95846]};function o(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(i),o.id=641661,e.exports=o},263116:(e,t,n)=>{n.d(t,{ZP:()=>P,TA:()=>T});var i=n(667294);function o(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=n(659864),l=n(108679),d=n.n(l);function c(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function u(e){console.warn("loadable: "+e)}var h=i.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},g="PENDING",f="REJECTED";var _=function(e){return e};function x(e){var t=e.defaultResolveComponent,n=void 0===t?_:t,l=e.render,u=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),_={};function x(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function y(e,i,o){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,s.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(o,r,{preload:!0}),r}var b,v=function(e){var n,i;function s(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:x(n)},c(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),a(i)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&m.initialChunks[p.chunkName(n)])&&i.loadSync(),i)}i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,s.getDerivedStateFromProps=function(e,t){var n=x(e);return r({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=s.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===f&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return x(this.props)},d.getCache=function(){return _[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),_[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=y(p.requireSync(this.props),this.props,w);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=y(t,e.props,{Loadable:w});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,o(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=p.requireAsync(n)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e.props),chunkName:p.chunkName(e.props),error:t?t.message:t}),i.status=f}))),i},d.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,a=(e.__chunkExtractor,o(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,d=s.error,c=s.loading,u=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(d)throw d;var h=i||t.fallback||null;return c?h:l({fallback:h,result:u,options:t,props:r({},a,{ref:n})})},s}(i.Component),E=(b=v,function(e){return i.createElement(h.Consumer,null,(function(t){return i.createElement(b,Object.assign({__chunkExtractor:t},e))}))}),w=i.forwardRef((function(e,t){return i.createElement(E,Object.assign({forwardedRef:t},e))}));return w.preload=function(e){p.requireAsync(e)},w.load=function(e){return p.requireAsync(e)},w}return{loadable:p,lazy:function(e,t){return p(e,r({},t,{suspense:!0}))}}}var y=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),b=y.loadable,v=y.lazy,E=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=E.loadable,I=E.lazy,C="undefined"!=typeof window;function T(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!C)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(C){var r=p(i),a=document.getElementById(r);if(a){o=JSON.parse(a.textContent);var s=document.getElementById(r+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!o)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){o.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var S=b;S.lib=w,v.lib=I;const P=S},169272:(e,t,n)=>{var i=n(310723),o=[],r=[],a=i.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function s(e){var t;(t=o.length?o.pop():new l).task=e,i(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(r.push(e),a())}finally{this.task=null,o[o.length]=this}}},310723:(e,t,n)=>{function i(e){r.length||(o(),!0),r[r.length]=e}e.exports=i;var o,r=[],a=0;function s(){for(;a<r.length;){var e=a;if(a+=1,r[e].call(),a>1024){for(var t=0,n=r.length-a;t<n;t++)r[t]=r[t+a];r.length-=a,a=0}}r.length=0,a=0,!1}var l,d,c,u=void 0!==n.g?n.g:self,h=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(l=1,d=new h(s),c=document.createTextNode(""),d.observe(c,{characterData:!0}),o=function(){l=-l,c.data=l}):o=p(s),i.requestFlush=o,i.makeRequestCallFromTimer=p},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===r)for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},538334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(120975),o=n(649610),r=n(116434),a=n(325921),s=n(284125);var l=function(){function e(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1)};var l=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return i.createStore(o.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=l,this.monitor=new a.default(l,new s.default(l)),this.backend=e(this),l.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=r.default(this);return Object.keys(n).reduce((function(i,o){var r,a=n[o];return i[o]=(r=a,function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=r.apply(e,n);void 0!==o&&t(o)}),i}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=l},325921:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(640809),o=n(952705),r=n(442520),a=n(441143),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var i=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===o||a===o+1&&!r.areDirty(t.dirtyHandlerIds,i)||e()}finally{o=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==n&&(n=i,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();return i.default(n,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),r=this.getItemType();if(r&&!i.default(o,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},284125:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(4963),o=n(547227),r=n(556141),a=n(834314),s=n(441143),l=n(169272);function d(e){switch(e[0]){case"S":return r.HandlerRole.SOURCE;case"T":return r.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function c(e,t){var n=e.entries(),i=!1;do{var o=n.next(),r=o.done;if(o.value[1]===t)return!0;i=r}while(!i);return!1}var u=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(r.HandlerRole.SOURCE,e,t);return this.store.dispatch(i.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(r.HandlerRole.TARGET,e,t);return this.store.dispatch(i.addTarget(n)),n},e.prototype.containsHandler=function(e){return c(this.dragSources,e)||c(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return d(e)===r.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return d(e)===r.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(i.removeSource(e)),l((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(i.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var i=function(e){var t=o.default().toString();switch(e){case r.HandlerRole.SOURCE:return"S"+t;case r.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(i,t),e===r.HandlerRole.SOURCE?this.dragSources.set(i,n):e===r.HandlerRole.TARGET&&this.dropTargets.set(i,n),i},e}();t.default=u},84554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(446714),o=n(315033),r=n(441143),a=n(59980),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var l=n.publishSource,d=void 0===l||l,c=n.clientOffset,u=n.getSourceClientOffset,h=e.getMonitor(),p=e.getRegistry();e.dispatch(i.setClientOffset(c)),function(e,t,n){r(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var i=0,o=e;i<o.length;i++){var a=o[i];r(n.getSource(a),"Expected sourceIds to be registered.")}}(t,h,p);var m=function(e,t){for(var n=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}(t,h);if(null!==m){var g=null;c&&(!function(e){r("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(u),g=u(m)),e.dispatch(i.setClientOffset(c,g));var f=p.getSource(m).beginDrag(h,m);!function(e){r(o.isObject(e),"Item must be an object.")}(f),p.pinSource(m);var _=p.getSourceType(m);return{type:a.BEGIN_DRAG,payload:{itemType:_,item:f,sourceId:m,clientOffset:c||null,sourceClientOffset:g||null,isSourcePublic:!!d}}}e.dispatch(s)}}},676402:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(59980),r=n(315033),a=n(441143);t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(l,d){var c=function(e,t,n,i){var o=n.getTarget(e),s=o?o.drop(i,e):void 0;(function(e){a(void 0===e||r.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:i.getDropResult());return s}(l,d,s,n),u={type:o.DROP,payload:{dropResult:i({},t,c)}};e.dispatch(u)}))}}},852126:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(59980),o=n(441143);t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){o(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:i.END_DRAG}}}},645140:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(640809),o=n(59980),r=n(441143);t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){r(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),l=e.getMonitor(),d=e.getRegistry();return function(e,t,n){r(t.isDragging(),"Cannot call hover while not dragging."),r(!t.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var o=e[i];r(e.lastIndexOf(o)===i,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(o);r(a,"Expected targetIds to be registered.")}}(s,l,d),function(e,t,n){for(var o=e.length-1;o>=0;o--){var r=e[o],a=t.getTargetType(r);i.default(a,n)||e.splice(o,1)}}(s,d,l.getItemType()),function(e,t,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];n.getTarget(r).hover(t,r)}}(s,l,d),{type:o.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},116434:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(84554),o=n(86045),r=n(645140),a=n(676402),s=n(852126);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(59980)),t.default=function(e){return{beginDrag:i.default(e),publishDragSource:o.default(e),hover:r.default(e),drop:a.default(e),endDrag:s.default(e)}}},446714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(59980);t.setClientOffset=function(e,t){return{type:i.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},86045:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(59980);t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:i.PUBLISH_DRAG_SOURCE}}}},59980:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},4963:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},834314:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(441143);t.validateSourceContract=function(e){i("function"==typeof e.canDrag,"Expected canDrag to be a function."),i("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),i("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){i("function"==typeof e.canDrop,"Expected canDrop to be a function."),i("function"==typeof e.hover,"Expected hover to be a function."),i("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):i("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},294662:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(538334);t.createDragDropManager=function(e,t,n){return new i.default(e,t,n)}},720369:(e,t,n)=>{function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(556141)),i(n(294662))},556141:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},354014:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(116434),o=n(4963),r=n(171939),a=n(442520),s=n(315033);t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case i.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return a.ALL}var n=t.payload,l=n.targetIds,d=void 0===l?[]:l,c=n.prevTargetIds,u=void 0===c?[]:c,h=s.xor(d,u);if(!(h.length>0||!r.areArraysEqual(d,u)))return a.NONE;var p=u[u.length-1],m=d[d.length-1];return p!==m&&(p&&h.push(p),m&&h.push(m)),h}},14095:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(116434),r=n(171939),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o.HOVER:return r.areCoordsEqual(e.clientOffset,n.clientOffset)?e:i({},e,{clientOffset:n.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},345596:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(116434),r=n(4963),a=n(315033),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case o.BEGIN_DRAG:return i({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case o.HOVER:return i({},e,{targetIds:n.targetIds});case r.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:i({},e,{targetIds:a.without(e.targetIds,n.targetId)});case o.DROP:return i({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},649610:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14095),r=n(345596),a=n(378508),s=n(354014),l=n(938910),d=n(315033);t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:i({},t.payload,{prevTargetIds:d.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:r.default(e.dragOperation,t),stateId:l.default(e.stateId)}}},378508:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(4963);t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case i.ADD_SOURCE:case i.ADD_TARGET:return e+1;case i.REMOVE_SOURCE:case i.REMOVE_TARGET:return e-1;default:return e}}},938910:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},952705:(e,t)=>{function n(e,t){return{x:e.x+t.x,y:e.y+t.y}}function i(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=n,t.subtract=i,t.getSourceClientOffset=function(e){var t=e.clientOffset,o=e.initialClientOffset,r=e.initialSourceClientOffset;return t&&o&&r?i(n(t,r),o):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?i(t,n):null}},442520:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(315033);t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||i.intersection(n,e).length>0)}},315033:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,i=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},171939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,i){if(void 0===i&&(i=t.strictEquality),e.length!==n.length)return!1;for(var o=0;o<e.length;++o)if(!i(e[o],n[o]))return!1;return!0}},547227:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default=function(){return n++}},640809:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},120975:(e,t,n)=>{n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:()=>r,applyMiddleware:()=>f,bindActionCreators:()=>u,combineReducers:()=>d,compose:()=>g,createStore:()=>s});var i=n(98123),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,d=t,c=[],u=c,h=!1;function p(){u===c&&(u=c.slice())}function m(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return d}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),u.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=u.indexOf(e);u.splice(n,1),c=null}}}function f(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,d=l(d,e)}finally{h=!1}for(var t=c=u,n=0;n<t.length;n++){(0,t[n])()}return e}function _(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,f({type:r.REPLACE})}function x(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[i.Z]=function(){return this},e}return f({type:r.INIT}),(o={dispatch:f,subscribe:g,getState:m,replaceReducer:_})[i.Z]=x,o}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function d(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:r.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:r.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(d){a=d}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,o={},r=0;r<s.length;r++){var d=s[r],c=n[d],u=e[d],h=c(u,t);if(void 0===h){var p=l(d,t);throw new Error(p)}o[d]=h,i=i||h!==u}return(i=i||s.length!==Object.keys(e).length)?o:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function u(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var i in e){var o=e[i];"function"==typeof o&&(n[i]=c(o,t))}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},r=t.map((function(e){return e(o)}));return m({},n,{dispatch:i=g.apply(void 0,r)(n.dispatch)})}}}},701305:e=>{var t=[],n=[];function i(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,a=r.call(e);if(a!=r.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=n.length;s--;)if(n[s]==e)return o[s]==t;n.push(e),o.push(t);var l=0;if("[object Array]"===a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!i(e[l],t[l],n,o))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(t).length)return!1;for(var c=0;c<d.length;c++)if(!i(e[d[c]],t[d[c]],n,o))return!1}return n.pop(),o.pop(),!0}e.exports=function(e,o){var r=t.length?t.pop():[],a=n.length?n.pop():[],s=i(e,o,r,a);return r.length=0,a.length=0,t.push(r),n.push(a),s}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var i=n(60139);e.exports=i},468966:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},529084:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},893870:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},664507:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},369765:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},968337:(e,t,n)=>{function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function r(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},d="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(e){var t=e.re=n(136066)(e.__opts__),i=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function d(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?r(n.validate)?i.validate=n.validate:d(t,n):i.validate=function(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}(n.validate),void(r(n.normalize)?i.normalize=n.normalize:n.normalize?d(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?d(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var c=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var n=e.__index__,i=e.__last_index__,o=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=o,this.text=o,this.url=o}function h(e,t){var n=new u(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=i({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},l,e),this.__compiled__={},this.__tlds__=d,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,c(this),this},p.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,o,r,a,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=n.index+n[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(r=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)n.push(h(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),c(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},136066:(e,t,n)=>{e.exports=function(e){var t={};t.src_Any=n(329369).source,t.src_Cc=n(499413).source,t.src_Z=n(335045).source,t.src_P=n(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},477412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},829932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},744037:(e,t,n)=>{var i=n(698363),o=n(3674);e.exports=function(e,t){return e&&i(t,o(t),e)}},163886:(e,t,n)=>{var i=n(698363),o=n(481704);e.exports=function(e,t){return e&&i(t,o(t),e)}},285990:(e,t,n)=>{var i=n(646384),o=n(477412),r=n(234865),a=n(744037),s=n(163886),l=n(364626),d=n(200278),c=n(318805),u=n(201911),h=n(458234),p=n(946904),m=n(664160),g=n(43824),f=n(529148),_=n(738517),x=n(701469),y=n(644144),b=n(356688),v=n(513218),E=n(472928),w=n(3674),I=n(481704),C="[object Arguments]",T="[object Function]",S="[object Object]",P={};P[C]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[S]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,j,A,D,R){var O,N=1&n,k=2&n,L=4&n;if(j&&(O=D?j(t,A,D,R):j(t)),void 0!==O)return O;if(!v(t))return t;var M=x(t);if(M){if(O=g(t),!N)return d(t,O)}else{var B=m(t),F=B==T||"[object GeneratorFunction]"==B;if(y(t))return l(t,N);if(B==S||B==C||F&&!D){if(O=k||F?{}:_(t),!N)return k?u(t,s(O,t)):c(t,a(O,t))}else{if(!P[B])return D?t:{};O=f(t,B,N)}}R||(R=new i);var U=R.get(t);if(U)return U;R.set(t,O),E(t)?t.forEach((function(i){O.add(e(i,n,j,i,t,R))})):b(t)&&t.forEach((function(i,o){O.set(o,e(i,n,j,o,t,R))}));var Z=M?void 0:(L?k?p:h:k?I:w)(t);return o(Z||t,(function(i,o){Z&&(i=t[o=i]),r(O,o,e(i,n,j,o,t,R))})),O}},989881:(e,t,n)=>{var i=n(247816),o=n(899291)(i);e.exports=o},41848:e=>{e.exports=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},121078:(e,t,n)=>{var i=n(862488),o=n(137285);e.exports=function e(t,n,r,a,s){var l=-1,d=t.length;for(r||(r=o),s||(s=[]);++l<d;){var c=t[l];n>0&&r(c)?n>1?e(c,n-1,r,a,s):i(s,c):a||(s[s.length]=c)}return s}},247816:(e,t,n)=>{var i=n(228483),o=n(3674);e.exports=function(e,t){return e&&i(e,t,o)}},297786:(e,t,n)=>{var i=n(671811),o=n(240327);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},442118:(e,t,n)=>{var i=n(41848),o=n(662722),r=n(142351);e.exports=function(e,t,n){return t==t?r(e,t,n):i(e,o,n)}},225588:(e,t,n)=>{var i=n(664160),o=n(637005);e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},702958:(e,t,n)=>{var i=n(646384),o=n(690939);e.exports=function(e,t,n,r){var a=n.length,s=a,l=!r;if(null==e)return!s;for(e=Object(e);a--;){var d=n[a];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<s;){var c=(d=n[a])[0],u=e[c],h=d[1];if(l&&d[2]){if(void 0===u&&!(c in e))return!1}else{var p=new i;if(r)var m=r(u,h,c,e,t,p);if(!(void 0===m?o(h,u,3,r,p):m))return!1}}return!0}},662722:e=>{e.exports=function(e){return e!=e}},829221:(e,t,n)=>{var i=n(664160),o=n(637005);e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},267206:(e,t,n)=>{var i=n(191573),o=n(716432),r=n(406557),a=n(701469),s=n(139601);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?a(e)?o(e[0],e[1]):i(e):s(e)}},269199:(e,t,n)=>{var i=n(989881),o=n(498612);e.exports=function(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}},191573:(e,t,n)=>{var i=n(702958),o=n(301499),r=n(542634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},716432:(e,t,n)=>{var i=n(690939),o=n(227361),r=n(379095),a=n(115403),s=n(689162),l=n(542634),d=n(240327);e.exports=function(e,t){return a(e)&&s(t)?l(d(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?r(n,e):i(t,a,3)}}},882689:(e,t,n)=>{var i=n(829932),o=n(297786),r=n(267206),a=n(269199),s=n(571131),l=n(307518),d=n(285022),c=n(406557),u=n(701469);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[c];var h=-1;t=i(t,l(r));var p=a(e,(function(e,n,o){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return d(e,t,n)}))}},325970:(e,t,n)=>{var i=n(863012),o=n(379095);e.exports=function(e,t){return i(e,t,(function(t,n){return o(e,n)}))}},863012:(e,t,n)=>{var i=n(297786),o=n(10611),r=n(671811);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var d=t[a],c=i(e,d);n(c,d)&&o(l,r(d,e),c)}return l}},840371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},379152:(e,t,n)=>{var i=n(297786);e.exports=function(e){return function(t){return i(t,e)}}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},10611:(e,t,n)=>{var i=n(234865),o=n(671811),r=n(565776),a=n(513218),s=n(240327);e.exports=function(e,t,n,l){if(!a(e))return e;for(var d=-1,c=(t=o(t,e)).length,u=c-1,h=e;null!=h&&++d<c;){var p=s(t[d]),m=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(d!=u){var g=h[p];void 0===(m=l?l(g,p,h):void 0)&&(m=a(g)?g:r(t[d+1])?[]:{})}i(h,p,m),h=h[p]}return e}},571131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},880531:(e,t,n)=>{var i=n(562705),o=n(829932),r=n(701469),a=n(733448),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},727561:(e,t,n)=>{var i=n(567990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},747415:(e,t,n)=>{var i=n(829932);e.exports=function(e,t){return i(t,(function(t){return e[t]}))}},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},671811:(e,t,n)=>{var i=n(701469),o=n(115403),r=n(555514),a=n(479833);e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(a(e))}},257157:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var i=n(562705),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},626393:(e,t,n)=>{var i=n(733448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,r=e==e,a=i(e),s=void 0!==t,l=null===t,d=t==t,c=i(t);if(!l&&!c&&!a&&e>t||a&&s&&d&&!l&&!c||o&&s&&d||!n&&d||!r)return 1;if(!o&&!a&&!c&&e<t||c&&n&&r&&!o&&!a||l&&n&&r||!s&&r||!d)return-1}return 0}},285022:(e,t,n)=>{var i=n(626393);e.exports=function(e,t,n){for(var o=-1,r=e.criteria,a=t.criteria,s=r.length,l=n.length;++o<s;){var d=i(r[o],a[o]);if(d)return o>=l?d:d*("desc"==n[o]?-1:1)}return e.index-t.index}},318805:(e,t,n)=>{var i=n(698363),o=n(799551);e.exports=function(e,t){return i(e,o(e),t)}},201911:(e,t,n)=>{var i=n(698363),o=n(151442);e.exports=function(e,t){return i(e,o(e),t)}},899291:(e,t,n)=>{var i=n(498612);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!i(n))return e(n,o);for(var r=n.length,a=t?r:-1,s=Object(n);(t?a--:++a<r)&&!1!==o(s[a],a,s););return n}}},889464:(e,t,n)=>{var i=n(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},499021:(e,t,n)=>{var i=n(385564),o=n(545357),r=n(430061);e.exports=function(e){return r(o(e,void 0,i),e+"")}},946904:(e,t,n)=>{var i=n(868866),o=n(151442),r=n(481704);e.exports=function(e){return i(e,r,o)}},301499:(e,t,n)=>{var i=n(689162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}},151442:(e,t,n)=>{var i=n(862488),o=n(385924),r=n(799551),a=n(770479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:a;e.exports=s},900222:(e,t,n)=>{var i=n(671811),o=n(135694),r=n(701469),a=n(565776),s=n(541780),l=n(240327);e.exports=function(e,t,n){for(var d=-1,c=(t=i(t,e)).length,u=!1;++d<c;){var h=l(t[d]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++d!=c?u:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(r(e)||o(e))}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},529148:(e,t,n)=>{var i=n(274318),o=n(257157),r=n(593147),a=n(540419),s=n(477133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},137285:(e,t,n)=>{var i=n(562705),o=n(135694),r=n(701469),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(a&&e&&e[a])}},115403:(e,t,n)=>{var i=n(701469),o=n(733448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},689162:(e,t,n)=>{var i=n(513218);e.exports=function(e){return e==e&&!i(e)}},542634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},624523:(e,t,n)=>{var i=n(288306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},142351:e=>{e.exports=function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}},555514:(e,t,n)=>{var i=n(624523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=a},240327:(e,t,n)=>{var i=n(733448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},150361:(e,t,n)=>{var i=n(285990);e.exports=function(e){return i(e,5)}},23279:(e,t,n)=>{var i=n(513218),o=n(707771),r=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,d,c,u,h,p,m=0,g=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,i=d;return l=d=void 0,m=t,u=e.apply(i,n)}function y(e){return m=e,h=setTimeout(v,t),g?x(e):u}function b(e){var n=e-p;return void 0===p||n>=t||n<0||f&&e-m>=c}function v(){var e=o();if(b(e))return E(e);h=setTimeout(v,function(e){var n=t-(e-p);return f?s(n,c-(e-m)):n}(e))}function E(e){return h=void 0,_&&l?x(e):(l=d=void 0,u)}function w(){var e=o(),n=b(e);if(l=arguments,d=this,p=e,n){if(void 0===h)return y(p);if(f)return clearTimeout(h),h=setTimeout(v,t),x(p)}return void 0===h&&(h=setTimeout(v,t)),u}return t=r(t)||0,i(n)&&(g=!!n.leading,c=(f="maxWait"in n)?a(r(n.maxWait)||0,t):c,_="trailing"in n?!!n.trailing:_),w.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=p=d=h=void 0},w.flush=function(){return void 0===h?u:E(o())},w}},607187:(e,t,n)=>{var i=n(889464),o=n(479833),r=/[&<>"']/g,a=RegExp(r.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(r,i):e}},385564:(e,t,n)=>{var i=n(121078);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},227361:(e,t,n)=>{var i=n(297786);e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},379095:(e,t,n)=>{var i=n(200013),o=n(900222);e.exports=function(e,t){return null!=e&&o(e,t,i)}},264721:(e,t,n)=>{var i=n(442118),o=n(498612),r=n(747037),a=n(640554),s=n(252628),l=Math.max;e.exports=function(e,t,n,d){e=o(e)?e:s(e),n=n&&!d?a(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),r(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&i(e,t,n)>-1}},356688:(e,t,n)=>{var i=n(225588),o=n(307518),r=n(531167),a=r&&r.isMap,s=a?o(a):i;e.exports=s},472928:(e,t,n)=>{var i=n(829221),o=n(307518),r=n(531167),a=r&&r.isSet,s=a?o(a):i;e.exports=s},747037:(e,t,n)=>{var i=n(644239),o=n(701469),r=n(637005);e.exports=function(e){return"string"==typeof e||!o(e)&&r(e)&&"[object String]"==i(e)}},733448:(e,t,n)=>{var i=n(644239),o=n(637005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},288306:(e,t,n)=>{var i=n(883369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},478718:(e,t,n)=>{var i=n(325970),o=n(499021)((function(e,t){return null==e?{}:i(e,t)}));e.exports=o},139601:(e,t,n)=>{var i=n(840371),o=n(379152),r=n(115403),a=n(240327);e.exports=function(e){return r(e)?i(a(e)):o(e)}},189734:(e,t,n)=>{var i=n(121078),o=n(882689),r=n(105976),a=n(816612),s=r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,i(t,1),[])}));e.exports=s},823493:(e,t,n)=>{var i=n(23279),o=n(513218);e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:r,maxWait:t,trailing:a})}},498913:(e,t,n)=>{var i=n(422545),o=n(554290),r=n(640554),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=a,l=s(e,a);t=o(t),e-=a;for(var d=i(l,t);++n<e;)t(n);return d}},418601:(e,t,n)=>{var i=n(14841),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var i=n(727561),o=n(513218),r=n(733448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):a.test(e)?NaN:+e}},479833:(e,t,n)=>{var i=n(880531);e.exports=function(e){return null==e?"":i(e)}},252628:(e,t,n)=>{var i=n(747415),o=n(3674);e.exports=function(e){return null==e?[]:i(e,o(e))}},860682:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(946580);t.isFirefox=i.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=i.memoize((function(){return Boolean(window.safari)}))},527594:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(946580),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=i.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=i.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},613087:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(527594),r=n(860682),a=n(796538),s=n(36076),l=n(278201),d=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var i=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:i});var o=e.dataTransfer,r=s.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var l=t.monitor.getSourceId(),d=t.sourceNodes.get(l),c=t.sourcePreviewNodes.get(l)||d;if(c){var u=t.getCurrentSourcePreviewNodeOptions(),h={anchorX:u.anchorX,anchorY:u.anchorY},p={offsetX:u.offsetX,offsetY:u.offsetY},m=a.getDragPreviewOffset(d,c,i,h,p);o.setDragImage(c,m.x,m.y)}}try{o.setData("application/json",{})}catch(g){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(r)t.beginDragNativeItem(r);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,i=s.matchNativeItemType(n);i&&t.beginDragNativeItem(i)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,r.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var i=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return i.handleDragStart(t,e)},r=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",r),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,i=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},r=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",o),t.addEventListener("drop",r),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",o),t.removeEventListener("drop",r)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return i({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return i({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(l).some((function(t){return l[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=d},328775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=e.length,i=[],o=0;o<n;o++)i.push(o);i.sort((function(t,n){return e[t]<e[n]?-1:1}));var r,a,s=[],l=[],d=[];for(o=0;o<n-1;o++)r=e[o+1]-e[o],a=t[o+1]-t[o],l.push(r),s.push(a),d.push(a/r);var c=[d[0]];for(o=0;o<l.length-1;o++){var u=d[o],h=d[o+1];if(u*h<=0)c.push(0);else{r=l[o];var p=l[o+1],m=r+p;c.push(3*m/((m+p)/u+(m+r)/h))}}c.push(d[d.length-1]);var g,f=[],_=[];for(o=0;o<c.length-1;o++){g=d[o];var x=c[o],y=1/l[o];m=x+c[o+1]-g-g;f.push((g-x-m)*y),_.push(m*y*y)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=f,this.c3s=_}return e.prototype.interpolate=function(e){var t=this,n=t.xs,i=t.ys,o=t.c1s,r=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return i[s];for(var l,d=0,c=a.length-1;d<=c;){var u=n[l=Math.floor(.5*(d+c))];if(u<e)d=l+1;else{if(!(u>e))return i[l];c=l-1}}var h=e-n[s=Math.max(0,c)],p=h*h;return i[s]+o[s]*h+r[s]*p+a[s]*h*p},e}();t.default=n},50013:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(i){n[i]={value:t.config.exposeProperties[i](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=n},345349:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var i=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=i?i:n}},36076:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(226851),o=n(50013);t.createNativeDragSource=function(e){return new o.NativeDragSource(i.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(i.nativeTypesConfig).filter((function(e){return i.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},226851:(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0});var o=n(278201),r=n(345349);t.nativeTypesConfig=((i={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},i[o.URL]={exposeProperties:{urls:function(e,t){return r.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},i[o.TEXT]={exposeProperties:{text:function(e,t){return r.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},i)},278201:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},796538:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(860682),o=n(328775);function r(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),i=n.top;return{x:n.left,y:i}}t.getNodeClientOffset=r,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var l,d,c="IMG"===(l=t).nodeName&&(i.isFirefox()||!document.documentElement.contains(l)),u=r(c?e:t),h={x:n.x-u.x,y:n.y-u.y},p=e.offsetWidth,m=e.offsetHeight,g=a.anchorX,f=a.anchorY,_=function(e,t,n,o){var r=e?t.width:n,a=e?t.height:o;return i.isSafari()&&e&&(a/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:a}}(c,t,p,m),x=_.dragPreviewWidth,y=_.dragPreviewHeight,b=s.offsetX,v=s.offsetY,E=0===v||v;return{x:0===b||b?b:new o.default([0,.5,1],[h.x,h.x/p*x,h.x+x-p]).interpolate(g),y:E?v:(d=new o.default([0,.5,1],[h.y,h.y/m*y,h.y+y-m]).interpolate(f),i.isSafari()&&c&&(d+=(window.devicePixelRatio-1)*y),d)}}},19402:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}},395141:(e,t,n)=>{var i=n(613087);n(19402).default;var o=n(278201);t.hm=o,t.ZP=function(e){return new i.default(e)}},946580:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,i=function(e){return n.add(e)};e.forEach(i),t.forEach(i);var o=[];return n.forEach((function(e){return o.push(e)})),o}},925237:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(667294),l=n(720369),d=n(496395),c=n(489745),u=n(114774),h=n(215956);function p(e,t,n){return{dragDropManager:l.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var n=e.children,i=a(e,["children"]),o="manager"in i?{dragDropManager:i.manager}:p(i.backend,i.context,i.debugMode);return s.createElement(t.Provider,{value:o},n)},t.DragDropContext=function(e,n,i){d.default("DragDropContext","backend",e);var a=p(e,n,i);return function(e){var n=e,i=n.displayName||n.name||"Component",l=function(l){function d(){var e=null!==l&&l.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(d,l),d.prototype.getDecoratedComponentInstance=function(){return u(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},d.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,r({},this.props,{ref:c.isRefable(n)?this.ref:null})))},d.DecoratedComponent=e,d.displayName="DragDropContext("+i+")",d}(s.Component);return h(l,e)}}},328202:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(667294),s=n(496395),l=n(925237),d=n(489745),c=n(353924),u=n(215956),h=n(114774),p=n(596774);t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),h("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),h(c.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,s=t.arePropsEqual,c=void 0===s?p:s,m=i.displayName||i.name||"Component",g=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();p(t,e.state)||e.setState(t)}},e}return o(s,t),s.prototype.getDecoratedComponentInstance=function(){return h(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!c(e,this.props)||!p(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(l.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(i,r({},e.props,e.state,{ref:d.isRefable(i)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,h("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",m,m);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+m+")",s.DecoratedComponent=n,s}(a.Component);return u(g,n)}}},344319:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294).memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var i=new Image;i.src=n,i.onload=function(){return t(i)}}return null}));i.displayName="DragPreviewImage",t.default=i},450793:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(496395),o=n(42742),r=n(910513),a=n(626706),s=n(391081),l=n(147277),d=n(270942),c=n(353924),u=n(114774);t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DragSource","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(u(d.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),u(c.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var m=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),u(c.isPlainObject(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return o.default({containerDisplayName:"DragSource",createHandler:m,registerHandler:r.default,createConnector:function(e){return new l.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},391081:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(114774),o=!1,r=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){i(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;i(!r,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return r=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{r=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},206059:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(496395),o=n(42742),r=n(548537),a=n(329492),s=n(270942),l=n(596177),d=n(750986),c=n(353924),u=n(114774);t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DropTarget","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(u(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),u(c.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var m=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),u(c.isPlainObject(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:m,registerHandler:r.default,createMonitor:function(e){return new l.default(e)},createConnector:function(e){return new d.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},596177:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(114774),o=!1,r=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;i(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=r},147277:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(65435),o=n(965525),r=n(596774),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dragSource:function(e,n){t.dragSourceOptions=n||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!r(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!r(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},750986:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(65435),o=n(965525),r=n(596774),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dropTarget:function(e,n){t.dropTargetOptions=n,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!r(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},626706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(487943),o=(n(353924),n(114774)),r=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var i=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(r.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},329492:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(487943),o=(n(353924),n(114774)),r=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(r.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},42742:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(667294),s=n(925237),l=n(386998),d=n(489745),c=(n(353924),n(114774)),u=n(215956),h=n(596774);t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,p=e.createConnector,m=e.registerHandler,g=e.containerDisplayName,f=e.getType,_=e.collect,x=e.options.arePropsEqual,y=void 0===x?h:x,b=t,v=t.displayName||t.name||"Component",E=function(e){function u(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();h(e,n.state)||n.setState(e)},n.disposable=new l.SerialDisposable,n.receiveProps(t),n.dispose(),n}return o(u,e),u.prototype.getHandlerId=function(){return this.handlerId},u.prototype.getDecoratedComponentInstance=function(){return c(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},u.prototype.shouldComponentUpdate=function(e,t){return!y(e,this.props)||!h(t,this.state)},u.prototype.componentDidMount=function(){this.disposable=new l.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},u.prototype.componentDidUpdate=function(e){y(this.props,e)||(this.receiveProps(this.props),this.handleChange())},u.prototype.componentWillUnmount=function(){this.dispose()},u.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(f(e)))},u.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=m(e,this.handler,this.manager),n=t[0],i=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new l.CompositeDisposable(new l.Disposable(o),new l.Disposable(i)))}},u.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},u.prototype.getCurrentState=function(){return this.handlerConnector?_(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},u.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(b,r({},e.props,e.getCurrentState(),{ref:d.isRefable(b)?e.decoratedRef:null}))}))},u.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(c(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=p(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},u.DecoratedComponent=t,u.displayName=g+"("+v+")",u}(a.Component);return u(E,t)}},76108:(e,t,n)=>{function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(774399)),i(n(387559)),i(n(459296))},741365:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(910513),r=n(998008),a=n(391081),s=n(147277),l=n(114774);t.useDragSourceMonitor=function(){var e=r.useDragDropManager();return[i.useMemo((function(){return new a.default(e)}),[e]),i.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=r.useDragDropManager(),s=i.useMemo((function(){return{beginDrag:function(){var n=e.current,i=n.begin,o=n.item;if(i){var r=i(t);return l(null==r||"object"==typeof r,"dragSpec.begin() must either return an object, undefined, or null"),r||o||{}}return o||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,i){var o=e.current.isDragging;return o?o(t):i===n.getSourceId()},endDrag:function(){var i=e.current.end;i&&i(t.getItem(),t),n.reconnect()}}}),[]);i.useEffect((function(){var i=o.default(e.current.item.type,s,a),r=i[0],l=i[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),l}),[])}},787458:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(548537),r=n(998008),a=n(750986),s=n(596177);t.useDropTargetMonitor=function(){var e=r.useDragDropManager();return[i.useMemo((function(){return new s.default(e)}),[e]),i.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=r.useDragDropManager(),s=i.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);i.useEffect((function(){var i=o.default(e.current.accept,s,a),r=i[0],l=i[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),l}),[t,n])}},365353:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(596774),o=n(667294);t.useCollector=function(e,t,n){var r=o.useState((function(){return t(e)})),a=r[0],s=r[1],l=o.useCallback((function(){var o=t(e);i(a,o)||(s(o),n&&n())}),[a,e,n]);return[a,l]}},998008:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(925237),r=n(114774);t.useDragDropManager=function(){var e=i.useContext(o.context).dragDropManager;return r(null!=e,"Expected drag drop context"),e}},179411:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(365353);t.useMonitorOutput=function(e,t,n){var r=o.useCollector(e,t,n),a=r[0],s=r[1];return i.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},774399:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(179411),o=n(741365),r=n(667294),a=n(114774);t.useDrag=function(e){var t=r.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=o.useDragSourceMonitor(),s=n[0],l=n[1];o.useDragHandler(t,s,l);var d=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return l.reconnect()})),c=r.useMemo((function(){return l.hooks.dragSource()}),[l]),u=r.useMemo((function(){return l.hooks.dragPreview()}),[l]);return r.useEffect((function(){l.dragSourceOptions=t.current.options||null,l.reconnect()}),[l]),r.useEffect((function(){l.dragPreviewOptions=t.current.previewOptions||null,l.reconnect()}),[l]),[d,c,u]}},459296:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(998008),r=n(365353);t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),n=r.useCollector(t,e),a=n[0],s=n[1];return i.useEffect((function(){return t.subscribeToOffsetChange(s)})),i.useEffect((function(){return t.subscribeToStateChange(s)})),a}},387559:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(179411),o=n(787458),r=n(667294),a=n(114774);t.useDrop=function(e){var t=r.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=o.useDropTargetMonitor(),s=n[0],l=n[1];o.useDropHandler(t,s,l);var d=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return l.reconnect()})),c=r.useMemo((function(){return l.hooks.dropTarget()}),[l]);return r.useEffect((function(){l.dropTargetOptions=e.options||null,l.reconnect()}),[e.options]),[d,c]}},60598:(e,t,n)=>{var i=n(925237);t.Z5=i.DragDropContext,i.DragDropContextProvider,i.Consumer,n(328202).default;var o=n(450793);t.Ej=o.default;var r=n(206059);t.GR=r.default,n(344319).default;var a=n(76108);a.useDrag,a.useDragLayer,a.useDrop},910513:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),o=i.addSource(e,t);return[o,function(){return i.removeSource(o)}]}},548537:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),o=i.addTarget(e,t);return[o,function(){return i.removeTarget(o)}]}},496395:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]}},957523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(114774);function r(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return o("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?i.cloneElement(e,{ref:function(e){r(t,e),n&&r(n,e)}}):i.cloneElement(e,{ref:t})}},353924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},590539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=n},653473:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(353924),o=function(){function e(e){this.isDisposed=!1,this.action=i.isFunction(e)?e:i.noop}return e.isDisposable=function(e){return e&&i.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:i.noop},e}();t.Disposable=o},409591:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=n},386998:(e,t,n)=>{function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(653473)),i(n(409591)),i(n(590539))},487943:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},965525:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},489745:(e,t)=>{function n(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=n,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||n(e);var t}},270942:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},152548:()=>{String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},65435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(667294),o=n(957523);function r(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!i.isValidElement(t)){var r=t;return e(r,n),r}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return o.default(a,s)}}n(152548),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=r(i);t[n]=function(){return o}}})),t}},215956:(e,t,n)=>{var i=n(876618),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||o}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,i)}var a=c(n);u&&(a=a.concat(u(n)));for(var s=l(t),g=l(n),f=0;f<a.length;++f){var _=a[f];if(!(r[_]||i&&i[_]||g&&g[_]||s&&s[_])){var x=h(n,_);try{d(t,_,x)}catch(y){}}}return t}return t}},114774:e=>{e.exports=function(e,t,n,i,o,r,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,r,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},121255:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case r:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case l:return e;default:return t}}case g:case m:case o:return t}}}function _(e){return f(e)===u}t.typeOf=f,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=r,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===s||e===a||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h)},t.isAsyncMode=function(e){return _(e)||f(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return f(e)===d},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return f(e)===h},t.isFragment=function(e){return f(e)===r},t.isLazy=function(e){return f(e)===g},t.isMemo=function(e){return f(e)===m},t.isPortal=function(e){return f(e)===o},t.isProfiler=function(e){return f(e)===s},t.isStrictMode=function(e){return f(e)===a},t.isSuspense=function(e){return f(e)===p}},876618:(e,t,n)=>{e.exports=n(121255)},615071:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(654337),o=n(773949),r=n(486186);n(45697);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(667294),l=n(973935);const d=!1;var c=n(500220),u="unmounted",h="exited",p="entering",m="entered",g="exiting",f=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=h,i.appearStatus=p):o=m:o=t.unmountOnExit||t.mountOnEnter?u:h,i.state={status:o},i.nextCallback=null,i}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==m&&(t=p):n!==p&&n!==m||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[l.findDOMNode(this),i],r=o[0],a=o[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||d?this.safeSetState({status:m},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,a),this.safeSetState({status:p},(function(){t.props.onEntering(r,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(r,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!d?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],a=o[1];this.props.addEndListener(r,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,i):s.cloneElement(s.Children.only(n),i))},t}(s.Component);function _(){}f.contextType=c.Z,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},f.UNMOUNTED=u,f.EXITED=h,f.ENTERING=p,f.ENTERED=m,f.EXITING=g;const x=f;var y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=a(n.className,i):n.setAttribute("class",a(n.className&&n.className.baseVal||"",i)));var n,i}))},b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1];t.removeClasses(o,"exit"),t.addClass(o,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.addClass(o,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.removeClasses(o,r),t.addClass(o,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,o=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:i?o+"-active":n[e+"Active"],doneClassName:i?o+"-done":n[e+"Done"]}},t}(0,r.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,o=n.active,r=n.done;this.appliedClasses[t]={},i&&y(e,i),o&&y(e,o),r&&y(e,r)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return s.createElement(x,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);b.defaultProps={classNames:""},b.propTypes={};const v=b},500220:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(667294).createContext(null)},654337:(e,t,n)=>{function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,{Z:()=>i})},486186:(e,t,n)=>{function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{Z:()=>i})},773949:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>i})},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,o=null;return function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return null!==n&&n.length===r.length&&r.every((function(e,i){return t(e,n[i])}))||(o=e.apply(void 0,r)),n=r,o}}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=0,l=o.pop(),d=r(o),c=e.apply(void 0,[function(){return s++,l.apply(void 0,arguments)}].concat(i)),u=function(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];var a=d.map((function(n){return n.apply(void 0,[e,t].concat(o))}));return c.apply(void 0,n(a))};return u.resultFunc=l,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?s:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var s=t.P1=a(o)},596774:e=>{e.exports=function(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<r.length;l++){var d=r[l];if(!s(d))return!1;var c=e[d],u=t[d];if(!1===(o=n?n.call(i,c,u,d):void 0)||void 0===o&&c!==u)return!1}return!0}},98123:(e,t,n)=>{n.d(t,{Z:()=>i}),e=n.hmd(e);const i=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,BROKEN_URL:5,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,IMAGE_QUALITY:18,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,INAUTHENTIC_PHOTOS:24,NO_VIOLATION:25,MISCELLANEOUS:26,DOMAIN_TOOLS_SCORE:27,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},808683:e=>{e.exports={ResponseCodeType:{OK:1,OK_WITH_ERROR:2,ERROR_GENERAL:3,ERROR_NOT_FOUND:4,ERROR_MISSING_FIELD:5,ERROR_LOGIC:6,ERROR_INTERNAL_RESOURCE:7,ERROR_EXTERNAL_RESOURCE:8,ERROR_BAD_FIELD:9},FeedProfileValidationResultCode:{PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},ErrorCode:{DATABASE_SERVER_ERROR:1,INVALID_REQUEST_ERROR:2,ACCESS_DENIED_ERROR:3,MERCHANT_PROFILE_ERROR:100,MERCHANT_EXTERNAL_ID_EXISTED:101,FEED_PROFILE_ERROR:200,PAYMENT_RECEIVER_PROFILE_ERROR:300,OMS_PROFILE_ERROR:400,PRODUCT_GROUP_NAME_ALREADY_EXISTS_ERROR:500,PRODUCT_GROUP_FILTERS_ALREADY_EXISTS_ERROR:501},MerchantActionType:{CREATE_MERCHANT:1,UPDATE_MERCHANT_COMMON_PROFILE:2,UPDATE_MERCHANT_FEED_PROFILE:3,DELETE_MERCHANT_FEED_PROFILE:4,UPDATE_MERCHANT_OMS_PROFILE:5,DELETE_MERCHANT_OMS_PROFILE:6,UPDATE_MERCHANT_PAYMENT_RECEIVER_PROFILE:7,DELETE_MERCHANT_PAYMENT_RECEIVER_PROFILE:8,UPDATE_MERCHANT_APPROVAL_STATUS:9,ACTIVATE_MERCHANT:10,DEACTIVATE_MERCHANT:11,UPDATE_PRODUCT_PIN_MERCHANT_APPROVAL_STATUS:21,ACTIVATE_PRODUCT_PIN_MERCHANT:22,DEACTIVATE_PRODUCT_PIN_MERCHANT:23,ADD_NOTES:12,DELETE_MERCHANT:13,DISABLE_FEED_PROFILE:14,ENABLE_FEED_PROFILE:15,CREATE_PRODUCT_GROUP:16,EDIT_PRODUCT_GROOUP:17,DISABLE_PRODUCT_GROUP:18,ENABLE_PRODUCT_GROUP:19,DELETE_PRODUCT_GROUP:20,CONNECT_SHOPIFY_MERCHANT:24,DISCONNECT_SHOPIFY_MERCHANT:25},WorkflowStatType:{PRE_INGESTION_VALIDATION_PASSED:1,PRE_INGESTION_FETCH_SAME_SIGNATURE:2,PRE_INGESTION_FETCH_INACTIVE_FEED:3,ORIGINAL_PRODUCT_COUNT:4,INGESTION_PASSED:5,INDEXING_PASSED:6,PRE_INGESTION_VALIDATION_FETCH_ERROR:100,PRE_INGESTION_VALIDATION_ENCODING_ERROR:101,PRE_INGESTION_VALIDATION_DELIMITER_ERROR:102,PRE_INGESTION_VALIDATION_REQUIRED_COLUMNS_MISSING:103,PRE_INGESTION_VALIDATION_IMAGE_LINK_INVALID:104,PRE_INGESTION_VALIDATION_ITEMID_MISSING:105,PRE_INGESTION_VALIDATION_TITLE_MISSING:106,PRE_INGESTION_VALIDATION_DESCRIPTION_MISSING:107,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_MISSING:108,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_INVALID:109,PRE_INGESTION_VALIDATION_PRODUCT_LINK_MISSING:110,PRE_INGESTION_VALIDATION_IMAGE_LINK_MISSING:111,PRE_INGESTION_VALIDATION_AVAILABILITY_INVALID:112,PRE_INGESTION_VALIDATION_PRODUCT_PRICE_INVALID:113,PRE_INGESTION_VALIDATION_TITLE_LENGTH_TOO_LONG:114,PRE_INGESTION_VALIDATION_DESCRIPTION_LENGTH_TOO_LONG:115,PRE_INGESTION_VALIDATION_CONDITION_INVALID:116,PRE_INGESTION_VALIDATION_GENDER_INVALID:117,PRE_INGESTION_VALIDATION_AGE_GROUP_INVALID:118,PRE_INGESTION_VALIDATION_SIZE_TYPE_INVALID:119,PRE_INGESTION_VALIDATION_PARSE_LINE_ERROR:120,PRE_INGESTION_VALIDATION_LINK_FORMAT_WARNING:121,PRE_INGESTION_VALIDATION_LINK_FORMAT_ERROR:122,PRE_INGESTION_VALIDATION_DUPLICATE_PRODUCTS:123,PRE_INGESTION_VALIDATION_DUPLICATE_LINKS:124,PRE_INGESTION_VALIDATION_SALES_PRICE_INVALID:125,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_DEPTH_WARNING:126,PRE_INGESTION_VALIDATION_ADWORDS_SAME_AS_LINK:127,PRE_INGESTION_VALIDATION_INTERNAL_SERVICE_ERROR:128,PRE_INGESTION_VALIDATION_DUPLICATE_HEADERS:129,PRE_INGESTION_VALIDATION_TAX_INVALID:130,PRE_INGESTION_VALIDATION_SHIPPING_INVALID:131,PRE_INGESTION_VALIDATION_SHIPPING_WEIGHT_INVALID:132,PRE_INGESTION_VALIDATION_MULTIPACK_INVALID:133,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_WARNING:134,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_ERROR:135,PRE_INGESTION_IMAGE_LINK_WARNING:136,PRE_INGESTION_ADDITIONAL_IMAGE_LINK_WARNING:137,PRE_INGESTION_FEED_LENGTH:138,PRE_INGESTION_VALIDATION_INVALID_DOMAIN:139,PRE_INGESTION_NO_VERIFIED_DOMAIN:140,PRE_INGESTION_VALIDATION_ADULT_INVALID:141,PRE_INGESTION_LINK_LENGTH_TOO_LONG:142,PRE_INGESTION_MALFORMED_XML:143,PRE_INGESTION_INVALID_EXPIRATION_DATE:144,PRE_INGESTION_INVALID_AVAILABILITY_DATE:145,PRE_INGESTION_INVALID_SALE_DATE:146,PRE_INGESTION_INVALID_WEIGHT_UNIT:147,PRE_INGESTION_INVALID_IS_BUNDLE:148,PRE_INGESTION_INVALID_UPDATED_TIME:149,PRE_INGESTION_INVALID_REDIRECT:150,PRE_INGESTION_PRICE_MISSING:151,PRE_INGESTION_FEED_TOO_SMALL:152,PRE_INGESTION_CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRE_INGESTION_PRODUCT_TYPE_LENGTH_TOO_LONG:154,PRE_INGESTION_TOO_MANY_ADDITIONAL_IMAGE_LINK:155,PRE_INGESTION_SHOPIFY_NO_PRODUCTS:156,PRE_INGESTION_VALIDATION_INVALID_IOS_DEEP_LINK:161,PRE_INGESTION_VALIDATION_INVALID_ANDROID_DEEP_LINK:162,POST_INGESTION_IMAGE_DOWNLOAD_SUCCESS:1e3,POST_INGESTION_IMAGE_DOWNLOAD_ERROR:1001,POST_INGESTION_PIN_CREATON_SUCCESS:1002,POST_INGESTION_PIN_CREATION_ERROR:1003,INVALID_ITEM_FORMAT:1004,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,IMAGE_DOWNLOAD_POLICY_VIOLATION:1009,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_NOT_FOUND:1010,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_FORBIDDEN_ACCESS:1011,PRE_INGESTION_VALIDATION_MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA:1013,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA_FAILURE:1014},OverallWorkflowStatus:{COMPLETED:0,FAILED:1,PROCESSING:2,COMPLETED_EARLY:3,UNDER_REVIEW:4,DISAPPROVED:5,QUEUED_FOR_PROCESSING:6,UNDER_APPEAL:7},UrsaTaskType:{SHOPIFY_START_BULK_OPS_TASK:1,SHOPIFY_POLL_BULK_OPS_TASK:2,SHOPIFY_START_BULK_OPS_STAGING_TASK:3,SHOPIFY_POLL_BULK_OPS_STAGING_TASK:4,SHOPIFY_START_BULK_OPS_DEV_TASK:5,SHOPIFY_POLL_BULK_OPS_DEV_TASK:6},CatalogProductGroupFeatureableStatusCode:{FEATUREABLE:1,UNFEATURABLE_NOT_ENOUGH_PINS:2,UNFEATURABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATURABLE_EXCEEDED_PINS_LIMIT:4},CatalogProductGroupFilterKey:{ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26},CatalogProductGroupHierarchyType:{GOOGLE_PRODUCT_CATEGORY:1,PRODUCT_TYPE:2},CatalogProductGroupType:{MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6},CatalogProductGroupFilterLogicalOperator:{AND:0,OR:1},CatalogProductGroupStatus:{ACTIVE:0,INACTIVE:1},MerchantMetadataField:{ALL:0,FEED_INGESTED_AT_LEAST_ONCE:1,LAST_SUCCESSFUL_INGESTION:2,PREFERENCE_MAP:3,DOMAIN_WHITELIST:4,LAST_LOW_AVAILABILITY_EMAIL_SENT_TIME_DEPRECATED:5},MerchantMetadataPreferenceKey:{DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7},MerchantActionUpdatedDataType:{FEED_PROFILE_STATUS:1,MERCHANT_APPROVAL_STATUS:2,PRODUCT_GROUP_ENTITY:3,PRODUCT_GROUP_STATUS:4},CampaignImportingJobRecordType:{FILE_PARSING:1,CONTENT_VALIDATION:2,CAMPAIGN_CREATION:11,AD_GROUP_CREATION:21},CampaignImportingJobStatus:{STARTED:1,SUCCEEDED:2,FAILED:3,OTHER:10},ShopifyBulkOpStatusCode:{NOT_STARTED:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,PAUSED:4,SUPPRESSED:5,DELETED:7,INTERNAL_ERROR:9,OTHER:10,SLOW_RETRY:11},ShopifyBulkOpErrorCode:{NONE:0,FAILED_TO_GET_ACCESS_TOKEN:1001,FAILED_TO_UPDATE_BULK_OP_STATUS:1002,FAILED_TO_GET_BULK_URL:1003,FAILED_TO_INSPECT_INGESTION_STATUS:1101,FAILED_TO_SCHEDULE_INGESTION:1102,FAILED_TO_TRIGGER_INGESTION:1103,FAILED_TO_PROCESS_POLL_RESULT_OVERALL:1201,FAILED_TO_START_BULK_OP:1301,FAILED_TO_POLL_BULK_OP_STATUS:1302},GetBatchedShopifyBulkOpStatusOrderBy:{LAST_SUCCESSFUL_BULK_OP_TIME:1,LAST_BULK_CALL_TIME:2,LAST_POLL_CALL_TIME:3}}},236247:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]"]=function(){return n(795737).Z}},95382:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_created"]=function(){return n(795737).Z}},405369:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_followers"]=function(){return n(795737).Z}},888839:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_following"]=function(){return n(795737).Z}},59435:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_saved"]=function(){return n(795737).Z}},234188:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_shop"]=function(){return n(795737).Z}},624589:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/boards"]=function(){return n(795737).Z}},588432:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/story_pins"]=function(){return n(795737).Z}},825773:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/topics"]=function(){return n(795737).Z}},170080:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/tried"]=function(){return n(795737).Z}},206312:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/video_pins"]=function(){return n(795737).Z}},484898:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(737614),o=n(966427);const r={getBrowser:()=>(0,o.u)(i.Z.instance.browser_name||""),isSafari(){return this.getBrowser()===o.o.SAFARI},isChrome(){return this.getBrowser()===o.o.CHROME},isFirefox(){return this.getBrowser()===o.o.FIREFOX},isEdge(){return this.getBrowser()===o.o.EDGE}}},560133:(e,t,n)=>{n.d(t,{nn:()=>s,Gy:()=>l,i8:()=>d,RR:()=>c,qN:()=>u,SP:()=>h,Uz:()=>p,QY:()=>m,GT:()=>g,Zs:()=>f,Sn:()=>_,Kl:()=>x});var i=n(227361),o=n.n(i),r=n(589444),a=n(477342);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},d=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},c=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,h=e=>e.is_stale_product,p=e=>u(e)||h(e),m=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},g=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function f(e,t={}){var n,i,o,s,l,d;const c=g(e),u={...t.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,a.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=(0,r.Z)({pin:e});var h;if(t)u.image_count=null===(h=t.carousel_slots)||void 0===h?void 0:h.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function _(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const x=(e,t={})=>{if(e){return _(f(e,t))}return null}},418102:(e,t,n)=>{n.d(t,{eE:()=>s,ZP:()=>l});let i=0;class o{constructor(e,t,n){this.pubsub=e,this.target=t,this.subscriberOptions=n,this.topics={}}publish(e,t,n){return n?this.getHandler()(this.target,e,t,n):this.getHandler()(this.target,e,t),this}subscribe(...e){return this.getChannel().addSubscriber(this,e),e.forEach((e=>{this.topics[e]=!0})),this}unsubscribe(...e){return 0===e.length&&(e=this.getTopics()),e.forEach((e=>delete this.topics[e])),this.getChannel().removeSubscriber(this,e),this}getChannel(){return this.pubsub.getChannel(this.target)}getHandler(){return this.subscriberOptions.handler}getId(){return this.id||(this.id=i,i+=1),this.id}getTopics(){return Object.keys(this.topics)}}class r{constructor(e,t){this.pubsub=e,this.target=t,this.subscribers=[],this.filters={},this.messages={}}addSubscriber(e,t){const n=e.getId();return this.subscribers[n]=e,t.forEach((t=>{this.filters[t]||(this.filters[t]={}),this.filters[t][n]||(this.filters[t][n]=e)})),e}removeSubscriber(e,t){const n=e.getId();t.forEach((e=>{this.filters[e]&&delete this.filters[e][n]})),this.subscribers.length<1&&this.pubsub.clearChannel(this.target)}publish(e,t){Object.values(this.filters[e]||{}).forEach((n=>{n.publish(e,t)})),"*"!==e&&this.publish("*",t),this.messages[e]=t}unsubscribeAll(){this.subscribers.forEach((e=>{e.unsubscribe()}))}}const a={Subscriber:o,Channel:r,instance:new class{constructor(e){this.ns=e,this.channels={}}_subscribe(e,t,n){const i=new o(this,e,{handler:n});return i.subscribe(t),i}subscribe(e,t,n){return this._subscribe(e,t,n)}publish(e,t,n){this.getChannel(e).publish(t,n)}getChannel(e){return this.channels[e]||(this.channels[e]=new r(this,e)),this.channels[e]}clearChannel(e){const t=this.channels[e];t&&(t.unsubscribeAll(),delete this.channels[e])}}("local")},s=a.instance,l=a},295190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(296882),o=n(773432),r=n(737614),a=n(230457),s=n(674245),l=n(185062),d=n(478718),c=n.n(d),u=n(311866);const h={open(e){const t=c()(e,h._validParams),n=h._getDialogType(e),r=h.generateFbRef(),d=e.object_type&&e.object_id&&"feed"===n;let p=(0,i.Z)(e.path);const m=(0,l.Z)();if(m.ptrf&&(p=(0,o.Z)(p,{ptrf:m.ptrf})),d&&(p=(0,o.Z)(p,{fb_ref:r})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),(0,s.default)((n=>{n.getLoginStatus((()=>{if("send"===t.method){n.ui(t);let i,o=10;const r=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(r),i&&h.executeMessengerCallback(i,e.callback)),o-=1}),1e3)}else"share"===t.method&&n.ui(t,(t=>{d&&t&&!t.error_message&&u.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),a.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.Z.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((o-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}},p=h},181821:(e,t,n)=>{n.d(t,{Z:()=>i});const i={get(e){const t="gplus";n.e(44232).then(n.bind(n,921539)).then((({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,(()=>{e(window.gapi)}))}))}}},580849:(e,t,n)=>{n.d(t,{K:()=>s});var i=n(920349),o=n(737614),r=n(202923);let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,countryFromHostName:e.country_from_hostname,countryFromIp:e.country_from_ip,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,requestIdentifier:e.request_identifier,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:o.Z.instance,...(0,i.Z)(o.Z.instance)});var t;return t=o.Z.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",countryFromHostName:"",countryFromIp:"",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.Z,advertiser:null,legacyAdvertiser:null,requestIdentifier:""})}},659048:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(295190),o=n(296882),r=n(773432),a=n(454690),s=n(447186);const l={};l.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),s.Z.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};const d=l,c={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){a.Z.trackEvent("share_line","click");const t=c._getWindowUrl(e.share_path,e.share_text);d.open(t,c.DIALOG_WIDTH,c.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,o.Z)(e):void 0,text:t})},u=c,h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){a.Z.trackEvent("share_reddit","click");const t=h._getWindowUrl(e.share_path,e.share_text);d.open(t,h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://www.reddit.com/submit?url=",{url:e?(0,o.Z)(e):void 0,title:t})},p=h;var m=n(311866);const g={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";a.Z.trackEvent(t,"click");const n=g._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,g.DIALOG_WIDTH,g.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,o.Z)(e):void 0,text:t||void 0})},f=g,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return m.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return m.ZP.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const o=e.object_id;return m.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e))),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&f.openDialog({tweet_path:i,tweet_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareRedditInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,i=t.invite_code;return n&&p.openDialog({share_path:n,share_text:e.description}),_._logShareInvite(e,i),Promise.resolve(t)}),(e=>Promise.reject(e))),shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r||(r=n.title),i&&u.openDialog({share_path:i,share_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e)))},x=_},525974:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(295190),o=n(311866),r=n(627578),a=n(230457),s=n(181821),l=n(282152),d=n(233495),c=n(928940),u=n(641483);function h(){}let p;Object.assign(h.prototype,{optionsForNetwork:{},connect(e,t,i){t=Object.assign({},{success(){},error(){},complete(){}},t),(0,u.ZP)(`auth_web.social_connect.${e}.${(0,l.Z)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((({default:e})=>{e((e=>{e.login((e=>{const n=e.authResponse;let i,o;n&&(i=n.grantedScopes,i=i?i.split(","):[],o=n.userID);const r=i.find((e=>"email"===e)),a={id:o};"connected"===e.status&&r?t.success(a):t.error(a),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),a.Z)})):"gplus"===e||"google"===e?s.Z.get((e=>{(0,d.Z)().then((()=>{e.auth2.getAuthInstance().grantOfflineAccess().then((e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((e=>{t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((({default:n})=>{const o=t.windowOptions||n.getWindowOptions(),a=window.open("/connect/"+e+"/","",o);if(!a)return r.Z.showError(i._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const s=c.Z.setInterval((()=>{a.closed&&(clearInterval(s),this.handleComplete({network:e,error_message:"Window closed."}))}),1e3);this.optionsForNetwork=Object.assign(this.optionsForNetwork,{[e]:t})}))},complete(e){this.handleComplete(e)},handleComplete(e){const t=e.network;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){const n=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?n.error(e):n.success(e),n.complete()}}}),Object.assign(h,{instance:()=>(p||(p=new h),p)}),window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&h.instance().complete(e.data)}));const m=h;var g=n(584489),f=n(447186),_=n(301314),x=n(912397);function y(){}Object.assign(y.prototype,{handleConnect(e,t,n,o){if(t&&!f.Z.isLimitedLogin()){const r={success:function(i){const o={network:e,data:i};this._internalConnectNetwork(t,o,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r,o)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){const e={user_id:f.Z.get("id"),username:f.Z.get("username"),field_set_key:"social_connect"};g.Z.instance.dispatch((0,_.jB)("UserResource",e));o.ZP.create("UserResource",e).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;f.Z.set(n)}))},_externalConnectNetwork(e,t,n,i){t?m.instance().connect(e,n,i):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.ZP.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((e=>{this.updateConnectStatus(),n.success&&n.success(e)}),(e=>{n.error&&e instanceof Object&&n.error(e)})).finally((()=>{n.complete&&n.complete()}))},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case x.vq:t="UserFacebookFriendsResource";break;case x.Ib:t="UserTwitterFriendsResource";break;case x.Tr:t="UserGmailFriendsResource";break;case x.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.ZP.create(i,n);r.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(r)}),(n=>{if(110===n.api_error_code)c.Z.setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}});let b=null;y.instance=function(){return b||(b=new y),b};const v=y},447186:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(85038),o=n(799881),r=n(737614),a=n(730762),s=n(241933),l=n(311866),d=n(233088),c=n(702925),u=n(804652),h=n(641483),p=n(858875);const m=new class{constructor(){var e,t,n;n={},(t="attributes")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}get(e){return e in this.attributes?this.attributes[e]:void 0}set(e,t){"object"==typeof e?Object.assign(this.attributes,e):this.attributes[e]=t}isAuthenticated(){return!!r.Z.instance.is_authenticated}isLimitedLogin(){return!!this.attributes.login_state&&2===this.attributes.login_state}attemptCrossDomainAutologin(){-1===c.Z.settings.CORS_HANDSHAKE_DOMAINS.indexOf(window.location.origin)||i.U2(p.x3)||n.e(12749).then(n.bind(n,697974)).then((({verifyLoggedInStatus:e})=>{e(r.Z.instance.unauth_id)}))}flushContextLogs(){s.Z.pause(),a.Z.getInstance().flushEvents(void 0,void 0)}logoutWithOptions(e,t,n){return(0,h.yl)(!0),this.flushContextLogs(),l.ZP.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{(0,h.tj)("logout",{tags:{app:7===r.Z.instance.app_type_detailed?"windows_desktop":"web_denzel",reason:"user_initiated",source:t}}),d.ZP.sessionStorage.clear(),d.ZP.localStorage.clear(),i.t8(p.e7,"True",720)})).then((()=>(0,u.D)("logoutWithOptions"))).then((()=>{if(n)for(const e in n)d.ZP.localStorage.setItem(e,n[e]);null!==e&&(0,o.Z)(e)}))}isWriteBanned(){if(this.attributes.nags&&Array.isArray(this.attributes.nags)){const e=this.attributes.nags;return e.length>0&&"write_banned"===e[0].type}return!1}}},635691:(e,t,n)=>{n.d(t,{d:()=>d,Z:()=>c});var i=n(85038),o=n(731164),r=n(311866),a=n(447186),s=n(858875);const l=function(){};Object.assign(l.prototype,{sendSubscriptionToServer(e,t,n){i.t8(s.L9.name,"allowed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return r.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return r.ZP.create("WebPushDeviceResource",t).callCreate()}}))},subscribe(e,t,n){return o.Z.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then((r=>{var a;null==r||null===(a=r.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then((t=>this.sendSubscriptionToServer(t,e,n)),(r=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(s.L9.name,"dismissed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(i.t8(s.L9.name,"denied",8760,"/"),e&&e(),o.Z.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))}))})).catch((()=>{}))},initializeState(){if(a.Z.isLimitedLogin())i.t8(s.L9.name,"denied",8760,"/");else if(a.Z.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return this.sendSubscriptionToServer(e);throw i.t8(s.L9.name,"none",8760,"/"),new Error})).catch((e=>{}));i.t8(s.L9.name,"denied",8760,"/")}else i.t8(s.L9.name,"denied",8760,"/");else i.t8(s.L9.name,"denied",8760,"/");else i.t8(s.L9.name,"denied",8760,"/")}}),l.instance=function(){return l._instance||(l._instance=new l),l._instance},"undefined"!=typeof window&&window.addEventListener("load",(()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{l.instance().initializeState()})).catch((()=>{}))}));const d=()=>{if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}},c=l},836240:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){const t="downloaderIFrame";let n=document.getElementById(t);null===n&&(n=document.createElement("iframe"),n.id=t,n.style.display="none",document.body&&document.body.appendChild(n)),n.src=e}},627578:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(607187),o=n.n(i);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,n){const i=o()(e);return r.showHtmlError(i,t,n)},r.showHtmlError=function(e,t,n){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,n)};const a=r},750980:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(580849);const o={getInstance:()=>i.K.fromGlobalContext().experiments}},230457:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(447186);const o=()=>i.Z.isAuthenticated()&&!!i.Z.attributes.facebook_id&&!i.Z.isLimitedLogin()},454690:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(238402),o=n(185062);let r;void 0===r&&(r=n.g),r._gaq=r._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},l=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},d=2,c=3,u={};u.init=function(e,t){l(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",d])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){l(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),c]):o&&o.id?s(["_setCustomVar",1,"viewingUser",o.id.toString(),c]):s(["_setCustomVar",1,"is_logged_in","logged in",c]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,c])):s(["_setCustomVar",1,"is_logged_in","logged out",c])};const h=function(e,t){let n=e;const r=(0,o.Z)(t).q;return r&&(n+="?"+(0,i.Z)({q:r})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,c]),s(["_trackPageview",h(r.location.pathname,r.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){s(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)};const p=u},640027:(e,t,n)=>{function i(e){let t=!1;return{promise:new Promise(((n,i)=>{e.then((e=>t?i({isCanceled:!0}):n(e)),(e=>i(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}n.d(t,{Z:()=>i})},746886:(e,t,n)=>{n.d(t,{Z:()=>d,F:()=>c});var i=n(667294),o=n(40142),r=n(589444),a=n(241933),s=n(549135);const l={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};function d({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:d,elementType:c,impressionAuxFields:u,inImpressionExp:h,impressionType:p,impressionsFramework:m,isPaused:g,loggingId:f,objectIdStr:_,slotIndex:x,trackCarousel:y,viewData:b,viewParameter:v,viewType:E}){const w=(0,o.useSelector)((({pins:e})=>e)),I=(0,r.Z)({pin:w[f||""]||{}}),C=m||a.Z,T=(0,i.useRef)(null),S=i=>{const o=l[p],r=o.idType,a={endTime:i.endTime,[r]:f,slotIndex:x,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...u,forcedExit:"removed"===i.forcedExit?0:void 0},h={component:n,objectIdStr:_,view:E,viewData:b||{},viewParameter:v,...d};if(y){if(I){var m,g,w;(0,s.j)(7352,{eventData:{pinCarouselSlotImpressions:[{...a,carouselDataId:Number(I.id),carouselSlotId:(null===(m=I.carousel_slots)||void 0===m?void 0:m[null!==(g=I.index)&&void 0!==g?g:0])&&Number(I.carousel_slots[null!==(w=I.index)&&void 0!==w?w:0].id),slotIndex:I.index}]},...h})}}else(0,s.j)(o.eventType,{closeup_navigation_type:t,element:c,eventData:{[o.impressionType]:[a]},...h})},P=(0,i.useCallback)((()=>{try{T.current instanceof HTMLElement&&C.start(T.current).onExitViewport(S).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[T.current]);(0,i.useEffect)((()=>(h&&!C.inExperiment&&C.setExperimentStatus(!0),g||P(),()=>{T.current instanceof HTMLElement&&C.stop(T.current)})),[P]);const j=(0,i.useRef)(g);return(0,i.useEffect)((()=>{j.current&&!g&&P(),j.current=g}),[g,P]),T}const c=({children:e,...t})=>e({impressionTrackerRef:d(t)})},755908:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(388279),o=n(585967),r=n(350758),a=n(785893);const s=e=>{const{requestIdentifier:t=""}=(0,o.B)();return(0,a.jsx)(r.C,{...e,timeSpentManager:i.Z,auxData:{app_instance_id:t.slice(0,8)}})}},896829:(e,t,n)=>{n.d(t,{Q:()=>l,Z:()=>d});var i=n(667294),o=n(737614),r=n(229423),a=n(730762),s=n(44062);function l(e,t){const{setViewContextData:n}=(0,s.s)();(0,i.useEffect)((()=>{if(e){var t;const i=r.Z.fromPlainObject(e);n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,object_id_str:e.object_id_str,aux_data:e.aux_data,clientTrackingParams:e.clientTrackingParams}),i.setEventType(13),i.setRequestIdentifier(o.Z.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),a.Z.getInstance().addEvent(i)}}),[t])}function d(e){const{children:t,log:n}=e;return l(n),t||null}},549135:(e,t,n)=>{n.d(t,{j:()=>l,E:()=>d});var i=n(229423),o=n(730762),r=n(439887),a=n(584489);const s=e=>{const{pins:t,location:n}=a.Z.instance.getState(),i=t&&e&&t[e];return i?(0,r.Z)(i,n)||`${i.tracking_params}~0`:void 0};function l(e,t={}){o.Z.getInstance().addEvent(((e,{element:t,eventData:n,component:o,objectId:r,view:a,viewParameter:l,viewData:d,durationNs:c,pairId:u,clientTrackingParams:h,...p})=>{const m=i.Z.fromEventType(e);return m.setElement(t),m.updateEventData(n),m.setComponent(o),r&&m.setObjectIdStr(r),m.setDurationNs(c),m.updateAuxData({...p}),m.setViewType(a),m.setViewParameter(l),m.setViewData(d),m.setPairId(u),m.setClientTrackingParams(h||s(r)),m})(e,t))}const d={flushContextEvents:e=>o.Z.getInstance().flushEvents(e),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:o,event_data:r,event_type:a,object_id_str:s,pair_id:d,view_data:c,view_parameter:u,view_type:h})=>{l(a,{...e,element:o,eventData:r,component:n,objectId:s,view:h,viewParameter:null!=u?u:void 0,viewData:c,durationNs:i,pairId:d,clientTrackingParams:t})},logImpression:({auxData:e,component:t,eventData:n,eventType:i,impressionType:o,objectIdStr:r,viewData:a,viewParameter:s,viewType:d})=>{l(i,{...e,component:t,eventData:{[o]:[n]},objectId:r,viewData:a,viewParameter:null!=s?s:void 0,view:d})}}},279890:(e,t,n)=>{n.d(t,{Z:()=>o});const i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=({window:e,duration:t,run:n})=>{const o=i();let r=0,a=null;const s=()=>{const l=i()-o,d=l-r;if(t===1/0)n(0,l,d);else{const e=l/t;if(e>=1)return void n(1,l,d);n(e,l,d)}r=l,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},624500:(e,t,n)=>{n.d(t,{Z:()=>c,w:()=>u});var i=n(946753);const o=e=>e._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),r=e=>e._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),a=e=>e._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),s=e=>e._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),l=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),d=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function c(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(o(t),n);case 2:return(0,i.nk)(r(t),n);case 3:return(0,i.nk)(a(t),n);case 4:return(0,i.nk)(s(t),n);case 5:return(0,i.nk)(l(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"))(t),n)}}function u(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(o(t),n);case 2:return(0,i.nk)(r(t),n);case 3:return(0,i.nk)(a(t),n);case 4:return(0,i.nk)(s(t),n);case 5:return(0,i.nk)(l(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"))(t),n);default:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"))(t),n)}}},269935:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(973935),r=n(40142),a=n(589444),s=n(241933),l=n(549135);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",(()=>{try{this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),d(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:a,impressionAuxFields:s,impressionType:d,loggingId:u,objectIdStr:h,slotIndex:p,trackCarousel:m,viewData:g,viewParameter:f,viewType:_}=this.props,x=c[d],y=x.idType,b=e.forcedExit&&"removed"===e.forcedExit?0:void 0,v={endTime:e.endTime,[y]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:b};if(m||(0,l.j)(x.eventType,{closeup_navigation_type:i,component:o,element:a,eventData:{[x.impressionType]:[v]},objectIdStr:h,view:_,viewData:g||{},viewParameter:f,...r}),t&&m){const{carousel_slots:e,index:n=0,id:i}=t;(0,l.j)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...v,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:_,viewData:g||{},viewParameter:f,...r})}})),this.impressionsFramework=e.impressionsFramework||s.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}const h=(0,r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:(0,a.Z)({pin:n})}}),(()=>({})))(u)},8759:(e,t,n)=>{n.d(t,{E3:()=>r,MQ:()=>a,A0:()=>s,$Y:()=>l,cV:()=>d});var i=n(227361),o=n.n(i);function r(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function s(e){return o()(e,["display_data","anchor"])}function l(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[s(t)]=t)}},312827:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(40142),r=n(708206),a=n(50351),s=n(8759),l=n(752430);function d(e){const t=(0,o.useDispatch)(),n=(0,o.useSelector)((e=>e.experiences.eligibleExperiences)),d=(0,o.useSelector)((e=>e.experiences.mountedPlacements));return{experienceForPlacement:e?(0,s.MQ)(n,d,e):null,...(0,i.useMemo)((()=>(0,r.bindActionCreators)({completeExperience:l.V_,dismissExperience:l.WG,fetchAllExperiences:l.JT,fetchAllExperiencesMulti:a.NW,fetchExperienceForPlacement:l.zN,triggerExperimentsForPlacement:l.qb,viewExperience:l.Uk},t)),[t])}}},778527:(e,t,n)=>{n.d(t,{ZP:()=>m});var i=n(667294),o=n(40142),r=n(618446),a=n.n(r),s=n(8759),l=n(752430),d=n(585967),c=n(708206),u=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},m=(e,t={},n)=>r=>{const m=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);n={...p,...n};const g=function(e,t,n=!0,o=!0,r=!1,d){var c,p;return p=c=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",(e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:o,experience:r}=this.props;let s=i.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(s=t(n,i.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!a()(s,d)&&o((0,l.zN)(e,d)),!r||n.experience&&r.id===n.experience.id||o((0,l.qb)(e,d))}componentWillUnmount(){const{dispatch:t}=this.props;t((0,l.jE)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=r&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n((0,l.Ky)(e,i,o))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:(0,s.E3)(e)?e:null};return(0,u.jsx)(d,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(c,"displayName",`withPlacement(${d.displayName||d.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return(0,c.compose)(d.Mf,(0,o.connect)(m))(g)}},921438:(e,t,n)=>{n.d(t,{F$:()=>s,Uy:()=>l,S$:()=>d,aZ:()=>c,MX:()=>u,vM:()=>h});var i=n(279890);const o={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:(4-2*e)*e-1},a=({scrollPosition:e,containerSize:t,contentSize:n,intendedDistance:i,extendToEdgeDistance:o=0})=>{const r=n-t,a=r-e,s=-e;let l=i;return l=Math.min(l,a),l=Math.max(l,s),i>0&&r-(e+l)<=o?l=r-e:i<0&&e+l<=o&&(l=-e),l},s=(e,t,n,s={})=>{const l={...o,...s},{scrollLeft:d,scrollTop:c,scrollWidth:u,scrollHeight:h,clientWidth:p,clientHeight:m}=e,g=a({scrollPosition:d,containerSize:p,contentSize:u,intendedDistance:t,extendToEdgeDistance:l.extendToEdgeDistanceX}),f=a({scrollPosition:c,containerSize:m,contentSize:h,intendedDistance:n,extendToEdgeDistance:l.extendToEdgeDistanceY}),_=Math.abs(Math.floor(g/l.scrollSpeedPxPerMs)),x=Math.abs(Math.floor(f/l.scrollSpeedPxPerMs));let y=Math.max(_,x);l.minScrollDuration&&(y=Math.max(y,l.minScrollDuration));const b=r[l.easingFunction]||r["ease-in-out"];return(0,i.Z)({window,duration:y,run:t=>{e.scrollLeft=d+g*b(t),e.scrollTop=c+f*b(t),1===t&&l.onAnimationComplete&&setTimeout(l.onAnimationComplete,0)}})};function l(e){return e===window?window.innerHeight:e.clientHeight}function d(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function c(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function u(e){return e===window?d():e.scrollTop}function h(){window&&window.scroll(0,0)}},913669:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);let o=null,r=!1,a=0;const s=()=>{o&&clearTimeout(o),r=!0,o=setTimeout((()=>{r=!1}),100)},l=()=>{const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null);(0,i.useEffect)((()=>(0===a&&window.addEventListener("scroll",s),a+=1,()=>{n.current&&clearTimeout(n.current),a-=1,a||window.removeEventListener("scroll",s)})),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&r?setTimeout((()=>o(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,i.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},512806:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(640027);function r(){const e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:r,promise:a}=(0,o.Z)(n);return i?t.current[i]=r:e.current.push(r),a}}},528818:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(60598),o=n(395141);const r=(0,i.Z5)(o.ZP)},194620:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(60598),o=(n(297633),n(528818)),r=n(708206);const a=e=>t=>(0,r.compose)(o.Z,(0,i.GR)(e,{},((e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}))))(t)},784655:(e,t,n)=>{n.d(t,{iR:()=>i,hy:()=>o,VX:()=>r,_Q:()=>a,jL:()=>s,_J:()=>l,c4:()=>d,i8:()=>c,sV:()=>u,DP:()=>h,X9:()=>p,B5:()=>m});const i=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,r=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoted_is_lead_ad,s=e=>!!e.promoter&&!e.is_downstream_promotion,l=e=>!!e.video_status&&5!==e.video_status,d=e=>!!e.creator_class,c=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return!!o[e]&&!o[e].paused},u=e=>["email","messages","deep_linking"].includes(e),h=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};for(const r in o){const{paused:t}=o[r];if(r!==e&&!t)return!1}return!0},p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return o[e]&&o[e].currentTime},m=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},609304:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},343719:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),o=n(135065),r=n(343187),a=n(308125),s=n(549156),l=n(34411),d=n(528818),c=n(574842),u=n(923828),h=n(914491),p=n(549135),m=n(383506),g=n(174523),f=n(883119),_=n(785893);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class b extends i.Component{constructor(...e){super(...e),x(this,"state",{...y,tags:this.props.tags||[],textValue:this.props.text||""}),x(this,"countTags",(()=>this._textAreaRef&&this._textAreaRef.innerHTML?this._textAreaRef.querySelectorAll(".communityEditorMention").length:0)),x(this,"setRef",(e=>this._textAreaRef=e)),x(this,"handleFocus",(()=>{this.props.onEnter()})),x(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&(0,p.j)(8906,{tag_type:1}),this.setState({isTextChanged:!0,textValue:e,tags:t,userMentionOverLimitError:t.length>h.b7})})),x(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:n,tags:i}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(i)},e&&e(t),this.setState({submissionInProgress:!1})})),x(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0}),this.handleOnClickPostFinal())})),x(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:n,tags:i}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(i)},e&&e(t),this.setState(y)})),x(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(y),e()})),x(this,"handleTextChange",(e=>{this.setState({isTextChanged:!(!this._textAreaRef||!this._textAreaRef.textContent.trim())&&e,userMentionOverLimitError:this.countTags()>h.b7})})),x(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),x(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e})})),x(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,n;return"textInFlightEdit"===e?(t=this.props.i18n._("Your changes will be discarded","Confirmation dialog before discarding changes","Confirmation dialog before discarding changes"),n=this.props.i18n._("Discard changes","Clear edits","Clear edits")):(t=this.props.i18n._("Once you delete a draft, you can’t undo it","Confirmation before discarding changes","Confirmation before discarding changes"),n=this.props.i18n._("Delete","delete draft of a post or comment","delete draft of a post or comment")),(0,_.jsx)(r.Z,{accessibilityModalLabel:this.props.i18n._("Confirm discard composer","Confirm discarding a post or comment","Confirm discarding a post or comment"),heading:this.props.i18n._("Are you sure?","Confirm discarding a post or comment","Confirm discarding a post or comment"),cancelButtonText:this.props.i18n._("Cancel","Cancel discarding a post or comment","Cancel discarding a post or comment"),confirmButtonText:n,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),x(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}componentDidUpdate(e){const{statusType:t,objectType:n,parentObjectId:i}=this.props;"textInflightCreation"!==e.statusType&&"textInflightCreation"===t&&(0,p.j)(101,{element:this.composeContextLogElementMap[n],component:this.composeContextLogComponentMap[n],objectId:i})}get isPost(){const{objectType:e}=this.props;return e===c.Oh.BOARD_ACTIVITY}get isBoardActivityComment(){return this.props.objectType===c.Oh.BOARD_ACTIVITY_COMMENT}get isAggregatedComment(){const{objectType:e}=this.props;return e===u.o.pin||e===u.o.didIt||e===u.o.aggregatedComment}get composeContextLogComponentMap(){return{[c.Oh.BOARD_ACTIVITY_COMMENT]:13191,[c.Oh.BOARD_ACTIVITY]:13190}}get composeContextLogElementMap(){return{[c.Oh.BOARD_ACTIVITY_COMMENT]:10624,[c.Oh.BOARD_ACTIVITY]:10624}}render(){const{avatarSize:e,replyToObject:t,privatePin:n,statusType:i,viewingUser:r}=this.props,{isTextChanged:l,showConfirmDiscardModal:d,submissionInProgress:c,tags:u,textValue:h,userMentionOverLimitError:g}=this.state,x={background:"transparent",border:"0",display:l?"inline-block":"block",minHeight:"textStaticDisplay"===i?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[y,b]=this.getReplyToEntity(t),v=(0,_.jsx)(f.xu,{children:(0,_.jsx)(f.xv,{color:"red",size:"sm",align:"end",children:(0,m.bl)(!1,this.props.i18n)})});let E,w;E=this.isPost?this.props.i18n._("Start a discussion","Writing a post","Writing a post"):this.isAggregatedComment&&n?this.props.i18n._("Add a public comment","Add a comment","Add a comment"):this.isAggregatedComment?this.props.i18n._("Add a comment","Prompt to add a comment","Prompt to add a comment"):this.isBoardActivityComment?this.props.i18n._("Add comment","Prompt to add a comment","Prompt to add a comment"):this.props.i18n._("Reply","Adding text to a community comment","Adding text to a community comment"),w=this.isPost?this.props.i18n._("Post","Create a post","Create a post"):this.isAggregatedComment?this.props.i18n._("Done","Post a top level comment on a pin or tried it","Post a top level comment on a pin or tried it"):this.props.i18n._("Reply","Posting a reply to a post or comment","Posting a reply to a post or comment");const I=l;return"textInflightCreation"===i?(0,_.jsxs)(f.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,_.jsxs)(f.xu,{width:"100%",children:[(0,_.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(f.xu,{marginEnd:2,children:(0,_.jsx)(o.Z,{user:r,size:e})}),(0,_.jsx)(f.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,_.jsx)(a.Z,{focusOnMount:!0,initialMentions:b,initialText:y,onAddMention:()=>{(0,p.j)(8905,{tag_type:1})},onChange:this.handleChange,onSearchMentionCancel:()=>{(0,p.j)(8908,{tag_type:1})},onSuggestionsPopoverOpen:()=>{(0,p.j)(8907,{tag_type:1})},placeholder:E,privatePin:n})})]}),g&&v,(0,_.jsxs)(f.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,_.jsx)(s.Z,{id:"activity-item-create-cancel",children:(0,_.jsx)(f.zx,{color:"gray",onClick:I?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._("Cancel","Cancel making post or comment","Cancel making post or comment")})}),(0,_.jsx)(f.xu,{marginStart:2,children:(0,_.jsx)(s.Z,{id:"activity-item-create-submit",children:(0,_.jsx)(f.zx,{color:"red",disabled:!l||c||!h.length,onClick:this.handleOnClickPost,text:w})})})]})]}),d&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===i?(0,_.jsxs)(f.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,_.jsxs)(f.xu,{width:"100%",children:[(0,_.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:(0,_.jsx)(f.xu,{width:"100%",padding:4,rounding:4,children:(0,_.jsx)(a.Z,{focusOnMount:!0,initialMentions:u,initialText:h,onAddMention:()=>{(0,p.j)(8905,{tag_type:1})},onChange:this.handleChange,onSearchMentionCancel:()=>{(0,p.j)(8908,{tag_type:1})},onSuggestionsPopoverOpen:()=>{(0,p.j)(8907,{tag_type:1})},placeholder:E})})}),g&&v,(0,_.jsxs)(f.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,_.jsx)(f.zx,{color:"gray",onClick:I?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._("Cancel","Cancel making post or comment","Cancel making post or comment")}),(0,_.jsx)(f.xu,{marginStart:2,children:(0,_.jsx)(f.zx,{color:"red",disabled:this.isSubmitEditDisabled()||c,onClick:this.handleOnClickEdit,text:this.props.i18n._("Save","comment save button","comment save button")})})]})]}),d&&this.renderConfirmDiscardModal()]}):(0,_.jsx)(f.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,_.jsx)("div",{"aria-label":this.props.i18n._("Add comment field","ActivityItemCreate.textbox.accessibilityLabel","Textbox for comment field."),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,_.jsxs)(f.xu,{column:12,display:"flex",children:[(0,_.jsx)(f.xu,{width:48,children:(0,_.jsx)(o.Z,{user:r,size:e})}),(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:(0,_.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:E,ref:e=>{this._textAreaRef=e},rows:1,style:x})})]})})})}}x(b,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const v=(0,d.Z)((function(e){const t=(0,g.ZP)(),n=(0,l.Z)(),i=n.isAuth?{image_medium_url:n.imageMediumUrl,type:"user",username:n.username,full_name:n.fullName,first_name:"",id:""}:{};return(0,_.jsx)(b,{...e,i18n:t,viewingUser:i})}))},135065:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(151101),o=n(883119),r=n(785893);function a({user:e,size:t="md",hasOutline:n}){const{first_name:a,image_medium_url:s,username:l}=e;return(0,r.jsx)(o.iP,{role:"link",rounding:"circle",href:`/${l}/`,children:(0,r.jsx)(i.Z,{size:t,src:null!=s?s:"",name:a||l||"",outline:n})})}},343187:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(451190),o=n(549156),r=n(883119),a=n(785893);const s=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:n,detail:s,heading:l,onConfirm:d,onDismiss:c})=>(0,a.jsx)(i.Z,{accessibilityModalLabel:e,heading:l,onDismiss:c,size:"md",children:(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.xu,{padding:4,children:(0,a.jsx)(r.xv,{children:s})}),(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,a.jsx)(r.xu,{margin:2,children:(0,a.jsx)(o.Z,{id:"confirm-modal-cancel",children:(0,a.jsx)(r.zx,{fullWidth:!0,onClick:c,text:t})})}),(0,a.jsx)(r.xu,{margin:2,children:(0,a.jsx)(o.Z,{id:"confirm-modal-confirm",children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>{d(),c()},text:n})})})]})]})})},575223:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(52620),r=n(390764),a=n(51610),s=n(549156),l=n(174523),d=n(860179),c=n(181307),u=n(883119),h=n(785893);const p=({action:e,label:t,testId:n})=>(0,h.jsx)(s.Z,{id:`flyout-item-${n}`,children:(0,h.jsx)(u.iP,{onTap:e,children:(0,h.jsx)(o.Z,{text:t})})}),m=({handleBlockUser:e,handleClickReport:t,handleDelete:n,handleOnEdit:o,handleRemoveMention:m,handleHighlight:g,handleRemoveHighlight:f,showHighlightEducator:_,iconColor:x,small:y})=>{const b=(0,l.ZP)(),v=(0,c.tc)("web_block_users_in_comments"),E=v({dangerouslySkipActivation:!0}).anyEnabled,w=(0,c.tc)("web_engagement_comment_moderation")().anyEnabled,[I,C]=(0,i.useState)(!1),T=(0,i.useRef)(),S=t=>{const n=(t||{}).event||{};n.preventDefault&&(n.preventDefault(),n.stopPropagation()),!I&&e&&v(),C(!I)};return e||t||n||o||m||g?(0,h.jsx)(u.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,h.jsxs)(u.xu,{children:[(0,h.jsx)(u.xu,{ref:T,children:(0,h.jsx)(s.Z,{id:"flyout-toggle",children:(0,h.jsx)(u.hU,{accessibilityExpanded:I,accessibilityHaspopup:!0,accessibilityLabel:b._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",iconColor:x||void 0,onClick:S,size:y?"sm":"md"})})}),_&&(0,h.jsx)(u.mh,{zIndex:d.lI,children:(0,h.jsx)(a.Z,{children:(0,h.jsx)(r.Z,{anchor:T.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),I&&(0,h.jsx)(u.mh,{children:(0,h.jsx)(a.Z,{children:(0,h.jsx)(s.Z,{id:"flyout",children:(0,h.jsx)(u.J2,{anchor:T.current,idealDirection:"down",onDismiss:S,positionRelativeToAnchor:!1,size:"sm",children:(0,h.jsxs)(u.xu,{width:"100%",children:[g&&(0,h.jsx)(p,{action:()=>{g(),S()},label:b._("Highlight","Highlight a community post or comment","Highlight a community post or comment"),testId:"highlight"}),f&&(0,h.jsx)(p,{action:()=>{f(),S()},label:b._("Remove highlight","Remove highlight for a community post or comment","Remove highlight for a community post or comment"),testId:"removeHighlight"}),o&&(0,h.jsx)(p,{action:o,label:b._("Edit","Edit a community post or comment","Edit a community post or comment"),testId:"edit"}),n&&(0,h.jsx)(p,{action:n,label:b._("Delete","Delete a community post or comment","Delete a community post or comment"),testId:"delete"}),t&&(0,h.jsx)(p,{action:t,label:b._("Report this content","Report a community post or comment","Report a community post or comment"),testId:"report"}),m&&(0,h.jsx)(p,{action:()=>{m(),S()},label:b._("Remove @mention","closeup.activityItem.removeMention","Button that allows user to remove their @mention in a comment on a pin"),testId:"removeMention"}),e&&(E||w)&&(0,h.jsx)(p,{action:e,label:b._("Block user","closeup.activityItem.blockUser","Block comment author"),testId:"blockUser"})]})})})})})]})}):null};m.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const g=m},9694:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(866221),r=n(883119),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),s(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:n,size:i}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(n,"1");let o=0,s=[];return e.forEach(((e,t)=>{const i=n.substring(o,e.offset);o=e.offset+e.length;const r=n.substring(e.offset,o);s=s.concat(this.renderRegularText(i,`${t}a`)).concat(this.renderTaggedText(r,t,`${t}b`))})),s=s.concat(this.renderRegularText(n.substring(o),"2")),(0,a.jsx)(r.xv,{inline:!0,size:i,overflow:"normal",children:s})})),s(this,"renderRegularText",((e,t)=>(0,a.jsx)(r.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,a.jsx)(o.Z,{children:e}):e},t))),s(this,"renderTaggedText",((e,t,n)=>(0,a.jsx)(r.xv,{color:"blue",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,a.jsx)(r.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,children:e})},n)))}render(){return(0,a.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}s(l,"defaultProps",{allowLink:!0,size:"md"})},810001:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(9694),r=n(527686),a=n(926436),s=n(883119),l=n(174523),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||a.lr)+this.revealText.length}),c(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._("... More","click to see more of a long post","click to see more of a long post"):this.props.i18n._("... See more","click to see more of a long post","click to see more of a long post")}render(){const{allowLink:e,allowReveal:t,maxCharLength:n,size:l,tags:c,taggedUsers:u,text:h}=this.props,{truncate:p}=this.state,m=p?h.substring(0,n||a.lr).trim():h;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(o.Z,{allowLink:e,size:l,taggedUsers:u,tags:c,text:m}),p&&!t&&(0,d.jsx)(s.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),p&&t&&(0,d.jsx)(r.Z,{color:"darkGray",handleClick:this.showFullText,text:this.revealText,size:l})]})}}c(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""});const h=function(e){const t=(0,l.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}},527686:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({color:e="gray",handleClick:t,size:n="sm",text:r}){return(0,o.jsx)(i.xu,{display:"inlineBlock",children:(0,o.jsx)(i.iP,{onTap:t,rounding:"pill",children:(0,o.jsx)(i.xv,{color:e,size:n,weight:"bold",children:r})})})}},866221:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(508841),r=n(968337),a=n.n(r),s=n(542756),l=n(610248),d=n(883119),c=n(785893);const u=new(a());u.tlds(l),u.add("#",{validate(e,t,n){const i=e.slice(t);return n.re.hashtag||(n.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+n.re.src_ZPCc+")")),n.re.hashtag.test(i)?!(t>=2&&"#"===i[t-2])&&i.match(n.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const h=({decoratedHref:e,decoratedText:t,index:n,isTrusted:i})=>(0,c.jsx)(d.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:i?null:"blank",children:t},n);class p extends i.PureComponent{parseString(e){if(""===e)return e;const t=(n=e,u.match(n));var n;if(!t)return e;const i=[];let r=0;return t.forEach(((t,n)=>{t.index>r&&i.push(e.substring(r,t.index));let a=t.url;const l=(0,o.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(l){const e=(0,s.Z)(t.url);a=a.replace(e.origin,"")}const d=t.text,u=(0,c.jsx)(h,{decoratedHref:a,decoratedText:d,index:n,isTrusted:l});i.push(u),r=t.lastIndex})),e.length>r&&i.push(e.substring(r)),1===i.length?i[0]:i}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,i.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,i.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,c.jsx)("span",{children:this.parse(this.props.children)})}}},926436:(e,t,n)=>{n.d(t,{jh:()=>i,pp:()=>o,d_:()=>r,lr:()=>a,A7:()=>s,YD:()=>l});const i=656,o=464,r=60,a=170,s=(e,t,n)=>{const i=new Date(e),o=(new Date).getTime()-i.getTime();return Math.floor(o/1e3)<60?t._("now","timestamp for a comment or post that was created within the last minute","timestamp for a comment or post that was created within the last minute"):n(e,!0)},l=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>r?t.substring(0,r).trim().concat("..."):t}},39527:(e,t,n)=>{n.d(t,{t:()=>h,N:()=>u});var i=n(667294),o=n(925311),r=n(463080),a=n(205794),s=n(311866),l=n(762803),d=n(785893);const{Provider:c,useHook:u}=(0,l.ZP)("LinkedAccount");function h({children:e}){const[t,n]=(0,i.useState)(!1),[l,u]=(0,i.useState)([]),h=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:l})=>{n(!0);const d={business_name:e,third_party_apps:t};return s.ZP.create("BusinessOwnershipResource",d).callCreate({showError:!0}).then((()=>{i&&(o.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),n(!1),(e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n]),p=(0,i.useMemo)((()=>({createLinkedBusinessAccount:h,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:u})),[h,t,u,l]);return(0,d.jsx)(c,{value:p,children:e})}},352483:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),o=n(883119),r=n(785893);function a({isHorizontalDesign:e}){return e?(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n(174523);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class c extends i.PureComponent{constructor(...e){super(...e),l(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),l(this,"getImageArray",(()=>{const{userPins:e}=this.props;let t=[];return e&&0!==e.length?(t=e.map((e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url})).filter(Boolean),t):t})),l(this,"getImage",((e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&(0,r.jsx)(o.Ee,{naturalHeight:1,src:e,fit:"cover",alt:this.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})})),l(this,"handleLoad",(e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})}))}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),(0,r.jsx)(o.xu,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:(0,r.jsxs)(o.xu,{width:"100%",position:"relative",flex:"grow",children:[(0,r.jsx)(a,{isHorizontalDesign:e}),n,(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:d,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}const u=function(e){const t=(0,s.ZP)();return(0,r.jsx)(c,{...e,i18n:t})};var h=n(151101),p=n(549135);const m=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:a,userFullName:s,viewParameter:l,viewType:d}=e,c=i?80:86;return(0,r.jsx)(o.xu,{zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0}},display:"flex",flex:"none",rounding:"circle",children:(0,r.jsx)(o.xu,{flex:"none",height:c,width:c,children:(0,r.jsx)(o.iP,{onTap:({event:e})=>{e.stopPropagation(),function(e,t){(0,p.j)(101,{view:e,viewParameter:t,component:13406,element:11373})}(d,l)},href:a,rounding:"circle",role:"link",children:(0,r.jsx)(h.Z,{name:s,src:t,verified:n})})})})};var g=n(537343);function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:a}){const s=a*t,l=(0,g.ZP)(e,s);return n?(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"bold",children:l}):(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:l})}function _({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return(0,r.jsxs)(o.xu,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[(0,r.jsx)(o.xu,{height:18,width:"100%",children:(0,r.jsx)(o.xv,{align:n?"start":"center",lineClamp:1,size:n?"lg":"md",weight:"bold",children:i})}),(0,r.jsxs)(o.xu,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[(0,r.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),(0,r.jsx)(o.xu,{height:6,flex:"none"}),(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:(0,r.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var x=n(40142),y=n(756169),b=n(946753);function v({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:a}){const l=(0,s.ZP)();return i?(0,b.nk)(l._("{{ followCount }} {{ followText }}"),{followCount:(0,r.jsx)(o.xu,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:(0,r.jsx)(o.xv,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:(0,r.jsx)(y.Z,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,r.jsx)(o.xu,{"data-test-id":"followText",display:"inlineBlock",children:(0,r.jsx)(o.xv,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):(0,r.jsx)(o.xu,{"data-test-id":"followText",children:(0,r.jsx)(o.xv,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var E=n(881220),w=n(475446),I=n(289605);const C=(0,x.connect)(((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}}),(e=>({follow:t=>e((0,I.ZN)(t)),unfollow:t=>e((0,I.fv)(t))})))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:l,id:d,viewParameter:c,viewType:u,fullName:h,imageUrl:m,profileUrl:g}){const f=(0,s.ZP)(),{showOneToast:_}=(0,w.F9)(),x=a?f._("Following","User follow button","User follow button"):f._("Follow","User follow button","User follow button"),y=e=>(0,p.j)(e,{view:u,viewParameter:c,component:13406,element:11372});return(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:(0,r.jsx)(o.iP,{onTap:()=>{a?((0,I.fv)(d),y(46)):(l(d),y(45),_((({onHide:e})=>(0,r.jsx)(E.Z,{onHide:e,text:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.xv,{children:f._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,r.jsx)(o.xv,{weight:"bold",children:h})]}),href:g,imageUrl:m}))))},rounding:"pill",children:(0,r.jsx)(o.xu,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:(0,r.jsx)(v,{followerCount:e,followText:x,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function T({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:a,isCreator:s,isHorizontalDesign:l,isVerified:d,userFullName:c,username:u,viewParameter:h,viewType:p}){const g=function(e){return`/${e}`}(u);return(0,r.jsxs)(o.xu,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%",children:[(0,r.jsx)(m,{avatarUrl:e,isHorizontalDesign:l,isVerified:d,url:g,userFullName:c,viewType:p,viewParameter:h}),l&&(0,r.jsxs)(o.xu,{position:"relative",width:"100%",children:[(0,r.jsx)(o.xu,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:(0,r.jsx)(C,{fullName:c,followerCount:i,id:a,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:s})}),(0,r.jsx)(o.xu,{width:"100%",display:"flex",left:!0,marginTop:1,children:(0,r.jsx)(_,{description:t,domainUrl:n,isHorizontalDesign:l,userFullName:c})})]}),!l&&(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(_,{userFullName:c,domainUrl:n,description:t,isHorizontalDesign:l}),(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,r.jsx)(C,{followerCount:i,fullName:c,id:a,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:s})})]})]})}var S=n(451190);const P=24;function j({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:a,top:s,width:l,height:d}=e.getBoundingClientRect(),c=a+window.pageXOffset,u=s+window.pageYOffset,h=c+l+i+12>window.innerWidth,p={left:h?c:c+l,top:u+d/2},m={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:h?-12-i:12,top:-i/2-44},g={top:-12,left:-12,fill:"white"},f=h?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return(0,r.jsxs)(o.xu,{position:"absolute",zIndex:S.b,dangerouslySetInlineStyle:{__style:p},children:[(0,r.jsx)(o.xu,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:m},width:i,overflow:"hidden",children:t}),(0,r.jsx)(o.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsx)("svg",{width:P,height:P,children:(0,r.jsx)("path",{d:f})})})]})}var A=n(311866),D=n(51610),R=n(34411),O=n(585967);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.PureComponent{constructor(e){super(e),N(this,"anchorRef",(0,i.createRef)()),N(this,"loadUser",(()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(A.ZP.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((e=>{var n;t&&this.setState({detailedUser:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),A.ZP.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then((e=>{var n;t&&this.setState({userPins:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),t&&this.setState({isLoaded:!0}))})),N(this,"handleScroll",(()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())})),N(this,"timeoutDismiss",(()=>{this.dismissTimeout=setTimeout((()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))}),150)})),N(this,"handleDisplayCard",(()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout((()=>{a&&this.setState({isVisible:!0})}),300))})),N(this,"handleHideCard",(()=>{this.timeoutDismiss()})),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:a,viewParameter:s,viewType:l}=this.props,{isVisible:d,user:c,userPins:h}=this.state,{about:p,domain_url:m,follower_count:g,full_name:f,id:_,image_medium_url:x,show_creator_profile:y,verified_identity:b}=c||{},v=a.isAuth&&a.id===_,E=Boolean(null==b?void 0:b.verified),{group:w}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),I="enabled2_horizontal"===w;return(0,r.jsxs)(o.xu,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[(0,r.jsxs)(o.xu,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[(0,r.jsx)(o.xu,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!v&&!!c&&!!i&&d&&(0,r.jsx)(o.xu,{children:(0,r.jsx)(D.Z,{children:(0,r.jsx)(o.mh,{children:(0,r.jsx)(j,{anchor:this.anchorRef.current,isHorizontalDesign:I,children:(0,r.jsx)(o.xu,{color:"white",zIndex:S.b,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(u,{isHorizontalDesign:I,userPins:h}),(0,r.jsx)(T,{avatarUrl:null!=x?x:"",description:null!=p?p:"",domainUrl:m,followerCount:null!=g?g:0,id:null!=_?_:"",isCreator:y,isHorizontalDesign:I,isVerified:null!=E&&E,userFullName:null!=f?f:"",username:i,viewParameter:s,viewType:l})]})})})})})})]})}}function L(e){const t=(0,O.B)(),n=(0,R.Z)();return(0,r.jsx)(k,{...e,requestContext:t,viewer:n})}},702403:(e,t,n)=>{n.d(t,{FC:()=>i,z9:()=>o,EC:()=>r,m9:()=>a,BS:()=>s,_5:()=>l,A6:()=>d});const i=424,o=800,r=508,a=424,s=278,l=640,d=508},467311:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(756169),o=n(174523),r=n(946753),a=n(883119),s=n(785893);function l({pinCount:e,placesCount:t,sectionCount:n}){const l=(0,o.ZP)(),d=!!t&&0!==e||!t;return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,s.jsx)(a.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,s.jsx)(a.xv,{size:"md",inline:!0,lineClamp:1,children:(0,r.nk)(l.ngettext("{{ count }} place","{{ count }} places",t,"label for n amount of places","label for n amount of places"),{count:(0,s.jsx)(i.Z,{value:t},"places-count")})})}):null,n?(0,s.jsx)(a.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,s.jsx)(a.xv,{size:"md",inline:!0,lineClamp:1,children:(0,r.nk)(l.ngettext("{{ count }} section","{{ count }} sections",n,"label for n amount of sections","label for n amount of sections"),{count:(0,s.jsx)(i.Z,{value:n},"section_count")})})}):null,d&&(0,s.jsx)(a.xu,{overflow:"hidden",children:(0,s.jsx)(a.xv,{size:"md",lineClamp:1,children:(0,r.nk)(l.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:(0,s.jsx)(i.Z,{value:e},"pin_count")})})})]})}},760001:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(40142),r=n(451190),a=n(174523),s=n(946753),l=n(585967),d=n(883119),c=n(785893);function u({boardName:e,collaboratorName:t,onCancelTransferRequest:n,onDismiss:i}){const o=(0,a.ZP)(),u=(0,l.B)();return(0,c.jsx)(r.Z,{accessibilityModalLabel:o._("Board ownership transfer modal","boardCollabOwnershipTransferModal.accessibilityModalLabel","Accessibility label on board ownership transfer modal"),heading:(0,c.jsxs)(d.xu,{paddingY:8,position:"relative",children:[(0,c.jsx)(d.X6,{align:"center",size:"md",children:o._("Collaborators","boardCollabOwnershipTransferModal.heading","Heading for board ownership transfer modal")}),(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:u.isRTL,right:!u.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(d.hU,{accessibilityLabel:o._("Close","boardCollabOwnershipTransferModal.iconAccessibilityLabel","Accessibility label on cancel icon button"),icon:"cancel",iconColor:"darkGray",onClick:i})})]}),footer:(0,c.jsxs)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(d.iP,{fullWidth:!1,onTap:n,children:(0,c.jsx)(d.xv,{weight:"bold",children:o._("Cancel request","boardCollabOwnershipTransferModal.cancelRequest","Option to cancel board ownership transfer request")})}),(0,c.jsx)(d.zx,{color:"red",onClick:i,size:"lg",text:o._("Got it","boardCollabOwnershipTransferModal.confirmationButton","Button confirming board ownership transfer action")})]}),onDismiss:i,children:(0,c.jsx)(d.xu,{paddingX:8,children:(0,c.jsx)(d.xv,{align:"center",children:(0,s.nk)(o._("We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins—but you won’t be able to manage collaborators, change the name, cover photo, or description of this board.","boardCollabOwnershipTransferModal.descriptionText","Explanation of transfer request and potential permissions changes"),{collaboratorName:t,boardName:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:e})})})})})}var h=n(629318),p=n(163880);function m({boardId:e,collaboratorId:t,collaboratorName:n,isAcceptedCollaborator:r,onDelete:s}){const l=(0,o.useDispatch)(),m=(0,a.ZP)(),g=(0,i.useRef)(null),[f,_]=(0,i.useState)(!1),[x,y]=(0,i.useState)(!1),{boardName:b,pendingOwnershipTransfer:v}=(0,h.Z)(),E=()=>{l((0,p.xx)(e,t)),_(!1)},w=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:n,onDelete:i,onRequestTransfer:o,showCancelRequestOption:r,showRequestTransferOption:a}){const s=[{onSelect:i,option:{value:"Remove from board",label:e._("Remove from board","getCollaboratorDropdownItems.removeText","Text for option to remove collaborator from board")}}];return t&&(r&&s.push({onSelect:n,option:{value:"Cancel request",label:e._("Cancel request","getCollaboratorDropdownItems.cancelText","Text for option to cancel ownership transfer request")}}),a&&s.push({onSelect:o,option:{value:"Request as board owner",label:e._("Request as board owner","getCollaboratorDropdownItems.requestText","Text for option to request ownership transfer")}})),s}({i18n:m,isAcceptedCollaborator:r,onCancelTransferRequest:E,onDelete:s,onRequestTransfer:()=>{(async()=>{_(!1),await l((0,p.Cf)(e,t)),y(!0)})()},showCancelRequestOption:v===t,showRequestTransferOption:!v});return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.kC,{justifyContent:"center",children:[(0,c.jsx)(d.hU,{accessibilityLabel:m._("Collaborator options","boardCollabInviteOverflowButton.accessibilityLabel","Accessibility label for overflow icon button"),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>_(!f),ref:g,selected:f}),f&&(0,c.jsx)(d.Lt,{anchor:g.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>_(!1),zIndex:new d.Ry(1e3),children:(0,c.jsx)(d.Lt.Section,{label:m._("Options","boardCollabInviteOverflowButton.dropdownSection","Options section in dropdown menu"),children:w.map((e=>(0,c.jsx)(d.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)))})})]}),x&&(0,c.jsx)(u,{boardName:b,collaboratorName:n,onCancelTransferRequest:()=>{E(),y(!1)},onDismiss:()=>{y(!1)}})]})}var g=n(494715),f=n(925265),_=n(34411),x=n(181307);function y({actionsDisabled:e,invite:t,isDim:n,onApprove:i,onDelete:o}){const r=(0,a.ZP)(),s=(0,_.Z)(),{access:l,board:u,status:p,invited_by_user:y,invited_user:b}=t,{pendingOwnershipTransfer:v,viewerIsOwner:E}=(0,h.Z)(),w=s.isAuth&&b.id===s.id,I=s.isAuth&&y.id===s.id,C=b.id===y.id,T="accepted"===p,S=l.includes("approve"),P=l.includes("delete"),j=r._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),A=((e,t,n)=>e?r._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?r._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):r._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(w,C,T),D=P&&!S,R=P&&S,O=`/${b.username}/`,N=(0,x.tc)("web_board_ownership_transfer"),k=E&&N().anyEnabled,L=k?(0,c.jsx)(m,{boardId:u.id,collaboratorId:b.id,collaboratorName:b.full_name,onDelete:o||(()=>{}),isAcceptedCollaborator:T}):(0,c.jsx)(d.zx,{disabled:e,onClick:o,text:A,size:"lg"}),M=v===b.id,B=k&&(void 0!==n?n:!T);return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(g.Z,{imageUrl:b.image_medium_url||"",name:b.full_name,title:b.full_name,subtitle:((e,n,i,o,a)=>{const s=t.invited_by_user.full_name;let l;return l=n?r._("Invitation pending","boardCollabInviteCell.pendingInvitationText","Subtext for collaborator with pending invitation"):i?r._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):o?r._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):a?r._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):(0,f.Z)(r._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:s}),e&&(l=l.concat(r._(" · Ownership pending","boardCollabInviteCell.pendingOwnershipText","Additional subtext for collaborator who has a pending board ownership transfer invitation"))),l})(M,B,w,I,C),linkURL:O,isDim:!k&&(void 0!==n?n:!T),accessory:D&&L}),R&&(0,c.jsxs)(d.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,c.jsx)(d.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,c.jsx)(d.zx,{fullWidth:!0,disabled:e,onClick:o,text:A,size:"lg"})}),(0,c.jsx)(d.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,c.jsx)(d.zx,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:j,size:"lg"})})]})]})}var b=n(454690),v=n(881220),E=n(159617);function w(e){const t=(0,a.ZP)(),{onCancel:n,onRemove:i,useGestaltModal:o}=e,s=t._("Are you sure you want to leave this group board and remove it from your profile?"),l=o?d.u_:r.Z;return(0,c.jsx)(l,{accessibilityModalLabel:t._("Leave board?"),heading:t._("Leave board?"),onDismiss:n,size:"sm",footer:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.zx,{onClick:n,text:t._("Cancel")})}),(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.zx,{color:"red",onClick:i,text:t._("Leave")})})]}),children:(0,c.jsx)(d.xu,{padding:5,children:(0,c.jsx)(d.xv,{children:s})})})}class I extends i.Component{constructor(...e){var t,n,i;super(...e),i={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}getBlockDescription(e,t){return"declineRequest"===e?t?(0,s.nk)(this.props.i18n._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):this.props.i18n._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?(0,s.nk)(this.props.i18n._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):this.props.i18n._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:o,onRemove:a,onRemoveAndBlock:l,useGestaltModal:u}=this.props,h="declineRequest"===e?(0,s.nk)(this.props.i18n._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):(0,s.nk)(this.props.i18n._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),p=this.props.i18n._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),m=this.getBlockDescription(e,t),g=this.state.shouldBlock?this.props.i18n._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):this.props.i18n._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),f=(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{padding:5,children:(0,c.jsx)(d.xv,{children:p})}),(0,c.jsx)(d.iz,{}),(0,c.jsxs)(d.xu,{padding:5,display:"flex",children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})}),(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsxs)(d.__,{htmlFor:"banUser",children:[(0,c.jsx)(d.xv,{weight:"bold",children:(0,s.nk)(this.props.i18n._("Block {{ name }}"),{name:t||""})}),(0,c.jsx)(d.xv,{size:"md",children:m})]})})]})]}),_=u?d.u_:r.Z;return(0,c.jsx)(_,{accessibilityModalLabel:h,heading:h,onDismiss:o,size:"sm",footer:(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.zx,{onClick:o,text:this.props.i18n._("Cancel")})}),(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.zx,{color:"red",onClick:this.state.shouldBlock?l:a,text:g})})]}),children:f})}}function C(e){const t=(0,a.ZP)();return(0,c.jsx)(I,{...e,i18n:t})}var T=n(475446);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),S(this,"state",{currentModal:null,loading:!1}),S(this,"showRemoveSuccessToast",(()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast((({onHide:e})=>(0,c.jsx)(v.Z,{duration:3e3,onHide:e,text:t})))})),S(this,"onDelete",(()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})})),S(this,"onApprove",(()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally((()=>{this.setState({loading:!1})}))})),S(this,"deleteBoardInvite",((e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:i}=this.props,o=this.isViewerInvitedUser,r=o?"collaborator_decline_invite":"collaborator_delete_invite";b.Z.trackEvent(r,"click"),this.setState({currentModal:null,loading:!0}),t(o,e).then((()=>{b.Z.trackEvent(r,"success"),i(),this.showRemoveSuccessToast(),o&&n()})).catch((()=>{b.Z.trackEvent(r,"error")})).finally((()=>{this.setState({loading:!1})}))})),S(this,"handleDeleteBoardInvite",(()=>{this.deleteBoardInvite(!1)})),S(this,"handleDeleteBoardInviteAndBan",(()=>{this.deleteBoardInvite(!0)})),S(this,"handleHideModal",(()=>{this.setState({currentModal:null})}))}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?(0,c.jsx)(d.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:E.fe+1}},children:(0,c.jsx)(w,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):(0,c.jsx)(d.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:E.fe+1}},children:(0,c.jsx)(C,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(y,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}const j=(0,o.connect)((()=>({})),((e,t)=>{const{invite:n,invite:{invited_user:{id:i},board:{id:o}}}=t;return{approveBoardCollabInvite:()=>e((0,p.q1)(o,i)),deleteBoardCollabInvite:(t,i)=>e((0,p.Jn)(n,t,i))}}))((function(e){const t=(0,a.ZP)();return(0,c.jsx)(P,{...e,toastManagerContext:(0,T.F9)(),viewer:(0,_.Z)(),i18n:t})}))},26629:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(760001),r=n(653827),a=n(174523),s=n(883119),l=n(785893);function d({fetchMore:e,invites:t,isAtEnd:n,isFetching:i,onBoardLeave:o,refreshData:d,renderInvite:c,scroll:u}){const h=(0,a.ZP)();return(0,l.jsxs)(s.xu,{children:[u&&(0,l.jsx)(r.Z,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:n,isFetching:i,fetchMore:e}),t.map(((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,l.jsx)(s.xu,{children:c(e,o,d)},t):null)),i&&!n&&(0,l.jsx)(s.$j,{accessibilityLabel:h._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var c=n(494715),u=n(955801),h=n(629318),p=n(535718),m=n(946753);class g extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}shouldComponentUpdate(e){const{invites:{data:t},pendingOwnershipTransfer:n}=e,{invites:{data:i},pendingOwnershipTransfer:o}=this.props;return!(i&&!(o!==n))||!!t&&i.length!==t.length}render(){var e;const{board:t,invites:n,invitesPendingApproval:r,scrollInfo:a,onBoardLeave:h,onModalOpen:p,pendingOwnershipTransfer:g,renderInvite:f}=this.props,{full_name:_,image_medium_url:x,username:y}=t.owner,b=null===(e=(n.data||[]).find((e=>e.invited_user.id===g)))||void 0===e?void 0:e.invited_user.full_name,v=g&&b?(0,m.nk)(this.props.i18n._("Requested {{ collaboratorName }} to change to board owner","boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle","Subtext for an owner of board who has sent an ownership transfer request"),{collaboratorName:b}).join(""):this.props.i18n._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return(0,l.jsx)(i.Fragment,{children:n.isLoaded||r.isLoaded?(0,l.jsx)(u.Z,{fetchMore:n.fetchMore,children:({onScroll:e,setRef:t})=>(0,l.jsxs)(s.xu,{width:"100%",onScroll:e,ref:t,children:[(0,l.jsx)(d,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:a,renderInvite:f}),(r.data||[]).length>0?(0,l.jsx)(s.xu,{paddingY:3,children:(0,l.jsx)(s.iz,{})}):null,(0,l.jsxs)(s.xu,{paddingY:1,children:[(0,l.jsx)(c.Z,{imageUrl:x,linkURL:`/${y}/`,name:_,subtitle:v,title:_}),(n.data||[]).map((e=>e&&e.invited_user&&e.invited_user.id?(0,l.jsx)(o.Z,{invite:e,onBoardLeave:h,onModalOpen:p,onInviteDidUpdate:n.refresh},e.invited_user.id):null))]})]})}):(0,l.jsx)(s.$j,{show:!0,accessibilityLabel:this.props.i18n._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}function f(e){const t=(0,a.ZP)(),{pendingOwnershipTransfer:n}=(0,h.Z)(),i=(0,p.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),o=(0,p.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return(0,l.jsx)(g,{...e,invites:i,invitesPendingApproval:o,i18n:t,pendingOwnershipTransfer:n})}},494715:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(151101),r=n(539484),a=n(883119),s=n(785893);function l(e){const{imageUrl:t,name:n,title:l,subtitle:d,accessory:c,linkURL:u,isDim:h}=e,p={__style:{opacity:h?.5:1}},m=(0,r.Z)({url:null!=u?u:""})?"nofollow":"none";return(0,s.jsx)(i.Fragment,{children:n&&l&&(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,s.jsx)(a.xu,{marginEnd:2,dangerouslySetInlineStyle:p,children:(0,s.jsx)(a.iP,{role:"link",rel:m,href:u||"",rounding:"circle",children:(0,s.jsx)(o.Z,{outline:!0,size:"md",name:n,src:t})})}),(0,s.jsxs)(a.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:p,children:[(0,s.jsx)(a.xv,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:(0,s.jsx)(a.rU,{rel:m,href:u||"",children:l})}),(0,s.jsx)(a.xv,{lineClamp:1,size:"sm",color:"gray",children:d})]}),c&&(0,s.jsx)(a.xu,{marginStart:4,children:c})]})})}},497199:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{iconNode:t,title:n,subtitle:r,accessory:a}=e;return(0,o.jsxs)(i.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,o.jsx)(i.xu,{marginEnd:2,children:t}),(0,o.jsxs)(i.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,o.jsx)(i.xv,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(i.xv,{lineClamp:1,size:"sm",color:"gray",children:r})]}),a&&(0,o.jsx)(i.xu,{children:a})]})}},629318:(e,t,n)=>{n.d(t,{k:()=>s,Z:()=>l});var i=n(762803),o=n(785893);const{Provider:r,useHook:a}=(0,i.ZP)("BoardOwnershipTransferContext");function s({boardName:e="",children:t,pendingOwnershipTransfer:n=null,viewerIsOwner:i}){return(0,o.jsx)(r,{value:{boardName:e,pendingOwnershipTransfer:n,viewerIsOwner:i},children:t})}const l=a},841317:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(40142),r=n(631739),a=n(34411),s=n(164756),l=n(380322),d=n(174523),c=n(767523),u=n(159276),h=n(883119),p=n(163880),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),g(this,"state",{selectedCollaborators:[]}),g(this,"handleSubmit",(e=>{const{advertiserId:t,dispatch:n,onBoardCreate:i,viewer:o,orbacActingAs:r}=this.props,a=(0,u.Ms)(o,r),l=(0,u.lJ)(o,r),{name:d,description:c,privacy:h,collab_board_email:p,collaborator_invites_enabled:m}=e,g={name:d,description:c,privacy:h,collab_board_email:p,collaborator_invites_enabled:m,...t?{advertiser_id:t}:{},...l?{orbac_subject_id:l}:Object.freeze({})};return n((0,s.aX)(g,void 0,a)).then((e=>{this.inviteSelectedColaborators(e.id),i(e)}))})),g(this,"handleSelectedCollaboratorsChange",(e=>{this.setState({selectedCollaborators:e})})),g(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter((({type:e})=>"email"===e));t.length>=1&&(0,p.OA)(e,t.map((({type:e})=>e)));const n=this.state.selectedCollaborators.filter((({type:e})=>e.startsWith("user")));n.length>=1&&(0,p.pS)(e,n.map((({id:e})=>e)))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:n,privacy:i,useModalWithNoLayer:o}=this.props;return(0,m.jsx)(l.Z,{board:{...this.emptyBoardData,privacy:t?i:r.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,gaCategory:"board_create",isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:n,onSubmit:this.handleSubmit,submitText:this.props.i18n._("Create"),useModalWithNoLayer:o,title:(0,m.jsx)(h.xu,{paddingY:8,width:"100%",children:(0,m.jsx)(h.X6,{align:"center",size:"md",children:this.props.i18n._("Create board","BoardCreate.BoardCreate","Modal heading")})})})}}function _(e){const t=(0,d.ZP)(),n=(0,a.Z)(),i=(0,o.useSelector)((({advertiser:e})=>e?e.id:void 0)),r=(0,c.Z)(),s=(0,o.useSelector)((({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id));return(0,m.jsx)(f,{...e,advertiserId:i,dispatch:(0,o.useDispatch)(),isAdAccountOwner:s,viewer:n,i18n:t,orbacActingAs:r})}g(f,"defaultProps",{privacy:r.Z.BoardPrivacy.PUBLIC})},483957:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(451190),o=n(174523),r=n(883119),a=n(785893);function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:s,onCancel:l,onConfirm:d}){const c=(0,o.ZP)(),u=n||c._("Are you sure?"),h=e||c._("Cancel");return(0,a.jsx)(i.Z,{accessibilityModalLabel:u,footer:(0,a.jsxs)(r.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(r.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,onClick:l,size:"lg",text:h})}),(0,a.jsx)(r.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:d,size:"lg",text:t})})]}),heading:u,onDismiss:l,role:"alertdialog",children:(0,a.jsx)(r.xu,{padding:4,children:(0,a.jsx)(r.xv,{children:s})})})}},497231:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),o=n(40142),r=n(483957),a=n(454690),s=n(311866),l=n(881220),d=n(34411),c=n(367599),u=n(380322),h=n(174523),p=n(767523),m=n(164756),g=n(159276),f=n(585967),_=n(475446),x=n(883119),y=n(708206),b=n(785893);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),v(this,"state",{editMode:"main"}),v(this,"handleBoardLeave",(()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)})),v(this,"returnToMainEditMode",(()=>this.setState({editMode:"main"}))),v(this,"handleDelete",(()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:i,toastManagerContext:o,viewer:r,orbacActingAs:a}=this.props;t((0,g.lJ)(r,a)).then((()=>{o.showToast((({onHide:e})=>(0,b.jsx)(l.Z,{onHide:e,text:this.props.i18n._("Board deleted!","User deleted their board","User deleted their board")})))})),this.returnToMainEditMode(),i(),n&&n(e)})),v(this,"handleShowDeleteModal",(()=>{a.Z.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})})),v(this,"handleSubmit",(e=>{var t;const{viewer:n,orbacActingAs:i,board:o,updateBoard:r,onBoardPrivacyChange:a,onBoardUpdate:l,onClose:d}=this.props,c=this.props.board.id;if((0,g.D3)(n,(null===(t=o.owner)||void 0===t?void 0:t.id)||"",i)){const t={id:c,...e};return r(t,(0,g.lJ)(n,i)).then((()=>{o.privacy!==e.privacy&&a?a():l&&l(c,t),d()}))}{const{allow_homefeed_recommendations:t,collab_board_email:n}=e;t!==o.allow_homefeed_recommendations&&r({id:c,allow_homefeed_recommendations:t});return s.ZP.create("BoardSettingsResource",{board_id:c,collab_board_email:n}).callUpdate({showError:!1}).then((()=>d())).catch((e=>{throw e.message}))}}))}render(){var e;const{board:t,categories:n,viewer:o,orbacActingAs:a,onCropChange:s,onClose:l,onToggleFlyout:d,requestContext:c}=this.props,{editMode:h}=this.state,p=this.props.i18n._("Edit your board","BoardEdit.Heading.Text","edit board heading"),m=(0,g.D3)(o,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",a),f=(0,b.jsxs)(x.xu,{paddingY:8,position:"relative",children:[(0,b.jsx)(x.X6,{align:"center",size:"md",children:p}),(0,b.jsx)(x.xu,{position:"absolute",top:!0,left:c.isRTL,right:!c.isRTL,paddingY:8,paddingX:6,children:(0,b.jsx)(x.hU,{accessibilityLabel:this.props.i18n._("Close","BoardEdit.icon.cancel","Icon to close board edit modal"),icon:"cancel",iconColor:"darkGray",onClick:l})})]});return(0,b.jsxs)(i.Fragment,{children:["main"===h&&(0,b.jsx)(u.Z,{board:t,categories:n,currentUserIsOwner:m,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:m,isEditable:m,onClose:l,onCropChange:s,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:d,submitText:this.props.i18n._("Done","BoardEdit.BoardEdit","Submit button text"),title:f}),"confirmDelete"===h&&(0,b.jsx)(r.Z,{confirmButtonLabel:this.props.i18n._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:this.props.i18n._("Cancel"),message:this.props.i18n._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode})]})}}const w=(0,y.compose)(_.Cl,c.ZP,(0,o.connect)(null,((e,t)=>({deleteBoard:n=>e((0,m.L1)(t.board.id,n)),updateBoard:(t,n)=>e((0,m.wN)(t,n))}))))((function(e){const t=(0,h.ZP)();return(0,b.jsx)(E,{...e,requestContext:(0,f.B)(),viewer:(0,d.Z)(),orbacActingAs:(0,p.Z)(),i18n:t})}));var I=n(451190),C=n(535718);function T({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:r,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:l,onBoardUpdate:d,onClose:c,onCropChange:u}){const p=(0,h.ZP)(),[m,g]=(0,i.useState)(!1),{data:f}=(0,C.Z)({name:"CategoriesResource",noCache:!0});(0,C.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});const _=(0,o.useSelector)((({boards:t})=>t.content[e]));if(!!(!_||!f))return(0,b.jsx)(I.Z,{accessibilityModalLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:c,size:"sm",children:(0,b.jsx)(x.xu,{padding:12,children:(0,b.jsx)(x.$j,{accessibilityLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})})});return(0,b.jsx)(w,{board:_,categories:f,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:r,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:l,onBoardUpdate:d,onClose:()=>{m||c()},onCropChange:u,onToggleFlyout:()=>g(!m)})}},653827:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);class o extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:i,scrollHeight:o,scrollTop:r}=this.props;e||t||r+i>o&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},380322:(e,t,n)=>{n.d(t,{Z:()=>se});var i=n(667294),o=n(23219),r=n(40142),a=n(476865),s=n(451875),l=n(883119),d=n(785893);function c({handleTogglePinSelection:e,index:t,isSelected:n,pin:i}){return(0,d.jsx)(l.iP,{onTap:()=>{e(t)},rounding:s.mv,children:(0,d.jsx)(a.default,{attributionOption:"hide",blockClickEvents:!0,pin:i,pinId:i.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var u=n(174523);const h=({boardPins:e,coverPinIndex:t,fetchMore:n,isLoaded:i,handleTogglePinSelection:o})=>{const r=(0,u.ZP)();return i?(0,d.jsx)(l.xu,{paddingY:4,children:(0,d.jsx)(l.Rk,{columnWidth:152,comp:({data:e,itemIdx:n})=>(0,d.jsx)(c,{handleTogglePinSelection:o,index:n,isSelected:t===n,pin:e}),gutterWidth:16,items:e||[],loadItems:n})}):(0,d.jsx)(l.xu,{padding:6,children:(0,d.jsx)(l.$j,{show:!0,accessibilityLabel:r._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})})};var p=n(451190),m=n(311866),g=n(535718),f=n(34411),_=n(40197),x=n(159276),y=n(925265),b=n(585967);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={border:0,top:120};class w extends i.Component{constructor(...e){super(...e),v(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),v(this,"handleUpdateImage",(()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})})),v(this,"handleOnMouseUp",(()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))})),v(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:i}=this.state;return{left:i/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),o=i.imgHeight*n,r=i.imgWidth*n;let a=0;return o&&r&&(a=this.state.startBgPos.left+this.state.deltaX,a+r-e<t.left&&(a=t.left-r+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),o=i.imgHeight*n,r=i.imgWidth*n;let a=0;return o&&r&&(a=this.state.startBgPos.top+this.state.deltaY,a+o-e<t.top&&(a=t.top-o+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:i}=this._getImageDimensions(),o=this.getFrameBounds();if(n&&i){let r=n/i;return r=r>=o.height/o.width?t/i:e/n,r}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const i=this.getImgScale();n={width:i*t,height:i*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),i=this.getBgBounds(),o=this.getImgScale();return{cropX:Math.round(-(i.left-n.left)/o),cropY:Math.round(-(i.top-n.top)/o),height:Math.round(e/o),width:Math.round(t/o),scale:o}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,n;const{pin:i}=this.props,o=null===(e=i.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==o?void 0:o.height)&&void 0!==t?t:1,imgWidth:null!==(n=null==o?void 0:o.width)&&void 0!==n?n:1}}render(){var e,t;const{boardName:n,frameHeight:i,frameWidth:o,hideCoverNavigation:r,isFirst:a,isLast:s,isRTL:c,pin:u,showNextPin:h,showPrevPin:p}=this.props,{isSpinnerShown:m}=this.state,{imgHeight:g,imgWidth:f}=this._getImageDimensions(),_=this.getFrameBounds(),x=this.getImageBounds(),b=this.getBgBounds();let v="";return g&&f&&(v="in"),(0,d.jsxs)("div",{className:"ImageCrop",children:[(0,d.jsxs)("div",{className:"holder",ref:e=>{this.holder=e},children:[(0,d.jsx)("div",{className:"bg",style:b,children:(0,d.jsx)("img",{alt:(0,y.Z)(this.props.i18n._("Board cover for {{ boardName }}"),{boardName:n}),className:v,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=u.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:x})}),(0,d.jsxs)("div",{className:"mask",children:[(0,d.jsx)("span",{style:{top:0,left:0,right:0,height:_.top}}),(0,d.jsx)("span",{style:{top:_.top,left:_.left+o,right:0,height:i}}),(0,d.jsx)("span",{style:{top:i+_.top,left:0,right:0,bottom:0}}),(0,d.jsx)("span",{style:{top:_.top,left:0,width:_.left,height:i}})]}),(0,d.jsx)("div",{className:"frame",style:_}),(0,d.jsx)("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),(0,d.jsx)("div",{className:"spinner",style:{display:m?"":"none"}})]}),a||r?null:(0,d.jsx)(l.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...E,left:c?void 0:100,right:c?100:void 0}},children:(0,d.jsx)(l.hU,{icon:"arrow-back",accessibilityLabel:this.props.i18n._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:p})}),s||r?null:(0,d.jsx)(l.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...E,left:c?100:void 0,right:c?void 0:100}},children:(0,d.jsx)(l.hU,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:h})})]})}}function I(e){const t=(0,u.ZP)(),{isRTL:n}=(0,b.B)();return(0,d.jsx)(w,{...e,isRTL:!!n,i18n:t})}var C=n(767523);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return e.reduce(((e,t)=>("pin"===t.type&&e.push(t),e)),[])}function P({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,S(e||[]).findIndex((e=>e.id===t)))}class j extends i.Component{constructor(...e){super(...e),T(this,"state",{coverPinIndex:P(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),T(this,"handleSave",(()=>{var e,t,n;const{boardId:i,dispatch:o,viewer:r,orbacActingAs:a}=this.props,{coverPinIndex:s,imgCropData:l}=this.state,d=(this.pins||[])[s],c=(0,x.lJ)(r,a);if(!d)return;const u=null===(e=d.images)||void 0===e?void 0:e["236x"],h=null==u?void 0:u.url,p=l?{crop_x:l.cropX,crop_y:l.cropY,height:l.height,width:l.width,scale:l.scale}:{crop_x:0,crop_y:0,height:null==u?void 0:u.height,width:null==u?void 0:u.width,scale:1},g={board_id:i,url:h,pin_id:d.id,pin_image_url:h,...p,...c?{orbac_subject_id:c}:Object.freeze({})},f={height:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:0,width:null!==(n=null==u?void 0:u.width)&&void 0!==n?n:0,x:l?l.cropX:0,y:l?l.cropY:0};m.ZP.create("BoardResource",g).callUpdate().then((()=>{this.props.onSave(null!=h?h:""),o((0,_.Cr)(i,{custom_cover:!0,scale:l?l.scale:1,pin_id:d.id,crop:f,image_url:null!=h?h:""}))}))})),T(this,"updateImgCrop",(e=>this.setState({imgCropData:e}))),T(this,"handleShowNextPin",(()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,i=(this.pins||[]).length;i&&this.setState((({coverPinIndex:e})=>({coverPinIndex:(e+1)%i})),(()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()}))})),T(this,"handleShowPrevPin",(()=>{const e=(this.pins||[]).length;e&&this.setState((({coverPinIndex:t})=>({coverPinIndex:(t||e)-1})))})),T(this,"handleTogglePinSelection",(e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})})),T(this,"handleCoverEditBackButtonClick",(()=>{this.setState({selectedCoverPin:null})})),T(this,"renderBoardCoverMasonry",(()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:n,boardFeedResource:i,frameHeight:o,frameWidth:r}=this.props,a=this.pins||[],{data:s,fetchMore:l,isLoaded:c}=i;return t?(0,d.jsx)(I,{boardName:n,frameHeight:null!=o?o:236,frameWidth:null!=r?r:236,isFirst:!e,isLast:e===a.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):(0,d.jsx)(h,{boardPins:s,coverPinIndex:e,fetchMore:l,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:c})})),T(this,"renderCoverEditHeader",(()=>(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"center",height:80,children:(0,d.jsx)(l.xu,{width:"100%",padding:4,children:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.hU,{accessibilityLabel:this.props.i18n._("Navigate to cover picker","BoardEdit.back.button","Cover picker navigate back button"),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),(0,d.jsx)(l.X6,{size:"md",children:this.props.i18n._("Move and scale to crop","BoardEdit.Heading.Experiment.Text","edit board heading")}),(0,d.jsx)(l.hU,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardCoverEdit.icon.cancel","Cancel board cover edit"),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})})))}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:i}=t;return!i&&n?{previousBoardFeedResourceData:n,coverPinIndex:P(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach((e=>{if("pin"===e.type){(new Image).src=e.url}}))}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?S(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:n,selectedCoverPin:i}=this.state,o=(this.pins||[])[n];return(0,d.jsx)(p.Z,{accessibilityModalLabel:this.props.i18n._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:i?this.renderCoverEditHeader():e,onDismiss:t,footer:i&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.zx,{disabled:!o,onClick:this.handleSave,text:this.props.i18n._("Done","BoardCoverEdit.Button.Submit.Exp","Button for saving board cover edit")})})}),children:this.renderBoardCoverMasonry()})}}function A(e){const t=(0,u.ZP)(),n=(0,r.useDispatch)(),i=(0,g.Z)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return(0,d.jsx)(j,{...e,boardFeedResource:i,dispatch:n,i18n:t,viewer:(0,f.Z)(),orbacActingAs:(0,C.Z)()})}var D=n(483957);const R=({label:e,labelId:t})=>t?(0,d.jsx)(l.__,{htmlFor:t,children:(0,d.jsx)(l.xv,{size:"sm",children:e})}):(0,d.jsx)(l.xv,{size:"sm",children:e});function O(e){const{children:t,label:n,labelId:o}=e;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.xu,{marginBottom:2,children:(0,d.jsx)(R,{label:n,labelId:o})}),t]})}const N=138;function k({coverPin:e,handleShowBoardCoverEditModal:t}){const n=(0,u.ZP)(),[o,r]=(0,i.useState)(!1),{isRTL:a}=(0,b.B)();return(0,d.jsx)(O,{label:n._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:(0,d.jsx)(l.xu,{width:N,position:"relative",children:(0,d.jsx)(l.iP,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.zd,{height:N,rounding:4,width:N,children:(0,d.jsx)(l.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||N,naturalWidth:e.size&&e.size[0]||N,src:e.image_url})}),(0,d.jsx)(l.xu,{position:"absolute",left:a,right:!a,bottom:!0,padding:2,children:(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:o?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,d.jsx)(l.JO,{accessibilityLabel:n._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):(0,d.jsx)(l.xu,{alignItems:"center",color:o?"darkWash":"lightGray",display:"flex",height:N,justifyContent:"center",rounding:4,width:N,children:(0,d.jsx)(l.JO,{accessibilityLabel:n._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function L({children:e,label:t,labelId:n,subtext:o}){return(0,d.jsx)(i.Fragment,{children:(0,d.jsxs)(l.xu,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsxs)(l.__,{htmlFor:n,children:[(0,d.jsx)(l.xv,{size:"lg",weight:"bold",children:t}),o]})})]})})}function M({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:n}){const i=(0,u.ZP)();return t&&(0,d.jsx)(L,{label:i._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:(0,d.jsx)(l.xv,{color:"gray",size:"lg",children:i._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),children:(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(l.xu,{marginEnd:1,children:(0,d.jsx)(l.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var B=n(16719),F=n(946753);function U({board:e,onCollaboratorInviteClick:t}){const n=(0,u.ZP)(),i=(0,B.Z)({boardId:e.id,ownerName:e.owner.full_name,ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_key||e.owner.image_medium_url||e.owner.image_small_url||""}),o=i.slice(0,3).map((e=>e.name));let r="";switch(i.length){case 3:r=(0,F.Wc)(`${n._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames")}`,{first:`${o[0]}`,second:`${o[1]}`,last:`${o[2]}`});break;case 2:r=(0,F.Wc)(`${n._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames.")}`,{first:`${o[0]}`,second:`${o[1]}`});break;default:r=o.join(", ")}const a=i.length>3?(0,F.Wc)(n.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",i.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:r,leftCount:""+(i.length-3)}):(0,F.Wc)(`${n._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators")}`,{userNames:r});return(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.HE,{accessibilityLabel:a,collaborators:i.map((({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e}))),size:"md"}),(0,d.jsx)(l.hU,{accessibilityLabel:n._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var Z=n(482547),G=n(702925);function H({board:e,onCollaboratorInviteClick:t}){const n=(0,u.ZP)(),i=(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(l.xv,{size:"sm",inline:!0,children:n._("Collaborators")}),(0,d.jsx)(Z.Z,{}),(0,d.jsx)(l.xv,{inline:!0,size:"sm",weight:"bold",children:(0,d.jsx)(l.rU,{inline:!0,target:"blank",href:G.Z.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:n._("Learn more")})})]});return(0,d.jsx)(O,{alignTop:!0,label:i,labelId:"collaborators",children:(0,d.jsx)(U,{board:e,onCollaboratorInviteClick:t})})}function z({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:n}){const i=(0,u.ZP)();return t&&(0,d.jsx)(L,{label:i._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,d.jsx)(l.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function V({description:e,descriptionValidatorErrors:t,onChange:n}){const i=(0,u.ZP)(),o="boardEditDescription";return(0,d.jsx)(O,{alignTop:!0,label:i._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:o,children:(0,d.jsx)(l.Kx,{errorMessage:t.join(", "),id:o,name:"description",onChange:n,placeholder:i._("What's your board about?"),value:e})})}const W=({children:e})=>(0,d.jsx)(l.xu,{paddingX:8,role:"list",children:i.Children.map(e,((t,n)=>t&&(0,d.jsx)(l.xu,{role:"listitem",marginBottom:n===i.Children.count(e)-1?1:8,children:t},n)))});var Y=n(631739);function K({isProtectedToggler:e,isToggleDisable:t,onChange:n,onCheckboxChange:o,privacy:r}){const a=(0,u.ZP)();if(!0===e)return(0,d.jsx)(L,{label:a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:(0,d.jsx)(l.xu,{paddingY:2,children:(0,d.jsx)(l.rs,{onChange:n,switched:r===Y.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(r!==Y.Z.BoardPrivacy.PROTECTED){const e=a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),n=(0,d.jsx)(i.Fragment,{children:(0,d.jsxs)(l.xv,{color:"gray",size:"lg",children:[a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",(0,d.jsx)(l.rU,{inline:!0,target:"blank",href:G.Z.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return(0,d.jsx)(L,{label:e,labelId:"secret",subtext:n,children:(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(l.XZ,{checked:r===Y.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:o,disabled:t})})})}return null}function q({allowHomefeedRecommendations:e,onCheckboxChange:t}){const n=(0,u.ZP)();return(0,d.jsx)(L,{label:n._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:(0,d.jsx)(l.xv,{color:"gray",size:"lg",children:n._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),children:(0,d.jsx)(l.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function $({name:e,nameValidatorErrors:t,onChange:n}){const i=(0,u.ZP)();return(0,d.jsx)(O,{label:i._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:(0,d.jsx)(l.nv,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:i._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e})})}var X=n(454690),J=n(754999),Q=n(475446),ee=n(997993);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=(e,t)=>(0,ee.Gy)({max:e,maxErrorString:(0,J.Z)(t._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),ie=e=>[ne(Y.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],oe=e=>[(0,ee.aH)({message:e._("Don't forget to name your board!")}),ne(Y.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],re=({condition:e,children:t})=>e?(0,d.jsx)(l.xu,{position:"absolute",zIndex:p.b,children:t}):t;class ae extends i.Component{constructor(e){super(e),te(this,"handleChangeName",(({value:e})=>{const t=(0,ee.FU)(oe(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})})),te(this,"handleChangeDescription",(({value:e})=>{const t=(0,ee.FU)(ie(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})})),te(this,"handleChangePrivacyToggle",(({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})})),te(this,"handleChangePrivateToggle",(({value:e})=>{this.setState({privacy:e?"secret":"public"})})),te(this,"handleEnableSecret",(()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})})),te(this,"handleShowSecretConfirmation",(()=>{this.setState({showSecretConfirmation:!0})})),te(this,"handleHideSecretConfirmation",(()=>{this.setState({showSecretConfirmation:!1})})),te(this,"handleChangeRecommendationToggle",(({value:e})=>{this.setState({allowHomefeedRecommendations:e})})),te(this,"handleChangeCollabBoardEmail",(({value:e})=>{this.setState({collab_board_email:e})})),te(this,"handleChangeCollaboratorInvitesEnabled",(({value:e})=>{this.setState({collaboratorInvitesEnabled:e})})),te(this,"handleCancel",(()=>{X.Z.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()})),te(this,"handleCheckboxChange",(e=>({event:t,checked:n})=>e({event:t,value:n}))),te(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{collab_board_email:n,collaboratorInvitesEnabled:i,description:o,name:r,privacy:a,allowHomefeedRecommendations:s}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const l=r.trim(),d=o.trim();this.setState({submitting:!0,submitError:""}),X.Z.trackEvent(this.props.gaCategory,"click_submit"),t({name:l,collab_board_email:n,collaborator_invites_enabled:i,description:d,privacy:a,allow_homefeed_recommendations:s}).then((()=>{this.setState({submitting:!1})})).catch((e=>{let t=this.props.i18n._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})}))})),te(this,"handleShowBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!0})})),te(this,"handleHideBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!1})})),te(this,"handleShowCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!0})})),te(this,"handleHideCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!1})})),te(this,"handleSaveBoardCoverEditModal",(e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)}));const{board:{collab_board_email:t,collaborator_invites_enabled:n,description:i,name:o,pin_count:r,privacy:a,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:t,description:i,name:o,pin_count:r,privacy:a,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:o,previousDescription:i,previousPrivacy:a}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=(0,ee.FU)(oe(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=(0,ee.FU)(ie(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,d.jsx)(l.xu,{height:48,children:(0,d.jsx)(l.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,d.jsx)(l.xu,{paddingX:1,children:(0,d.jsx)(l.xv,{color:"red",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:i}=this.state;return!t||n.length>0||e.length>0||i}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:n,id:r,is_collaborative:a},coverImageHeight:s,coverImageWidth:c,currentUserIsOwner:u,handleBoardLeave:h,isAdAccount:m,isAdAccountOwner:g,isDeletable:f,isEditable:_,isNameAndSecretView:x,onClose:y,onDeleteButtonClick:b,requestContext:v,title:E,useModalWithNoLayer:w}=this.props,{allowHomefeedRecommendations:I,collab_board_email:C,collaboratorInvitesEnabled:T,description:S,descriptionValidatorErrors:P,name:j,nameValidatorErrors:R,pin_count:O,privacy:N,showBoardCoverEdit:L,showCollaboratorsModal:B,showSecretConfirmation:U}=this.state,Z=_&&O>0;let G=(0,d.jsxs)(W,{children:[Z&&(0,d.jsx)(k,{coverPin:n,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,d.jsx)($,{name:j,nameValidatorErrors:R,onChange:this.handleChangeName}),(0,d.jsx)(V,{description:S,descriptionValidatorErrors:P,onChange:this.handleChangeDescription}),u&&!!h&&(0,d.jsx)(H,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,d.jsx)(l.xu,{marginBottom:-7,children:(0,d.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),(0,d.jsx)(K,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:N}),!t&&(0,d.jsx)(q,{allowHomefeedRecommendations:I,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,d.jsx)(M,{hasCollabBoardEmail:C,isCollaborative:a,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,d.jsx)(z,{collaboratorInvitesEnabled:T,isCollaborative:a,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),f&&(0,d.jsxs)(l.xu,{marginTop:-6,paddingY:4,children:[(0,d.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Action","BoardForm.BoardForm.Action","Section heading in board edit form")}),(0,d.jsxs)(l.iP,{onTap:b,children:[(0,d.jsx)(l.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,d.jsx)(l.X6,{size:"sm",children:this.props.i18n._("Delete board","BoardForm.Delete","Delete board label")})}),(0,d.jsx)(l.xv,{size:"lg",color:"gray",children:this.props.i18n._("Delete this board and all its Pins forever.","BoardForm.BoardForm.Delete.Label","Delete board warning text")}),(0,d.jsx)(l.xv,{size:"lg",color:"gray",children:this.props.i18n._("You can't undo this!","BoardForm.BoardForm.Delete.LabelTwo","Delete board warning text")})]})]})]});u?x&&(G=(0,d.jsxs)(W,{children:[(0,d.jsx)($,{name:j,nameValidatorErrors:R,onChange:this.handleChangeName}),(0,d.jsx)(K,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,privacy:N,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):G=(0,d.jsxs)(W,{children:[!!h&&(0,d.jsx)(H,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,d.jsx)(M,{hasCollabBoardEmail:C,isCollaborative:a,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&(0,d.jsx)(q,{allowHomefeedRecommendations:I,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,d.jsx)(l.xv,{color:"gray",size:"lg",children:(0,F.nk)(this.props.i18n._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:(0,d.jsx)(l.xv,{color:"gray",inline:!0,size:"lg",weight:"bold",children:e.owner.full_name})})})]});const Y=w?l.u_:p.Z,X=this.props.i18n._("Change board cover","BoardForm.BoardCoverEdit.heading","Change board cover heading"),J=(0,d.jsxs)(l.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(l.X6,{align:"center",size:"md",children:X}),(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:v.isRTL,right:!v.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(l.hU,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardForm.BoardCoverEdit.cancel","Cancel change board cover heading"),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})})]});return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(re,{condition:!!w,children:!L&&!B&&(0,d.jsx)(Y,{accessibilityModalLabel:this.props.i18n._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:y,footer:this.getFormFooter(),heading:E,children:(0,d.jsx)(l.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,d.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:G})})})}),L&&(0,d.jsx)(A,{boardId:r,boardName:j,coverPinId:null==n?void 0:n.pin_id,frameHeight:s,frameWidth:c,heading:J,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),U&&(0,d.jsx)(D.Z,{confirmButtonLabel:this.props.i18n._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:this.props.i18n._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:this.props.i18n._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),B&&(0,d.jsx)(o.Z,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}te(ae,"defaultProps",{isNameAndSecretView:!1});const se=(0,Q.Cl)((function(e){const t=(0,u.ZP)();return(0,d.jsx)(ae,{...e,i18n:t,requestContext:(0,b.B)()})}))},639868:(e,t,n)=>{n.d(t,{dJ:()=>o,qX:()=>r,Hr:()=>a,il:()=>s,lM:()=>l,g6:()=>d,Jo:()=>u,qN:()=>h,$o:()=>p,s4:()=>m,Fo:()=>g,Ux:()=>f,XZ:()=>_,CC:()=>x,Zo:()=>y,aD:()=>b,XQ:()=>v,OE:()=>E,$I:()=>w,ym:()=>I});var i=n(702925);const o=546,r={height:136,width:272},a={advertise:i.Z.settings.BUSINESS_SITE_URL+"/advertise",targeting:i.Z.settings.BUSINESS_SITE_URL+"/advertise/#targeting",how_to_make_pins:i.Z.settings.BUSINESS_SITE_URL+"/basics/how-to-make-pins/#best-practices",success_stories:i.Z.settings.BUSINESS_SITE_URL+"/success-stories/"},s={status_page_header_background:"https://i.pinimg.com/originals/76/52/b8/7652b80aac786dac958ce996d9692771.png",additional_resources_business_advertise:"https://i.pinimg.com/originals/58/4d/6f/584d6f9e21d7e95b723c04015a7f3333.png",additional_resources_business_audience:"https://i.pinimg.com/originals/44/3d/67/443d671687e418a4ec23bb56419c509c.png",additional_resources_business_how_to_make_pins:"https://i.pinimg.com/originals/79/f4/99/79f499fedffcfd50ee86ebaac4f34e9a.png",additional_resources_business_success_stories:"https://i.pinimg.com/originals/e0/55/12/e05512dbb012d7bd1861d901dc851b2e.png"},l=["US","GB","CA","AU","DE","FR"],d=["ES","IT","AT","CH","NL","BR","MX"],c=["FR"],u=l.concat(d).filter((e=>!c.includes(e))),h={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},p={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},m=Object.freeze({APPLIED:"APPLIED",IN_REVIEW:"IN_REVIEW",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED",OUTBOUND_LEAD:"OUTBOUND_LEAD"}),g=Object.freeze({IN_PROGRESS:"IN_PROGRESS",IN_REVIEW:"IN_REVIEW",ACTIVE:"ACTIVE",NEEDS_ATTENTION:"NEEDS_ATTENTION",SUSPENDED:"SUSPENDED"}),f=(e,t)=>{switch(e){case"IN_PROGRESS":return t._("In-progress","BizHubHeader.VMPEntryPointStatus.label","User is currently in progress of becoming a Verified Merchant");case"IN_REVIEW":return t._("In review","BizHubHeader.VMPEntryPointStatus.label","Users account is currently in review to become a Verified Merchant");case"ACTIVE":return t._("Active","BizHubHeader.VMPEntryPointStatus.label","Users account is currently an active Verified Merchant");case"NEEDS_ATTENTION":return t._("Needs attention","BizHubHeader.VMPEntryPointStatus.label","Users account has an issue that needs attention in order to keep their Verified Merchant Status");case"SUSPENDED":return t._("Suspended","BizHubHeader.VMPEntryPointStatus.label","Users account is currently a suspended Verified Merchant");default:return e}},_=[m.NON_COMPLIANT,m.SUSPENDED],x=Object.freeze({UNSUPPORTED_MARKET:"unsupported_market",TAG_ID_NOT_CREATED:"tag_id_not_created",NO_TAG_TRAFFIC:"no_tag_traffic",HEALTH_SCORE_NOT_AVAILABLE:"health_score_not_available",UNHEALTHY:"unhealthy",ACCEPTABLE:"acceptable",HEALTHY:"healthy"}),y=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"alert",REJECTED:"clear",RECOMMENDED:"info-circle"}),b=Object.freeze({UNSTARTED:"gray",IN_PROGRESS:"blue",ACCEPTED:"green",ATTENTION:"orange",REJECTED:"red",RECOMMENDED:"gray"}),v="https://view.highspot.com/viewer/5e712f05628ba21710e1b606",E="https://help.pinterest.com/contact?current_page=about_you_page&business_issues=visual_search_shopping&visual_search_shopping_issue=shop_issue_vmp",w={status:"APPLIED",userId:"user_undefined",is_approved:!1,last_compliant_at:""},I="Verified merchant program not yet available in this country"},5015:(e,t,n)=>{n.d(t,{kw:()=>s,QZ:()=>l,ye:()=>d,EL:()=>c,I0:()=>u,UF:()=>h,Hn:()=>p});var i=n(383722),o=n(535718),r=n(34411),a=n(585967);const s=()=>{var e,t;const n=(0,a.B)(),i=(0,o.Z)({name:"AdvertisersResource",options:{ownerUserId:null===(e=n.advertiser)||void 0===e?void 0:e.owner_user_id}});return(0,o.Z)({name:"VerifiedMerchantTagStatusResource",options:{advertisers:null===(t=i.data)||void 0===t?void 0:t.map((({country:e,id:t,name:n})=>({country:e,id:t,name:n})))}})},l=()=>{var e,t;const n=(0,a.B)(),i=(0,r.Z)(),s=i.isAuth?i.id:"";return(0,o.Z)({name:"VerifiedMerchantResource",options:{userId:null!==(e=null===(t=n.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:s}})},d=()=>{var e;const t=null===(e=(0,i.Z)().data)||void 0===e?void 0:e.id;return(0,o.Z)({name:"VerifiedMerchantResource",options:{userId:t}})},c=()=>{var e,t;const n=(0,a.B)(),i=(0,r.Z)(),s=i.isAuth?i.id:"";return(0,o.Z)({name:"UserResource",options:{user_id:null!==(e=null===(t=n.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:s}})},u=()=>{var e;const t=(0,a.B)();return(0,o.Z)({name:"CatalogsMerchantMetadataResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},h=()=>{var e;const t=(0,a.B)();return(0,o.Z)({name:"CatalogsFeedResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},p=()=>{var e;const t=(0,a.B)();return(0,o.Z)({name:"CatalogsMerchantResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})}},943112:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(883119),r=n(401081),a=n(785893);function s({fullWidth:e,isFollowed:t,topicId:n,primaryAction:s=!1,onFollow:l=(()=>{}),onUnFollow:d=(()=>{}),isFollowedText:c,isNotFollowedText:u,size:h="md"}){const p=(0,i.ZP)(),{follow:m,topics:g,unfollow:f}=(0,r.X)(),_=g[n],x=_?Boolean(_.is_followed):t;return(0,a.jsx)(o.zx,{color:"gray",selected:!x,fullWidth:!e,onClick:()=>{x?(d(n),f(n)):(l(n),m(n,s))},text:x?c||p._("Following","Button text to display for unfollowing an interest","Button text to display for unfollowing an interest"):u||p._("Follow","Button text to display for following an interest","Button text to display for following an interest"),size:h})}},572770:(e,t,n)=>{n.d(t,{DO:()=>W,VO:()=>K,Kg:()=>H,Eb:()=>Y});var i=n(667294),o=n(40142),r=n(343719),a=n(343187),s=n(575223),l=n(376045),d=n(368595),c=n(451190),u=n(646631),h=n(754999),p=n(881220),m=n(174523),g=n(535718),f=n(775676),_=n(766274),x=n(949438),y=n(701438),b=n(677397),v=n(165568),E=n(357846),w=n(746886),I=n(946753),C=n(784655),T=n(163109),S=n(549135),P=n(190039),j=n(20420),A=n(475446),D=n(923828),R=n(536180),O=n(883119),N=n(785893);const k=({aggregatedCommentId:e,creatorId:t,depth:n,didItOwnerId:k,isManagedView:L,objectType:M,onUpdate:B,parentObjectId:F,pinDomainOwnerId:U,pinId:Z,slotIndex:G,viewerId:z,showHighlightEducator:V,numHighlights:W,canSetHighlight:K,isORBACProfileManager:q})=>{const $=(0,m.ZP)(),{isLoaded:X}=(0,g.Z)({name:"PinResource",options:{id:Z,field_set_key:"detailed"}}),{showToast:J}=(0,A.F9)(),[Q,ee]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(!1),[ie,oe]=(0,i.useState)(!1),[re,ae]=(0,i.useState)(!1),[se,le]=(0,i.useState)(!1),[de,ce]=(0,i.useState)(!1),ue=(0,o.useDispatch)();(0,i.useEffect)((()=>{ue((0,E.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[ue,e]),(0,i.useEffect)((()=>{B&&B()}),[B]);const he=(0,o.useSelector)((({pins:e})=>{if(!Z)return"";const t=e[Z];let n="pin";if(t){const e=(0,C.iR)(t.videos);t.story_pin_data_id?n="story":e&&(n="video")}return n})),pe=(0,o.useSelector)((({aggregatedComments:t})=>t[e]));if(!pe||!pe.user)return null;const{comment_response_pin:me,comment_count:ge,created_at:fe,helpful_count:_e,marked_helpful_by_me:xe,reaction_by_me:ye,reaction_counts:be,tagged_users:ve,tags:Ee,text:we,user:{id:Ie,username:Ce},highlighted_by_pin_owner:Te}=pe,Se=n===H,Pe=be[1],je=()=>{ue((0,R.f9)({aggregatedCommentId:e,isLikedByMe:!!ye}))},Ae=()=>{ue((0,R.Pd)({aggregatedCommentId:e,isMarkedHelpfulByMe:!!xe}))},De=t=>(0,N.jsx)(O.zx,{text:$._("Undo","closeup.pinActionDropDown.commentHighlightToast.UndoButton","Undo comment highlight or comment highlight removal"),size:"lg",onClick:()=>{ue((0,R.rK)({aggregatedCommentId:e,pinId:Z,isHighlighted:t}))}},"button-key"),Re=()=>{W&&W>=3?J((({onHide:e})=>(0,N.jsx)(p.Z,{onHide:e,text:$._("Only 3 comments can be highlighted","closeup.pinActionDropDown.commentHighlightMaxNumberToast","Toast that tells user that at most 3 comments can be highlighted.")}))):(ue((0,R.rK)({aggregatedCommentId:e,pinId:Z,isHighlighted:!1})),J((({onHide:e})=>(0,N.jsx)(p.Z,{onHide:e,text:$._("Comment highlighted","closeup.pinActionDropDown.commentHighlightToast","Toast that tells user that they have successfully highlighted a comment."),button:De(!0)}))))},Oe=()=>{ue((0,R.rK)({aggregatedCommentId:e,pinId:Z,isHighlighted:!0})),J((({onHide:e})=>(0,N.jsx)(p.Z,{onHide:e,text:$._("Highlight removed","closeup.pinActionDropDown.commentHighlightRemovalToast","Toast that tells user that they have successfully removed a comment highlight."),button:De(!1)})))},Ne=()=>{oe(!ie)},ke=()=>{ee(!0)},Le=()=>{ee(!1)},Me=t=>{ue((0,R.SL)({commentId:e,tags:t.tags,text:t.contentMarkdown})),ee(!1)},Be=()=>{ue((0,v.Q)(e)),(0,S.j)(8909,{component:13464,tag_id:z,tag_type:1,view:3,viewParameter:140}),J((({onHide:e})=>(0,N.jsx)(p.Z,{onHide:e,text:$._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")})))},Fe=()=>{ae(!0)},Ue=()=>{le(!0)},Ze=()=>{ce(!0)},Ge=()=>{ae(!1),le(!1),ce(!1)},He=()=>{ue((0,u.Z)({id:e,viewType:null,viewParameter:null}))},ze=()=>{const e=[Ie,t,k,U].includes(z),n=z===Ie,i=z!==Ie,o=z!==Ie,r=ve.filter((({id:e})=>e===z)).length>0;return(0,N.jsx)(s.Z,{handleBlockUser:o?Ze:null,handleClickReport:i?He:null,handleDelete:e?Fe:null,handleOnEdit:n?ke:null,handleRemoveMention:r?Be:null,handleHighlight:K&&!Te?Re:null,handleRemoveHighlight:K&&Te?Oe:null,showHighlightEducator:V,small:!0})};return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(w.F,{contextLogData:{objectId:pe.id},impressionAuxFields:{commentId:pe.id,pinId:Z,pinType:he,parentId:F,parentType:M,commentType:D.o.aggregatedComment},componentType:M===D.o.pin?13696:13697,impressionType:"Comment",isPaused:!X,loggingId:pe.id,slotIndex:G,viewType:3,children:({impressionTrackerRef:t})=>(0,N.jsx)(O.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,N.jsx)(d.Z,{avatarSize:Se?"sm":"md",commentAuthor:pe.user,commentCount:ge,commentId:e,contentText:we,createdAt:fe,flyout:ze(),handleHelpfulClick:Ae,handleLikeClick:je,handleLikeCountClick:Ue,handleOnEditCancel:Le,handleOnEdited:Me,handleReplyClick:Ne,helpfulCount:_e,hideAddObjects:!0,hideReplyCount:!0,inEditMode:Q,isHighlighted:Te,isLikedByMe:!!ye,isMarkedHelpfulByMe:xe,parentObject:{id:F},reactionCounts:be,responsePin:me,slotIndex:G,taggedUsers:ve,tags:Ee,truncateText:!0,type:D.o.aggregatedComment,isORBACProfileManager:q})})}),ie&&(0,N.jsx)(O.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:Se?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,N.jsx)(O.xu,{display:"flex",marginTop:2,children:(0,N.jsx)(O.xu,{flex:"grow",children:(0,N.jsx)(r.Z,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:n})=>{let i,o=e;Ne(),ne(!0),Se&&(o=F,i=e),await ue((0,y.n)({objectType:D.o.aggregatedComment,objectId:o,tags:n,text:t,replyToCommentId:i})),ne(!1)},onCancelItem:Ne,onEnter:()=>{},objectType:D.o.aggregatedComment,parentObjectId:F,replyToObject:Se?pe:null,statusType:"textInflightCreation"})})})}),ge>0&&(0,N.jsxs)(O.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,N.jsx)(Y,{baseIndex:G+1,commentCount:ge,creatorId:t,didItOwnerId:k,depth:n,isManagedView:L,objectId:e,objectType:D.o.aggregatedComment,onUpdate:B,parentObjectId:F,pinDomainOwnerId:U,pinId:Z,variant:"legacy",isORBACProfileManager:q}),(0,N.jsx)(O.$j,{accessibilityLabel:$._("Comments loading"),show:te})]}),re&&(0,N.jsx)(a.Z,{accessibilityModalLabel:$._("Deleting a comment","closeup.deleteCommentModal.label","Label for deleting a comment"),heading:$._("Are you sure?","closeup.deleteCommentModal.heading","Are you sure to remove post or comment"),cancelButtonText:$._("Cancel","closeup.deleteCommentModal.cancelButton","Cancel deleting comment"),confirmButtonText:$._("Delete","closeup.deleteCommentModal.confirmButton","Delete comment"),detail:$._("This comment will be deleted","closeup.deleteCommentModal.detailText","confirmation before deleting comment"),onConfirm:()=>{ue((0,b.$)({aggregatedCommentId:e,feedType:"aggregatedComments",type:Se?x.Rv.REPLY_TO_AGGREGATED:x.Rv.TOP,parentId:F})),((e,t,n)=>{const i={[D.o.aggregatedComment]:P.s,[D.o.didIt]:j.L8,[D.o.pin]:T.R};ue(i[e](t,n))})(M,F,-1)},onDismiss:Ge}),se&&(0,N.jsx)(c.Z,{accessibilityModalLabel:$._("Users who have liked this.","closeup.comment.showLikeListModal.label","Label for a modal showing a list of users who have liked a Tried Item Comment"),heading:(0,h.Z)($.ngettext("{{count}} Like","{{count}} Likes",Pe,"closeup.comment.showLikeListModal.heading","Number of likes a comment has"),{count:Pe.toString()}),onDismiss:Ge,size:"md",children:(0,N.jsx)(f.Xd,{id:e})}),de&&(0,N.jsx)(l.Z,{firstName:Ce,onBlockUser:()=>{ue((0,_.G)(Ie)),Ge(),J((({onHide:e})=>(0,N.jsx)(p.Z,{onHide:e,text:(0,I.nk)($._("You've blocked {{ username }}","comment.blockAuthor.toast","confirmation toast that shows after user blocks comment author"),{username:Ce}).join("")})))},onClearModal:Ge})]})};var L=n(527686),M=n(500953),B=n(34411),F=n(221469),U=n(202761),Z=n(855168),G=n(613330);const H=2,z=({baseIndex:e=0,commentCount:t,creatorId:n,depth:a=0,didItOwnerId:s,feedItems:l,feedResourceName:d,initialLoadCount:c,isManagedView:u,objectId:h,objectType:f,onUpdate:_,parentObjectId:x,pinDomainOwnerId:b,pinId:v,privatePin:E,shouldFeatureComment:w=!1,variant:C,isORBACProfileManager:T})=>{const P=(0,m.ZP)(),[j,R]=(0,i.useState)(!1),[G,H]=(0,i.useState)(!1),z=(0,B.Z)(),V=(0,U.K)(),W=(0,Z.TH)(),{comment_is_hidden:Y="0"}=(0,F.mB)(W.search),K=1===parseInt(Y,10),{showOneToast:q}=(0,A.F9)();(0,M.Z)((()=>{if(V&&K&&w){const e=P._("Sorry, the comment has been hidden","AggregatedCommentList.featuredComment.isHidden","Error message for featured comment is unavailable");q((({onHide:t})=>(0,N.jsx)(p.Z,{onHide:t,text:e})))}}));const $=(0,o.useDispatch)(),{fetchMore:X,isAtEnd:J,isLoaded:Q}=(0,g.Z)({name:d,options:{objectId:h,page_size:c||2,redux_normalize_feed:!0,featured_ids:w&&V&&!K?[V]:null}}),ee=(0,o.useSelector)((({pins:e})=>v?e[v]:"")),te=ee&&ee.pinner?ee.pinner.id:"",ne=!!ee&&ee.story_pin_data_id;(0,i.useEffect)((()=>{Q&&_&&_()}),[Q,_]);const ie=()=>{R(!j)},oe=!!l&&Q&&t>l.length&&!J,re=l?t-l.length:0,ae=(0,I.nk)(P.ngettext("{{commentCount}} comment","{{commentCount}} comments",re,"Show comments link with count","Show comments link with count"),{commentCount:String(re)}).join(""),se=f===D.o.aggregatedComment,le=f===D.o.pin&&(l&&0===l.length||0===t)&&Q&&!G,de="default"===C,ce=0===a,ue=ce&&ee&&ee.highlighted_aggregated_comments?ee.highlighted_aggregated_comments:[],he=ce&&z.isAuth&&z.id===te;let pe=he;return(0,N.jsxs)(O.xu,{"data-test-id":"aggregated-comment-list",marginTop:se&&!de?2:0,paddingY:se||de?0:2,children:[!!v&&ue.map(((t,i)=>(0,N.jsx)(O.xu,{marginBottom:2,children:(0,N.jsx)(k,{aggregatedCommentId:t,creatorId:n,depth:a+1,didItOwnerId:s,isManagedView:u,objectType:f,onUpdate:_,parentObjectId:f===D.o.pin?v:h,pinDomainOwnerId:b,pinId:v,slotIndex:e+i,variant:C,viewerId:z.isAuth?z.id:"",canSetHighlight:he,isORBACProfileManager:T})},t))),!!v&&(null==l?void 0:l.filter((e=>!ue.includes(e.id))).map((({id:t},i)=>{const o=pe;return pe=!1,(0,N.jsx)(O.xu,{marginBottom:2,children:(0,N.jsx)(k,{aggregatedCommentId:t,creatorId:n,depth:a+1,didItOwnerId:s,isManagedView:u,objectType:f,onUpdate:_,parentObjectId:f===D.o.pin?v:h,pinDomainOwnerId:b,pinId:v,slotIndex:e+ue.length+i,variant:C,viewerId:z.isAuth?z.id:"",showHighlightEducator:o,numHighlights:ue.length,canSetHighlight:he,isORBACProfileManager:T})},t)}))),(0,N.jsx)(O.$j,{accessibilityLabel:P._("Comments loading"),show:!Q||G}),oe&&(0,N.jsx)(O.xu,{marginTop:3,children:(0,N.jsx)(L.Z,{handleClick:X,text:ae})}),le&&(0,N.jsx)(O.xu,{paddingY:de?0:2,children:(0,N.jsx)(O.xv,{size:de?"sm":"md",children:P._("Share feedback, ask a question or give a high five")})}),!T&&f!==D.o.aggregatedComment&&!u&&(0,N.jsx)(O.xu,{display:"flex",marginTop:6,children:(0,N.jsx)(O.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,N.jsx)(r.Z,{hideAddObjects:!0,objectType:f,onAddItem:async({contentMarkdown:e,tags:t})=>{ie(),H(!0);try{await $((0,y.n)({objectType:f,objectId:h,pinId:v,tags:t,text:e})),f===D.o.pin&&(0,S.j)(7,{objectId:v,num_user_mention_tags:(t?JSON.parse(t):[]).length,...ne?{creator_id:n,story_pin_data_id:ne}:{}})}catch(i){}H(!1)},onCancelItem:ie,onEnter:ie,parentObjectId:x||"",privatePin:E,replyToObject:null,statusType:j?"textInflightCreation":"textStaticDisplay"})})})]})},V=e=>(0,o.useSelector)((({feeds:{[G.DV.AGGREGATED_COMMENTS]:t={}}})=>t[e])),W=e=>{var t;const n=V(e.objectId);return(0,N.jsx)(z,{...e,feedItems:null!==(i=n,o="id",t=i?i.filter(((e,t,n)=>n.map((e=>e[o])).indexOf(e[o])===t)):i)&&void 0!==t?t:[],feedResourceName:"AggregatedCommentFeedResource",shouldFeatureComment:!0});var i,o},Y=e=>{var t;return(0,N.jsx)(z,{...e,feedItems:null!==(t=V(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},K=e=>{var t;return(0,N.jsx)(z,{...e,feedItems:null!==(t=V(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})}},368595:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(135065),r=n(658726),a=n(174523),s=n(883119),l=n(926436),d=n(785893);function c({createdAt:e,user:t,isHighlighted:n}){const i=(0,a.ZP)(),o=(0,r.Z)(),c=(0,d.jsx)(s.xv,{color:"gray",size:"md",children:(0,l.A7)(e,i,o)}),u=(0,d.jsxs)(s.xv,{color:"gray",size:"md",children:["· ",i._("Highlighted","pin.comments.highlight","Identifier for highlighted comments")]});return(0,d.jsxs)(s.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,d.jsx)(s.xu,{paddingX:1,children:(0,d.jsx)(s.xv,{size:"md",weight:"bold",children:(0,d.jsx)(s.rU,{href:`/${t.username}/`,children:(0,l.YD)(t)})})}),(0,d.jsx)(s.xu,{paddingX:1,children:c}),n&&(0,d.jsx)(s.xu,{paddingX:1,children:u})]})}var u=n(853051),h=n(457179),p=n(689859),m=n(9694),g=n(549156),f=n(928940),_=n(810001),x=n(535718),y=n(181307),b=n(202761),v=n(343719);const E=(0,i.lazy)((()=>n.e(10582).then(n.bind(n,476865))));function w({allowLink:e=!1,avatarSize:t="sm",commentCount:n,contentImage:r,contentImageSignature:l,contentText:w,flyout:I,handleOnEditCancel:C,handleOnEdited:T,handleHelpfulClick:S,handleLikeClick:P,handleLikeCountClick:j,handleReplyClick:A,handleReplyCountClick:D,helpfulCount:R,hideAddObjects:O,hideReplyCount:N,inEditMode:k,isHighlighted:L,isLikedByMe:M,isMarkedHelpfulByMe:B,isPlainComment:F,parentObject:U,pins:Z,reactionCounts:G,responsePin:H,slotIndex:z,taggedUsers:V,tags:W,truncateText:Y,commentId:K,createdAt:q,commentAuthor:$,type:X,isORBACProfileManager:J}){const Q=(0,b.K)(),ee=(0,a.ZP)(),[te,ne]=(0,i.useState)(K===Q),{anyEnabled:ie}=(0,y.aq)("web_idea_pin_comment_reply_sticker_display",!!H),{isLoaded:oe}=(0,x.Z)({name:"PinResource",dangerouslyDisableFetch:!H,options:{id:null==H?void 0:H.id,field_set_key:"detailed"}});(0,i.useEffect)((()=>{K===Q&&f.Z.setTimeout((()=>{ne(!1)}),1500)}),[]);const re=oe&&ie;return(0,d.jsx)(g.Z,{id:"canonical-comment",children:(0,d.jsxs)(s.xu,{display:"flex",marginBottom:F?4:0,children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(o.Z,{user:$,size:t})}),(0,d.jsxs)(s.xu,{flex:"grow",marginStart:2,children:[(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderColor:k?"transparent":void 0,transition:"1000ms",backgroundColor:te?"lightGray":null}},borderStyle:"sm",padding:k?0:3,rounding:4,children:k?(0,d.jsx)(v.Z,{addedObjects:Z,addedImage:r,hideAddObjects:O,imageSignature:l,objectType:X,onAddItem:()=>{},onCancelItem:C,onEditItem:T,onEnter:()=>{},parentObjectId:U.id,statusType:"textInFlightEdit",tags:W,text:w,widthAuto:!0}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c,{createdAt:q,user:$,isHighlighted:L}),Y?(0,d.jsx)(_.Z,{allowLink:e,allowReveal:!0,size:"sm",taggedUsers:V,tags:W,text:w}):(0,d.jsx)(m.Z,{allowLink:e,size:"sm",tags:W,taggedUsers:V,text:w}),H&&re&&(0,d.jsx)(p.Z,{fallback:(0,d.jsx)(u.Z,{accessibilityLabel:ee._("Loading comment reply Pin preview","Loading pin previews for comment reply comments component","Loading pin previews for comment reply comments component")}),children:(0,d.jsx)(s.xu,{marginTop:1,maxWidth:"21%",children:(0,d.jsx)(E,{pinId:H.id,surface:"CommentReply",trackingParameters:{slotIndex:z}})})})]})}),!J&&!re&&!k&&!F&&(0,d.jsx)(s.xu,{padding:1,children:(0,d.jsx)(h.default,{commentCount:n,flyout:k?null:I,hideReplyCount:N,isLikedByMe:M,onLikeClick:P,onLikeCountClick:j,onReplyClick:A,onReplyCountClick:D,reactionCounts:G,isMarkedHelpfulByMe:B,onHelpfulClick:S,helpfulCount:R,small:!0})})]})]})})}},202761:(e,t,n)=>{n.d(t,{Q:()=>r,K:()=>a});var i=n(667294);const o=(0,i.createContext)(null),r=o.Provider;function a(){const e=(0,i.useContext)(o);return null==e?void 0:e.featuredCommentId}},949438:(e,t,n)=>{n.d(t,{iB:()=>i,LH:()=>o,Rv:()=>r,TJ:()=>a,pW:()=>s});const i=48,o=i+8,r=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),a="comment_featured_ids",s="did_it_featured_ids"},829522:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),o=n(40142),r=n(551687),a=n(311866),s=n(689859),l=n(549156),d=n(881220),c=n(174523),u=n(946753),h=n(549135),p=n(181307),m=n(475446),g=n(991313),f=n(317485),_=n(883119),x=n(785893);const y=(0,i.lazy)((()=>n.e(6649).then(n.bind(n,6649))));function b({handleComplete:e,isNag:t}){const n=(0,c.ZP)(),[b,v]=(0,i.useState)(!1),E=(0,o.useDispatch)(),{showOneToast:w}=(0,m.F9)(),{anyEnabled:I}=(0,p.aq)("web_cookie_reject_all");(0,i.useEffect)((()=>{(0,h.j)(13,{component:13716,view:474})}),[]);const C=()=>{(0,h.j)(101,{component:13716,element:11986}),v(!0)},T=()=>{(0,h.j)(101,{component:13716,element:11984}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}).callUpdate().then((()=>{E((0,f.YU)()),w((({onHide:e})=>(0,x.jsx)(d.Z,{duration:g.Q,onHide:e,text:n._("We saved your cookie preferences. You can change them in the settings section of your profile at any time.","homeFeed.cookiesConsentBanner.acceptedAllToastText","Success message after accepting all optional cookies")}))),e()}))};return(0,x.jsxs)(_.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:[(0,x.jsxs)(_.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[(0,x.jsx)(_.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:(0,x.jsxs)(_.xv,{children:[n._("We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.","homeFeed.cookiesConsentBanner.bannerText","Banner description about why we use cookies")," ",(0,u.nk)(n._("Read our {{ cookiePolicyLink }} for more information.","homeFeed.cookiesConsentBanner.readCookiePolicyText",'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,x.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,x.jsx)(_.rU,{href:g.l,inline:!0,target:"blank",children:n._("cookie policy","homeFeed.cookiesConsentBanner.cookiePolicyLink","Cookie policy link")},"cookie-policy-link")})})]})}),I?(0,x.jsxs)(_.xu,{alignItems:"center",display:"flex",direction:"row",flex:"none",justifyContent:"center",mdDirection:"row",smDirection:"column",marginTop:4,smMarginTop:0,children:[(0,x.jsx)(_.zx,{accessibilityLabel:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButtonLabel","Button that let user to opt-in on all optional cookies"),onClick:T,size:"lg",text:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButton","Button that let user to opt-in on all optional cookies")}),(0,x.jsx)(_.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,x.jsx)(_.zx,{accessibilityLabel:n._("Reject all","homeFeed.cookiesConsentBanner.rejectAllButtonLabel","Button that let user to opt-out on all optional cookies"),onClick:()=>{(0,h.j)(101,{component:13716,element:11985}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}).callUpdate().then((()=>{E((0,f.XM)()),w((({onHide:e})=>(0,x.jsx)(d.Z,{duration:g.Q,onHide:e,text:n._("We saved your cookie preferences. You can change them in the settings section of your profile at any time.","homeFeed.cookiesConsentBanner.acceptedAllToastText","Success message after accepting all optional cookies")}))),e()}))},size:"lg",text:n._("Reject all","homeFeed.cookiesConsentBanner.rejectAllButton","Button that let user to opt-out on all optional cookies")})}),(0,x.jsx)(_.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,x.jsx)(_.zx,{accessibilityLabel:n._("Let me choose","homeFeed.cookiesConsentBanner.editButtonLabel","Button that let user choose cookies preference"),onClick:C,size:"lg",text:n._("Let me choose","homeFeed.cookiesConsentBanner.editButton","Button that let user choose cookies preference")})})]}):(0,x.jsxs)(_.xu,{alignItems:"center",display:"flex",direction:"row",flex:"none",justifyContent:"center",mdDirection:"row",smDirection:"column",marginTop:4,smMarginTop:0,children:[(0,x.jsx)(_.zx,{accessibilityLabel:n._("Manage cookies","homeFeed.cookiesConsentBanner.editButtonLabel","Button that let user choose cookies preference"),onClick:C,size:"lg",text:n._("Manage cookies","homeFeed.cookiesConsentBanner.editButton","Button that let user choose cookies preference")}),(0,x.jsx)(_.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,x.jsx)(_.zx,{accessibilityLabel:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButtonLabel","Button that let user to opt-in on all optional cookies"),color:"red",onClick:T,size:"lg",text:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButton","Button that let user to opt-in on all optional cookies")})})]})]}),b&&(0,x.jsx)(r.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(l.Z,{id:"settings-modal",children:(0,x.jsx)(y,{closeModal:()=>v(!1),handleComplete:e})})})})]})}},991313:(e,t,n)=>{n.d(t,{l:()=>i,Q:()=>o});const i="https://policy.pinterest.com/cookies",o=3e3},206139:(e,t,n)=>{n.d(t,{Z:()=>U});var i=n(667294),o=n(925265),r=n(535718),a=n(883119),s=n(471716),l=n(40142),d=n(181712),c=n(626299),u=n(584831),h=n(311866),p=n(881220),m=n(528818),g=n(549135),f=n(174523),_=n(20420),x=n(475446),y=n(708206),b=n(785893);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=1e3,w=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class I extends i.PureComponent{constructor(e){super(e),v(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),v(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,E)}),e.length>E?this.forceUpdate():this.handleHashtagTypeahead(e)})),v(this,"handleHashtagTypeahead",(e=>{const t=w.exec(e),n=t?t[0]:"";!this.state.inTypeahead&&n?this.setState({inTypeahead:!0,typeaheadValue:n}):this.state.inTypeahead&&(n?this.setState({typeaheadValue:n}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),v(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(w,e),typeaheadValue:""})))})),v(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};h.ZP.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((e=>this.createUpdateDidIt()))})),v(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),v(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),v(this,"handleDoneClick",(()=>{const{pinId:e}=this.props;(0,g.j)(101,{view:101,component:192,element:1112,objectId:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),v(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),v(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),v(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:n,isDoneByMe:i,loggedInUser:{username:o},onDoneStateChanged:r,pinId:a}=this.props;this.setState({showDeleteModal:!1}),e&&((0,g.j)(101,{view:101,component:192,element:1264,objectId:a}),n({aggregatedPinDataId:t,pinId:a,username:o,id:e,isOwnedByMe:!0}),r&&r(i))})),v(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:n,isDoneByMe:i,loggedInUser:{username:o},onDoneStateChanged:r,pinId:a,toastManagerContext:s,updateUserDidItData:l}=this.props,{id:d,notes:c}=this.state;if(!c)return;i?d&&l({id:d,pinId:a,details:c,image_signatures:e?[e]:[]}):n({aggregatedPinDataId:t,username:o,details:c,image_signatures:e?[e]:[],pin_id:a}),r&&r(!i);-1===window.location.href.indexOf(o+"/tried")&&s.showToast((({onHide:e})=>(0,b.jsx)(p.Z,{duration:3e3,href:`/${o}/tried/`,onHide:e,text:this.props.i18n._("Nice work! Pins you've tried live on your profile","Congratulations after trying a pin","Congratulations after trying a pin")})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:n,submitted:i}=this.state,{isDoneByMe:o,pinActivity:r}=this.props,s=e?"didItPhotoBox transitionUp":"didItPhotoBox",l=e?"didItTextBox transitionIn":"didItTextBox",h=!!e&&(r||{}).oldImageUrl!==e,p=!!e,m=r&&r.notes!==t,g=!!t&&""!==t.trim(),f=!p||!g||!m&&!h;return(0,b.jsxs)(a.xu,{children:[(0,b.jsx)(a.xu,{marginTop:4,paddingX:12,children:(0,b.jsx)(a.xu,{column:12,children:(0,b.jsx)("div",{className:s,children:(0,b.jsx)(a.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,b.jsx)(c.Z,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366,uploadSource:"pinner"})})})})}),(0,b.jsx)("div",{className:l,children:(0,b.jsxs)(a.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,b.jsx)(a.xu,{ref:this.setTextAreaRef,children:(0,b.jsx)(a.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._("Add a note or tip","Tip input for tried it","Tip input for tried it"),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,b.jsx)(u.Z,{editing:!0,addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,b.jsx)(a.xu,{paddingY:1,children:(0,b.jsxs)(a.xv,{size:"md",align:"end",children:[" ",t.length,"/",E," "]})})]})}),(0,b.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[n&&(0,b.jsx)(d.Z,{didItData:r,onDeleteConfirmation:this.handleDeleteConfirmation}),i?(0,b.jsx)(a.xu,{marginEnd:2,children:(0,b.jsx)(a.$j,{accessibilityLabel:this.props.i18n._("submit","accessible label for loading spinner on submit button","accessible label for loading spinner on submit button"),show:!0})}):null,(0,b.jsxs)(a.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[o?(0,b.jsx)(a.xu,{marginEnd:1,children:(0,b.jsx)(a.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._("Delete","delete button in modal for tried-it info","delete button in modal for tried-it info"),size:"md"})}):(0,b.jsx)(a.xu,{marginEnd:1,children:(0,b.jsx)(a.zx,{onClick:this.handleCancel,text:this.props.i18n._("Cancel","cancel button in modal for tried-it info","cancel button in modal for tried-it info"),size:"md"})}),(0,b.jsx)(a.xu,{children:(0,b.jsx)(a.zx,{color:"red",disabled:f,onClick:this.handleDoneClick,text:this.props.i18n._("Done","done button in modal for tried-it info","done button in modal for tried-it info"),size:"md"})})]})]})]})}}const C=(0,y.compose)((0,l.connect)(null,((e,t)=>({createUserDidItData:(0,y.bindActionCreators)(_.DD,e),deleteUserDidItData:(0,y.bindActionCreators)(_.lg,e),updateUserDidItData:(0,y.bindActionCreators)(_.IU,e)}))),m.Z,x.Cl)((function(e){const t=(0,f.ZP)();return(0,b.jsx)(I,{...e,i18n:t})}));function T(e){if(!e)return null;const{details:t,images:n,image_signatures:i,id:o}=e;return{id:o,imageSignatures:i,notes:t,oldImageUrl:n[0]["200x"].url}}class S extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{onDoneStateChanged:t,pinActivityResource:n}=this.props;t&&t(e),e&&n&&n.refresh&&n.refresh()},(n="onDoneStateChanged")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:n,userDidItDataId:i,...o}=this.props;return!t||t&&t.isLoaded?(0,b.jsx)(a.xu,{rounding:2,children:(0,b.jsx)(C,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:T(t&&t.data),...o})}):(0,b.jsx)(s.$,{})}}function P(e){const t=(0,r.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,b.jsx)(S,{...e,pinActivityResource:t})}function j(e){const t=(0,r.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,b.jsx)(S,{...e,pinActivityResource:t})}function A(e){return e.isDoneByMe&&e.userDidItDataId?(0,b.jsx)(j,{...e}):e.isDoneByMe?(0,b.jsx)(P,{...e}):(0,b.jsx)(S,{...e})}var D=n(639387),R=n(697947);const O=(0,n(279224).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var N=n(451190);class k extends i.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:i,onHide:r,pinId:l,pinResource:d,pinTitle:c,userDidItDataId:u}=this.props;if(!d.isLoaded)return(0,b.jsx)(s.$,{});const{title:h}=O((0,R.Z)((0,D.Z)({pin:d.data})))||{},p=c||h?(0,o.Z)(this.props.i18n._("Add a photo of {{pinTitle}}","Adding photo of a pin","Adding photo of a pin"),{pinTitle:c||h}):this.props.i18n._("Add a photo","Adding a photo","Adding a photo");return(0,b.jsx)(N.Z,{accessibilityModalLabel:p,heading:p,onDismiss:r,size:500,children:(0,b.jsx)(a.xu,{color:"white",rounding:2,display:"flex",justifyContent:"center",children:(0,b.jsx)(A,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:i,pinId:l,pinTitle:c||h,userDidItDataId:u})})})}}function L(e){const t=(0,f.ZP)(),n=(0,r.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,b.jsx)(k,{...e,pinResource:n,i18n:t})}var M=n(998864);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends i.PureComponent{constructor(...e){super(...e),B(this,"state",{showModal:!1}),B(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),(0,g.j)(101,{view:101,component:this.props.thriftComponentType,element:1141,objectId:this.props.pinId,is_create:!this.props.isDoneByMe})}))),B(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),(0,g.j)(101,{view:101,component:192,element:75,objectId:this.props.pinId})})),B(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),B(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:n,onToggleModal:i}=this.props;this.setState({showModal:e},(()=>{e||n&&n("boolean"==typeof t&&t),i&&i(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:n={id:"",username:""},pinId:o="",pinTitle:r,userDidItDataId:a}=this.props;return(0,b.jsxs)(i.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,b.jsx)(L,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:o,pinTitle:null!=r?r:"",userDidItDataId:a}):null]})}}function U(e){const t=(0,M.Z)();return(0,b.jsx)(F,{...e,requireAuth:t})}},418448:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(641483),o=n(549135);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:r,isUnauth:a,pinId:s,viewParameter:l,viewType:d}){return"undefined"==typeof window?Promise.resolve():((0,i.ZP)(`web.${a?"unauth":"auth"}.download.click.${r||"no_category"}`),(0,o.j)(82,{objectId:s,view:d||3,viewParameter:l||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},366787:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(51610),r=n(159617),a=n(279890),s=n(883119),l=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{animation:null,visible:!1}),d(this,"setRef",(e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))})),d(this,"handleDragOver",(()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,n=(0,a.Z)({window,duration:1/0,run:(e,n,i)=>{const o=n<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+o*t*i)}});n.start(),this.setState({animation:n})}})),d(this,"handleDragLeave",(()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))})),d(this,"element",null),d(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout((()=>this.setState({visible:!0})),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:n}=this.state;return(0,l.jsx)(s.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:r.hu;return(0,l.jsx)(o.Z,{children:(0,l.jsx)(s.mh,{children:(0,l.jsxs)(s.xu,{children:[(0,l.jsx)(c,{placement:"top",height:120+t}),(0,l.jsx)(c,{placement:"bottom",height:120})]})})})}},297633:(e,t,n)=>{n.d(t,{y:()=>s,Z:()=>c});var i=n(667294),o=n(60598),r=n(708206),a=n(785893);const s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const l={hover:({index:e,onDragHover:t},n,i)=>{t(e,function(e,t){const n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;const{x:i,y:o}=e.getClientOffset(),{left:r,right:a,top:s,bottom:l,width:d,height:c}=n.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(r+a)/2,y:o-(s+l)/2},boundingBox:{width:d,height:c}}}(n,i))}};class d extends i.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:n,isDragging:i,isDraggingInternal:o}=this.props;return t(n((0,a.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||o?0:1},children:e})))}}const c=(0,r.compose)((0,o.GR)((e=>e.type),l,(e=>({connectDropTarget:e.dropTarget()}))),(0,o.Ej)((e=>e.type),{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},((e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}))))(d)},626299:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),o=n(395141),r=n(311866),a=n(549135),s=n(60598),l=n(913669),d=n(174523),c=n(883119),u=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"attemptToAttachVideoTag",(()=>{if(this._videoContainerRef&&this._videoContainerRef.childNodes[0])return;const{videoUrls:e,width:t,height:n}=this.props;if(!e||!e.length)return;const i=document.createElement("video"),o=Object.keys(e);for(let r=0;r<o.length;r+=1){const t=document.createElement("source");t.type="hls"===o[r]?"m3u8":"video/mp4",e[o[r]]&&(t.src=e[o[r]]),i.appendChild(t)}i.addEventListener("loadedmetadata",(()=>{setTimeout((()=>this.captureFrame(i)),500)}),!1),i.height=n,i.setAttribute("crossOrigin","anonymous"),i.width=t,i.loop=!0,i.load(),this._videoContainerRef&&this._videoContainerRef.appendChild(i)})),h(this,"_videoContainerRef",null),h(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),h(this,"captureFrame",(e=>{const{onVideoLoaded:t,uploadId:n,videoId:i}=this.props,o=document.createElement("canvas");o.getContext("2d").drawImage(e,0,0,e.videoWidth,e.videoHeight);const r=o.toDataURL();n&&i&&t({video:{videoId:i,uploadId:n,thumbnail:r}})})),h(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:n}=this.props;return!("pin"!==e||!t&&!n)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,u.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(c.JO,{color:"darkGray",icon:"camera",accessibilityLabel:this.props.i18n._("Add a Photo","Add a photo as part of a form","Add a photo as part of a form"),size:32})})}),(0,u.jsx)(c.xu,{marginTop:2,paddingX:12,children:(0,u.jsx)(c.xv,{align:"center",color:"darkGray",weight:"bold",children:this.props.i18n._("Drag and drop or click to upload","Label on drag/drop area for uploading a pin","Label on drag/drop area for uploading a pin")})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:n}=this.props,i=this.props.i18n._("Your Upload","Image a pinner just uploaded to a form","Image a pinner just uploaded to a form");return this.isPin?(0,u.jsx)("img",{alt:i,src:t}):(0,u.jsx)(c.xu,{height:e,width:n,children:(0,u.jsx)(c.Ee,{alt:i,src:t,color:"white",naturalHeight:e,naturalWidth:n})})}renderResetButton(){return(0,u.jsx)(c.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,u.jsx)(c.hU,{accessibilityLabel:this.props.i18n._("Remove Photo","Remove photo from a form","Remove photo from a form"),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:n,isVideo:o,isVideoComplete:r,isOver:a,thumbnail:s,videoUrls:l,allowReset:d=!0,width:h}=this.props,p=l?(0,u.jsx)("video",{height:this.isPin?"auto":e,width:h,autoPlay:!0,controls:!0,loop:!0,poster:s||"",children:Object.keys(l).map((e=>(0,u.jsx)("source",{src:l[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,m=a?"lightGray":"white";return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(c.zd,{rounding:2,height:"100%",children:(0,u.jsxs)(c.xu,{color:m,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!o&&this.renderDropZone(),o&&!l&&(0,u.jsxs)(c.xu,{children:[r&&(0,u.jsx)(c.xv,{align:"center",weight:"bold",children:this.props.i18n._("Processing Video","Loading message shown while user video is uploading","Loading message shown while user video is uploading")}),(0,u.jsx)(c.xu,{paddingY:4,children:(0,u.jsx)(c.$j,{show:!0,accessibilityLabel:this.props.i18n._("Video uploading","Loading spinner while video uploads","Loading spinner while video uploads")})})]}),p,t&&this.renderImage()]})}),(t||l)&&d&&n&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:n,onClick:i,videoUrls:o,width:r,hoverHandlers:{onMouseOver:a,onMouseLeave:s}}=this.props,l=this.isPin?"auto":t,d={width:r,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:n?"default":"pointer",height:l,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},h=(0,u.jsxs)(c.xu,{position:"relative",children:[this.renderProgressBar(),n||o?(0,u.jsx)("div",{onMouseEnter:a,onMouseLeave:s,style:{...d},children:this.renderContent()}):(0,u.jsx)("button",{style:d,onClick:i,onMouseEnter:a,onMouseLeave:s,children:this.renderContent()})]});return e((0,u.jsx)("div",{children:h}))}}const m=(0,s.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,d.ZP)(),{isHovering:n,hoverHandlers:i}=(0,l.Z)();return(0,u.jsx)(p,{...e,i18n:t,isHovering:n,hoverHandlers:i})}));function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=["video/quicktime","video/mp4"];class _ extends i.Component{constructor(...e){var t;super(...e),t=this,g(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),g(this,"mounted",!1),g(this,"containerRef",null),g(this,"fileInputRef",null),g(this,"xhr",null),g(this,"CHECK_VIDEO_TIMEOUT",null),g(this,"ERROR_MESSAGE",this.props.i18n._("Unable to upload video. Please try again later.","Error shown when we can't accept video uploads","Error shown when we can't accept video uploads")),g(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),g(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._("The video is too large. The maximum size is 2 GB.","Error if a user tries to upload a video that is too large","Error if a user tries to upload a video that is too large")):(this.props.allowVideo&&f.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),g(this,"showError",(e=>{const t=(0,u.jsx)(c.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,u.jsx)(c.xu,{padding:3,children:(0,u.jsx)(c.xv,{color:"white",weight:"bold",children:(0,u.jsx)("span",{children:e})})})});this.removePreview(t)})),g(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||((0,a.j)(101,{component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),g(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),g(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),g(this,"checkForMedia",(async function(e){const n=await r.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response&&n.resource_response.data&&n.resource_response.data[e]){const i=n.resource_response.data[e],{status:o,signature:r}=i;"processing"===o||"registered"===o?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===o?t.handleMediaUploadSuccess(r,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),g(this,"loadMedia",(e=>{const{isVideo:t}=this.state,n=t?"video":"triedit-image";r.ZP.create("VIPResource",{type:n}).callCreate().then((t=>{var n,i;const{upload_id:o,upload_url:r,upload_parameters:a}=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};this.uploadMedia(e,o,r,a)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),g(this,"uploadMedia",((e,t,n,i)=>{const{isVideo:o}=this.state,r=new XMLHttpRequest;r.open("POST",n,!0),r.onload=()=>{var e;(e=r.status)>=200&&e<400?this.setState({errorFlyout:null,isVideoComplete:o}):this.showError(this.props.i18n._("Something went wrong. Please try again later.","Error if video fails to upload","Error if video fails to upload")),this.checkForMedia(t)},r.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const a=new FormData;for(const s in i)a.append(s,i[s]);a.append("file",e),r.send(a),this.xhr=r}))}componentDidMount(){this.mounted=!0,this.fileReader=new FileReader}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:n}=this.state,{width:i,height:o}=this.props;if(n){const n=await r.ZP.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(n,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:i,height:o}})}}handleVideoUploadSuccess(e,t,n){if(!this.mounted)return;const i=e.resource_response.data,o=`https://i.pinimg.com/${i[t].metadata.thumbnail}`,r=i[t].urls;this.setState({videoUrls:r,thumbnail:o,progress:100});const a=new XMLHttpRequest;a.onload=()=>{const e=new FileReader;e.readAsDataURL(a.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:n,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},a.open("GET",o),a.responseType="blob",a.send()}render(){const{FILE:e}=o.hm,{errorFlyout:t,imagePreviewSrc:n,isVideo:i,isVideoComplete:r,progress:a,thumbnail:s,videoUrls:l}=this.state,{allowReset:d,allowVideo:h,display:p,height:g,width:f}=this.props,_=h?"image/*,video/mp4,video/quicktime":"image/*";return(0,u.jsxs)(c.xu,{ref:e=>{this.containerRef=e},children:[(0,u.jsx)(c.xu,{display:"visuallyHidden",children:(0,u.jsx)("input",{accept:_,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,u.jsx)(m,{allowReset:d,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:n,accepts:[e],onDrop:this.handleFileDrop,height:g,width:f,progress:a,isVideo:i,isVideoComplete:r,videoUrls:l,thumbnail:s,display:p}),t]})}}g(_,"defaultProps",{onImageUploadStart:()=>{}});const x=function(e){const t=(0,d.ZP)();return(0,u.jsx)(_,{...e,i18n:t})}},470848:(e,t,n)=>{n.d(t,{Lz:()=>i,TI:()=>o,X3:()=>r});function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:n}){const i=n?.5*t:0;return Math.abs(e)<i/2?"center":e<0?"left":"right"}function r({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:n}){if("center"===t||e===n)return e;const i="left"===t;return e<n===i?e:i?e-1:e+1}},308125:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(747033),o=n(263116),r=n(785893);const a=(0,o.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(35978).then(n.bind(n,543146)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 543146}});function s(e){return(0,r.jsx)(a,{...e,fallback:(0,r.jsx)(i.Z,{})})}},747033:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(883119),r=n(785893);function a(){const e=(0,i.ZP)();return(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(o.$j,{accessibilityLabel:e._("Loading editor","EditorWithMentionsFallback.loading","Message shown while waiting for the editor to load"),show:!0})})}},914491:(e,t,n)=>{n.d(t,{SF:()=>i,b7:()=>o,XU:()=>r});const i=5,o=5,r=1},131451:(e,t,n)=>{n.d(t,{CB:()=>p,y9:()=>h});var i=n(667294),o=n(451190),r=n(311866),a=n(174523),s=n(883119),l=n(785893);const d=({onConfirm:e})=>{const t=(0,a.ZP)(),[n,d]=(0,i.useState)(!1),c=()=>{d(!0),r.ZP.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,l.jsx)(o.Z,{accessibilityModalLabel:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),onDismiss:e,heading:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),footer:(0,l.jsxs)(s.kC,{justifyContent:"end",gap:2,children:[n?(0,l.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._("Email sent","Button text for verification email being sent","Button text for verification email being sent"),disabled:n,onClick:c}):(0,l.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._("Resend email","Button text for resending email verification email","Button text for resending email verification email"),disabled:n,onClick:c}),(0,l.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"red",text:t._("Got it","Button text for acknowledging email verificaiton is required","Button text for acknowledging email verificaiton is required"),onClick:e})]}),role:"alertdialog",children:(0,l.jsx)(s.xu,{padding:8,children:(0,l.jsx)(s.xv,{align:"center",size:"lg",children:t._("Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.","Inform users that they need to verify their email to keep their account secure and continue using Pinterest","Inform users that they need to verify their email to keep their account secure and continue using Pinterest")})})})};var c=n(762803);const{Provider:u,useHook:h}=(0,c.ZP)("EmailVerificationReminderModal");function p({children:e}){const[t,n]=(0,i.useState)(!1);return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u,{value:{showEmailVerificationReminderModal:()=>{n(!0)}},children:e}),t&&(0,l.jsx)(d,{onConfirm:()=>{n(!1)}})]})}},628402:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(40142),r=n(893945),a=n(174523),s=n(311866);var l=n(883119),d=n(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:n,onFavorite:c,onUnfavorite:u,pinId:h,size:p}){const m=(0,a.ZP)(),g=(0,o.useDispatch)(),[f,_]=(0,i.useState)(!1),[x,y]=(0,i.useState)(e),[b,v]=(0,i.useState)(null!=t?t:0),E=async()=>{var e;y(!x),_(!0),x?(v(b-1),await g((e=h,async t=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),_(!1)):(v(b+1),await g(function(e){return async t=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(h)),c(),_(!1))},w=b<10?b:m._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==t&&b>0&&(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:w}),(0,d.jsx)(r.Z,{isCloseupButton:n,isDisabled:f,isFavorited:x,onTap:()=>{E()},size:p})]})}},893945:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>l});var i=n(174523),o=n(883119),r=n(785893);const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:n,onTap:l,size:d}){const c=(0,i.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:n?s:a,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:t,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:n?s:a,size:d})})}},801500:(e,t,n)=>{function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}n.d(t,{J:()=>i,E:()=>o})},854458:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(40142),r=n(883119),a=n(785893);function s({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,i,o;return(0,a.jsx)(r.xu,{height:48,width:28,color:"white",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,a.jsx)(r.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.kC,{justifyContent:"start",width:t[e.length],children:n})})}var l=n(881220),d=n(535718);function c({href:e,id:t,imageUrl:n,onHide:i,text:o}){const r=(0,d.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"follow_grid_item",user_id:t}});if(!r.data)return null;if(0===r.data.length)return(0,a.jsx)(l.Z,{duration:5e3,onHide:i,text:o,href:e,imageUrl:n,thumbnailShape:"circle"});const c=r.data.slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})),u=(0,a.jsx)(s,{ideaPinImages:c});return(0,a.jsx)(l.Z,{duration:5e3,href:e,iconThumbnail:u,onHide:i,text:o,thumbnailShape:"square"})}var u=n(756169),h=n(174523),p=n(946753);const m=({followText:e,followerCount:t,userFollowed:n})=>{const i=(0,h.ZP)();return(0,p.nk)(i._("{{ followCount }} {{ followText }}"),{followCount:(0,a.jsx)(r.xu,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:(0,a.jsx)(r.xv,{color:n?"gray":"white",children:(0,a.jsx)(u.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,a.jsx)(r.xu,{"data-test-id":"followText",paddingX:1,children:(0,a.jsx)(r.xv,{color:n?"darkGray":"white",weight:"bold",children:e})},"followText")})};var g=n(233088),f=n(500953),_=n(419015),x=n(116955),y=n(550242),b=n(549135),v=n(131451),E=n(998864),w=n(181307),I=n(475446),C=n(708206),T=n(289605);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.PureComponent{constructor(...e){super(...e),S(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;(0,b.j)(101,{component:13672,element:11951,objectId:this.props.id,view:this.props.viewType,viewParameter:this.props.viewParameter,...t||{}}),this.toggleFollowUnfollow()}),(0,_.N4)({i18n:this.props.i18n,toFollow:!this.props.userFollowed}))),S(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),S(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPin:t,loggingData:n,userFollowed:i,viewType:o,viewParameter:r}=this.props;i?((0,b.j)(46,{objectId:e,pin_id:t,view:o,viewParameter:r,...n||{}}),this.unfollow()):((0,b.j)(45,{objectId:e,pin_id:t,view:o,viewParameter:r,...n||{}}),this.follow())})),S(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPin:i,clearMostRecentPin:o}=this.props;e(t,i,this.showConfirmation,this.showError),n&&n(!0),o()})),S(this,"showToast",((e,t)=>{const{id:n,imageUrl:i,profileUrl:o,toastManagerContext:r,suppressToasts:s}=this.props;s||r.showOneToast((({onHide:r})=>e?(0,a.jsx)(c,{href:o,id:n,imageUrl:i,onHide:r,text:t}):(0,a.jsx)(l.Z,{onHide:r,text:t,href:o,imageUrl:i,thumbnailShape:"circle"})))})),S(this,"showConfirmation",(()=>{const{activatePostFollowToastExp:e,fullName:t}=this.props,{anyEnabled:n,group:o}=e(),s="enabled"===o?(0,a.jsx)(i.Fragment,{children:(0,a.jsx)(r.xv,{children:(0,p.nk)(this.props.i18n._("{{ creator }}'s created Pins will show up in your home feed!","userFollowButton.informationalToastText","Text explaining that a creator's Pins will show up in home feed after follow"),{creator:(0,a.jsx)(r.xv,{inline:!0,weight:"bold",children:t})})})}):(0,a.jsx)(i.Fragment,{children:(0,a.jsx)(r.xv,{children:this.props.i18n._("Following! Their created Pins will show up in your home feed!","userFollowButton.informationalToastText2","Text explaining that a creator's Pins will show up in home feed after follow")})}),l=n?s:(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(r.xv,{children:this.props.i18n._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,a.jsx)(r.xv,{weight:"bold",children:t})]});this.showToast(n,l)})),S(this,"showError",(e=>{const{fullName:t,userFollowed:n,showEmailVerificationReminderModal:o}=this.props,s=n?this.props.i18n._("Error unfollowing {{ usernameComponent }}.","UserFollowButton.error.unfollowing","When there is an API error when unfollowing a user"):this.props.i18n._("Error following {{ usernameComponent }}.","UserFollowButton.error.following","When there is an API error when following a user");if(e&&e.api_error_code===x.H9)return void o();const l=(0,a.jsx)(i.Fragment,{children:(0,a.jsx)(r.xv,{children:(0,p.nk)(s,{usernameComponent:(0,a.jsx)(r.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(!1,l)})),S(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPin:i,clearMostRecentPin:o}=this.props;n(e,i,(()=>{}),this.showError),t&&t(!1),o()}))}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:i,invertButtonColor:o,isSecondaryButton:s,size:l,showFollowerCount:d,userFollowed:c}=this.props,u=c?this.props.i18n._("Following","User follow button","User follow button"):this.props.i18n._("Follow","User follow button","User follow button");if(e)return e({followText:u,onClick:this.handleButtonClick,userFollowed:c});if(i)return(0,a.jsx)(r.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._("This is you","Button label to note that this is your Profile","Button label to note that this is your Profile")});if(d){const e="number"==typeof t?(0,a.jsx)(m,{followerCount:t,userFollowed:c,followText:u}):u;return(0,a.jsx)(r.iP,{onTap:this.handleClick,children:(0,a.jsx)(r.xu,{color:c?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,a.jsx)(r.xu,{display:"inlineBlock","data-test-id":`user-${c?"unfollow":"follow"}-button`,children:(0,a.jsx)(r.zx,{accessibilityLabel:c?this.props.i18n._("Unfollow","userUnfollowButton.button.accessibilityLabel","Accessibility label for the unfollow button"):this.props.i18n._("Follow","userFollowButton.button.accessibilityLabel","Accessibility label for the follow button"),color:s||c?"gray":"red",selected:o?!c:!!c,fullWidth:n,onClick:this.handleButtonClick,size:null!=l?l:void 0,text:u})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,a.jsxs)(r.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,a.jsx)(r.iP,{onTap:this.handleClick,children:(0,a.jsx)(r.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,a.jsx)(r.o3,{paused:t||!1})})})]})}}const j=(0,C.compose)((0,o.connect)((function({mostRecentPin:e,users:t},{id:n,userFollowed:i}){const o=(t||{})[n];return{followerCount:o?o.follower_count:null,mostRecentPin:e?e.id:null,userFollowed:o?o.explicitly_followed_by_me:i}}),(function(e){return{clearMostRecentPin:()=>e((0,y.K)(null)),follow:(t,n,i,o)=>{e((0,T.yA)(t,n)).then(i).catch((e=>{o(e)}))},unfollow:(t,n,i,o)=>{e((0,T.KF)(t,n)).then(i,o)}}})),I.Cl)((function(e){const t=(0,h.ZP)(),n=(0,w.tc)("web_post_follow_toast"),i=(0,E.Z)(),r=(0,o.useDispatch)(),{showEmailVerificationReminderModal:s}=(0,v.y9)();return(0,f.Z)((()=>{const{id:t}=e,n=g.ZP.localStorage.getItem("unauthDesktopFollowId")||"";n&&n===t&&(g.ZP.localStorage.removeItem("unauthDesktopFollowId"),r((0,T.ZN)(n)))})),(0,a.jsx)(P,{...e,activatePostFollowToastExp:n,requireAuth:i,i18n:t,showEmailVerificationReminderModal:s})}))},358873:(e,t,n)=>{n.d(t,{HW:()=>a,i3:()=>h,YW:()=>u,o2:()=>c});var i=n(667294),o=n(762803),r=n(785893);const a=660,s={educationId:null,paddingRight:0,zIndex:a};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":const{zIndex:o}=t.payload;return{...e,zIndex:o};default:return e}}const{Provider:d,Consumer:c,useHook:u}=(0,o.ZP)("footerContext");function h({children:e}){const[t,n]=(0,i.useReducer)(l,s);return(0,r.jsx)(d,{value:{...t,setEducationId:e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),setPaddingRight:e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),setZIndex:e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},children:e})}},557162:(e,t,n)=>{n.d(t,{c:()=>o,t:()=>r});var i=n(740060);function o({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},740060:(e,t,n)=>{n.d(t,{Z:()=>p,J:()=>d});var i=n(667294),o=n(39527),r=n(762803),a=n(159617),s=n(785893);const{Provider:l,useHook:d}=(0,r.ZP)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:a.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function h(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function p({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:m},g]=(0,i.useReducer)(h,u);(0,i.useEffect)((()=>{const e=document.getElementById(a.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const f=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:m,updateHeaderState:g})),[g,n,r,d,p,m]);return(0,s.jsx)(l,{value:f,children:(0,s.jsx)(o.t,{children:e})})}},176082:(e,t,n)=>{n.d(t,{ZP:()=>d});var i=n(326149),o=n(883119),r=n(785893);const a="rgb(255,255,255)",s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},l=({accessibilityLabel:e,active:t,children:n,color:i="darkGray",focused:l,hovered:d,icon:c,isSVG:u,iconOnly:h,shouldPad:p})=>{const m="darkGray"===i?{hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:s,iconOnly:{backgroundColor:a}}:{hovered:{backgroundColor:"rgba(255,255,255,0.4)"},active:{backgroundColor:a},focused:s,iconOnly:{backgroundColor:"rgba(255,255,255,0.0)"}},g=h?{...m.iconOnly}:{...d?m.hovered:Object.freeze({}),...t?m.active:Object.freeze({}),...l?m.focused:Object.freeze({})},f="white"===i&&t?"darkGray":i;return(0,r.jsx)(o.xu,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:n?"pill":"circle",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:h?30:48,minWidth:h?30:48}},paddingX:p?3:0,children:[u?(0,r.jsx)(o.JO,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:c},color:f,inline:!0,size:h?16:20}):(0,r.jsx)(o.JO,{accessibilityLabel:e,icon:c,color:f,inline:!0,size:h?16:20}),n]})})},d=e=>{const{accessibilityLabel:t,children:n,color:o="darkGray",onClick:a,icon:s,isSVG:d,shadowType:c,shouldPad:u,iconOnly:h}=e;return(0,r.jsx)(i.Z,{accessibilityLabel:t,className:c||"",dataTestId:"lego-button",onClick:a,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:i,focused:a})=>(0,r.jsx)(l,{active:e,accessibilityLabel:t,color:o,hovered:i,focused:a,icon:s,isSVG:d,iconOnly:h,shouldPad:u,children:n})})}},515743:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(281810),r=n(87398),a=n(155656),s=n(840667),l=n(883119),d=n(535258),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"masonryRef",(0,i.createRef)()),u(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return(0,c.jsx)("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2},children:(0,c.jsx)(t,{...e})})}))}componentDidUpdate(e){const{widthOffset:t,useMasonry9:n}=this.props;t!==e.widthOffset&&(n||this.masonryRef.current&&this.masonryRef.current.handleResize())}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t;return{gutterWidth:n?d.oX:e,paddingBottom:n?16:6}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:u,masonryRef:h,measurementStore:p,scrollContainer:m,serverRender:g,useMasonry9:f,virtualize:_,inScrollOptimizationExperiment:x,isGridCentered:y,minCols:b}=this.props,{gutterWidth:v}=this.getGutters();let E,w=null;return w=f?(0,c.jsx)(s.Z,{columnWidth:e+v,gutterWidth:0,comp:this.renderItem,minCols:b,ref:e=>{this.masonryRef.current=e,h&&(h.current=e)},items:n,flexible:t,loadItems:u,measurementStore:p,scrollContainer:m,virtualize:_}):(0,c.jsx)(l.Rk,{columnWidth:e+v,gutterWidth:0,comp:this.renderItem,minCols:b,ref:e=>{this.masonryRef.current=e,h&&(h.current=e)},items:n,flexible:t,layout:i||"basic",loadItems:u,measurementStore:p,_deferScrollPositionUpdate:!!x,scrollContainer:m,virtualize:_}),y&&(E="gridCentered"),(0,c.jsxs)("div",{className:E,children:[g&&(0,c.jsx)(a.Z,{unsafeCSS:t?(0,r.Z)((e||d.xf)+v,n.length||d.g5,b||d.yc):(0,o.Z)((e||d.xf)+v,n.length||d.g5,b||d.yc)}),(0,c.jsx)("div",{children:w})]})}}u(h,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:d.yc,paddingStyle:"simplified",useMasonry9:!1})},785705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(551687),r=n(255038),a=n(840667),s=n(883119);const l={},d=(e,t)=>{if(null!=e)return l[e]&&l[e].screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth,cache:t?a.Z.createMeasurementStore():s.Rk.createMeasurementStore()}),l[e].cache};var c=n(181307),u=n(666584),h=n(515743),p=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="undefined"!=typeof window?()=>window:void 0;class f extends i.Component{constructor(...e){super(...e),m(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,p.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:(0,p.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;e||t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:a,layout:s,masonryRef:l,minCols:c,paddingStyle:u,scrollContainer:m,serverRender:f,useMasonry9:_,virtualize:x,widthOffset:y}=this.props;return(0,p.jsx)(h.Z,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:a,layout:s,loadItems:this.loadItems,masonryRef:l,measurementStore:d(e,_),minCols:c,paddingStyle:u,scrollContainer:m||g,serverRender:f,useMasonry9:_,virtualize:x,widthOffset:y})}}function _({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,isAtEnd:a,isFetching:s,isGridCentered:l=!0,isLoaded:d,items:h,pinData:m,layout:_,loadItems:x,masonryRef:y,minCols:b,paddingStyle:v,scrollContainer:E,serverRender:w=!0,useMasonry9:I,virtualize:C,widthOffset:T,includeBackgroundImages:S,includeVideos:P}){const j=(0,u.N5)(),A=(0,c.tc)("scroll_gestalt_defer_pos_update");let D=!1;return null!=j&&j.isAuthenticated&&(D=A().anyEnabled),(0,p.jsx)(r.Z,{isAtEndOfFeed:a,pinData:m,itemCount:h.length,includeBackgroundImages:S,includeVideos:P,children:(0,p.jsx)(f,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,inScrollOptimizationExperiment:D,isFetching:s,isGridCentered:l,items:h,layout:_,loadItems:x,masonryRef:y,minCols:b,paddingStyle:v,scrollContainer:E||g,serverRender:w,useMasonry9:I,virtualize:C,widthOffset:T})})}},840667:(e,t,n)=>{n.d(t,{Z:()=>G});var i=n(667294);class o{constructor(e=[],t=(()=>null)){var n,i,o;o=[],(i="items")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.items=e,this.getItemLayoutInfo=t}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g}const s="resizeanim";class l{constructor(e,t){r(this,"_window",a()),r(this,"_elementsMap",new WeakMap),r(this,"_handleScroll",(e=>{const t=e.target;if(t.className&&"function"==typeof t.className.indexOf&&t.className.indexOf("contract-trigger")<0&&t.className.indexOf("expand-trigger")<0)return;const n=e.currentTarget,i=this._elementsMap.get(n);if(!i)throw new Error("No subscription on element.");this._resetTriggers(n,i.resizeTriggers),i.animationFrameId&&window.cancelAnimationFrame(i.animationFrameId),i.animationFrameId=window.requestAnimationFrame((()=>{(!i.previousDimensions||n.offsetWidth!==i.previousDimensions.width||n.offsetHeight!==i.previousDimensions.height)&&(i.previousDimensions={width:n.offsetWidth,height:n.offsetHeight},i.resizeHandlers.forEach((t=>{t.call(n,e)})))}))})),this._window=e,this._nonce=t}_resetTriggers(e,t){const n=t.firstElementChild,i=t.lastElementChild,o=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}_createStyles(e){if(!e.getElementById("ResizeListener")){const t=`${"@$keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } "}.resize-triggers { ${"animation: 1ms resizeanim; "} visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="ResizeListener",i.type="text/css",null!=this._nonce&&i.setAttribute("nonce",this._nonce),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n.appendChild(i)}}addResizeListener(e,t){if(e)if(e===window)window.addEventListener("resize",t,!1);else{if(!this._elementsMap.has(e)){const t=e.ownerDocument,n=this._window.getComputedStyle(e);n&&"static"===n.position&&(e.style.position="relative"),this._createStyles(t);const i=t.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),this._resetTriggers(e,i),e.addEventListener("scroll",this._handleScroll,!0);const o=t=>{t.animationName===s&&this._resetTriggers(e,i)};i.addEventListener("animationstart",o),this._elementsMap.set(e,{resizeTriggers:i,animationHandler:o,resizeHandlers:[]})}const n=this._elementsMap.get(e);n&&n.resizeHandlers.push(t)}}removeResizeListener(e,t){if(e)if(e===window)window.removeEventListener("resize",t,!1);else{const n=this._elementsMap.get(e);if(!n)return;n.resizeHandlers.splice(n.resizeHandlers.indexOf(t),1),0===n.resizeHandlers.length&&(e.removeEventListener("scroll",this._handleScroll,!0),n.resizeTriggers.removeEventListener("animationstart",n.animationHandler),e.removeChild(n.resizeTriggers),this._elementsMap.delete(e))}}}r(l,"sharedInstance",new l(a()));var d=n(785893);function c({children:e,defaultSize:t,disableWidth:n=!1,disableHeight:o=!1,onResize:r}){const[a,s]=(0,i.useState)({width:0,height:0}),c=(0,i.useRef)(),u=(0,i.useRef)(),h=(0,i.useCallback)((()=>{if(u.current){const e=u.current.offsetHeight||0,t=u.current.offsetWidth||0,i=window.getComputedStyle(u.current)||{},l=parseInt(i.paddingLeft,10)||0,d=parseInt(i.paddingRight,10)||0,c=e-(parseInt(i.paddingTop,10)||0)-(parseInt(i.paddingBottom,10)||0),h=t-l-d;(!o&&a.height!==c||!n&&a.width!==h)&&(s({width:h,height:c}),r({width:h,height:c}))}}),[a,o,n,r,u.current]);(0,i.useEffect)((()=>{var e,t;null!==(e=c.current)&&void 0!==e&&null!==(t=e.parentNode)&&void 0!==t&&t.ownerDocument.defaultView&&c.current.parentNode instanceof c.current.parentNode.ownerDocument.defaultView.HTMLElement&&(u.current=c.current.parentNode,h())}),[]),(0,i.useEffect)((()=>(u.current&&l.sharedInstance.addResizeListener(u.current,h),()=>{u.current&&l.sharedInstance.removeResizeListener(u.current,h)})),[u.current,h]);const p={overflow:"visible",margin:"auto",display:"flex",justifyContent:"center"};return o||(p.height=0),n||(p.width=0),(0,d.jsx)("div",{className:"AutoSizer",ref:c,style:p,children:e})}var u=n(294184),h=n.n(u),p=n(618446),m=n.n(p);class g extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="itemSizeCache",i=new WeakMap,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.componentDidRender()}shouldComponentUpdate(e){const{customSize:t,layout:n}=e,{customSize:i,layout:o}=this.props;if(!m()(i,t))return!0;if(n.items.length!==o.items.length)return!0;if(n.items.some(((e,t)=>e!==o.items[t])))return!0;const r=n.items.map(n.getItemLayoutInfo),a=o.items.map(o.getItemLayoutInfo);return!(!r.some(((e,t)=>e!==a[t]))||!r.some(((e,t)=>!m()(e,a[t]))))}componentDidUpdate(){this.componentDidRender()}componentDidRender(){const{onRenderedItems:e}=this.props;e&&e(this.itemSizeCache),this.itemSizeCache=new WeakMap}getElementHeight(e){return e&&(e.clientHeight||e.scrollHeight)||0}measureItem(e,t){t&&this.itemSizeCache.set(e,{width:t.clientWidth||t.scrollWidth||0,height:this.getElementHeight(t)||this.getElementHeight(t.children&&t.children[0])})}render(){const{renderItem:e,layout:t,customSize:n,itemsToMeasureLimit:i}=this.props,o=[],r=[];t.items.forEach(((n,a)=>{const s=t.getItemLayoutInfo(n);if(!s)return;const l="number"==typeof s.customIndex?s.customIndex:a,c=`item-${l}`;if(!s.size&&o.length<(i||1/0)){const t=e({item:n,index:l,isMeasuring:!0,constraints:s.constraints});o.push((0,d.jsx)("div",{className:"Collection-Item Collection-Item-Measuring",style:{pointerEvents:"none",position:"absolute",visibility:"hidden",top:-9999,left:-9999,...s.constraints},ref:e=>this.measureItem(n,e),children:t},c))}if(s.position){const t=e({item:n,index:l,isMeasuring:!1,constraints:s.constraints});if(!s.position)return;r.push((0,d.jsx)("div",{className:"Collection-Item",style:{position:"absolute",top:0,left:0,transform:`translate(${s.position.left}px, ${s.position.top}px)`,...s.size},children:t},c))}}));const a=n||t.size;return(0,d.jsxs)("div",{style:{position:"relative",...a},className:"Collection",children:[o,r]})}}const f=function({layout:e,overscan:t=200,scrollContainerSize:n,scrollPosition:i,children:r}){const a=i.top-t,s=i.top+n.height+t,l=i.left-t,d=i.left+n.width+t,c=e.items.filter((t=>{const n=e.getItemLayoutInfo(t);if(!n)return!1;const{size:i,position:o}=n;return!i||!o||o.top+i.height>=a&&o.top<=s&&o.left+i.width>=l&&o.left<=d})),u=new o(c,e.getItemLayoutInfo);return u.size=e.size,u.contentFilledSize=e.contentFilledSize,u.isMeasuring=e.isMeasuring,r(u,e.size?e.size:void 0)};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),_(this,"state",{layout:this.props.initialLayout||new o,initialItemCount:0,previousItems:[],previousContentContainerSize:this.props.contentContainerSize}),_(this,"contentContainerRef",(0,i.createRef)()),_(this,"handleItemsRendered",(e=>{this.handleItemsRenderedAnimationFrame||(this.handleItemsRenderedAnimationFrame=requestAnimationFrame((()=>{this.handleItemsRenderedAnimationFrame=null;const{getItemLayoutOptions:t,layoutEngine:n,onLayoutUpdated:i,items:r,contentContainerSize:a}=this.props,{layout:s}=this.state,l=((e,t)=>{const n=new WeakMap;let i=!1;return e.items.forEach((o=>{const r=e.getItemLayoutInfo(o),a=t.get(o);r&&a&&!m()(r.size,a)&&(n.set(o,{...r,size:a}),i=!0)})),i?new o(e.items,(t=>n.get(t)||e.getItemLayoutInfo(t))):e})(s,e);if(s===l)i&&i(s);else{const e=n.buildLayout({containerSize:a,items:r.filter(Boolean),getItemLayoutOptions:t,previousLayout:l});this.setState({layout:e})}})))})),_(this,"renderCollection",((e,t)=>{const{items:n,renderItem:i,layoutEngine:o,scrollContainerSize:r,contentContainerSize:a}=this.props,{initialItemCount:s}=this.state,l="function"==typeof o.itemsToMeasureLimit?o.itemsToMeasureLimit({initialLayout:n.length===s,layout:e,scrollContainerSize:r,contentContainerSize:a}):o.itemsToMeasureLimit||1/0;return(0,d.jsx)(g,{renderItem:i,layout:e,onRenderedItems:this.handleItemsRendered,customSize:t,itemsToMeasureLimit:l})}))}static getDerivedStateFromProps(e,t){const{items:n,getItemLayoutOptions:i,layoutEngine:o,contentContainerSize:r}=e,{previousItems:a,previousContentContainerSize:s,layout:l,initialItemCount:d}=t,c={initialItemCount:d||n.length,previousContentContainerSize:r,previousItems:n};if(!(u=a,h=n,(u===h||u.length===h.length&&u.every(((e,t)=>e===h[t])))&&m()(r,s))){return{layout:o.buildLayout({containerSize:r,items:n.filter(Boolean),getItemLayoutOptions:i,previousLayout:l}),contentContainerSize:r,...c}}var u,h;return c}componentDidMount(){const{onLayoutUpdated:e}=this.props,{layout:t}=this.state;e&&e(t)}componentWillUnmount(){this.handleItemsRenderedAnimationFrame&&cancelAnimationFrame(this.handleItemsRenderedAnimationFrame)}getLayout(){return this.state.layout}render(){const{virtualize:e,virtualOverscan:t,scrollPosition:n,scrollContainerSize:i,contentContainerSize:o}=this.props,{layout:r}=this.state;let a=null;if(e&&i&&n){const e="function"==typeof t?t({layout:r,scrollContainerSize:i,contentContainerSize:o}):t||0;a=(0,d.jsx)(f,{layout:r,scrollContainerSize:i,scrollPosition:n,overscan:e,children:this.renderCollection})}else a=this.renderCollection(r);return(0,d.jsx)("div",{className:"LayoutRenderer",children:a})}}function y(e){null!==e.id&&(window.cancelAnimationFrame(e.id),e.id=null)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_(x,"defaultProps",{virtualOverscan:function({scrollContainerSize:e}){return 2*Math.max(e.width,e.height)}});class v{constructor(){b(this,"_mountedInstances",[]),b(this,"_originalBodyPointerEvents",null),b(this,"_disablePointerEventsTimeoutId",null),b(this,"_enablePointerEventsAfterDelayCallback",(()=>{this._enablePointerEventsIfDisabled(),this._mountedInstances.forEach((({options:e})=>{e.resetIsScrolling&&e.resetIsScrolling()}))})),b(this,"_handleScroll",(e=>{e.currentTarget===window&&null==this._originalBodyPointerEvents&&document.body&&(this._originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),this._enablePointerEventsAfterDelay(),this._mountedInstances.forEach((({scrollElement:t,options:n})=>{t===e.currentTarget&&n.handleScroll()}))}))}_enablePointerEventsIfDisabled(){this._disablePointerEventsTimeoutId&&(this._disablePointerEventsTimeoutId=null,document.body&&null!=this._originalBodyPointerEvents&&(document.body.style.pointerEvents=this._originalBodyPointerEvents),this._originalBodyPointerEvents=null)}_enablePointerEventsAfterDelay(){this._disablePointerEventsTimeoutId&&y(this._disablePointerEventsTimeoutId);let e=0;this._mountedInstances.forEach((({options:t})=>{e=Math.max(e,t.scrollingResetTimeInterval)})),this._disablePointerEventsTimeoutId=function(e,t){let n;Promise.resolve().then((()=>{n=Date.now()}));const i={id:null},o=()=>{Date.now()-n>=t?e.call():i.id=window.requestAnimationFrame(o)};return i.id=window.requestAnimationFrame(o),i}(this._enablePointerEventsAfterDelayCallback,e)}registerScrollListener(e,t){this._mountedInstances.some((({scrollElement:t})=>t===e))||e.addEventListener("scroll",this._handleScroll),this._mountedInstances.push({scrollElement:e,options:t})}unregisterScrollListener(e){this._mountedInstances=this._mountedInstances.filter((({scrollElement:t})=>t!==e)),this._mountedInstances.length||(e.removeEventListener("scroll",this._handleScroll),this._disablePointerEventsTimeoutId&&(y(this._disablePointerEventsTimeoutId),this._enablePointerEventsIfDisabled()))}}b(v,"sharedInstance",new v);var E=n(823493),w=n.n(E);function I(e,t){const n=(0,i.useRef)(!0);(0,i.useEffect)(((...t)=>{if(!n.current)return e(...t);n.current=!1}),t)}const C=e=>"undefined"!=typeof window&&e===window;function T(e,t){if(e){if(C(e)){const{innerHeight:e,innerWidth:t}=window;return{height:"number"==typeof e?e:0,width:"number"==typeof t?t:0}}{const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}}return t}function S(e){return C(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}const P=()=>"undefined"!=typeof window?window:void 0;function j(e,t){return e&&t?function(e,t){if(C(t)&&document.documentElement){const t=document.documentElement,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}{const n=S(t),i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{top:i.top+n.top-o.top,left:i.left+n.left-o.left}}}(e,t):{top:0,left:0}}function A(e,t){const n=S(e);return{left:n.left-t.left,top:n.top-t.top}}const D={Masonry:{overflowAnchor:"none"}};function R({items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:r,initialLayout:a,virtualize:s,virtualOverscan:u,scrollContainer:p,scrollTracker:m}){const[g,f]=(0,i.useState)(),_=(0,i.useCallback)((e=>{e&&e!==g&&f(e)}),[g]),{scrollContainerSize:y,scrollPosition:b}=function({scrollContainer:e=P(),scrollChild:t,scrollingResetTimeInterval:n=150,serverSize:o={width:0,height:0}}){const[r,a]=(0,i.useState)((()=>j(t,e)));I((()=>{const n=j(t,e);a(n)}),[t,e]);const[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)((()=>T(e,o))),[h,p]=(0,i.useState)((()=>e?A(e,r):{left:0,top:0}));I((()=>{if(e){const t=A(e,r);p(t)}}),[e,r.top,r.left]),I((()=>{e&&u(T(e,o))}),[e,o.width,o.height]);const m=(0,i.useCallback)((()=>{u(T(e,o)),a(j(t,e))}),[t,e,o]);(0,i.useEffect)((()=>(l.sharedInstance.addResizeListener(e,m),()=>{e&&l.sharedInstance.removeResizeListener(e,m)})),[e,m]);const g=(0,i.useCallback)(w()(((e,t)=>{const n=j(e,t);r.top===n.top&&r.left===n.left||a(n)}),1e3),[j,a,r,1e3]),f=(0,i.useCallback)((()=>{e&&(g(t,e),p(A(e,r)),d(!0))}),[t,e,A,p,d,r,g]),_=(0,i.useCallback)((()=>d(!1)),[]);return(0,i.useEffect)((()=>(e&&v.sharedInstance.registerScrollListener(e,{scrollingResetTimeInterval:n,handleScroll:f,handleScrollEnded:_}),()=>{e&&v.sharedInstance.unregisterScrollListener(e)})),[e,n,f,_]),{scrollContainerSize:c,scrollPosition:h,isScrolling:s}}({scrollContainer:p,scrollChild:g});(0,i.useEffect)((()=>{m&&p&&y&&m.handleContainerResized(y)}),[y.width,y.height]),(0,i.useEffect)((()=>{m&&p&&b&&m.handleContainerScrolled(b)}),[b.top,b.left]);const[E,C]=(0,i.useState)({width:0,height:0});return(0,d.jsx)("div",{className:h()("Masonry",{"Masonry-Premount":!g}),style:D.Masonry,ref:_,children:(0,d.jsx)(c,{disableHeight:!0,onResize:C,children:(0,d.jsx)(x,{items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:e=>{r&&r(e),m&&p&&m.handleLayoutUpdated(e)},initialLayout:a,scrollContainerSize:y,scrollPosition:b,contentContainerSize:E,virtualize:s,virtualOverscan:u})})})}class O{constructor({minCols:e=2,colWidth:t=250,gutter:n=20,flexible:i=false}={}){this.minCols=e,this.colWidth=t,this.gutter=n,this.flexible=i}static getColumnIndex(e){let t=0;for(let n=0;n<e.length;n+=1)e[n]<e[t]&&(t=n);return t}getColumnInfo(e){const{gutter:t,minCols:n}=this;let i=0,o=0;if(this.flexible){if(t)throw new Error("Flexible grid layouts do not support gutters.");e.width&&(o=Math.max(Math.ceil(e.width/this.colWidth),n),i=Math.floor(e.width/o))}else i=this.colWidth,e.width&&(o=Math.max(Math.floor((e.width+t)/(i+t)),n));return{width:i,count:o}}buildLayout(e){throw new Error("Subclasses must implement")}itemsToMeasureLimit({initialLayout:e,contentContainerSize:t}){return e?1/0:this.getColumnInfo(t).count||1/0}}class N extends O{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),a=new Array(r).fill(0),s=new WeakMap;let l=!1;const d={width:0,height:0};t.forEach(((e,t)=>{const o=n?n.getItemLayoutInfo(e):void 0;if(r>0&&null!=o&&o.size){const n=o.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");const r=N.getColumnIndex(a),l=a[r],c=l+(0===l?0:this.gutter),u=r*(i+this.gutter);s.set(e,{...o,size:{...n,width:i},position:{left:u,top:c},customIndex:t}),a[r]=c+n.height,d.width<u+n.width&&(d.width=u+n.width),d.height<c+n.height&&(d.height=c+n.height)}else s.set(e,{constraints:{width:i||void 0}}),l=!0}));const c=new o(t,(e=>s.get(e)));return c.size=d,c.contentFilledSize={width:d.width,height:Math.min(...a)},c.isMeasuring=l,c}}class k extends O{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),a=new WeakMap;let s=0,l=[],d=0,c=0,u=!1;const h={width:0,height:0};let p=0;for(let o=0;o<t.length;o+=1){const e=t[o],h=n?n.getItemLayoutInfo(e):void 0;if(r>0&&h&&h.size){const n=h.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");if(l[d%r]={item:e,itemLayoutInfo:h},n.height>c&&(c=n.height),l.length===r||o===t.length-1){for(let e=0;e<l.length;e+=1){const t=l[e],{size:n,constraints:r}=t.itemLayoutInfo;if(!n||!r)throw new Error("Row entries must already have sizes and constraints.");a.set(t.item,{size:{width:i,height:n.height},position:{left:e*(i+this.gutter),top:s},constraints:r,customIndex:o})}l.length===r&&(p=s+c),s+=c+this.gutter,l=[],c=0}d+=1}else a.set(e,{constraints:{width:i}}),u=!0}const m=new o(t,(e=>a.get(e)));return m.size=h,m.contentFilledSize={width:h.width,height:p},m.isMeasuring=u,m}}var L=n(583704);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=({containerSize:e})=>2*e.height;class F{constructor(e,t=B){M(this,"isMeasuring",!1),M(this,"isFetching",!1),M(this,"fetchMoreIfReady",w()((()=>{if(this.isMeasuring||this.isFetching)return;if(!this.scrollPosition||!this.containerSize||!this.layoutSize)return;const e="function"==typeof this.fetchOverscan?this.fetchOverscan({layoutSize:this.layoutSize,scrollPosition:this.scrollPosition,containerSize:this.containerSize}):this.fetchOverscan;this.layoutSize.height-this.scrollPosition.top-this.containerSize.height>=e||(this.isFetching=!0,this.fetchMore())}),100)),this.fetchMore=e,this.fetchOverscan=t}handleLayoutUpdated(e){(!this.items||this.items&&this.items.length!==e.items.length)&&(this.isFetching=!1),this.layoutSize=e.size,this.isMeasuring=!!e.isMeasuring,this.items=e.items,this.fetchMoreIfReady()}handleContainerResized(e){this.containerSize=e,this.fetchMoreIfReady()}handleContainerScrolled(e){this.scrollPosition=e,this.fetchMoreIfReady()}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=({scrollContainerSize:e})=>.7*e.height;class G extends i.Component{static getDerivedStateFromProps({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o}){return{layoutEngine:G.layoutOptionsToLayoutEngine({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})}}constructor(e){super(e),U(this,"fetchMore",(()=>new Promise((e=>{const{items:t,loadItems:n}=this.props;"function"==typeof n?setTimeout((()=>{n({from:t.length}),e(!0)})):e(!1)})))),U(this,"handleLayoutUpdated",(e=>{const{measurementStore:t}=this.state;t.layout=e})),U(this,"renderItem",(({item:e,index:t,isMeasuring:n,constraints:i})=>{const{comp:o}=this.props;return(0,d.jsx)(o,{data:e,itemIdx:t,isMeasuring:n,constraints:i})}));const{minCols:t,columnWidth:n,gutterWidth:i,flexible:r,layout:a,measurementStore:s,items:l,loadItems:c,fetchBoundsOffset:u}=e,h=s||G.createMeasurementStore(),p=G.layoutOptionsToLayoutEngine({layout:a,minCols:t,columnWidth:n,gutterWidth:i,flexible:r});h.layout=new o(l,h.layout.getItemLayoutInfo);const m="function"==typeof c?new F(this.fetchMore,(({containerSize:e})=>Math.max(0,2*e.height+u))):void 0;this.state={nonce:0,scrollTracker:m,layoutEngine:p,measurementStore:h}}updatePosition(){}reflow(){const{measurementStore:e}=this.state;e.layout=new o,this.setState((({nonce:e})=>({nonce:e+1})))}render(){const{getItemLayoutOptions:e,items:t,scrollContainer:n,virtualize:i}=this.props,{layoutEngine:o,measurementStore:r,nonce:a,scrollTracker:s}=this.state;return(0,d.jsx)(R,{items:t,renderItem:this.renderItem,getItemLayoutOptions:e,layoutEngine:o,scrollContainer:(l=n,l?"function"==typeof l?l():l:"undefined"!=typeof window?window:null),scrollTracker:s,onLayoutUpdated:this.handleLayoutUpdated,initialLayout:r.layout,virtualize:i,virtualOverscan:Z},`Masonry-${a}`);var l}}U(G,"createMeasurementStore",(()=>({layout:new o}))),U(G,"defaultProps",{columnWidth:236,fetchBoundsOffset:0,layout:"default",minCols:3,virtualize:!1}),U(G,"layoutOptionsToLayoutEngine",(0,L.HP)((({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})=>new("uniformRow"===e?k:N)({minCols:t,colWidth:n,gutter:i,flexible:o}))))},281810:(e,t,n)=>{function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:o*e}px) and (max-width: ${(o+1)*e-1}px) {\n  .gridCentered {\n    width: ${o*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},87398:(e,t,n)=>{function i(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:(o-1)*e}px) and (max-width: ${o*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},864793:(e,t,n)=>{n.d(t,{rh:()=>h,ZP:()=>p,_E:()=>m,G7:()=>g,l6:()=>f});var i=n(631739),o=n(750980),r=n(517458),a=n(754999),s=n(946753),l=n(998035),d=n(883119),c=n(785893);const u=()=>["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function h(e,t){var n,a,s;if(!t.isAuth)return!1;const d=(0,l.Nc)(e)||(0,l.o)(e),c=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.Z.BoardPrivacy.PUBLIC,h=(null===(a=e.board)||void 0===a?void 0:a.privacy)===i.Z.BoardPrivacy.PROTECTED,p=(u()&&h||c)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,{isStoryPin:m}=(0,r.Z)(e);return d&&(!h||u())||t.isPartner&&p||["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("web_ps4p"))&&m&&p}function p(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function m(e,t,n,i){const{isStoryPin:o,isVideo:a}=(0,r.Z)(e),u=(0,l.Nc)(e),h=(0,l.o)(e)&&(o||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),m=(new Date).getTime()-p.getTime(),g=Math.floor(m/36e5),f=h?h["24h_realtime"].is_realtime:null,_=h?h["24h_realtime"].timestamp:null;let x=null;h&&(x=o||a?h.all_time_realtime.timestamp:h["30d_realtime"].timestamp);const y=x!==_,b=e=>(0,s.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),v={timeframe:"",lastUpdated:""};if(h)if(f){const e=h["24h_realtime"].impression>=(o||a?h.all_time_realtime.impression:h["30d_realtime"].impression);v.timeframe=e?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):o||a?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||g>48)if(o||a){const e=i(h.all_time_realtime.timestamp);v.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),v.lastUpdated=b(e)}else{const e=i(h["30d_realtime"].timestamp);v.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=b(e)}else{const e=i(h["24h_realtime"].timestamp);v.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),v.lastUpdated=b(e)}else v.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,c.jsxs)(d.xu,{alignItems:o||"lg"!==t?"center":void 0,display:o||"lg"!==t?"flex":void 0,children:[(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:v.lastUpdated}),(o||["md","sm"].includes(t))&&!!h&&(0,c.jsx)(d.xv,{color:"gray",inline:!0,size:"sm",children:" ・"}),(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:v.timeframe})]})}function g(e,t){return(0,a.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function f(e,t){return(0,a.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},777158:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function o(e){return e<160?"header-only":"none"}function r(e){const[t,n]=(0,i.useState)(e.current?o(e.current.clientHeight||0):"none");return function(e,t){const n=(0,i.useRef)();(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))})),n.current}(e,(({height:e})=>{const i=o(e);i!==t&&n(i)})),t}},250777:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(549135),r=n(626173);function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:l}=(0,r.E)();return(0,i.useCallback)((()=>{(0,o.j)(e,{component:n,view:l,viewParameter:s,...a,...t||{}})}),[t,n,a,e,s,l])}},335529:(e,t,n)=>{n.d(t,{X:()=>o,Z:()=>r});var i=n(667294);const o=120;function r(e,t=0,n=o){const[r,a]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)((()=>{if(!e){const e=setTimeout((()=>a("inactive")),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>a("active")),t);return()=>{clearTimeout(e)}}a("active")}),[e]),r}},818270:(e,t,n)=>{n.d(t,{B:()=>o,$:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("SurfaceContext",{surface:"Unknown"})},626173:(e,t,n)=>{n.d(t,{B:()=>o,E:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("trackingParametersContext")},752187:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(268648),o=n(560133),r=n(45815),a=n(233088),s=n(883119),l=n(549135),d=n(181307),c=n(626173),u=n(785893);function h({sizing:e="default",children:t,collageChipId:n,componentType:h,contextLogData:p,elementType:m,pin:g,viewParameter:f,viewType:_}){const x=(0,c.E)(),{group:y}=(0,d.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:b,id:v}=g;let E,w=`/pin/${n||v}/`;if(b){const{carousel_slots:e=[],id:t,index:n=0}=b;w=`/pin/${v}/`,E={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}E={...E||{},...(0,o.Kl)(g,p)||{}};const I=(0,i.Z)({href:w,externalData:{auxData:E,pin:g}});return(0,u.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if((0,l.j)(101,{...p,component:h||x.componentType,element:m,objectId:v,view:_||x.viewType,viewParameter:f||x.viewParameter,...(0,o.Kl)(g,p)||{}}),(0,l.j)(8948,{closeup_navigation_type:"click",view:_||x.viewType,viewParameter:f||x.viewParameter,component:h||x.componentType,element:m,objectId:v,...p,...(0,o.Kl)(g,p)||{}}),y){const e=Number(a.y7.getItem(r.J)||0);a.y7.setItem(r.J,e+1)}})(),I({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:w,role:"link",children:t})}},505812:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(752187),o=n(883119),r=n(785893);const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:l.map((n=>{var s,l,d,c;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},h=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,src:null!==(c=u.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,r.jsx)(i.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:h}):h})})})},n.id)}))})}},546352:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,additionalStyles:t={}}){return(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},452963:(e,t,n)=>{n.d(t,{F:()=>s,Z:()=>l});var i=n(185062),o=n(883119),r=n(785893);const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,i.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"white",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},514560:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),o=n(881220),r=n(174523),a=n(883119),s=n(785893);function l(e){const t=(0,r.ZP)(),{onHide:n}=e,i=(0,s.jsx)(a.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,s.jsx)(o.Z,{onHide:n,text:i})}var d=n(311866),c=n(34411),u=n(475446);const h=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const h=(0,r.ZP)(),[p,m]=(0,i.useState)(0),g=(0,c.Z)(),{showOneToast:f}=(0,u.F9)();if(!g.isEmployee)return null;const _=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:x,icon_url:y,signal_id:b,signal_message:v}=o[p];return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(a.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(a.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),m(e)})({activeTabIndex:t,event:e})},tabs:_})}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(a.X6,{size:"sm",children:h._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,s.jsx)(a.xu,{paddingY:3,children:(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,s.jsx)(a.Ee,{alt:h._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:x}},height:40,width:40})}),(0,s.jsx)(a.xv,{size:"md",children:v})]})}),(0,s.jsx)(a.xu,{marginBottom:3,children:(0,s.jsx)(a.xv,{size:"md",children:h._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:h._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:b,user:g.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),t(),f((({onHide:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:h._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})};var p=n(975151),m=n(907669),g=n(551687),f=n(689859);function _({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[l,d]=(0,i.useState)(!1),c=(0,i.useRef)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(g.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(f.Z,{children:(0,s.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(m.Z,{children:(0,s.jsx)(p.Z,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,s.jsx)(a.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,s.jsxs)(a.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,s.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(a.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(a.xv,{color:"white",size:"md",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,s.jsx)(h,{anchor:c.current,onDismiss:()=>d(!1),pinId:t,signals:e})]})}function x({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return n?(0,s.jsx)(_,{pinId:t,signals:n}):i?(0,s.jsx)(_,{pinId:t,signals:i}):o?(0,s.jsx)(_,{pinId:t,signals:o}):r?(0,s.jsx)(_,{pinId:t,signals:r}):a?(0,s.jsx)(_,{pinId:t,signals:a}):null}},907669:(e,t,n)=>{n.d(t,{Z:()=>r,N:()=>a});var i=n(883119),o=n(785893);function r({children:e,fullWidth:t}){return(0,o.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function a({children:e,enabled:t}){return t?(0,o.jsx)(r,{children:e}):e}},7713:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(335529),r=n(785893);function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.X,visibility:s}){return"none"!==s&&e?(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},818026:(e,t,n)=>{n.d(t,{ZP:()=>f});var i=n(667294),o=n(546352),r=n(174523),a=n(365217),s=n(451875),l=n(549135),d=n(883119),c=n(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},h={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],g=["pfy","pfyBoard"];function f({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:f=!1}){var _;const x=(0,r.ZP)(),[y,b]=(0,i.useState)(!1),[v,E]=(0,i.useState)(!1);(0,i.useEffect)((()=>b(!0)),[]);const w=()=>E(!0),{feedbackText:I,images:C,showFeedbackOverlay:T,undoAction:S,undoText:P}=n,j=C&&(null===(_=C["236x"])||void 0===_?void 0:_.url),{image:A,subTitle:D,title:R,unfollow:O}=null!=I?I:{},N=!m.includes(e),k=g.includes(e),L=()=>{(0,l.j)(101,{view:1,viewParameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[j&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...y?u.blurred:{},backgroundImage:`url("${j}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...h.base,...h.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!T&&y?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!f&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"white",size:"sm",children:R})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[A&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:A.width,height:A.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:D||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:A.url||""})})}),(0,c.jsx)(d.xv,{color:"white",overflow:"normal",children:D})]}),t?(0,c.jsxs)(i.Fragment,{children:[S&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:S,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:x._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!S&&!v&&O&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(O.action,O.actionOptions,w),text:x._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),N&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:L,text:x._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{children:N&&(0,c.jsx)(d.rU,{href:"/edit",onClick:L,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:x._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!S&&!v&&O&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(O.action,O.actionOptions,w),text:x._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),S&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:S,text:P||x._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},665035:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(40142),r=n(101161),a=n(519922),s=n(83742),l=n(537343),d=n(174523),c=n(250777),u=n(529110),h=n(698602),p=n(784655),m=n(626173),g=n(883119),f=n(785893);function _({feedbackData:e,feedbackType:t,pin:n,pinTitle:_,setForcePrimary:x,transparentBackground:y}){const b=(0,d.ZP)(),v=(0,o.useDispatch)(),{viewParameter:E,viewType:w}=(0,m.E)(),[I,C]=(0,i.useState)(!1),[T,S]=(0,i.useState)(),{ad_match_reason:P,show_ad_reasons:j,board:A,category:D,description:R,id:O="",images:N,is_promoted:k,pinner:L,promoter:M,recommendation_reason:B,source_interest:F,videos:U}=n;var Z;const G=(Z=k?60:50,function(e){return(0,l.ZP)((e||"").trim(),Z)})(null!=R?R:""),H=(0,a.Z)(N,"236x"),z=(0,p.iR)(U),V=(0,c.Z)(101,{component:0,element:981,feedback_type:t,objectId:O}),W=()=>{j||(x(!1),v((0,h.i0)(O)),C(!1))},Y=(0,r.Z)({pin:n,viewParameter:E,viewType:w});return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.xu,{"data-test-id":"feedback-button",ref:S,children:(0,f.jsx)(g.hU,{accessibilityLabel:b._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{I?W():(x(!0),C(!0)),V()},size:"sm"})}),I&&(0,f.jsx)(g.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(s.Z,{anchor:T,ad_match_reason:P,bestPinImgSrc:(0,u.P0)(n),board:A,feedbackData:e,feedbackType:t,hideDownload:z,onLinkClick:()=>{I&&W()},onDismiss:W,onHide:W,onDownloadHideFlyout:()=>{x(!1),C(!1)},pinCategory:D,pinDescription:G,pinId:O,pinImgSrc:H,pinner:L,pinTitle:_,promoter:M,recommendationReason:B,reportPin:Y,sourceInterest:F,viewParameter:E,viewType:w})})]})}},83742:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(667294),o=n(40142),r=n(549156),a=n(883119),s=n(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:o}){return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(r.Z,{id:"ad-reason-icon",children:(0,s.jsx)(a.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,s.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{children:o})}),i&&n&&(0,s.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(a.JO,{accessibilityLabel:n,color:"darkGray",icon:"arrow-forward"})})]})}var d=n(451190),c=n(702925),u=n(174523),h=n(946753),p=n(549135);const{ACCOUNT_SETTINGS:m,CANONICAL_MAIN_URL:g,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:_}=c.Z.settings;function x({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:x,isGeoPostalCodeMatched:y,isGeoRegionMatched:b,isShoppingTargetingRematched:v}){const E=(0,u.ZP)();return(0,s.jsx)(d.Z,{accessibilityModalLabel:E._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,s.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(a.xu,{position:"absolute",left:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:E._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(a.X6,{align:"center",size:"md",children:E._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,s.jsxs)(a.xu,{children:[(0,s.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{children:(0,h.nk)(E._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{href:_,inline:!0,onClick:()=>{(0,p.j)(101,{component:13756,element:12057})},target:"blank",children:E._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,h.nk)(E._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(r.Z,{id:"ad-reasons",children:(0,s.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[y||b?(0,s.jsx)(a.iP,{role:"link",href:`${g}${m}`,onTap:()=>{(0,p.j)(101,{component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:E._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:E._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,h.nk)(E._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:E._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,h.nk)(E._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),c&&(0,s.jsx)(l,{iconAccessibilityLabel:E._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:E._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),v&&(0,s.jsx)(l,{iconAccessibilityLabel:E._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,h.nk)(E._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),x&&(0,s.jsx)(l,{iconAccessibilityLabel:E._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,h.nk)(E._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{children:E._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,s.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,s.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(a.iz,{})}),(0,s.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(a.X6,{size:"sm",children:E._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,h.nk)(E._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{inline:!0,href:f,onClick:()=>{(0,p.j)(101,{component:13756,element:12058})},target:"blank",children:E._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var y=n(535718),b=n(34411),v=n(585967);function E({pinId:e,onDismiss:t}){var n,r,a,l;const{locale:d}=(0,v.B)(),{country:c=""}=(0,b.Z)(),u=(0,y.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=(0,y.Z)({name:"LocalesResource"}),m=(0,o.useSelector)((({pins:t})=>t[e]));(0,i.useEffect)((()=>{(0,p.j)(120,{component:13756})}),[]);const{ad_targeting_attribution:g,promoter:f}=null!=m?m:{},{is_age_matched:_=!1,is_behavior_targeting_matched:E=!1,is_customer_list_matched:w=!1,is_geo_postal_code_matched:I=!1,is_geo_region_matched:C=!1,is_shopping_retargeting_matched:T=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,n)=>({...t,[n]:e[n]})),{})}(g))&&void 0!==n?n:{},S=null!==(r=null==f?void 0:f.full_name)&&void 0!==r?r:"",P=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(a=u.data)&&void 0!==a?a:[],c),j=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(l=h.data)&&void 0!==l?l:[],d);return(0,s.jsx)(x,{brandName:S,country:P,language:j,isAgeMatched:_,isBehaviorTargetingMatched:E,isCustomerListMatched:w,isGeoPostalCodeMatched:I,isGeoRegionMatched:C,isShoppingTargetingRematched:T,onDismiss:t})}var w=n(595657),I=n(418448),C=n(539484),T=n(374284),S=n(538958),P=n(860179),j=n(266750),A=n(778423),D=n(454217),R=n(698602),O=n(365217),N=n(708206),k=n(855168);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M={color:"white",textDecorationColor:"white"};class B extends i.Component{constructor(e){super(e),L(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})})),L(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=i&&i.board&&i.board.url||e.url),o?(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(a.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),L(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})})),L(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),L(this,"feedbackHelpers",(0,D.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:h.nk})),L(this,"makeNavigateLink",((e,t,n,i)=>{const o={display:"inline",...i?M:{}};return(0,s.jsx)(a.rU,{onClick:this.props.onLinkClick,role:"link",href:t,inline:!0,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o},children:n})},e)})),L(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),L(this,"hidePinOption",(e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&A.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&(0,D.yl)(o),throughProperties:o&&(0,D.XZ)(o),clientTrackingParams:(0,w.Z)(i)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),L(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&A.ReasonToChoose[r],s=i&&(0,D.yl)(i),l=i&&(0,D.XZ)(i),d="pfyBoard"===t,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,w.Z)(n)}),p=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,h.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:p}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,h.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),L(this,"unfollowBoardOption",(()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=(0,h.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=(0,h.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,h.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}})),L(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,o=`/topics/${i}`,r=this.makeNavigateLink("topicUrl",o,n,!0),a=(0,h.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=(0,h.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:j.X},feedbackText:{title:"",subTitle:s},text:a,description:(0,h.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),L(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o=`/${n}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,h.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,h.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),L(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),L(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),l=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,h=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:h};case"topic":const p=this.unfollowTopicOption(),m=[s,...a&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};case"pfy":case"pfyBoard":const g=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:g};default:const f=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}})),L(this,"pinHiddenFeedbackText",(e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,O.t)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u}=this.props;t&&n&&i?d(a,e,(0,D.EF)(n,i,a,u,c,o,p.j),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),l(a))}makeStrongText(e,t){return(0,s.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;(0,p.j)(101,{...t,view:o,viewParameter:i,element:e,component:(0,D.nb)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:l}=r,d=[],c=l.length;for(let u=0;u<c;u+=1){const r=l[u],c=O.P.includes(r.action),h=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,c,r.actionOptions,r.action);if("downloadPin"!==r.action){const e=(0,C.Z)({url:r.link||""});let t="";Array.isArray(r.text)?t=r.text.join(""):"string"!=typeof r.text&&"number"!=typeof r.text||(t=r.text.toString()),d.push(r.link?(0,s.jsx)(a.Lt.Link,{href:r.link,isExternal:e,option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}):(0,s.jsx)(a.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,h),option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}))}else if(!e&&"undefined"!=typeof window&&"windows"!==(0,S.ZP)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:l,pinCategory:c}=this.props;d.push((0,s.jsx)(a.Lt.Item,{onSelect:()=>{(0,I.Z)({category:c,filename:r||l,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i})},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:n,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:h,showAdReasons:p,viewParameter:m,viewType:g}=this.props,{description:f}=e,_=this.getRecommendationDescriptionImage();return(0,s.jsxs)(i.Fragment,{children:[t?(0,s.jsx)(T.Z,{anchor:n,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:h,viewParameter:m,viewType:g}):(0,s.jsx)(a.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:P.lI,headerContent:f&&(0,s.jsxs)(a.kC,{alignItems:"center",children:[(0,s.jsx)(a.xu,{"data-pin-recommendation-reason":null==h?void 0:h.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(a.xv,{color:"darkGray",overflow:"normal",size:"md",children:f})}),_]}),children:this.renderButtons()}),p&&(0,s.jsx)(E,{onDismiss:()=>d(c),pinId:c})]})}}const F=(0,N.compose)((0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,R.I1)(t)),showPinFeedback:(t,n)=>e((0,R.ZP)(t,n)),showPinFeedbackOverlay:t=>e((0,R.Ib)(t)),showPinFeedbackUndo:(t,n,i,o)=>e((0,R.NA)(t,n,i,o)),showAdReasonsModal:t=>e((0,R.b9)(t)),hideAdReasonsModal:t=>e((0,R.yj)(t))}))),k.EN)((function(e){const t=(0,u.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:i=!1}=(0,o.useSelector)((({pins:t})=>t[e.pinId]));return(0,s.jsx)(B,{...e,showAdReasons:i,adTargetingAttribution:n,i18n:t})}))},374284:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(174523),o=n(365217),r=n(883119),a=n(860179),s=n(946753),l=n(778423),d=n(549135),c=n(454217),u=n(785893);function h({anchor:e,feedbackData:t,feedbackType:n,pinId:h,onDismiss:p,onHide:m,recommendationReason:g,viewParameter:f,viewType:_}){const x=(0,i.ZP)(),y=(0,c.ZP)({i18n:x,interpolateNamedTemplate:s.nk}),b=(e,i)=>{const r=g&&g.reason&&l.ReasonToChoose[g.reason],a=g&&(0,c.yl)(g),s=g&&(0,c.XZ)(g),{action:u,actionOptions:p}=y.getHidePinAction({feedbackData:t,feedbackType:n,pinId:h,recommendationReasonId:r,throughId:a,throughProperties:s,complaintReason:e});(e=>{(0,d.j)(101,{view:_,viewParameter:f,element:e,component:(0,c.nb)(n)})})(i),(0,o.t)(u,p),m()},v="promoted"===n?[{text:x._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:x._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:x._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:x._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:x._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:x._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:x._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:x._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:a.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:x._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:v.map((({text:e,reason:t,elementType:n})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>b(t,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},773788:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(294184),r=n.n(o),a=n(539484),s=n(204478),l=n(174523),d=n(883119),c=n(785893);class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:l,url:u}=this.props;if(o&&t)return null;const h="boardless"===l?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let p,m;if(!n||e||o){const e=o?(0,c.jsx)(d.xv,{color:"white",size:"lg",weight:"bold",children:h.length<=20?h:(0,s.Z)(h,20)}):(0,c.jsx)(d.X6,{color:"white",size:"sm",lineClamp:1,children:h}),t=(0,a.Z)({url:u})?"nofollow":"none";p=u?(0,c.jsx)(d.rU,{rel:t,href:u,children:e}):e}else p=(0,c.jsx)(d.xv,{color:"white",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(m=e?"board":"saved"),(0,c.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",m):r()("SavedAnimation",m),children:p})}}const h=function(e){const t=(0,l.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},488023:(e,t,n)=>{n.d(t,{Y:()=>s,Z:()=>u});var i=n(174523),o=n(549135),r=n(883119),a=n(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view:4,viewParameter:3106},d={view:5,viewParameter:3069},c={component:13668,view:4,viewParameter:3106};function u({pinId:e,surface:t}){const n=(0,i.ZP)(),u=()=>{const e=s.includes(t)?c:"BaseBoardPinGrid"===t?d:"UserProfilePinGrid"===t?l:{};(0,o.j)(101,{element:10573,...e})},h=n._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(t)?(0,a.jsx)(r.zx,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(p=h,p.length>14?`${p.substring(0,12).trim()}...`:p)}):(0,a.jsx)(r.hU,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var p}},577302:(e,t,n)=>{function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:()=>i})},398791:(e,t,n)=>{n.d(t,{Z:()=>J});var i=n(667294),o=n(40142),r=n(963232),a=n(517458),s=n(515528);function l({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:o,rich_summary:r,title:l}=t,{isOwnPin:d,isPromoted:c}=(0,a.Z)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(c){if(s.ZF.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return l||t||o||""}return o||""}var d=n(784655);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n(746857),h=n(864793);const p=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m({attributionOption:e,board:t,contentType:n,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:s,isOwnBoard:d,pin:c,showImageOnly:m,showNativeReactions:g,showPromotedShoppingPrice:f,surface:_,viewer:x,isORBACProfileManager:y,inMsgPinCardUpdateExp:b=!1}){var v;const{isPromoted:E,isSponsored:w}=(0,a.Z)(c),{promoter:I,pin_note:C}=c,T=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:a=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:c}=i;if("promoted"===t||d&&!s||c)return"default";if((!a||"ConversationView"!==r)&&p.includes(r))return"none";if(n)return"none";let u="default";return e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?u:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":u}({attributionOption:e,feedbackType:o,isGroupBoard:s,pin:c,showImageOnly:m,surface:_,inMsgPinCardUpdateExp:b}),S=m?"":l({isGroupBoard:s,pin:c,surface:_}),P=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(_)&&!E&&!m&&Boolean((0,u.Z)(c,_)),j="ShoppingList"===_,A="BaseBoardPinGrid"===_&&C?null===(v=C.text)||void 0===v?void 0:v.trim():null,D=E,R="shopping"===n,O=/ShoppingSquareGridRelatedProducts/.test(_);let N=2;E?N=3:(P||"none"!==T)&&(N=R||O?2:1);let k,L,M,B;if(R||(E&&O||f)){var F,U;const e=null===(F=c.rich_summary)||void 0===F||null===(U=F.products)||void 0===U?void 0:U[0],{offer_summary:t}=e||{};k=t?t.standard_price:void 0,L=t?t.price||t.max_price:void 0}if(R&&!E){var Z,G,H;const{rating_count:e,rating_value:t,review_count:n}=(null===(Z=c.rich_summary)||void 0===Z?void 0:Z.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(M={count:e||n,rating:t}),B=null===(G=c.rich_metadata)||void 0===G||null===(H=G.products)||void 0===H?void 0:H[0].shipping_info}const z=(0,h.rh)(c,x),V="CreatorProfileStoryPinGrid"!==_&&"CreatorProfileActivityPinGrid"!==_,W=s&&!w;return{attributionType:T,board:t,contentType:n,feedbackData:i,feedbackType:o,isDarkPromoter:!E&&!!I,pinNoteText:A,pinTitle:S,productCurrentPrice:L,productOriginalPrice:k,productRating:M,productShipping:B,showCarouselEllipsis:r,showFavoriteButton:!y&&("BaseBoardPinGrid"===_&&d||Boolean(null==t?void 0:t.should_show_board_activity)),showGroupBoardAvatar:W,showNativeReactions:g,showOverflowMenu:D,showPinStats:z,showSource:P,showTextContent:V,showVisitSiteButton:j,titleLines:N}}var g=n(631739),f=n(30494),_=n(233088),x=n(702403),y=n(344886);const b=["ShoppingCatalogsProductsMetadata"];var v=n(577302),E=n(551687),w=n(586840);const I={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var C=n(789875),T=n(601750),S=n(300970),P=n(215484),j=n(609304),A=n(593482);var D=n(689859),R=n(174523),O=n(767523),N=n(383722),k=n(34411),L=(n(883119),n(488023)),M=n(438280),B=n(159276),F=n(818270),U=n(626173),Z=n(345513),G=n(452963),H=n(181307),z=n(382745),V=n(855168),W=n(785893);const Y=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(19509),n.e(92982)]).then(n.bind(n,969810)))),K=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],q=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],$=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"],X=["BaseBoardPinGrid","UserProfilePinGrid",...L.Y];const J=(0,o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[`${a}`]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),(()=>({})))((function({blockClickEvents:e,attributionOption:t,board:n,debugImpressionState:u,feedbackOptions:p,imageOnlyOption:L="default",isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,reduxPin:te,resolution:ne="default",saveButtonOptions:ie,shouldShowFooter:oe=!0,surface:re,trackingParameters:ae,...se}){var le;const de=(0,R.ZP)(),{collaborated_by_me:ce,collaborator_count:ue,is_collaborative:he}=n||{},{pinner:pe,showFeedback:me,sponsorship:ge}=te,fe=(0,j.Z)(te),_e=(0,k.Z)(),xe=(0,O.Z)(),ye=(0,V.TH)(),{slotIndex:be,viewParameter:ve}=ae,{anyEnabled:Ee}=(0,H.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(re)),we=(0,o.useSelector)((({ui:e})=>e.views)),Ie=(0,o.useSelector)((({ui:e})=>e)),Ce=Ie.app?Ie.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},Te=(0,d.i8)(te.id,Ce),Se=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Pe=(0,P.Z)(te),je=(0,T.Z)(te),Ae=_e.isAuth&&_e.isEmployee,De=_e.isAuth&&((0,S.Z)(null,_e)||(0,A.Z)(null,_e))&&!_e.isPartner;let Re=De;"TodayArticleFeed"===re&&(Re=!1),"default"!==L&&(Re="image-only"===L),function(e){return s.zI.includes(e)}(re)&&(Re=!1),"ShoppingSquareGridDomainNoMetadata"===re&&(Re=!0);let Oe=t;De&&!Oe&&(Oe="image-only");const Ne=(0,C.Z)({feedbackOptions:p,pin:te,viewParameter:ve},de),{data:ke}=p||{},Le="number"==typeof ue&&ue>0||he,Me=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=I[t];return!!n&&"dense"===e[n]}(we,re),Be=Boolean(Le&&"BaseBoardPinGrid"===re),Fe=(0,N.Z)(),Ue=(0,o.useSelector)((({users:e})=>{var t,n,i,o;return e&&e[null!==(t=null===(n=Fe.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?e[null!==(i=null===(o=Fe.data)||void 0===o?void 0:o.id)&&void 0!==i?i:""]:Fe.data})),Ze=(0,v.Z)(_e,n);let Ge=!1;if(!!(0,V.LX)(ye.pathname,{path:"/:username/_created/",exact:!0}))Ge=(0,B.q6)(_e,null==Ue?void 0:Ue.id,xe);else if((0,z.am)(ye)||(0,z.OJ)(ye)){const e=n&&n.owner&&n.owner.id||"";Ge=(0,B.q6)(_e,e,xe)}const He=Boolean(_e.isAuth&&pe&&pe.id===_e.id),ze=Boolean(ce||Le&&Ze),Ve=_e.isAuth&&_e.isPartner,We=te.is_quick_promotable&&!["ShoppingSquareGridHomefeedBoth","ShoppingListGrid"].includes(re),Ye=(0,i.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:a,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:h}){const p=u.isAuth?u.boardCount:void 0;let m=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);return a?m={type:"promote"}:(h||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&"BoardlessPins"!==c&&(m={type:"classic"}),i&&(m={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||b.includes(c)||r)&&(m={type:"none"}),{board:e,derivedSaveButtonOptions:m,showLikeButton:h&&n&&s.UP.includes(c),supportsReactionBar:!t}}({board:n,isInlineBetterSave:Ee,isDenseView:Me,isGroupBoard:Be,isOwnBoard:Ze,isOwnPin:He,isORBACProfileManager:Ge,isQuickPromotable:We,isRemovable:fe,saveButtonOptions:ie,surface:re,viewer:_e,viewerIsCollaborator:ze})),[n,Ee,Me,Be,Ze,He,Ge,We,fe,ie,re,_e,ze]),{isPromoted:Ke}=(0,a.Z)(te),{anyEnabled:qe}=(0,H.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let $e;["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed","ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(re)&&!Ke&&($e="white");const Xe=(0,i.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(n),shoppingLabelColor:t}}({allowProductCarousel:Pe,shoppingLabelColor:$e,surface:re})),[Pe,$e,re]),Je=je,Qe=(0,i.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:u,pin:h,surface:p,viewer:m}){var g;const{isOwnPin:f,isPromoted:_}=(0,a.Z)(h),x=l({isGroupBoard:o,pin:h,surface:p}),y=e&&(0,r.Z)({action:4,board:e,viewer:m})||f,b=h.savedInfo&&h.savedInfo.localPinId,v=Boolean(s&&!o||"UserProfilePinGrid"===p&&y||b),E=o&&y||v||u&&!(0,d.hy)(h),w=Boolean((null==e?void 0:e.is_collaborative)||v),I=!(_||s||o||c.includes(p)||u),C="CloseupRelatedProducts"!==p&&!u,{tracked_link:T,link:S}=h,P=!(null===(g=null!=T?T:S)||void 0===g||!g);let j=o&&i?"equally-spaced":"default",A="default";return i&&(A=o?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(p)&&(A="icon-only",j="equally-spaced"),{actionBarEditBeforeShare:w,feedbackData:t,feedbackType:n,layout:j,pinTitle:x,showEditButton:E,showOverflowMenu:I,showShareButton:C,showSourceLinkButton:P,sourceLinkStyle:A}}({board:n,feedbackData:ke,feedbackType:Ne,isDenseView:Me,isGroupBoard:Be,isOwnBoard:Ze,isORBACProfileManager:Ge,pin:te,surface:re,viewer:_e})),[n,ke,Ne,Me,Be,Ze,Ge,te,re,_e]),et=!Ge&&(0,h.rh)(te,_e)&&X.includes(re),tt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(re),nt=!Ke&&tt?"shopping":"standard",it=(0,M.J6)(te),ot=(0,H.tc)("web_ag_msg_pin_card_update"),rt="ConversationView"===re&&ot({dangerouslySkipActivation:!0}).anyEnabled,at=(0,i.useMemo)((()=>m({attributionOption:Oe,board:n,contentType:nt,feedbackData:ke,feedbackType:Ne,hasCarouselData:je,isGroupBoard:Be,isOwnBoard:Ze,isORBACProfileManager:Ge,pin:te,showImageOnly:Re,showNativeReactions:it,showPromotedShoppingPrice:qe&&Ke&&tt,surface:re,viewer:_e,inMsgPinCardUpdateExp:rt})),[Oe,n,nt,ke,Ne,je,Be,Ze,Ge,Ke,tt,te,qe,Re,it,re,_e,rt]),st=Boolean(at.pinTitle)||at.contentType||at.userNote||at.showSource||"none"!==at.attributionType||at.showNativeReactions||at.productCurrentPrice||at.productOriginalPrice||at.showPinStats;let lt=oe&&(st||Be);"BaseBoardPinGrid"===re&&Ze&&Ve||ge?lt=!0:K.includes(re)||Me&&(Ze||ce)||J?lt=!1:He||"CreatorProfileStoryPinGrid"!==re&&"CreatorProfileActivityPinGrid"!==re||(lt=!1);const dt=Boolean(me),ct=(0,H.tc)("web_others_board_feed_ads_border"),ut={showNoPinBorderRadius:"TopicBestPinNarrow"===re||"TopicBestPinWide"===re||rt&&"ConversationView"===re,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===re&&Ke&&ct().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:ht}=(0,H.aq)("hfp_homefeed_control_cta_variants"),pt={feedbackType:Ne,isHomefeedTunerVariantExp:ht},{anyEnabled:mt}=(0,H.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),gt=(0,i.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:l}){let d="backend";"CloseupRelatedProducts"===l?d={height:y.GZ,width:y.OE}:"TopicBestPinWide"===l?d={height:x.m9,width:x.BS}:"TopicBestPinNarrow"===l?d={height:x._5,width:x.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l)?d={height:y.zX,width:y.zX}:o&&(d=o);const c=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l);let u="none",h=null!=a?a:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingSquareGridCrop"===l&&n||"ShoppingDynamicHeightGrid"===l&&!r||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",h="high-res"));const p=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",m=(0,f.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===_.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:h,rootMargin:m,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:s}}({hasCarouselData:je,isDenseView:Me,isPromoted:Ke,isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,resolution:ne,showPromotedVideos:mt,surface:re})),[je,Me,Ke,J,Q,ee,ne,mt,re]),ft=Ae&&(0,G.F)(),_t=(0,i.useMemo)((()=>({debugImpressionState:u,slotIndex:be})),[u,be]);return(0,W.jsx)(E.Z,{name:"PinRepConfiguration",children:(0,W.jsx)(U.B,{value:ae,children:(0,W.jsxs)(F.B,{value:{surface:re},children:[(0,W.jsx)(Z.Z,{actionBarProps:Qe,blockClickEvents:e,currentlyPlayingVideo:Te,footerProps:at,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(re)||"BoardMoreIdeasTabContent"===re,impressionsDebuggerProps:_t,obscuredPinOverlayProps:pt,pin:te,pinVisualProps:gt,presentationProps:ut,primaryContentProps:Ye,secondaryContentProps:Xe,showAccessoryContent:Je,showActionBar:!$.includes(re),showFooter:lt,showImpressionsDebugger:ft,showObscuredPinOverlay:dt,showPrimaryAndSecondaryContent:!q.includes(re),showSeeStatsButton:et,showSignalDebugger:Ae,surface:re,...(0,w.Z)(se,["pinId"])}),Se.shouldOpenModal&&Se.newPin&&(null===(le=Se.originalPin)||void 0===le?void 0:le.id)===te.id&&(0,W.jsx)(E.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,W.jsx)(D.Z,{children:(0,W.jsx)(Y,{experience:Se.experience,newPin:Se.newPin})})})]})})})}))},345513:(e,t,n)=>{n.d(t,{J:()=>Vt,Z:()=>Wt});var i=n(667294),o=n(907669),r=n(551687),a=n(517458),s=n(689859),l=n(174523),d=n(585967),c=n(626173),u=n(100001),h=n(439887),p=n(542756);function m(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&(0,p.Z)(o).hostname||""}(n,t)),o.replace("www.","")}var g=n(268648),f=n(250777),_=n(560133),x=n(855168),y=n(883119),b=n(785893);const v={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function E({pin:e,sourceLinkStyle:t,surface:n,url:o}){const r=(0,l.ZP)(),[a,s]=(0,i.useState)(!1),{id:d}=e,p=m(e),E=(0,x.TH)(),w=(0,_.Kl)(e)||{},{slotIndex:I}=(0,c.E)(),C=(0,h.Z)(e,E),T=(0,f.Z)(12,{grid_index:I,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),S=(0,f.Z)(101,{element:162,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),P=(0,f.Z)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:I,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),j=()=>{T(),S(),P()},A=(0,g.Z)({href:o,target:"blank",externalData:{auxData:w,pin:e,surface:n}});return"icon-only"===t?(0,b.jsx)(y.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),A({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{...v.container,...a?v.containerHovered:Object.freeze({}),..."truncated-text"===t?v.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,b.jsx)(u.Z,{hovered:a,pin:e,slotIndex:I,viewType:1,children:(0,b.jsx)(y.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),A({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,b.jsxs)(y.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:v.text},display:"flex",justifyContent:"between",children:[(0,b.jsx)(y.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,b.jsx)(y.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,b.jsx)(y.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,b.jsx)(y.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:p})})]})})})})}const w=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(48035)]).then(n.bind(n,395553)))),I=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,665035)))),C=(0,i.lazy)((()=>n.e(5035).then(n.bind(n,806841))));const T=(0,i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:u,onToggleFlyout:h,pin:p,pinTitle:m,setForcePrimary:g,showEditButton:f,showOverflowMenu:_,showShareButton:x,showSourceLinkButton:v,sourceLinkStyle:T,surface:S}){var P;const j=(0,l.ZP)(),A=(0,y.JZ)(),{isRTL:D}=(0,d.B)(),{viewParameter:R,viewType:O}=(0,c.E)(),{carousel_data:N,id:k,savedInfo:L,tracked_link:M,link:B}=p,F=null!==(P=null!=M?M:B)&&void 0!==P?P:"",{isLeadPin:U}=(0,a.Z)(p),[Z,G]=(0,i.useState)(f),[H,z]=(0,i.useState)(f),[V,W]=(0,i.useState)(f),Y={...D?{marginLeft:f&&_?-44:0}:{marginRight:f&&_?-44:0},transition:D?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},K={opacity:V?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q={...D?{marginRight:H?4:0}:{marginLeft:H?4:0},transition:D?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,i.useEffect)((()=>{let e;return f&&_?(z(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{G(!0),requestAnimationFrame((()=>{W(!0)}))}))}),800)):(z(f),G(f),requestAnimationFrame((()=>{W(f)}))),()=>{clearTimeout(e)}}),[f,_]);let $=null;v&&($=(0,b.jsx)(o.Z,{children:U?(0,b.jsx)(y.zx,{role:"button",accessibilityLabel:j._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:j._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,b.jsx)(E,{pin:p,sourceLinkStyle:T,surface:S,url:F})}));const X=x&&(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"send-share-link",children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(C,{pin:p,setForcePrimary:g})})})})}),J=Boolean(null==L?void 0:L.localPinId)?null==L?void 0:L.localPinId:k,Q=Z&&(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:A?void 0:{__style:K},children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(w,{carouselSlotCurrentIndex:N&&N.index,component:0,onToggleModal:h,pinId:J,style:{size:"sm"},view:O,viewParameter:R,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,b.jsxs)(y.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:$}),e?Q:X,e?X:Q]}):(0,b.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,b.jsx)(y.xu,{flex:"shrink",children:$}),(0,b.jsx)(y.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:A?void 0:{__style:Y},children:(0,b.jsxs)(y.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?Q:X,e?X:Q,_&&(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:A?void 0:{__style:q},children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(I,{feedbackData:t,feedbackType:n,pin:p,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var S=n(40142),P=n(224982),j=n(589444),A=n(549135);function D({direction:e,swipeHandler:t}){const n=(0,l.ZP)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,b.jsx)(y.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,b.jsx)(y.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,b.jsx)(y.JO,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const R=(0,S.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e((0,P.Z)(t,n))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=(0,c.E)(),a=(0,j.Z)({pin:e});if(!a)return null;const{id:s=""}=e,{carousel_slots:l=[],index:d=0,id:u}=a;function h(o){return()=>{const a="left"===o?d-1:d+1;t(s,a),((t=0,o)=>{(0,A.j)(108,{objectId:s,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...(0,_.Kl)(e)||{}})})(d,a)}}return(0,b.jsxs)(y.xu,{height:"100%",position:"relative",width:"100%",children:[d>0&&(0,b.jsx)(o.Z,{children:(0,b.jsx)(D,{direction:"left",swipeHandler:h("left")})}),d<l.length-1&&(0,b.jsx)(o.Z,{children:(0,b.jsx)(D,{direction:"right",swipeHandler:h("right")})})]})}));var O=n(514560),N=n(151101);function k({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o,size:r=32,outline:a=!1}){const s=(0,b.jsx)(y.xu,{"data-test-id":"attribution-avatar",height:r,width:r,children:(0,b.jsx)(N.Z,{name:n,src:e,accessibilityLabel:o,outline:a})});return t?(0,b.jsx)(y.iP,{role:"link",href:t,onTap:i,children:s}):s}var L=n(181307);function M({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:o}){const{anyEnabled:r}=(0,L.aq)("web_disable_ads_blocker",!t);return(0,b.jsx)(y.xu,{children:(0,b.jsx)(y.xv,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:t?(0,b.jsx)(y.rU,{onClick:i,href:t,children:n}):r?(0,b.jsx)("span",{children:n}):n})})}function B({isHover:e,link:t,onClick:n,title:i,weight:o}){return i?(0,b.jsx)(y.xv,{inline:!0,underline:e,size:"md",weight:o,children:t?(0,b.jsx)(y.rU,{onClick:n,href:t,children:i}):i}):null}var F=n(352483),U=n(234070),Z=n(550242);const G=(0,S.connect)(null,(function(e){return{setMostRecentPin:t=>{e((0,Z.K)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,display:o="default",isDarkPromoter:r,isPromotedByPinCreator:s,pin:l,name:d,setMostRecentPin:u,url:h,verifiedIdentity:p,isVerifiedMerchant:m}){const{viewParameter:g,viewType:_}=(0,c.E)(),[x,v]=(0,i.useState)(!1),{id:E,pinner:w,sponsorship:I,story_pin_data_id:C}=l,{isPromoted:T}=(0,a.Z)(l),S=w||l.promoter,{creator:P}=I||{},{id:j}=P||{},A=!!C,D=(0,f.Z)(101,{view:3,element:T?283:27,objectId:E,component:A?230:void 0,...j?{creator_id:j,pin_id:E}:{}}),R=()=>{u(E),D()},O=()=>{v((e=>!e))},N=h&&!e,L="overlay"===o,Z=(0,b.jsxs)(y.xu,{alignItems:"center",display:L?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,b.jsx)(y.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:L?"flex":void 0,justifyContent:"center",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:L?{__style:{marginTop:-45}}:void 0,children:(0,b.jsx)(F.Z,{avatarSize:L?64:32,isDarkPromoter:r,pinId:E,user:S,username:S&&S.username,viewParameter:g,viewType:_,children:(0,b.jsx)(k,{attributionNameLink:e,avatarUrl:n,name:d,onClick:()=>R(),accessibilityLabel:"",size:L?64:32,outline:L})})})}),(0,b.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:L?"flex":void 0,justifyContent:"center",marginTop:L?2:void 0,children:[(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,b.jsxs)(y.kC,{gap:1,children:[(0,b.jsx)(M,{attributionNameLink:e,name:d,onClick:()=>R(),regularWeight:!(T&&!I||s),isHover:x}),(0,b.jsx)(U.Z,{size:"sm",hasVerifiedIdentity:p,isVerifiedMerchant:m})]})}),(0,b.jsx)(B,{isHover:x,title:t,weight:"normal"})]})]});return N?(0,b.jsx)(y.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),R()},href:h,onMouseEnter:O,onMouseLeave:O,children:Z}):Z}));var H=n(479996),z=n(577302),V=n(390764),W=n(628402),Y=n(411221),K=n(34411),q=n(801500),$=n(816670),X=n(613330),J=n(648381);function Q({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=(0,S.useDispatch)(),{slotIndex:a}=(0,c.E)(),{currentFilter:s,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:h}=(0,J.s)(),p=(0,i.useRef)(null),m=(0,K.Z)(),g=(0,z.Z)(m,e),f=s===$.Ac&&(!t||1===t),_=(0,q.E)(l,$.Ac),x=e=>{(0,A.j)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(y.xu,{ref:p,children:(0,b.jsx)(W.Z,{favorited:n,favoriteCount:t,onFavorite:()=>{x(!0),_&&d(),h&&h(!0)},onUnfavorite:()=>{x(!1),e&&f&&r((0,Y.Z)({feedId:u||e.id,feedType:u?X.DV.SECTION_PINS:X.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),p&&!n&&!u&&0===a&&(0,b.jsx)(y.mh,{children:(0,b.jsx)(V.Z,{anchor:p.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ee=n(468966),te=n.n(ee),ne=n(529084),ie=n.n(ne),oe=n(893870),re=n.n(oe),ae=n(756169),se=n(664507),le=n.n(se),de=n(369765),ce=n.n(de),ue=n(438280);const he={goodIdea:te(),love:re(),thanks:le(),wow:ce(),haha:ie()},pe={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},me=["CreatorProfileStoryPinGrid"];const ge=function({alignment:e="start",pinId:t,pinner:n,reactionCounts:i,surface:o}){const r=(0,K.Z)(),a=i?(0,ue.At)(i):null,s=i?(0,ue.Ud)(i):0,l=Boolean(r.isAuth&&(null==n?void 0:n.id)===r.id),d=!!a&&a.length>0&&a.map(((e,t)=>{const n=he[pe[e]];return(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,b.jsx)(y.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),c=!!d&&(0,b.jsx)(y.iP,{role:"link",href:`/pin/${t}/`,children:(0,b.jsxs)(y.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,b.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,b.jsx)(y.xu,{paddingX:1,children:(0,b.jsx)(y.xv,{size:"md",children:(0,b.jsx)(ae.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&me.includes(o)&&(0,b.jsx)(y.xu,{height:24});return c||u};var fe=n(752187),_e=n(660310);function xe({feedbackType:e,pin:t}){const n=(0,l.ZP)(),{pinner:i,source_interest:o}=t,{full_name:r,username:a}=i||{},{name:s}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${a}/`,h=(0,_e.NO)(s),p=`/search/pins/?q=${encodeURIComponent(h)}&rs=image_only_attribution`,m=d?p:u,g={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(c||d){const e=0===g.indexOf("{"),t=d?s:r,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,b.jsxs)(y.xu,{children:[(0,b.jsx)(y.rU,{inline:!0,href:m,children:(0,b.jsx)(y.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})}),(0,b.jsx)(y.xv,{inline:!0,size:"md",children:n})]}):(0,b.jsxs)(y.xu,{children:[(0,b.jsx)(y.xv,{inline:!0,size:"md",children:n}),(0,b.jsx)(y.rU,{inline:!0,href:m,children:(0,b.jsx)(y.xv,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})})]})}return(0,b.jsx)(y.xu,{children:(0,b.jsx)(fe.Z,{pin:t,children:(0,b.jsx)(y.xv,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var ye=n(665035),be=n(708206),ve=n(958795),Ee=n(215828);function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ie extends i.Component{constructor(...e){super(...e),we(this,"state",{spamCheck:null}),we(this,"spamCheckExperimentGroup",null),we(this,"mounted",!1),we(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:n,url:i}=this.props;i&&t&&(0,Ee.$3)({location:e,pin:t,surface:n})&&(0,Ee.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})})),we(this,"handleClick",(e=>{const{auxData:t,location:n,onClick:i,pin:o,pinId:r,url:a}=this.props;(0,Ee.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),i&&i(e),a&&(0,ve.h)({href:a,pinId:r,pin:o,location:n,auxData:t}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:t}=this.props;return(0,b.jsx)("a",{href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Ce=(0,be.compose)((0,S.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),(()=>({}))),x.EN)(Ie);var Te=n(730762);function Se(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Pe=n(549156);function je({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:a}){const s=(0,c.E)(),{ad_destination_url:l,carousel_data:d,id:u,link:h,tracked_link:p}=i;let m,g=l||p||h||"",f="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(g=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},f+="-carousel"}return(0,b.jsx)(y.xu,{"data-test-id":"otpp",children:(0,b.jsx)(Pe.Z,{id:f,children:(0,b.jsx)(Ce,{auxData:m,onClick:()=>{const e=Te.Z.getInstance(),i=e.getViewFromContext();(0,A.j)(12,{...n,view:a||s.viewType,viewParameter:r||s.viewParameter,component:t||s.componentType,objectId:u,grid_index:s.slotIndex,pin_id:u,prefetch_percentage_complete:Se(h||"")}),(0,A.j)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:a||s.viewType,viewParameter:r||s.viewParameter,...n,component:t||s.componentType,objectId:u,grid_index:s.slotIndex,pin_id:u,prefetch_percentage_complete:Se(h||"")}),(0,A.j)(13,{closeup_navigation_type:"web_closeup",objectId:u,component:t||s.componentType,view:3,...s.contextLogData,...n}),e.addViewToContext(i)},pinId:u,surface:o,url:g,children:e})})})}var Ae=n(586840);function De(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r,isLeadPin:s}=(0,a.Z)(t),l=(0,L.tc)("web_no_tap_tap"),d=!s&&(i||o&&r&&l().anyEnabled)?je:fe.Z;return(0,b.jsx)(d,{surface:i?n:void 0,...(0,Ae.Z)(e,["surface"])})}function Re({pin:e,pinNoteText:t}){return(0,b.jsx)(De,{pin:e,children:(0,b.jsx)(y.xv,{lineClamp:1,overflow:"normal",size:"md",children:t})})}var Oe=n(864793),Ne=n(965035);function ke({value:e,valueFormat:t}){const n=(0,l.ZP)();return e||0===e?"TIME"===t?(0,Ne.Z)(e):(0,b.jsx)(ae.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,b.jsx)(y.u,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function Le({pin:e}){const t=(0,l.ZP)(),{isStoryPin:n,isVideo:i}=(0,a.Z)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=(0,a.Z)(e);return!n||!o&&i?i:n}(e),r=(0,Oe.ZP)(i,n,t),s=i||n?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return(0,b.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:r.map((({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:r})=>(0,b.jsxs)(y.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,b.jsx)(y.xu,{display:"inlineBlock",marginEnd:1,children:(0,b.jsx)(y.JO,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),(0,b.jsx)(y.xv,{inline:!0,size:"md",children:(0,b.jsx)(ke,{value:null==s?void 0:s[n],valueFormat:r})})]},n)))})}function Me({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return(0,b.jsx)(De,{pin:n,surface:i,children:(0,b.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,b.jsx)(y.xv,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,b.jsx)(y.xv,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Be=n(537343),Fe=n(746857);function Ue({pin:e,surface:t}){return(0,b.jsx)(De,{pin:e,surface:t,children:(0,b.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,b.jsx)(y.xv,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,Fe.Z)(e,t)})})})}var Ze=n(11200);function Ge({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return(0,b.jsx)(y.xv,{color:"darkGray",lineClamp:e,size:"md",weight:"bold",children:(0,b.jsx)(De,{pin:t,surface:i,children:n})})}var He=n(335529);const ze={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${He.X}ms ease`},visible:{opacity:1}}};function Ve({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:r,hasTitleOrSource:s,hoverTransitionState:d,isDarkPromoter:c,pin:u,pinNoteText:h,pinTitle:p,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:_,showCarouselEllipsis:x,showFavoriteButton:v,showGroupBoardAvatar:E,showNativeReactions:w,showOverflowMenu:I,showPinStats:C,showSource:T,showTextContent:P,surface:j,titleLines:A}){var D,R,O,N;const M=(0,l.ZP)(),F=(0,S.useDispatch)(),{favorited_by_me:U,favorite_user_count:Z,id:z,pinner:V,reaction_counts:W,sponsorship:Y,story_pin_data:K}=u,{has_affiliate_products:q}=K||{},$=function(e,t,n){var i,o,r,s;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:h}=e,{sponsor:p}=u||{},{isPromoted:m}=(0,a.Z)(e),{official_user:g}=d||{},f=m&&!!u&&(null==h?void 0:h.id)!==(null==c?void 0:c.id),_=e.pinner||{};let x="",y="",b="",v="",E="",w="",I=!1,C=!1;var T,S,P,j,A,D;if(f)x=null!==(T=null!==(S=null==h?void 0:h.image_medium_url)&&void 0!==S?S:null==h?void 0:h.image_small_url)&&void 0!==T?T:"",y=`/${null!==(P=null==h?void 0:h.username)&&void 0!==P?P:""}/`,b=null==c?void 0:c.full_name,v=null==h?void 0:h.full_name,w=`/${null!==(j=null==h?void 0:h.username)&&void 0!==j?j:""}/`,E=`/${null!==(A=null==c?void 0:c.username)&&void 0!==A?A:""}/`,I=null==h||null===(D=h.verified_identity)||void 0===D?void 0:D.verified,C=null==h?void 0:h.is_verified_merchant;else if(m&&c)x=c.image_medium_url||c.image_small_url,b=c.full_name,v=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),w=`/${c.username}/`;else if(u&&null!=p&&p.username){var R,O,N,k,L,M;x=null!==(R=null!==(O=null!==(N=null==h?void 0:h.image_large_url)&&void 0!==N?N:null==h?void 0:h.image_medium_url)&&void 0!==O?O:null==h?void 0:h.image_small_url)&&void 0!==R?R:"",y=`/${null!==(k=null==h?void 0:h.username)&&void 0!==k?k:""}/`,b=p.full_name,v=null==h?void 0:h.full_name,w=`/${null!==(L=null==h?void 0:h.username)&&void 0!==L?L:""}/`,E=`/${p.username}/`,I=null==h||null===(M=h.verified_identity)||void 0===M?void 0:M.verified,C=null==h?void 0:h.is_verified_merchant}else if(h){var B,F,U,Z,G;x=null!==(B=null!==(F=null!==(U=h.image_large_url)&&void 0!==U?U:h.image_medium_url)&&void 0!==F?F:h.image_small_url)&&void 0!==B?B:"",v=h.full_name,w=`/${null!==(Z=h.username)&&void 0!==Z?Z:""}/`,I=null===(G=h.verified_identity)||void 0===G?void 0:G.verified,C=h.is_verified_merchant}else if("show-for-claimed-content"===t){var H,z,V,W;null!=g&&g.is_primary_website_verified&&g.username&&(x=null!==(H=null!==(z=null!==(V=g.image_large_url)&&void 0!==V?V:g.image_medium_url)&&void 0!==z?z:g.image_small_url)&&void 0!==H?H:"",v=g.full_name,w=`/${g.username}/`,I=null===(W=g.verified_identity)||void 0===W?void 0:W.verified,C=g.is_verified_merchant)}else{var Y,K,q,$;x=null!==(Y=null!==(K=null!==(q=_.image_large_url)&&void 0!==q?q:_.image_medium_url)&&void 0!==K?K:_.image_small_url)&&void 0!==Y?Y:"",y=`/${_.username}/`,v=_.full_name,w=l?l.url:"",I=null===($=_.verified_identity)||void 0===$?void 0:$.verified,C=_.is_verified_merchant}return{avatarUrl:null!==(i=x)&&void 0!==i?i:"",attributionNameLink:y,attributionTitle:null!==(o=b)&&void 0!==o?o:"",name:null!==(r=v)&&void 0!==r?r:"",sponsorUrl:E,url:null!==(s=w)&&void 0!==s?s:"",verifiedIdentity:!!I,isVerifiedMerchant:!!C}}(u,e,M),{avatarUrl:X,attributionNameLink:J,attributionTitle:ee,name:te,sponsorUrl:ne,url:ie,verifiedIdentity:oe,isVerifiedMerchant:re}=$,ae=!!u.promoter&&!u.is_downstream_promotion,se=ae&&(null===(D=u.native_creator)||void 0===D?void 0:D.id)===(null===(R=u.promoter)||void 0===R?void 0:R.id),le=(0,f.Z)(101,{view:3,element:27,pin_id:z,objectId:z,component:u.story_pin_data_id?230:void 0,...null!=Y&&null!==(O=Y.creator)&&void 0!==O&&O.id&&null!==(N=Y.sponsor)&&void 0!==N&&N.id?{creator_id:Y.creator.id,sponsor_id:Y.sponsor.id}:{}}),de=e=>F(de(e)),ce=(0,L.tc)("web_search_ideapin_module"),ue=!!u.story_pin_data_id&&"SearchItem"===j&&ce().anyEnabled,he=(0,L.tc)("web_ag_msg_pin_card_update"),pe="ConversationView"===j&&he({dangerouslySkipActivation:!0}).anyEnabled,me=!se&&Y?(0,b.jsx)(B,{link:ne||ie,onClick:()=>(de(z),void le()),title:(0,Be.ZP)(ee,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,fe="ConversationView"===j&&pe?{padding:"8px"}:ze.container;return(0,b.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:fe},children:[x&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:s||E||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,b.jsx)(H.default,{pinId:z})}),C&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,b.jsx)(Le,{pin:u})}),(0,b.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,b.jsxs)(y.xu,{flex:"grow",children:[(!!Y||q&&!ae)&&!se&&(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(y.xu,{flex:"grow",overflow:"hidden",children:(0,b.jsx)(Ze.Z,{hasAffiliateProducts:q,isPromoted:ae,sponsorName:me,sponsorshipStatus:null==Y?void 0:Y.status})})}),(P&&r||v)&&(0,b.jsxs)(y.xu,{marginBottom:1,children:[(g||m)&&(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(Me,{currentPrice:m,originalPrice:g,pin:u,surface:j})}),v?(0,b.jsxs)(y.kC,{alignItems:"start",children:[(0,b.jsx)(y.kC,{flex:"grow",children:(0,b.jsx)(Ge,{numberOfLines:A,pin:u,pinTitle:p,surface:j})}),(0,b.jsx)(y.xu,{marginStart:3,children:(0,b.jsx)(Q,{board:t,favorited:!!U,favoriteCount:null!=t&&t.should_show_board_activity?null!=Z?Z:0:void 0,pinId:z})})]}):!ue&&(0,b.jsx)(Ge,{numberOfLines:A,pin:u,pinTitle:p,surface:j}),T&&(0,b.jsx)(y.xu,{marginBottom:2,children:(0,b.jsx)(Ue,{pin:u,surface:j})})]}),(0,b.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(y.xu,{flex:"grow",children:(()=>{const t=(0,b.jsx)(G,{attributionNameLink:J,attributionTitle:ae&&!Y||se?ee:"",avatarUrl:X,isDarkPromoter:!!c,isPromotedByPinCreator:!!se,verifiedIdentity:ue&&oe,isVerifiedMerchant:ue&&re,name:te,pin:u,url:ie,display:ue?"overlay":"default"});if(ue)return t;switch(e){case"none":return null;case"image-only-credit":return(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:ze.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,b.jsx)(xe,{pin:u,feedbackType:o})});default:return Object.values($).some((e=>Boolean(e)))?t:null}})()}),I&&(0,b.jsx)(y.xu,{flex:"none",children:(0,b.jsx)(ye.default,{feedbackData:n,feedbackType:o,pin:u,pinTitle:p,setForcePrimary:_,transparentBackground:!0})})]}),w&&!!W&&(0,b.jsx)(y.xu,{marginTop:"ConversationView"===j&&pe?2:void 0,children:(0,b.jsx)(ge,{pinId:z,pinner:V,reactionCounts:W,surface:j,alignment:ue?"center":void 0})}),h&&(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(Re,{pin:u,pinNoteText:h})}),E&&!v&&(0,b.jsx)(y.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!v&&(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(k,{attributionNameLink:J,avatarUrl:X,name:te}),(0,b.jsx)(y.xu,{marginStart:2,flex:"grow",children:(0,b.jsx)(y.xv,{size:"md",children:te})})]})})]})})]})}var We=n(539484),Ye=n(278646);const Ke=(0,i.lazy)((()=>n.e(33168).then(n.bind(n,950057)))),qe=(0,i.lazy)((()=>n.e(69221).then(n.bind(n,379575))));function $e({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:a,productOriginalPrice:d,productRating:c,productShipping:u,showSource:h,showVisitSiteButton:p,surface:m,titleLines:g}){var f;const x=(0,l.ZP)(),v=(0,L.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:E,group:w}=v({dangerouslySkipActivation:!0}),I=null===(f=n.rich_summary)||void 0===f?void 0:f.url;"shopping"!==e||w.includes("pwt")||v();const C=(0,We.Z)({url:I})?"nofollow":"none";return(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:ze.productContainer},height:"100%",children:(0,b.jsx)(y.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)(y.xu,{children:[(d||a)&&(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(Me,{currentPrice:a,originalPrice:d,pin:n,surface:m})}),(0,_.qN)(n)&&(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(Ke,{})})})}),(0,_.SP)(n)&&(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(qe,{})})})}),(0,b.jsx)(y.xu,{marginBottom:1,children:(0,b.jsx)(Ge,{numberOfLines:g,pin:n,pinTitle:o,surface:m})}),h&&(0,b.jsx)(Ue,{pin:n,surface:m}),"shopping"===e&&E&&(c||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,b.jsx)(Ye.L,{count:null==c?void 0:c.count,countFormat:"number",ratingValue:null==c?void 0:c.rating,shippingInfo:u})]}),p&&I?(0,b.jsx)(y.xu,{marginTop:2,children:(0,b.jsx)(y.zx,{role:"link",fullWidth:!0,href:I,rel:C,onClick:()=>{(0,A.j)(12,{view:1,viewParameter:3563})},target:"blank",text:x._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const Xe=(0,i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:r,feedbackType:a,hoverTransitionState:s,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:m,productShipping:g,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:x,showGroupBoardAvatar:v,showNativeReactions:E,showOverflowMenu:w,showPinStats:I,showSource:C,showTextContent:T,showVisitSiteButton:S,surface:P,titleLines:j}){const A=u||C,D="shopping"===i?(0,b.jsx)($e,{contentType:i,hasTextContent:!!A,pin:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:m,productShipping:g,showSource:C,showVisitSiteButton:S,surface:P,titleLines:j}):(0,b.jsx)(Ve,{attributionType:e,board:n,feedbackData:r,feedbackType:a,hasTextContent:!!A,hasTitleOrSource:!!A,hoverTransitionState:s,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:x,showGroupBoardAvatar:v,showNativeReactions:E,showOverflowMenu:w,showPinStats:I,showSource:C,showTextContent:T,surface:P,titleLines:j});return t?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:D}):(0,b.jsx)(y.kC,{flex:"grow",children:(0,b.jsx)(o.Z,{fullWidth:!0,children:D})})}));var Je=n(773788),Qe=n(269307);const et=(0,i.lazy)((()=>n.e(34979).then(n.bind(n,479818)))),tt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(43473)]).then(n.bind(n,845680)))),nt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(51555),n.e(22347)]).then(n.bind(n,912836)))),it=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(51555),n.e(22538)]).then(n.bind(n,23945)))),ot=(0,i.lazy)((()=>n.e(1593).then(n.bind(n,34399))));function rt({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:a,onToggleModal:l,pin:d}){const{id:u,savedInfo:h}=d,p=(0,i.useRef)(!!h),m=(0,S.useSelector)((({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:g}=(0,Qe.tY)(n);void 0!==g&&["classic","controlled","inline"].includes(e.type)&&(e=g);const{viewParameter:_,viewType:x}=(0,c.E)(),v=(0,f.Z)(101,{element:0,objectId:u});let E=null;const w={onToggleModal:a,view:x,viewParameter:_,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(m||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;E=(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(it,{experience:m||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:_})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;E=(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(tt,{onClickCallback:v,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!h&&(0,b.jsx)(o.Z,{children:(0,b.jsx)(Je.Z,{isNewlySaved:!p.current,name:h.title,type:h.type,url:h.url})}),variant:"lego",viewParameter:_})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;E=(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"better-save",children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(nt,{initialSelection:n,onSave:i,onToggleFlyout:a,onToggleModal:l,pin:t,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,b.jsx)(o.Z,{children:(0,b.jsx)(Je.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:_,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?E=(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"persistent-one-click-save",children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(et,{...w,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(E=(0,b.jsx)(y.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(y.xu,{"data-test-id":"pin-promote-button",children:(0,b.jsx)(o.Z,{children:(0,b.jsx)(ot,{pin:d})})})})})}));return(0,b.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,b.jsx)(y.xu,{display:"flex",margin:3,children:E&&(0,b.jsx)(y.xu,{marginStart:"auto",flex:"grow",children:E})})})}var at=n(299485),st=n(505812),lt=n(329485),dt=n(771400),ct=n(273202);const ut={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function ht({isSelected:e}){const t=(0,l.ZP)();return(0,b.jsx)(y.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?ut:{},children:(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,b.jsx)(y.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,b.jsx)(y.JO,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var pt=n(639387),mt=n(925854),gt=n(80078),ft=n(580849),_t=n(711874),xt=n(852474),yt=n(731164);const bt={},vt=e=>{yt.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,p.Z)(e);return new Promise(((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(yt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(yt.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(bt[e]&&(bt[e].loaded=!0),yt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(yt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},bt[e]||(o.send(),bt[e]={added:!0,xhr:o},yt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},Et={},wt=(e,t)=>{const n="string"==typeof e?e:e.url;if(t&&n){const e="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",e)}return n};function It(e,t){return(wt("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Ct(e){const{id:t}=e;t&&Et[t]&&Et[t].length>0&&Et[t].forEach((e=>{(e=>{bt[e]&&bt[e].xhr&&!bt[e].loaded&&(yt.Z.increment("web_prefetch_abort_xhr",1),bt[e].xhr.abort(),bt[e].aborted=!0)})(e)}))}function Tt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:s=!1,onError:l,onLoad:d,pin:h,pinImageCrop:p,resolution:m="default",rootMargin:g,selectionState:f,showCarousel:_,showPromotedVideos:x,surface:v}){const{contextLogData:E,slotIndex:w,viewParameter:I,viewType:C}=(0,c.E)(),{group:T}=(0,L.aq)("web_prefetch_video_in_feed"),{id:S="",aggregated_pin_data:P,image_signature:j,story_pin_data:A}=h,{pin_tags_chips:D}=P||{},{isOneTap:R,isVideo:O,isPromoted:N,isGif:k}=(0,a.Z)(h),{cropHeight:M,cropWidth:B}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(p);let F=null;if(e||!O||!x&&N)if(_)F=(0,b.jsx)(y.xu,{"data-test-id":"pinrep-carousel",children:(0,b.jsx)(lt.Z,{cropHeight:M,cropWidth:B,onError:l,onLoad:d,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:S,showCarouselBadge:!1,pin:h})});else{const e="backend"===p?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0}px`}}return{}}(h):{};F=(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,b.jsx)(dt.Z,{animateGif:k&&s,cropHeight:M,cropWidth:B,fallbackColor:n,imageFit:o,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:d,onError:l,pin:h})})}else F=(0,b.jsx)(y.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:(0,b.jsx)(ct.Z,{cropHeight:M,rootMargin:g,inAdsDesktopVideoExperiment:O&&x,pin:h,surface:v,onLoad:d,viewType:C,viewParameter:I,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:l,isExperimentalPinRep:!0})});const U=(0,b.jsx)(y.zd,{wash:!0,children:(0,b.jsx)(u.Z,{hovered:r,pin:h,slotIndex:w,viewType:1,children:F})}),Z=["selected-image-only","deselected-image-only"].includes(f),G="selected-image-only"===f,H=(0,i.useRef)(!0),z=(0,i.useRef)(!1),V=(0,i.useRef)(!1),W=(0,L.aq)("web_video_quic").group;if((0,i.useEffect)((()=>{H.current||!r||R||t||z.current?r||!z.current||V.current||(Ct(A||h),V.current=!0):A?(!function(e,t){var n;const{id:i,pages:o,pages_preview:r}=e;if(!r&&!o)return;const a=r?r[0]:null==o?void 0:o[0],s=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:n}=(0,xt.Z)(s.video)||{},o=n||e;if(o&&i){var l;const e=null!==(l=wt(o,t))&&void 0!==l?l:"";Et[i]=Et[i]?Et[i].concat(e):[e],vt(e)}}}(A,W),z.current=!0):(!function(e,t){const{id:n,videos:i}=e,{video_list:o}=i||{},r=(0,pt.Z)({pin:e}),{video:a}=(0,mt.Z)(r)||{},{hls:s,hlsv3:l,mp4:d}=a||{};if(o){const e=(0,xt.t)(o)||{},i=l||s||{},r=ft.K.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",a=i.duration||(null==d?void 0:d.duration)||null;if(a&&(0,_t.F)(r,a)&&r.startsWith("enabled")&&e.url){var c;const i=null!==(c=wt(e.url,t))&&void 0!==c?c:"";vt(i),Et[n]=Et[n]?Et[n].concat(i):[i]}else if(i.url){var u;const e=null!==(u=wt(i.url,t))&&void 0!==u?u:"";Et[n]=Et[n]?Et[n].concat(e):[e],vt(e).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[gt.VS]){const e=It(i[gt.VS],t);return Et[n]=Et[n].concat(e),vt(null!=e?e:"")}return null})).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const e=It(i[0],t);return Et[n]=Et[n].concat(e),vt(null!=e?e:"")}return null}))}}}(h,W),z.current=!0),H.current=!1}),[t,r,R,A,h,T,W]),t)return(0,b.jsxs)(i.Fragment,{children:[U,Z&&(0,b.jsx)(ht,{isSelected:G}),D&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(st.Z,{pin:h,enableCloseupLink:!0})})]});const{commerce_data:Y}=E||{},K=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(v);return(0,b.jsxs)(De,{contextLogData:{grid_index:w,image_signature:j,commerce_data:K?Y:void 0},elementType:35,pin:h,surface:v,children:[U,D&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(st.Z,{pin:h,enableCloseupLink:!1})})]})}var St=n(488023),Pt=n(255539),jt=n(998864);const At=Pt.Z.makeSendShareButton((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,l.ZP)(),n=(0,jt.Z)();return(0,b.jsx)(y.zx,{fullWidth:!0,onClick:n((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));var Dt=n(777158);var Rt=n(452963),Ot=n(818026),Nt=n(546352),kt=n(7713),Lt=n(451875);const Mt="#000000",Bt="#ffffff";function Ft({selected:e=!1}){const t=(0,l.ZP)(),{isRTL:n}=(0,d.B)();return(0,b.jsx)(y.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new y.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Mt:Bt,borderRadius:Lt.Oc,boxShadow:"inset 0 0 0 3px #fff"}},children:e?(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,b.jsx)(y.JO,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,b.jsx)(y.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,b.jsx)(y.JO,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Ut={wrapper:{borderRadius:Lt.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Lt.Dv.VISUAL},savedOverlay:{backgroundColor:Lt.Dv.SAVED},legoWashOverlay:{backgroundColor:Lt.Dv.LEGO_WASH}};function Zt({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:i,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:a="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:h="none",seeStatsButton:p,footer:m,selectionState:g="no-selection",debugContent:f,signalDebuggerContent:_,signalDebuggerV2Content:x,signalDebuggerV2ContentVisibility:v="none",obscuredPinOverlay:E,showNoPinBorderRadius:w,showPromotedPinBorderTreatment:I,shouldUseLegoWash:C}){return(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:I?Ut.promotedPinBorderTreatment:{}},height:"100%",children:(0,b.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:w?{}:Ut.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,b.jsx)(Ft,{selected:"selected"===g}),(0,b.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:w?{}:Ut.wrapper},overflow:"hidden",position:"relative",onFocus:i,onBlur:o,onMouseEnter:i,onMouseLeave:o,children:[e,(0,b.jsx)(kt.Z,{visibility:n,children:(0,b.jsx)(Nt.Z,{additionalStyles:C?Ut.legoWashOverlay:Ut.visualOverlay})}),(0,b.jsx)(kt.Z,{visibility:t,children:(0,b.jsx)(Nt.Z,{additionalStyles:C?Ut.legoWashOverlay:Ut.savedOverlay})}),d&&(0,b.jsx)(kt.Z,{visibility:c,children:(0,b.jsx)(Nt.Z,{children:d})}),s&&(0,b.jsx)(kt.Z,{visibility:l,children:(0,b.jsx)(Nt.Z,{children:s})}),r&&(0,b.jsx)(kt.Z,{visibility:a,children:(0,b.jsx)(Nt.Z,{children:r})}),x&&(0,b.jsx)(kt.Z,{visibility:v,children:(0,b.jsx)(Nt.Z,{children:(0,b.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:x})})}),u&&(0,b.jsx)(kt.Z,{visibility:h,children:(0,b.jsx)(Nt.Z,{children:(0,b.jsx)(y.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),p&&(0,b.jsx)(Nt.Z,{children:(0,b.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),f&&(0,b.jsx)(Nt.Z,{children:f}),_]}),m,E&&(0,b.jsx)(y.xu,{children:E})]})})}var Gt=n(515528);function Ht(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function zt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Vt=228;const Wt=(0,i.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:n,currentlyPlayingVideo:a,disableHover:s=!1,footerProps:l,forcePrimaryContentVisibility:d,impressionsDebuggerProps:u,onError:h,onLoad:p,obscuredPinOverlayProps:m,pin:g,pinVisualProps:f,presentationProps:_,primaryContentProps:x,rounding:v,selectionState:E,secondaryContentProps:w,showAccessoryContent:I,showActionBar:C,showFooter:S,showImpressionsDebugger:P,showSeeStatsButton:j,showSignalDebugger:A,showObscuredPinOverlay:D,showPrimaryAndSecondaryContent:N,surface:k}){const{savedInfo:M}=g,{viewType:B}=(0,c.E)(),{showEnabledSaveBehavior:F}=(0,Qe.Yh)(Gt.ZF.includes(k)||Gt.zI.includes(k)),[U,Z]=(0,i.useState)(!1),G=(0,He.Z)(U);let{isHovering:H,hoverTransitionState:z,handleMouseOver:V,handleMouseLeave:W}=function(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,hoverTransitionState:(0,He.Z)(e,0,He.X),handleMouseOver:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}();s&&(H=!1,z="inactive");const Y=(0,He.Z)(!!M),K=Ht(Y),q=Ht(z),$=Ht(z),X=Ht(G),J=Ht(Y),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(k),ee="visible"!==K||Q?K:"none",te={primaryContentVisibility:zt($,X,"visible"===J?"none":J),secondaryContentVisibility:(ne=zt($,X,J),"none"===ne?"visible":"visible"===ne?"none":"hidden"),actionBarVisibility:zt($,X),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ne;const ie=e=>Z(e),oe=e=>Z(e),re=e=>{Z(e),e||W()};let ae=null;d&&(te.primaryContentVisibility="visible"),"none"!==te.primaryContentVisibility&&N&&(ae=(0,b.jsx)(rt,{forcePrimaryContent:ie,showEnabledSaveBehavior:F,onToggleFlyout:oe,onToggleModal:re,pin:g,...x}));let se=null;const le=(0,i.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,a]=(0,i.useState)(!n||t),s=(0,i.useRef)(o),l=(0,i.useRef)(null);if(n){const e=s.current;s.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),a(!0),l.current=setTimeout((()=>{a(!1),l.current=null}),4e3))}return(0,i.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(g,de),ue=Ht((0,He.Z)(ce));te.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(te.secondaryContentVisibility,ue),se=(w.allowShoppingPriceIndicator||w.shoppingLabelColor||"none"!==te.secondaryContentVisibility)&&N&&!a&&(0,b.jsx)(y.xu,{margin:2,children:(0,b.jsx)(at.Z,{pin:g,...w})});let he=null;I&&(he=(0,b.jsx)(R,{pin:g}),te.accessoryContentVisibility=Ht(z)),f.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;j&&(e.showSourceLinkButton=!1,pe=(0,b.jsx)(o.Z,{children:(0,b.jsx)(St.Z,{pinId:g.id,surface:k})}));const me=C?(0,b.jsx)(T,{onToggleFlyout:oe,pin:g,setForcePrimary:Z,surface:k,...e}):null;let ge=null;S&&(ge=(0,b.jsx)(Xe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?z:null,pin:g,setForcePrimary:Z,surface:k,...l})),f.isSocialSeasonalBoard&&(ge=(0,b.jsx)(y.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,b.jsx)(y.xu,{margin:"auto",width:Vt,children:(0,b.jsx)(At,{isFlyoutOpen:U,onFlyoutDismiss:()=>oe(!U),onToggleFlyout:()=>oe(!U),pinId:g.id,sendType:"pin",shownWithinMasonry:!0,viewType:B})})}));const fe=P&&(0,b.jsx)(Rt.Z,{...u}),_e=A&&g.debug_info_html&&(0,b.jsx)(y.xu,{paddingY:1,children:(0,b.jsx)("pre",{children:g.debug_info_html})}),xe=(0,b.jsx)(O.Z,{pin:g}),ye=(0,i.useRef)();"header-only"===(0,Dt.Z)(ye)&&(te.actionBarVisibility="none",te.accessoryContentVisibility="none");const be=D?(0,b.jsx)(Ot.ZP,{pin:g,...m}):null,ve="ShoppingList"===k?{height:"100%"}:{},Ee=(0,L.tc)("web_ag_msg_pin_card_update"),we="ConversationView"===k&&Ee({dangerouslySkipActivation:!0}).anyEnabled,Ie=(0,L.tc)("web_creator_attr_hover_overlay"),Ce=S&&"default"===l.attributionType&&Gt.ZF.includes(k),Te=!g.is_promoted&&!s&&Ce,Se=Te&&Ie({dangerouslySkipActivation:!0}).anyEnabled;return Te&&(ge=(0,b.jsx)(y.xu,{onMouseEnter:Ie,onFocus:Ie,children:ge})),(0,b.jsx)(r.Z,{name:"PinRepContainer",children:(0,b.jsx)(y.xu,{"data-test-id":"pin","data-test-pin-id":g.id,onFocus:Se?()=>{}:V,onBlur:Se?()=>{}:W,onMouseEnter:Se?()=>{}:V,onMouseLeave:Se?()=>{}:W,dangerouslySetInlineStyle:{__style:ve},rounding:we&&"ConversationView"===k?v:void 0,borderStyle:we&&"ConversationView"===k?n:"none",overflow:we&&"ConversationView"===k?"hidden":"visible",children:(0,b.jsx)(Zt,{visualOverlayVisibility:q,savedOverlayVisibility:ee,handleMouseOverPinContent:Se?V:()=>{},handleMouseLeavePinContent:Se?W:()=>{},primaryContent:ae,primaryContentVisibility:te.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:te.secondaryContentVisibility,accessoryContent:he,accessoryContentVisibility:te.accessoryContentVisibility,actionBar:me,actionBarVisibility:te.actionBarVisibility,seeStatsButton:pe,footer:ge,selectionState:E,debugContent:fe,signalDebuggerV2Content:xe,signalDebuggerV2ContentVisibility:te.signalDebuggerV2ContentVisibility,signalDebuggerContent:_e,obscuredPinOverlay:be,..._,children:(0,b.jsx)(y.xu,{height:"100%",ref:ye,children:(0,b.jsx)(Tt,{blockClickEvents:t,isHovering:H,onError:h,onLoad:p,pin:g,surface:k,selectionState:E,...f})})})})})}))},476865:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(667294),o=n(40142),r=n(269935),a=n(439887),s=n(28745),l=n(538958),d=n(432921),c=n(904126),u=n(883119),h=n(785893);const p={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,o,r;const{pin:{id:a,images:s,title:l,videos:m,video_status_message:g}}=e,f=g||{},_=s&&s["236x"],x=m&&(null===(t=m.video_list)||void 0===t?void 0:t[c.K.V_HLSV4]),{duration:y}=x||{};return(0,h.jsx)(i.Fragment,{children:(0,h.jsx)(u.Zb,{children:(0,h.jsxs)(u.iP,{role:"link",href:`/pin/${a}`,rounding:2,children:[(0,h.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[_&&(0,h.jsx)(u.Ee,{alt:l||"",color:"lightGray",naturalHeight:null!==(n=_.height)&&void 0!==n?n:1,naturalWidth:null!==(o=_.width)&&void 0!==o?o:1,src:null!==(r=_.url)&&void 0!==r?r:""}),!!y&&(0,h.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,h.jsx)(d.Z,{duration:y})}),(0,h.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,h.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,h.jsx)(u.X6,{color:"white",overflow:"normal",size:"sm",children:f.title}),(0,h.jsx)(u.xu,{marginTop:4,children:(0,h.jsx)(u.xv,{color:"white",size:"md",overflow:"normal",children:f.subtitle})})]})]}),(0,h.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,h.jsx)(u.xu,{flex:"grow",children:l&&(0,h.jsx)(u.xu,{paddingY:1,children:(0,h.jsx)(u.xv,{inline:!0,size:"md",weight:"bold",children:l})})})})]})})})}var g=n(784655),f=n(855168),_=n(398791),x=n(560133);function y({trackingParameters:e,pin:t,pinId:n,...d}){var c,u,p;const y=(0,f.TH)(),b=(0,o.useSelector)((({pins:e})=>e[n]))||t,v=(0,a.Z)(b,y),E=(0,s.Z)(b),w=!!(E&&E.url&&E.height&&E.width)||void 0,I=E&&b.videos?b.videos.id:void 0,[C,T]=(0,i.useState)(!1),S=(0,i.useCallback)((()=>T(!0)),[]),P=(0,i.useCallback)((()=>T(!1)),[]),{componentType:j,contextLogData:A,impressionAuxFields:D,slotIndex:R,viewData:O,viewParameter:N,viewType:k}=e;return(0,h.jsx)(r.Z,{componentType:j,contextLogData:{..."undefined"!=typeof window?{pwa_type:(0,l.ZP)(window)}:{},...A,...(0,x.Kl)(b,A)},impressionAuxFields:{...D||{},isNativeVideoAndWatchable:w,videoIdStr:I,clientTrackingParams:v||`${b.tracking_params||""}-0`,imageURL:null!==(c=null===(u=b.images)||void 0===u||null===(p=u["236x"])||void 0===p?void 0:p.url)&&void 0!==c?c:"",richTypes:(0,x.GT)(b)},impressionType:"Pin",isPaused:!C,loggingId:b.id,slotIndex:R,viewData:O,viewParameter:N,viewType:k,children:(0,g._J)(b)?(0,h.jsx)(m,{pin:b}):(0,h.jsx)(_.Z,{...d,debugImpressionState:C?"started":"paused",onError:P,onLoad:S,pin:b,pinId:n,trackingParameters:{componentType:j,contextLogData:A,slotIndex:R,viewParameter:N,viewType:k}})})}},451875:(e,t,n)=>{n.d(t,{Oc:()=>i,mv:()=>o,Dv:()=>r});const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},789875:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(454217),o=n(946753);function r({feedbackOptions:e,pin:t,viewParameter:n},r){const{board:a,pinner:s}=t,{getFeedbackType:l}=(0,i.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},519922:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},746857:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(517458),o=n(560133);function r(e,t){const{isProduct:n}=(0,i.Z)(e);return(n||"ShoppingList"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},438280:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,{At:()=>i,Ud:()=>o,J6:()=>r})},585967:(e,t,n)=>{n.d(t,{P2:()=>a,Mf:()=>s,LC:()=>l,fH:()=>d,B:()=>c});var i=n(667294),o=n(785893);const r=(0,i.createContext)(),a=r.Provider;function s(e){function t(t){const n=(0,i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},402116:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(754999);const o=(e,t)=>`${e>0?(0,i.Z)(t.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",e,"Label for the number of scheduled pins a user owns","Label for the number of scheduled pins a user owns"),{pinCount:e}):t._("0 Pins","zero scheduled pins","zero scheduled pins")} ‧ ${t._("Only visible to you","The explanatory text that the scheduled pin section is only visible to the profile owner","The explanatory text that the scheduled pin section is only visible to the profile owner")}`},83340:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(40142),r=n(402116),a=n(154006),s=n(535718),l=n(946753),d=n(549135),c=n(174523),u=n(883119),h=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),p(this,"seeAllScheduledPinHandler",(()=>{(0,d.j)(101,{element:10978})})),p(this,"renderScheduledPin",((e,t)=>{const n=Math.floor((e.scheduled_ts-(new Date).getTime()/1e3)/86400),o=(0,l.nk)(this.props.i18n._("{{ timeFromNow }}d",'"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days','"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days'),{timeFromNow:n}),r=`+ ${t}`,a=t>0?(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(u.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.5,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,h.jsx)(u.xu,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,h.jsx)(u.xv,{color:"white",size:"md",weight:"bold",children:r})})]}):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(u.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.1,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,h.jsxs)(u.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"start",left:!0,paddingX:3,paddingY:2,position:"absolute",width:"100%",children:[(0,h.jsx)(u.JO,{accessibilityLabel:this.props.i18n._("scheduled time","Time scheduled for publishing the pin","Time scheduled for publishing the pin"),color:"white",icon:"clock",size:12}),(0,h.jsx)(u.xu,{display:"inlineBlock",marginStart:1,children:(0,h.jsx)(u.xv,{color:"white",size:"md",children:o})})]})]}),{image:s,title:d=""}=e,c=s&&s["236x"];return(0,h.jsxs)(i.Fragment,{children:[c&&(0,h.jsx)(u.Ee,{alt:d,color:"lightGray",fit:"cover",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),a]})})),p(this,"renderEmtpyPlaceholder",(()=>(0,h.jsx)(u.xu,{color:"lightGray",height:"100%",width:"100%"})))}render(){const{username:e,pinResource:{isLoaded:t},pins:n}=this.props;if(!t||!n||0===n.length)return null;const i=n.length;return(0,h.jsx)(u.xu,{marginBottom:10,children:(0,h.jsxs)(u.W2,{children:[(0,h.jsx)(a.Z,{label:this.props.i18n._("Scheduled Pins","Title for the scheduled Pin section under the pin tab of profile page","Title for the scheduled Pin section under the pin tab of profile page"),sublabel:(0,r.Z)(i,this.props.i18n)}),(0,h.jsx)(u.iP,{role:"link",href:`/${e}/scheduled-pins/`,rounding:4,children:(0,h.jsx)(u.xu,{"data-test-id":"scheduled-pins-nav-link",height:126,marginStart:3,marginEnd:3,overflow:"hidden",rounding:4,children:Array(6).fill().map(((e,t)=>(0,h.jsx)(u.xu,{display:"inlineBlock",height:126,marginEnd:5===t?0:1,overflow:"hidden",position:"relative",width:126,children:t<i?this.renderScheduledPin(n[t],5===t?i-6:0):this.renderEmtpyPlaceholder()},t)))})})]})})}}function g(e){const t=(0,c.ZP)(),n=(0,s.Z)({name:"ScheduledPinsResource"}),i=(0,o.useSelector)((e=>e.scheduledPins));return(0,h.jsx)(m,{...e,i18n:t,pinResource:n,pins:i})}},904126:(e,t,n)=>{n.d(t,{K:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},955801:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(823493),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",(e=>{this.containerRef=e})),a(this,"fetchMoreIfNecessary",r()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},255539:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(415339),r=n(204891),a=n(451190),s=n(237574),l=n(549135),d=n(998864),c=n(883119),u=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=new c.Ry(1),m=({children:e})=>e((0,d.Z)({shouldStopEventPropagation:!1}));class g extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:a,board:l,sendType:d,url:c,fullName:h,profileUrl:p,viewParameter:m,viewType:g,onExternalSend:f,showCaret:_,todayArticle:x}=this.props;let y={description:e,id:i,imageUrl:n,name:"",type:s.d.PIN,url:`/pin/${i}/`},b=s.d.PIN;switch(d){case"user":y={description:e,id:a,imageUrl:n,name:h,type:s.d.PINNER,url:p},b=s.d.USER;break;case"board":y=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:s.d.BOARD,url:l.url},b=s.d.BOARD;break;case"today_article":y=x&&{description:x.subtitle||"",id:x.id,imageUrl:n,name:x.title,type:s.d.TODAY_ARTICLE,url:(0,r.bz)(x)},b=s.d.TODAY_ARTICLE;break;case"search":y={...y,type:s.d.SEARCH,url:c},b=s.d.SEARCH}const v={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:b,sharedObject:y,viewParameter:m,viewType:g};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:_,children:(0,u.jsx)(o.default,{...v})}}))}static makeSendShareButton(e){return t=>(0,u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i}=this.props;"user"===n&&(0,l.j)(101,{component:13675,element:1079,objectId:i,view:4,viewParameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:o}=this.props,{anchor:r,idealDirection:s,onDismiss:l,showCaret:d,children:h}=this.flyoutProps();return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,u.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,u.jsx)(m,{children:t=>(0,u.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),n&&(i||o?(0,u.jsx)(c.mh,{zIndex:o?p:void 0,children:(0,u.jsx)(c.xu,{zIndex:t?a.b:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,u.jsx)(c.J2,{anchor:r,idealDirection:s,onDismiss:l,showCaret:d,size:"xl",positionRelativeToAnchor:!1,children:h})})}):(0,u.jsx)(c.J2,{anchor:r,idealDirection:s,onDismiss:l,showCaret:d,size:"xl",children:h}))]})}}h(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},457179:(e,t,n)=>{n.r(t),n.d(t,{HelpfulButton:()=>c,default:()=>h});var i=n(754999),o=n(549156),r=n(174523),a=n(946753),s=n(883119),l=n(785893);const d={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function c(e){const t=(0,r.ZP)(),{helpfulCount:n,isMarkedHelpfulByMe:i,onHelpfulClick:o}=e,c=t._("Helpful","Comments marked helpful text.","Comments marked helpful text."),u=(0,a.nk)(t._("Helpful {{helpfulCount}}","Comments marked helpful count text.","Comments marked helpful count text."),{helpfulCount:n||0});return(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(s.iP,{onTap:o,rounding:2,children:(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(s.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:d,color:i?"red":"gray",size:16}),(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(s.xv,{size:"sm",color:"gray",weight:"bold",children:void 0!==n&&n>0?u:c})})]})})})}function u(e){const{likeCount:t,isLikedByMe:n,onLikeClick:i}=e;return(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(s.iP,{onTap:i,rounding:2,children:(0,l.jsxs)(s.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,l.jsx)(s.JO,{accessibilityLabel:"like icon",icon:"heart",color:n?"red":"gray",size:16}),t>0&&(0,l.jsx)(s.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,l.jsx)(s.xv,{size:"sm",color:"gray",weight:"bold",children:t})})]})})})}function h(e){const t=(0,r.ZP)(),{commentCount:n=0,reactionCounts:a={},hideReplyCount:d,isLikedByMe:h=!1,onLikeClick:p,onReplyClick:m,onReplyCountClick:g,isMarkedHelpfulByMe:f,onHelpfulClick:_,helpfulCount:x,flyout:y,small:b}=e,v=a[1]||0,E=!!n&&(0,i.Z)(t.ngettext("{{commentCount}} reply","{{commentCount}} replies",n),{commentCount:n}),w=b?1:2;return(0,l.jsxs)(s.kC,{alignItems:"center",children:[(0,l.jsxs)(s.xu,{display:"flex",marginStart:-w,marginEnd:-w,children:[(0,l.jsx)(u,{likeCount:v,isLikedByMe:h,onLikeClick:p}),(0,l.jsx)(s.xu,{paddingX:w,children:(0,l.jsx)(o.Z,{id:"reactions-reply",children:(0,l.jsx)(s.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:m,size:b?"sm":"md"})})}),!!y&&(0,l.jsx)(s.xu,{paddingX:w,children:y})]}),(0,l.jsxs)(s.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!E&&!d&&(0,l.jsx)(o.Z,{id:"reactions-reply-count",children:(0,l.jsx)(s.xu,{paddingX:3,children:g?(0,l.jsx)(s.iP,{onTap:g,rounding:2,children:(0,l.jsx)(s.xv,{size:"md",color:"gray",weight:"bold",children:E})}):(0,l.jsx)(s.xv,{size:"md",color:"gray",weight:"bold",children:E})})}),(0,l.jsx)(c,{helpfulCount:x,isMarkedHelpfulByMe:f,onHelpfulClick:_})]})]})}},11200:(e,t,n)=>{n.d(t,{j:()=>l,Z:()=>d});var i=n(174523),o=n(883119),r=n(181307),a=n(946753),s=n(785893);const l=[0,2,3];function d({hasAffiliateProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textWeight:c}){const u=(0,i.ZP)(),h=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let p;t?p=(0,a.nk)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):d||0===d?p=n&&!l.includes(d)?(0,a.nk)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(p=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const m=h&&!t?"Ad • ":"";return(0,s.jsxs)(o.xv,{inline:!0,size:"md",weight:c,children:[m,p]})}},533127:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(176082),o=n(785893);function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,isSVG:a,iconOnly:s}){return(0,o.jsx)(i.ZP,{accessibilityLabel:e,color:r,onClick:t,icon:n,isSVG:a,iconOnly:s})}},773808:(e,t,n)=>{n.d(t,{Z:()=>r});const i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},o=({isPadded:e,isRTL:t})=>e?"16px":t?"0 32px 32px 0":"32px 0 0 32px";function r({isSideBySide:e,isPadded:t,isRTL:n}){return e?{...i,borderRadius:o({isPadded:t,isRTL:n})}:{...i,borderRadius:t?"16px":"32px 32px 0 0"}}},79267:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({children:e})=>(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:e})},711874:(e,t,n)=>{n.d(t,{Z:()=>N,F:()=>R});var i=n(667294),o=n(40142),r=n(877039),a=n(233949),s=n(647560),l=n(32529),d=n(784655),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(0,r.Z)(s.Z);class p extends i.Component{constructor(...e){super(...e),u(this,"handleVisibilityChanged",(e=>{const{pinId:t,isPromoted:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r,videoStartTime:a}=this.props,s=(0,d.i8)(t,r);e&&!s?i({pinId:t,isPromoted:!!n,currentTime:a}):!e&&s&&o({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})})),u(this,"handleVideoTimeChange",(e=>{const{pinId:t,videosAutoplaying:n}=this.props;(0,d.i8)(t,n)&&(this.currentVideoCurrentTime=e.time)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,pauseAutoplay:i,pinId:o,isPromoted:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,l=(0,d.i8)(o,s),c=(0,d.X9)(o,s);this.currentVideoCurrentTime=null!=c?c:this.currentVideoCurrentTime,n!==t&&!n&&l?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){const{pinId:e,isPromoted:t,pauseAutoplay:n}=this.props;n({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){const{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:n,videosAutoplaying:i,...o}=this.props;return(0,c.jsx)(a.KS,{name:"ads_desktop_video_ads",activate:!1,children:({anyEnabled:e})=>(0,c.jsx)(h,{inAdsDesktopVideoExperiment:e,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!e,...o})})}}const m=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:a}=o,s=i?a[n]:r[n];return{appInFocus:e.ui.app.appInFocus,videosAutoplaying:o,videoStartTime:s?s.currentTime:null}}),((e,t)=>({pauseAutoplay:t=>e((0,l.Dm)(t)),setCurrentVideo:t=>e((0,l.jt)(t))})))(p);var g=n(631739),f=n(907669),_=n(551687),x=n(865791),y=n(96975),b=n(639387),v=n(925854),E=n(79267),w=n(211194),I=n(689859),C=n(883119),T=n(852474),S=n(857354),P=n(233088),j=n(181307),A=n(35764);const D=(0,i.lazy)((()=>n.e(87122).then(n.bind(n,674327)))),R=(e,t)=>!!(e.includes("below_15")&&t>=0&&t<=15e3)||(!!(e.includes("15_to_30")&&t>15e3&&t<=3e4)||(!!(e.includes("30_to_45")&&t>3e4&&t<=45e3)||(!!(e.includes("45_to_60")&&t>45e3&&t<=6e4)||!!(e.includes("above_60")&&t>6e4)))),O=({children:e,name:t})=>(0,c.jsx)(C.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),N=({closeupIsFirstPageInHistoryStack:e,imageContainerRef:t,isWideVideo:n,pin:i,shouldPadImage:o,flyoutShareProps:r})=>{const a=(0,b.Z)({pin:i}),{embed:s}=(0,x.Z)(a)||{},{video:l}=(0,v.Z)(a)||{},{hls:d={},hlsv3:u={},mp4:h={}}=l||{},p=d.duration||u.duration||h.duration||null,{group:N}=(0,j.tc)("web_mp4_video_closeup")({dangerouslySkipActivation:!0}),k=!!p&&R(N,p),L=(0,j.tc)("web_mp4_video_closeup"),M=k&&L().anyEnabled,{videos:B}=i,{video_list:F={}}=B||{};if(M){const e=(0,T.t)(F);e&&(l.mp4=e)}const U=s&&"gif"===s.type,{image564x:Z={}}=(0,S.Ip)((0,y.Z)(a))||{},G=U?s.src:Z.url,H=!!i.promoter&&!i.is_downstream_promotion,z=H&&!i.is_eligible_for_web_closeup,{access:V}=i||{},W=!!V&&V.includes("tag"),Y=A.Gg-A.d2,K=o?{maxWidth:{maxWidth:Y},minWidth:{minWidth:Y},height:{},borderRadius:16}:{},q="undefined"!=typeof window&&0===P.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),$=(0,c.jsxs)(w.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:o,styleOverrides:K,variant:"default",children:[(0,c.jsx)(C.xu,{width:"100%",ref:t,children:(0,c.jsx)(m,{autoplay:!q,customThumbnail:G,flyoutShareProps:r,isPromoted:H,loop:z,muted:e,preferMp4:M,pinId:i.id,video:l,variant:"default"})}),W&&(0,c.jsx)(O,{name:"tag-button",children:(0,c.jsx)(_.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(f.Z,{children:(0,c.jsx)(D,{pin:i})})})})})]});return o?(0,c.jsx)(E.Z,{children:$}):$}},998035:(e,t,n)=>{n.d(t,{SR:()=>r,Nc:()=>a,o:()=>s,dZ:()=>l,$l:()=>d,nU:()=>c,Lb:()=>u,bm:()=>h,IS:()=>p,NE:()=>m});var i=n(616240),o=n(784655);function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function c(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>(0,i.su)(e)&&t.is_quick_promotable_by_pinner;function p(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function m({carouselInfo:e,closePanelWidth:t,isWideVideo:n,isShortImage:i,naturalWidth:o,showCloseupContentRight:r}){return!(n||!r)&&(!!i||!e&&o<t)}},558892:(e,t,n)=>{n.d(t,{YO:()=>a,Nb:()=>s,Of:()=>l,x4:()=>c,ZP:()=>u});var i=n(667294),o=n(583704),r=n(35764);const a=({showPdp:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?r.Uj:r.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,i.createContext)(l);function c(){const e=(0,i.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},136686:(e,t,n)=>{n.d(t,{zc:()=>i,Bu:()=>o,Mg:()=>r,_z:()=>a,pM:()=>s});const i="story_pin",o="closefakemodal",r="button",a="video",s="image"},35764:(e,t,n)=>{n.d(t,{Gg:()=>i,u6:()=>o,CI:()=>r,Kn:()=>a,Ch:()=>s,Gb:()=>l,Uj:()=>d,zT:()=>c,d2:()=>u,Ie:()=>h,KP:()=>p,JV:()=>m,bx:()=>g,g9:()=>f,CC:()=>_,a7:()=>x,iB:()=>y});const i=508,o=2*i,r=488,a=992,s=672,l=1176,d=.6,c=.84,u=40,h=72,p=740,m=60,g=912,f=32,_=60,x=40,y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},211194:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(773808),o=n(883119),r=n(558892),a=n(585967),s=n(35764),l=n(785893);function d({children:e,isVideo:t=!1,isWideVideo:n,shouldPadImage:d,styleOverrides:c={},variant:u}){var h,p,m;const{showCloseupContentRight:g,showPdp:f,viewportSize:_,paneWidth:{pdp:x,regular:y}}=(0,r.x4)(),b=(0,a.B)(),v="default"===u;if(!(g&&"lg"===_||v||n))return(0,l.jsx)(o.xu,{children:e});const E=f?x:y,w=(0,i.Z)({isSideBySide:g&&!n,isPadded:d,isRTL:b.isRTL}),I=n?s.KP:E,C=n?0:6,T=n?s.KP:496,S=(null===(h=c.height)||void 0===h?void 0:h.height)||"100%",P=(null===(p=c.maxWidth)||void 0===p?void 0:p.maxWidth)||I,j=(null===(m=c.minWidth)||void 0===m?void 0:m.minWidth)||E;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:c.borderRadius||w.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...d&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:v?"flex":void 0,flex:v&&n?"grow":void 0,height:v?S:void 0,justifyContent:v?"center":void 0,marginBottom:v?void 0:6,marginEnd:v?void 0:C,maxWidth:v?P:T,minWidth:v?j:344,rounding:v?void 0:2,children:e})}},595657:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(439887),o=n(584489);function r(e,t){const n=o.Z.instance;let r;if(n){const o=n.getState();if(o.pins&&e){const n=o.pins[e],a=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));n&&(r=t?e[t]:e.PinResource)}else n&&(r=(0,i.Z)(n,a))}}return r}},279224:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},132718:(e,t,n)=>{function i(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}n.d(t,{Z:()=>i})},865791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:o}=t||{};return i?{...e,embed:{type:n,src:i,subtype:o}}:null}))},639387:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},697947:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},925854:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(279224),o=n(979593);const r=(0,i.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:a,V_HLSV3_MOBILE:s}=i,l=(0,o.V)(a),d=(0,o.V)(s),c=(0,o.V)(r),u=c||l||d;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},857354:(e,t,n)=>{n.d(t,{eR:()=>r,Ip:()=>a,d9:()=>s});var i=n(279224);const o=e=>t=>{const{images:n}=t,i=n[e],{url:o,width:r,height:a}=i||{};return o&&r&&a?{url:o,width:r,height:a}:null},r=(0,i.Z)((e=>{const t=o("236x")(e);return t&&{...e,image236x:t}})),a=(0,i.Z)((e=>{const t=o("564x")(e);return t&&{...e,image564x:t}})),s=(0,i.Z)((e=>{const t=o("736x")(e);return t&&{...e,image736x:t}}))},96975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:o,width:r,height:a}=i;return e&&o&&r&&a?{...e,[t]:{url:o,width:r,height:a}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},860179:(e,t,n)=>{n.d(t,{bI:()=>o,Fk:()=>r,lJ:()=>a,lI:()=>s,qW:()=>l,mS:()=>d,gw:()=>c,Uo:()=>u,j1:()=>h,fS:()=>p,Cq:()=>m,km:()=>g,Dk:()=>f});var i=n(883119);const o=new i.Ry(0),r=new i.Ry(1),a=2,s=new i.Ry(a),l=2,d=new i.Ry(l),c=new i.Ry(3),u=new i.Ry(1),h=new i.Ry(3),p=3,m=4,g=new i.Ry(5),f=new i.Ry(100)},479996:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(40142),o=n(224982),r=n(589444),a=n(560133),s=n(549135),l=n(558892),d=n(883119),c=n(785893);function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:h,isCloseup:p,isEditMode:m,pinId:g,viewParameter:f,viewType:_,variant:x}){const y=(0,i.useSelector)((({pins:e})=>e[g]),i.shallowEqual),b=e||(0,r.Z)({pin:y}),v=(0,i.useDispatch)();if(!b)return null;const E=(e,t,i)=>{m||void 0===o.Z||(e.preventDefault(),e.stopPropagation(),v((0,o.Z)(String(g),i))),void 0!==h&&h(i),((e,t,n=0,i,o,r,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:h}=o;(0,s.j)(108,{...c,objectId:t,component:d,view:l,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:i}},...(0,a.Kl)(e)||{}})}})(y,g,t,i,b,f,_,n,u,m)},{carousel_slots:w=[],index:I}=b,C=void 0!==t?t:I,T="default"===x,S=T?"white":"#555",P=T?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:m?1:0,children:[...Array(w.length).keys()].map((e=>{var t;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(t=w[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>E(t,C,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===C?S:P}},rounding:"circle"})})},g+e)}))})})}},100001:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(595657),r=n(132718),a=n(639387),s=n(831251),l=n(560133),d=n(784655),c=n(549135),u=n(785893);function h({children:e,hovered:t,pin:n,slotIndex:h,trafficSource:p,viewType:m}){const[g,f]=(0,i.useState)(),[_,x]=(0,i.useState)(),{id:y,tracked_link:b,link:v}=n,E=b||v||"",w=()=>{f(!0)},I=(0,r.Z)((0,a.Z)({pin:n})),C=(0,i.useCallback)((()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:(0,o.Z)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:y,...h||{},...(0,l.Kl)(e)||{}})};return(0,s.Z)(i)})(n,E,!1).callGet({showError:!1}).then((e=>{e&&((0,c.j)(12,{clickthrough_type:"rightClick",objectId:y,view:m,viewParameter:I,...h||{},...(0,l.Kl)(n)||{}}),(0,c.j)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&(0,d.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:m,objectId:y,viewParameter:I,...h||{},...(0,l.Kl)(n)||{}}))}))})),T=e=>{var t;g&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(C(),f(!1)),window.removeEventListener(_,T,!1))};return(0,i.useEffect)((()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?x("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?x("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&x("webkitvisibilitychange")}),[]),(0,i.useEffect)((()=>(g&&window&&window.addEventListener(_,T,!1),()=>window.removeEventListener(_,T))),[g,_]),(0,i.useEffect)((()=>(t&&window.addEventListener("contextmenu",w),()=>{window.removeEventListener("contextmenu",w)})),[t]),(0,u.jsx)(i.Fragment,{children:e})}},130876:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(943112),o=n(756169),r=n(174523),a=n(946753),s=n(883119),l=n(785893);function d({backgroundColor:e,followersCount:t,followersCountDisplay:n,height:i,image:o,name:d,width:c}){var u,h,p;const m=(0,r.ZP)(),g=m.ngettext("{{ count }} {{ label }}","{{ count }} {{ label }}",t||0,"indicate a number of followers","indicate a number of followers"),f=m.ngettext("follower","followers",t||0,"used in {{count}} {{followers}}","used in {{count}} {{followers}}"),_=i||c;return(0,l.jsx)(s.xu,{children:(0,l.jsxs)(s.zd,{rounding:4,children:[o?(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsx)(s.GH,{width:c,height:_,contentAspectRatio:(null!==(u=o.width)&&void 0!==u?u:1)/(null!==(h=o.height)&&void 0!==h?h:1),children:(0,l.jsx)(s.Ee,{alt:d,color:e,naturalHeight:1,naturalWidth:1,src:null!==(p=o.url)&&void 0!==p?p:""})}),(0,l.jsx)(s.xu,{height:_,width:c,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,l.jsx)(s.xu,{height:_,width:c,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,l.jsxs)(s.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,l.jsx)(s.xv,{color:"white",overflow:"normal",weight:"bold",children:d}),t?(0,l.jsx)(s.xu,{children:(0,a.nk)(g,{count:(0,l.jsx)(s.xv,{color:"white",inline:!0,size:"md",weight:"bold",children:n},"followersCount"),label:(0,l.jsx)(s.xv,{color:"white",inline:!0,size:"md",children:f},"followersLabel")})}):null]})]})})}const c=236;function u(e){const{backgroundColor:t,followedByMe:n,followersCount:r,height:a,id:u,image:h,name:p,url:m,width:g=c,followingButton:f}=e,_=r?(0,l.jsx)(o.Z,{value:r,shortform:!0,shortformMaximumFractionDigits:1}):"",x=f||(0,l.jsx)(i.Z,{fullWidth:!0,topicId:u,isFollowed:n}),y=(0,l.jsx)(d,{backgroundColor:t,followersCount:r,followersCountDisplay:_,image:h,name:p,width:g,height:a});return(0,l.jsx)(s.Zb,{children:(0,l.jsxs)(s.xu,{width:g,children:[m?(0,l.jsx)(s.iP,{role:"link",href:`/ideas/${m}/${u}`,children:y}):y,(0,l.jsx)(s.xu,{marginTop:2,display:"flex",justifyContent:"center",children:x})]})})}},732891:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(883119),r=n(785893);function a({handleFollowClick:e,isFollowing:t,isSelf:n,disabled:a,isSecondaryColor:s}){const l=(0,i.ZP)(),d=t?l._("Unfollow"):l._("Follow");return n?(0,r.jsx)(o.zx,{disabled:!0,text:l._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):(0,r.jsx)(o.zx,{color:t||s?"gray":"red",onClick:e,text:d,disabled:a})}},558491:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(40142),r=n(151101),a=n(294184),s=n.n(a),l=n(732891),d=n(883119),c=n(289605),u=n(549135),h=n(785893);const p=(0,o.connect)(null,(function(e){return{follow:t=>e((0,c.ZN)(t)),unfollow:t=>e((0,c.fv)(t))}}))((function({className:e,follow:t,isSelf:n,logData:o,showName:a=!1,showFollow:c=!1,size:p="small",subtitle:m="",title:g,unfollow:f,user:_={}}){const[x,y]=(0,i.useState)(_.explicitly_followed_by_me||!1),{full_name:b,username:v}=_,E=_.image_key||_.image_medium_url||_.image_small_url;return(0,h.jsx)("div",{className:s()("User","hasText","thumb",p,e),children:(0,h.jsxs)(d.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,h.jsx)(d.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(d.iP,{role:"link",href:`/${v}/`,children:(0,h.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)("div",{className:"thumbImageWrapper",children:(0,h.jsx)(r.Z,{name:b,src:E,size:"fit"})}),g&&(0,h.jsx)("h3",{className:"title",children:g}),a&&(0,h.jsx)("h4",{className:"fullname",children:b}),m&&(0,h.jsx)("div",{className:"subtitle",children:m})]})})}),c&&(0,h.jsx)(d.xu,{paddingX:1,children:(0,h.jsx)(l.Z,{handleFollowClick:()=>{x?(f(_.id),y(!1)):(t(_.id),y(!0)),o&&(0,u.j)(101,o)},isFollowing:x,isSelf:Boolean(n)})})]})})}))},234070:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(702925),r=n(174523),a=n(883119),s=n(785893);const l={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,r.ZP)();return(0,s.jsx)(a.u,{link:(0,s.jsx)(a.rU,{href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,s.jsx)(a.xv,{color:"white",size:"sm",weight:"bold",children:t._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:t._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:c}){const u=(0,r.ZP)(),h=(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(a.JO,{accessibilityLabel:u._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[c]}),o&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"blue",inline:!0,weight:"bold",children:u._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return(0,s.jsxs)(i.Fragment,{children:[n&&!t&&(0,s.jsx)(d,{children:h}),n&&t&&h,e&&!n&&(0,s.jsx)(a.JO,{accessibilityLabel:u._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[c]})]})}},325946:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(21755),o=n(585967),r=n(785893);function a({activate:e,children:t,isEligible:n,name:a}){return(0,r.jsx)(o.LC,{children:o=>(0,r.jsx)(i.Z,{activate:e,group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},233949:(e,t,n)=>{n.d(t,{KS:()=>i.Z});var i=n(325946)},799092:(e,t,n)=>{n.d(t,{Z:()=>T,Y:()=>C});var i=n(667294),o=n(151101),r=n(313243),a=n(269935),s=n(238402),l=n(40142),d=n(160277),c=n(451190),u=n(6582);const h=({id:e,viewParameter:t,viewType:n})=>(0,u.c)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"});var p=n(311866),m=n(881220),g=n(174523),f=n(475446),_=n(883119),x=n(785893);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.PureComponent{constructor(...e){var t;super(...e),t=this,y(this,"state",{showModal:!1,reportType:null}),y(this,"handleDismiss",(()=>this.setState({showModal:!1}))),y(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),y(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await p.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),y(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({onHide:e})=>(0,x.jsx)(m.Z,{onHide:e,text:this.props.i18n._("Thanks for your report! This will be reviewed by our Trust and Safety Team","ReportingFlag.Toast.text","Toast after reporting a search suggestion")}))),this.handleDismiss())})),y(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,x.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,x.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,x.jsx)(c.Z,{accessibilityModalLabel:this.props.i18n._("Report search term","ReportingFlag.Modal.accessibilityModalLabel","accessible label for report suggestion modal"),heading:this.props.i18n._("Report search term","ReportingFlag.Modal.heading","Heading for report suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:(0,x.jsxs)(_.xu,{children:[(0,x.jsx)(_.xu,{padding:5,children:(0,x.jsx)(_.xv,{children:this.props.i18n._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","What will happen when you report a suggestion")})}),(0,x.jsxs)(_.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,x.jsxs)(_.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,x.jsx)(_.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,x.jsx)(_.xu,{flex:"grow",children:(0,x.jsx)(_.__,{htmlFor:"textType",children:(0,x.jsx)(_.xu,{paddingX:2,children:(0,x.jsx)(_.xv,{children:"Report search text"})})})})]}),(0,x.jsxs)(_.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,x.jsx)(_.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,x.jsx)(_.xu,{flex:"grow",children:(0,x.jsx)(_.__,{htmlFor:"imageType",children:(0,x.jsx)(_.xu,{paddingX:2,children:(0,x.jsx)(_.xv,{children:"Report search image"})})})})]})]}),(0,x.jsx)(_.iz,{}),(0,x.jsxs)(_.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,x.jsx)(_.xu,{margin:2,children:(0,x.jsx)(_.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._("Cancel","ReportingFlag.Box.Button.text.cancel","Text for cancel button when reporting search suggestion")})}),(0,x.jsx)(_.xu,{margin:2,children:(0,x.jsx)(_.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._("Report","ReportingFlag.Box.Button.text.report","Button label to report search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}const v=(0,l.connect)(null,((e,t)=>({reportImage:n=>e(h({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))})))((0,f.Cl)((function(e){const t=(0,g.ZP)();return(0,x.jsx)(b,{...e,i18n:t})})));var E=n(754999),w=n(34411),I=n(565121);const C=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:o})=>{const r=[0,24,21,26].includes(e),a=(0,s.Z)({q:t,rs:n||void 0,b_id:i,source_id:o});return r?`/discover/article/${i}`:"/search/pins/"+(a?"?"+a:"")};function T({bubble:e,height:t,storyId:n,width:s,onClick:l,referringSource:d,contextLogData:c,viewType:u,viewParameter:h,slotIndex:p,handleReport:m,showFlag:f,imgSignature:y,onMouseEnter:b,onMouseLeave:T,isHovered:S,disableTabIndex:P}){const j=(0,g.ZP)(),A=(0,w.Z)(),{id:D,action:R,cover_images:O,dominant_colors:N,identifier_icon_type:k,title:L,story_category:M,curator:B}=e,F=O&&O[0]?O[0]["280x280"]||O[0]["236x"]:void 0,U=(0,E.Z)(L&&L.format||"",L&&L.args||{}),Z=N&&N.length?N[0]:"gray",G=(null==R?void 0:R.url)||C({storyCategory:M,query:U,referringSource:d,bubbleId:D,storyId:n});return(0,x.jsx)(a.Z,{impressionAuxFields:{storyCategory:M,storyIdStr:n},impressionType:"Article",loggingId:D,viewType:u,viewParameter:h,slotIndex:p,contextLogData:{story_id:n,...c},children:(0,x.jsx)(r.Z,{backgroundColor:Z,coverImage:F,height:t,id:D,isHovered:S,onClick:l,onMouseEnter:b,onMouseLeave:T,url:G,width:s,disableTabIndex:P,children:({isHovered:e})=>(0,x.jsxs)(i.Fragment,{children:[B&&26!==M&&(0,x.jsx)(_.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,x.jsx)(o.Z,{outline:!0,size:"xs",src:B.image_small_url,name:B.full_name})}),k&&k!==I.J&&(0,x.jsx)(_.xu,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,x.jsx)(_.JO,{icon:(0,I.H)(k),accessibilityLabel:j._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),(0,x.jsx)(_.xu,{display:"flex",height:t,width:s||"100%",position:"absolute",top:!0,padding:3,alignItems:26===M?"end":"center",justifyContent:"center",children:(0,x.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,x.jsx)(_.X6,{size:"md",align:"center",color:"white",children:U}):(0,x.jsx)(_.xv,{align:"center",color:"white",weight:"bold",children:U}),B&&26===M&&(0,x.jsxs)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,x.jsx)(_.xu,{marginEnd:2,children:(0,x.jsx)(o.Z,{outline:!0,size:"xs",src:B.image_small_url,name:B.full_name})}),(0,x.jsx)(_.xv,{size:"sm",color:"white",children:B.full_name})]})]})}),A.isAuth&&A.isEmployee&&f?(0,x.jsx)(_.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,x.jsx)(v,{handleReport:m,viewType:u,viewParameter:h,imgSignature:y||"",isVisible:e})}):null]})})})}},313243:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(883119),r=n(785893);const a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function s({backgroundColor:e,children:t,coverImage:n,height:s,id:l,isHovered:d,onMouseEnter:c,onMouseLeave:u,onClick:h,url:p,width:m,disableTabIndex:g}){var f,_;const[x,y]=(0,i.useState)(!1),b=()=>{c?c():y(!0)},v=()=>{u?u():y(!1)},E=d||x;return(0,r.jsx)(o.iP,{role:"link",href:p,onBlur:v,onMouseLeave:v,onFocus:b,onMouseEnter:b,onTap:()=>{null==h||h(l)},rounding:4,tabIndex:g?-1:void 0,children:(0,r.jsx)(o.zd,{rounding:4,width:m||"100%",height:s,children:null!=n&&n.url?(0,r.jsxs)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(f=n.height)&&void 0!==f?f:1,naturalWidth:null!==(_=n.width)&&void 0!==_?_:1,role:"presentation",src:n.url,children:[(0,r.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:E?a.hoverOverlay:a.bubbleOverlay}}),"function"==typeof t?t({isHovered:E}):t]}):(0,r.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},160277:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294);const o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"};var l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t}=this.props,n={height:e,width:e},i={border:0,display:"block",background:"transparent",cursor:"pointer",...s},c={...a,...o,...this.state.hovered?r:{}};return(0,d.jsx)("button",{type:"button",style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:{...n,...c},children:(0,d.jsx)(l.xu,{rounding:"circle",children:(0,d.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}const h=u},45815:(e,t,n)=>{n.d(t,{J:()=>i,o:()=>o});const i="numSearchCloseups",o=20},527082:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:r,user:a}){const s=[o,n,e,a,r,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function o({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:o=null,rs:r="direct_navigation",scope:a="pins",selectedPinImgSig:s=null,sourceId:l=null,user:d}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:a,source_id:l,user:d}}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:r,query:a,rs:s,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:a,rs:s,scope:l,selectedPinImgSig:r,bubbleId:d,user:c})}}n.d(t,{Tb:()=>i,dM:()=>o,Ht:()=>r})},317461:(e,t,n)=>{n.d(t,{GY:()=>s,PY:()=>l,r$:()=>d,LM:()=>c});var i=n(730762),o=n(281996),r=n(549135);const a=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function s({query:e,scope:t}){return`${e}-${t}`}function l({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map((e=>null!=e?e:"")).join("-")}function d({query:e,rs:t,scope:n}){const a=i.Z.getInstance().getPreviousViewFromContext();if(!(!a.view_type&&!a.view_parameter)){const{view_type:i,view_parameter:s}=a;(0,r.j)((0,o.wF)(n),{view:i,viewParameter:s,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,r.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,r.j)(101,{component:0,element:10349,view:142})}const c=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&a.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},565121:(e,t,n)=>{n.d(t,{J:()=>i,H:()=>o});const i=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},673448:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),o=n(40142),r=n(174523),a=n(883119),s=n(206139),l=n(785893);function d(e){const t=(0,r.ZP)();return(0,l.jsx)(s.Z,{thriftComponentType:172,...e,children:({onTriedItButtonClick:n})=>(0,l.jsx)(a.zx,{onClick:({event:e})=>n(e),text:t._("Add","Add a try to a pin","Add a try to a pin"),disabled:e.isDoneByMe})})}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{isDoneByMe:!1}),c(this,"handleModalStateChanged",(e=>this.setState({isDoneByMe:e})))}render(){var e,t,n,i,o,r,s,c,u;const{loggedInUser:h,pin:p}=this.props,m=`/pin/${p.id}/`,g=null===(e=p.images)||void 0===e||null===(t=e["136x136"])||void 0===t?void 0:t.url,f=null===(n=p.images)||void 0===n||null===(i=n["136x136"])||void 0===i?void 0:i.height,_=null===(o=p.images)||void 0===o||null===(r=o["136x136"])||void 0===r?void 0:r.width,x=p.rich_summary&&p.rich_summary.display_name||p.description,y={aggregatedPinDataId:null===(s=p.aggregated_pin_data)||void 0===s?void 0:s.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:h,onDoneStateChanged:this.handleModalStateChanged,pinId:p.id,pinTitle:x};return(0,l.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,l.jsxs)(a.xu,{column:10,display:"flex",alignItems:"center",children:[(0,l.jsx)(a.xu,{column:2,children:(0,l.jsx)(a.iP,{role:"link",href:m,rounding:2,children:(0,l.jsx)(a.zd,{rounding:2,wash:!0,children:(0,l.jsx)(a.Ee,{alt:null!==(c=p.title)&&void 0!==c?c:"",color:null!==(u=p.dominant_color)&&void 0!==u?u:"#fff",naturalHeight:null!=f?f:1,naturalWidth:null!=_?_:1,src:null!=g?g:""},g)})},m)}),(0,l.jsx)(a.xu,{column:10,paddingX:2,children:(0,l.jsx)(a.xv,{weight:"bold",children:(0,l.jsx)(a.rU,{href:m,children:x})},m)})]}),(0,l.jsx)(a.xu,{column:2,children:(0,l.jsx)(d,{...y})})]})}}var h=n(535718);function p({loggedInUser:e}){const t=(0,r.ZP)(),n=(0,h.Z)({name:"UserPinsResource",options:{prepend:!1,username:e.username,field_set_key:"did_it_grid_item",page_size:10}});t._("Tried any of these? Add a photo:","Text suggesting users to Try a Pin they alread saved","Text suggesting users to Try a Pin they alread saved");const i=(e=>e.isLoaded?e.data.filter((e=>e.is_whitelisted_for_tried_it)):[])(n).slice(0,5);return(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.$j,{show:!n.isLoaded,accessibilityLabel:t._("Pins to try are loading")}),n.isLoaded&&(0,l.jsxs)(a.W2,{children:[(0,l.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:6,children:[(0,l.jsxs)(a.xv,{align:"center",weight:"bold",children:[" ",t._("Pins you try live here")," "]}),(0,l.jsx)(a.xu,{column:12,mdColumn:6,children:(0,l.jsx)(a.xv,{align:"center",color:"gray",weight:"bold",children:t._("Add notes and photos to recipes you made, places you traveled and other ideas you tried")})})]}),!!i.length&&(0,l.jsxs)(a.xu,{column:12,display:"flex",paddingY:6,children:[(0,l.jsx)(a.xu,{display:"none",mdColumn:1,mdDisplay:"flex"}),(0,l.jsxs)(a.xu,{column:12,mdColumn:10,children:[(0,l.jsx)(a.xu,{margin:1,paddingY:2,children:(0,l.jsx)(a.xv,{weight:"bold",children:t._("Tried any of these? Add a photo or note:","Text suggesting users to Try a Pin they alread saved","Text suggesting users to Try a Pin they alread saved")})}),i.map((t=>(0,l.jsx)(u,{pin:t,loggedInUser:e},t.id)))]})]})]})]})}var m=n(265080),g=n(702925),f=n(823493),_=n.n(f),x=n(755908),y=n(881220),b=n(549135),v=n(921438),E=n(475446);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.Component{constructor(...e){super(...e),w(this,"removeReportedActivity",(e=>{const{toastManagerContext:t}=this.props;t.showToast((({onHide:e})=>(0,l.jsx)(y.Z,{duration:3e3,href:g.Z.settings.POLICY_COMMUNITY_GUIDELINES,onHide:e,text:this.props.i18n._("Thanks! We’ll take this down if it goes against our guidelines.","Statement that a tried item has successfully been reported","Statement that a tried item has successfully been reported")})))})),w(this,"handleScroll",_()((()=>{const{didItUserFeedResource:{isFetching:e,isAtEnd:t}}=this.props;if(e||t)return;const n=(0,v.Uy)(window);(0,v.aZ)(window)-(0,v.S$)()-200<n&&this.fetchMoreData()}),100))}componentDidMount(){window.addEventListener("scroll",this.handleScroll),(0,b.j)(13,{view:4,viewParameter:3071})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}fetchMoreData(){const{didItUserFeedResource:{isFetching:e,isAtEnd:t,fetchMore:n}}=this.props;e||(t?window.removeEventListener("scroll",this.handleScroll):n())}render(){const{feedItems:e,i18n:t,isOwnProfile:n,didItUserFeedResource:{isLoaded:i},triedItUser:o}=this.props;if(!i)return(0,l.jsx)(a.W2,{children:(0,l.jsx)(a.xu,{margin:6,children:(0,l.jsx)("div",{className:"loadingSpinner",children:(0,l.jsx)(a.$j,{accessibilityLabel:this.props.i18n._("Tried it feed"),show:!0})})})});const r=n?3106:3107;return!e.length&&n?(0,l.jsx)(p,{loggedInUser:o}):(0,l.jsx)(a.W2,{children:(0,l.jsx)(x.Z,{view:4,viewParameter:r,component:212,children:(0,l.jsx)(a.xu,{display:"flex",column:12,justifyContent:"center",children:(0,l.jsxs)(a.xu,{column:12,mdColumn:10,children:[n&&(0,l.jsx)(a.xu,{paddingY:2,children:(0,l.jsx)(a.xv,{align:"center",size:"lg",children:t._("Your Tried Pins are only visible to you","didItProfileFeed.render.triedItEducation","Message letting user know that tried pins are visible only to self")})}),e.map((e=>(0,l.jsx)(a.xu,{children:(0,l.jsx)(m.Z,{didItDataId:e.id,removeReportedActivity:this.removeReportedActivity,viewType:4})},e.id)))]})})})})}}function C(e){const t=(0,r.ZP)(),n=(0,E.F9)(),i=(0,o.useSelector)((({feeds:{userDidItData:t={}}})=>(t[e.triedItUser.username]||[]).reduce(((e,t)=>"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e),[]))),a=(0,h.Z)({name:"DidItUserFeedResource",options:{username:e.triedItUser.username,redux_normalize_feed:!0},noCache:!0});return(0,l.jsx)(I,{...e,didItUserFeedResource:a,feedItems:i,toastManagerContext:n,i18n:t})}},320077:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(673448),o=n(383722),r=n(34411),a=n(855168),s=n(678664),l=n(785893);function d(){const e=(0,o.Z)(),t=(0,r.Z)(),{username:n}=(0,a.UO)();return(0,s.Sq)(n,e.data?e.data.id:null,13671),e.data?(0,l.jsx)(i.Z,{isOwnProfile:!(!t.isAuth||!t.username)&&t.username===n,triedItUser:e.data}):null}},181712:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(451190),o=n(174523),r=n(883119),a=n(785893);function s({onDeleteConfirmation:e,didItData:t}){const n=(0,o.ZP)(),s=t&&t.id,l=n._("Are you sure?","Confirmation dialog for deleting data","Confirmation dialog for deleting data");return(0,a.jsx)(i.Z,{accessibilityModalLabel:n._("Are you sure you want to delete the did it photo?","Label for a modal showing to confirm deleting a did it photo","Label for a modal showing to confirm deleting a did it photo"),heading:l,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(r.xu,{padding:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:n._("Cancel","Cancel the deleting data in a modal form","Cancel the deleting data in a modal form")})}),(0,a.jsx)(r.xu,{padding:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>e(s),size:"lg",text:n._("Delete","Confirmation of deleting data","Confirmation of deleting data")})})]}),children:(0,a.jsx)(r.xu,{paddingX:4,paddingY:2,children:(0,a.jsx)(r.xv,{children:n._("This will remove this photo","Confirmation dialog for deleting data","Confirmation dialog for deleting data")})})})}},471716:(e,t,n)=>{n.d(t,{$:()=>a});var i=n(174523),o=n(883119),r=n(785893);const a=()=>{const e=(0,i.ZP)();return(0,r.jsx)(o.xu,{alignItems:"center",color:"white",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,r.jsx)(o.$j,{accessibilityLabel:e._("Tried it"),show:!0})})}},265080:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(667294),o=n(40142),r=n(181712),a=n(174523),s=n(206139),l=n(883119),d=n(785893);function c(e){const t=(0,a.ZP)();return(0,d.jsx)(s.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,d.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,children:(0,d.jsx)(l.xv,{weight:"bold",children:t._("Save","comment save button","comment save button")})})})})}var u=n(721739),h=n(451190),p=n(311866),m=n(754999);const g="__SafeLinkFlag__",f=({html:e,onClick:t})=>{const n=t||null,i=[],o=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(i.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),g)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,n)=>(i.push({url:t,text:n}),g)));return(0,d.jsx)(l.xu,{"data-test-id":"safe-link",children:o.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let o=e;if(e===g&&i.length){const{url:e,text:t}=i.shift();o=(0,d.jsx)(l.rU,{onClick:n||void 0,href:e,inline:!0,children:t})}return(0,d.jsx)(l.xv,{color:"blue",weight:"bold",inline:!0,children:o},t)}))})};var _=n(872284);function x(e){var t;const{item:{images:n,pin:i}}=e,o=n.length>0,r=o?n[0]["750x"]:null;if(!o||!r)return null;const a=n[0]["750x"].url;return(0,d.jsx)(l.zd,{rounding:2,wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!==(t=i.title)&&void 0!==t?t:"",src:a,color:"#efefef",naturalWidth:r.width,naturalHeight:r.height},a)})}var y=n(761307),b=n(34411),v=n(708206),E=n(923828),w=n(572770),I=n(775676),C=n(515897),T=n(457179),S=n(946753),P=n(237574),j=n(549135),A=n(768491),D=n(658726),R=n(998864),O=n(20420),N=n(647392);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L={background:"none",border:"none",padding:"0",width:"100%"},M=({isLikedByMe:e,onClick:t})=>{const n=(0,a.ZP)(),i=(0,R.Z)({shouldStopEventPropagation:!1});return(0,d.jsx)(l.hU,{accessibilityLabel:n._("Like"),icon:"heart",iconColor:e?"red":"gray",onClick:i((()=>t())),size:"md"})};class B extends i.PureComponent{constructor(...e){super(...e),k(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),k(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,item:{id:t}}=this.props;e&&e(),(0,j.j)(101,{component:172,element:1263,objectId:t})})),k(this,"handleClickHashTag",(()=>{const{item:{id:e}}=this.props;(0,j.j)(101,{component:172,element:10194,objectId:e})})),k(this,"handleToggleLikesListModal",(()=>this.setState({showLikesListModal:!this.state.showLikesListModal}))),k(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t}=this.props,{isLikedByMe:n,likeCount:i}=this.state;(0,j.j)(101,{component:172,element:1353,objectId:e,view:t});const o=p.ZP.create("DidItLikeResource",{didItDataId:e});var r,a;return this.setState({isLikedByMe:!n,likeCount:(r=i,a=n,a?r-1:r+1)}),n?o.callDelete({showError:!1}):o.callCreate()})),k(this,"handleToggleFlyout",(()=>this.setState({showFlyout:!this.state.showFlyout,showShareFlyout:!1}))),k(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),k(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),k(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),k(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:n}=this.props;this.setState({showReportModal:!1}),n&&this.state.isReportedByMe&&e&&n(t)})),k(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),k(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:n={},id:i},user:o},deleteUserDidItData:r}=this.props;if(this.setState({showDeleteModal:!1}),!e||!o)return;const{username:a}=o;(0,j.j)(101,{view:101,component:192,element:1264,objectId:i}),r({aggregatedPinDataId:null==n?void 0:n.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:i,username:a})})),k(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),k(this,"handleToggleCommentCount",(e=>{const{item:{id:t},updateUserDidItDataCommentCount:n}=this.props;n(t,e?1:-1)})),k(this,"incrementCommentCount",(()=>{this.handleToggleCommentCount(!0)})),k(this,"decrementCommentCount",(()=>{this.handleToggleCommentCount(!1)})),k(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:n}=this.props;n({didItDataId:e,isMarkedHelpfulByMe:!!t})})),k(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),k(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),k(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),k(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),k(this,"renderFlyout",(()=>{var e,t,n;const{creatorId:i,item:{details:o,id:r,images:a,pin:s,privacy:u,user:h},viewer:p}=this.props,{aggregated_pin_data:m={},id:g,images:f={},link_domain:x={},rich_metadata:y={},title:b}=s||{},{showFlyout:v,showShareFlyout:E}=this.state,w=(x||{}).official_user||{},I=(y||{}).title,C={description:o,id:r,imageUrl:a.length>0?null==a||null===(e=a[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(n=f["136x136"])||void 0===n?void 0:n.url,name:I||this.props.i18n._("this idea"),type:P.d.DID_IT,url:`/pin/${g}/activity/tried/${r}`},T=this.isOwnedByCurrentUser||p.isAuth&&p.id===w.id||p.isAuth&&p.id===i;return(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,d.jsx)(l.hU,{accessibilityExpanded:v,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm"})}),v&&(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{alignSelf:"end",children:(0,d.jsx)(l.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:E?"lg":"xs",children:E?(0,d.jsx)(_.Z,{isFlyout:!0,onHide:this.handleToggleFlyout,sendType:P.d.DID_IT,sharedObject:C}):(0,d.jsx)(l.xu,{display:"flex",column:12,color:"white",position:"relative",rounding:2,alignSelf:"start",children:(0,d.jsxs)(l.sg,{span:12,children:["public"===u&&(0,d.jsx)("button",{style:L,onClick:this.handleShowShareFlyout,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Share")})})}),(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Go to Pin")})},this.pinURL)}),h&&(this.isOwnedByCurrentUser||T)?(0,d.jsxs)(l.xu,{children:[this.isOwnedByCurrentUser&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,d.jsx)(c,{aggregatedPinDataId:null==m?void 0:m.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:h,onToggleModal:this.handleToggleEditModal,pinId:g,pinTitle:b,userDidItDataId:r})}),T&&(0,d.jsx)("button",{style:L,onClick:this.handleShowDeleteModal,children:(0,d.jsx)(l.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Delete")})})})]}):(0,d.jsx)("button",{style:L,onClick:this.handleShowReportModal,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Report this content")})})})]})})})})})]})})),k(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:n},marked_helpful_by_me:i,helpful_count:o},isManagedView:r,viewer:a}=this.props,{isLikedByMe:s,likeCount:c,isDeleteHover:u,isReportHover:h}=this.state,p=(0,m.Z)(this.props.i18n.ngettext("{{likeCount}} like","{{likeCount}} likes",c),{likeCount:c}),g=(0,m.Z)(this.props.i18n.ngettext("{{commentCount}} comment","{{commentCount}} comments",e),{commentCount:e}),f=(n||{}).official_user||{},_=this.isOwnedByCurrentUser||a.isAuth&&a.id===f.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,d.jsxs)(l.xu,{column:12,display:"flex",alignItems:"center",children:[(0,d.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(l.xv,{size:"md",children:r?x:(0,d.jsx)(A.Z,{value:new Date(t),dateFormatType:A.k.LONG,useUTC:!1})}),e>0&&(0,d.jsx)(l.xu,{marginStart:6,children:(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:g})}),c>0&&(0,d.jsx)(l.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,d.jsx)(l.iP,{onTap:this.handleToggleLikesListModal,children:(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:p})})})]}),(0,d.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,d.jsx)(l.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:c>0?"between":"end",children:a.isAuth&&(0,d.jsx)(M,{isLikedByMe:s,onClick:this.handleClickLike})}),(0,d.jsx)(l.xu,{display:"flex",paddingY:3,children:(0,d.jsx)(T.HelpfulButton,{helpfulCount:o,isMarkedHelpfulByMe:i,onHelpfulClick:this.handleClickHelpful})})]}),r&&(0,d.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,d.jsx)(l.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:h?"darkGray":"gray",size:"md",weight:"bold",children:this.props.i18n._("Report")})})})}),r&&_&&(0,d.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,d.jsx)(l.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:u?"darkGray":"gray",size:"md",weight:"bold",children:this.props.i18n._("Delete")})})})})]})})),k(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:n,pin:i,user:o},isManagedView:r}=this.props,{full_name:a}=o||{},{dominant_color:s,images:c={},rich_metadata:u={},title:h}=i,p=(u||{}).title;let m;return m=this.isOwnedByCurrentUser&&p?(0,S.nk)(this.props.i18n._("You tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try","Navigating to a Pin from a try"),{pinTitleForTriedByText:p}):p?(0,S.nk)(this.props.i18n._("{{fullName}} tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try","Navigating to a Pin from a try"),{fullName:a,pinTitleForTriedByText:p}):this.isOwnedByCurrentUser?this.props.i18n._("See the Pin you tried","Navigating to a Pin from a try","Navigating to a Pin from a try"):this.props.i18n._("See the Pin that inspired it","call to action - navigating to a Pin from a try","call to action - navigating to a Pin from a try"),(0,d.jsx)("div",{className:n.length?"DidItPinInfoBar":"",children:(0,d.jsx)(l.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,d.jsxs)(l.xu,{paddingX:n.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,d.jsxs)(l.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,d.jsx)(l.xu,{width:60,marginEnd:3,children:(0,d.jsx)(l.zd,{rounding:2,wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!=h?h:"",color:null!=s?s:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=c["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,d.jsxs)(l.xv,{color:n.length?"white":"darkGray",size:r?"sm":"lg",weight:"bold",children:[" ",m," "]})]}),(0,d.jsx)(l.JO,{accessibilityLabel:this.props.i18n._("See pin"),color:n.length?"white":"darkGray",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:n,item:i,viewType:o}=this.props,{likeCount:a,showDeleteModal:s,showLikesListModal:c,showReportModal:p}=this.state,{comment_count:g,details:_,id:b,images:v,pin:T,user:S,videos:P}=i,{aggregated_pin_data:j={},id:A}=T||{},{full_name:D,id:R,image_medium_url:O,username:N}=S||{},k=`/${N}/`;(0,m.Z)(this.props.i18n.ngettext("{{likeCount}} like","{{likeCount}} likes",a),{likeCount:a}),(0,m.Z)(this.props.i18n.ngettext("{{commentCount}} comment","{{commentCount}} comments",g),{commentCount:g});const L=!!(P&&P.length>0&&P[0].video_list&&P[0].video_list.V_HLSV4),M=!!(v.length>0&&v[0]&&v[0]["750x"]),B=M||L,F=82!==o,U=M&&F;return(0,d.jsxs)(l.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,d.jsxs)(l.xu,{display:"flex",column:12,alignItems:"center",children:[(0,d.jsx)(l.kC,{alignItems:"center",children:(0,d.jsx)(l.xu,{width:n?36:42,marginEnd:3,children:(0,d.jsx)(l.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:k,children:(0,d.jsx)(l.zd,{rounding:"circle",wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!=D?D:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=O?O:""},O)})},k)})}),(0,d.jsx)(l.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,d.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,d.jsx)(l.xv,{size:n?"md":"lg",children:(0,d.jsx)("div",{className:"PhotoFirstTitle",children:(0,d.jsx)(l.rU,{onClick:this.handleClickthrough,href:k,children:D||""},k)})}),!n&&this.renderFlyout()]})]}),(0,d.jsx)(l.xu,{marginTop:2,marginBottom:n?0:1,children:B&&(0,d.jsxs)(l.xu,{column:12,position:"relative",children:[L?(0,d.jsx)(y.Z,{item:i,viewType:o}):(0,d.jsx)(x,{item:i}),U&&(0,d.jsx)(l.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,d.jsxs)(l.xu,{marginStart:1,children:[M&&this.renderStatsBar(),_&&(0,d.jsx)(l.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,d.jsx)(l.xv,{size:n?"sm":"lg",children:(0,d.jsx)(f,{html:_,onClick:this.handleClickHashTag})})}),!M&&(0,d.jsxs)(l.xu,{children:[F&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,d.jsx)(l.xu,{column:12,children:(0,d.jsx)(w.VO,{commentCount:g,creatorId:t,didItOwnerId:R,objectId:b,objectType:E.o.didIt,pinId:T.id,variant:"legacy"})})]}),s&&(0,d.jsx)(r.Z,{didItData:{id:b},onDeleteConfirmation:this.handleDeleteConfirmation}),c&&(0,d.jsx)(h.Z,{accessibilityModalLabel:this.props.i18n._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item","Label for a modal showing a list of users who have liked a Tried Item"),allowScroll:!0,heading:(0,m.Z)(this.props.i18n.ngettext("{{count}} Like","{{count}} Likes",a),{count:a.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,d.jsx)(I.Jo,{id:b})}),p&&S&&(0,d.jsx)(C.N,{children:(0,d.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==j?void 0:j.id)&&void 0!==e?e:"",didItDataId:b,pinId:A,onClose:this.handleHideReportModal,username:N,users:[S]})})]})}}function F(e){const t=(0,a.ZP)(),n=(0,D.Z)(),i=(0,o.useDispatch)(),r={deleteUserDidItData:(0,v.bindActionCreators)(O.lg,i),toggleHelpful:(0,v.bindActionCreators)(N.Y,i),updateUserDidItDataCommentCount:(0,v.bindActionCreators)(O.L8,i)},s=(0,o.useSelector)((({userDidItData:t})=>t[e.didItDataId]));return(0,d.jsx)(B,{...e,...r,item:s,viewer:(0,b.Z)(),i18n:t,getHumanizedTimeSince:n})}},775676:(e,t,n)=>{n.d(t,{Xd:()=>f,Jo:()=>_});var i=n(667294),o=n(40142),r=n(823493),a=n.n(r),s=n(558491),l=n(535718),d=n(34411),c=n(174523),u=n(883119),h=n(921438),p=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),m(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),m(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),m(this,"handleScroll",a()((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,h.Uy)(this.list);(0,h.aZ)(this.list)-(0,h.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:n,viewer:i}=this.props;if(!t)return(0,p.jsx)("div",{className:"loadingSpinner",children:(0,p.jsx)(u.$j,{accessibilityLabel:this.props.i18n._("Loading spinner for like list","Accessibility label for loading spinner for like list","Accessibility label for loading spinner for like list"),show:!0})});const o=e&&e.map((e=>e.id?{...e,...n[e.id]}:e));return(0,p.jsx)(u.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:o&&o.map((e=>(0,p.jsx)(u.xu,{paddingX:4,paddingY:3,children:(0,p.jsx)(s.Z,{isSelf:Boolean(i.isAuth&&i.id&&e.id===i.id),className:"communityItem",showFollow:!0,showName:!0,size:"medium",user:e,viewType:"thumb"})},e.id)))})}}function f(e){const t=(0,c.ZP)(),n=(0,d.Z)(),i=(0,o.useSelector)((({users:e})=>e)),r=(0,l.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,p.jsx)(g,{...e,feedResource:r,users:i,viewer:n,i18n:t})}function _(e){const t=(0,c.ZP)(),n=(0,d.Z)(),i=(0,o.useSelector)((({users:e})=>e)),r=(0,l.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,p.jsx)(g,{...e,feedResource:r,users:i,viewer:n,i18n:t})}},761307:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(484898),r=n(727407),a=n(174523),s=n(883119),l=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),d(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),d(this,"handleShowControls",(()=>this.setState({showControls:!0}))),d(this,"handleHideControls",(()=>this.setState({showControls:!1}))),d(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),d(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:n}=e;t.stopPropagation(),this.setState({isFullscreen:n})})),d(this,"handleVolumeChange",(e=>{const{event:t,volume:n}=e;t.stopPropagation(),this.setState({volumeLevel:n})}))}render(){const{item:e,viewType:t}=this.props,{videos:n}=e;if(!n||0===n.length)return null;const i=n[0],{showControls:a,isFullscreen:d,isPlaying:c,volumeLevel:u}=this.state,h=o.Z.isSafari(),{V_HLSV4:p}=i.video_list;if(!p)return null;const{height:m,width:g,thumbnail:f,url:_}=p||{},x=[{type:"video/m3u8",src:_}];return(0,l.jsx)(s.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,l.jsx)(s.zd,{rounding:2,willChangeTransform:!(h&&d),wash:!0,children:(0,l.jsx)(r.Z,{isAutoPlay:!1,contextLogData:{view:t,viewParameter:3071,component:172,objectId:e.id,video_id:i.id},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:Math.max((null!=g?g:1)/(null!=m?m:1),1),captions:"",controls:a,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onPause:this.handlePause,onPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:c,poster:f,src:x,volume:u})})})}}function u(e){const t=(0,a.ZP)();return(0,l.jsx)(c,{...e,i18n:t})}},544260:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(551687),r=n(312827),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>null;class d extends i.Component{constructor(...e){super(...e),s(this,"view",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)})),s(this,"complete",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)})),s(this,"dismiss",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)}))}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return(0,a.jsx)(o.Z,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:Object.freeze({})}):e})}return(0,a.jsx)(l,{})}}const c=(0,i.forwardRef)(((e,t)=>{const n=(0,r.Z)(e.placementId);return(0,a.jsx)(d,{...e,experienceClient:n,ref:t})}))},87657:(e,t,n)=>{n.d(t,{Z:()=>g});var i,o,r,a=n(667294),s=n(40142),l=n(855356),d=n(514319),c=n(883119),u=n(785893);class h extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return(0,u.jsx)(d.Z,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:r,confirmButtonText:a,mainText:s,idealDirection:l="down"}=n,d=r&&i&&a&&o;return(0,u.jsx)(c.J2,{anchor:e,color:"blue",idealDirection:l,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,u.jsxs)(c.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,u.jsx)(c.xv,{color:"white",overflow:t,weight:"bold",children:s}),d?(0,u.jsxs)(c.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,u.jsx)(c.xu,{column:6,marginEnd:1,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(r)})}),(0,u.jsx)(c.xu,{column:6,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"white",size:"md",text:String(a),onClick:o})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}r={overflow:"breakWord"},(o="defaultProps")in(i=h)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r;var p=n(354783),m=n(312827);const g=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:o,isHidden:r,onCompleteClick:d,overflow:g,zIndex:f})=>{var _;const x=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:(0,s.useSelector)((({experiences:e})=>null==e?void 0:e.anchorExperiences)),passedExperience:o}),y=(0,m.Z)(null==x?void 0:x.placement_id),b=(null==x||null===(_=x.display_data)||void 0===_?void 0:_.delay)||0,[v,E]=(0,a.useState)(!!b);if((0,a.useEffect)((()=>{if(b>0&&v){const e=setTimeout((()=>{E(!1)}));return()=>clearTimeout(e)}return()=>{}}),[b,v]),(0,a.useEffect)((()=>{!v&&x&&y.viewExperience(x.placement_id,x.experience_id)}),[v,x]),!x||v||r)return a.Children.only(n);const w=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,l.Z)(p.Z,!0)(t)})(x),I=()=>{var e;null!==(e=x.display_data)&&void 0!==e&&e.complete_on_hover&&y.completeExperience(x.placement_id,x.experience_id)};return(0,u.jsxs)(c.xu,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[(0,u.jsx)(c.iP,{onMouseEnter:I,onTap:()=>{d&&d(),w.skipComplete||y.completeExperience(x.placement_id,x.experience_id)},children:a.Children.only(n)}),(0,u.jsx)(h,{anchor:t||null,handlePulsarCompleteOnHover:I,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),y.dismissExperience(x.placement_id,x.experience_id)},overflow:g,pulserOnly:!!w.pulserOnly,tooltip:w.tooltip,tooltipOnly:!!w.tooltipOnly,zIndex:f})]})}},492090:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(883119),r=n(174523),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={backgroundColor:"transparent",border:0,right:80,padding:0};class d extends i.Component{constructor(...e){super(...e),s(this,"subscribers",[])}componentWillUnmount(){this.subscribers.forEach((e=>e.unsubscribe())),this.subscribers=[]}render(){const{bannerText:e,canClose:t,handleComplete:n}=this.props;return(0,a.jsx)("div",{className:"Module BottomBanner",children:(0,a.jsxs)("div",{className:"bannerContainer",children:[(0,a.jsx)("div",{className:"bannerText",children:(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})}),t&&(0,a.jsx)("button",{className:"absolute closeButton",onClick:n,style:l,children:(0,a.jsx)(o.JO,{accessibilityLabel:this.props.i18n._("close","Accessible label for the banner close button","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0})})]})})}}s(d,"defaultProps",{canClose:!1});const c=function(e){const t=(0,r.ZP)();return(0,a.jsx)(d,{...e,i18n:t})};var u=n(855356),h=n(544260),p=n(354783);const m=[11019,11023,500207],g=({placementId:e})=>(0,a.jsx)(h.Z,{placementId:e,experienceIds:m,children:({complete:e,dismiss:t,display_data:n})=>(0,a.jsx)(c,{...(0,u.Z)(p.Z)(n),handleComplete:e,handleDismiss:t})})},933390:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(667294),o=n(829522),r=n(40142),a=n(85038),s=n(883119),l=n(785893);const d=function(e){const{accessibilityLabel:t,iconType:n,iconBackgroundColor:i,iconColor:o,onClickHander:r,text:a,widthInColumn:d}=e;return(0,l.jsx)(s.xu,{column:d,display:"flex",justifyContent:"center",minWidth:248,children:(0,l.jsx)(s.iP,{onTap:r,children:(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(s.xu,{color:i,display:"flex",justifyContent:"center",alignItems:"center",width:70,height:70,rounding:"circle",children:(0,l.jsx)(s.JO,{accessibilityLabel:t,color:o,icon:n,size:40})}),(0,l.jsx)(s.xu,{display:"inlineBlock",marginStart:2,children:(0,l.jsx)(s.xv,{inline:!0,children:(0,l.jsx)("span",{className:"deprecatedTextSizeXL",children:a})})})]})})})};var c=n(311866),u=n(451190),h=n(174523),p=n(997993);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),m(this,"state",{websiteUrl:this.props.websiteUrl||"",websiteUrlErrors:[]}),m(this,"validators",{websiteUrl:[(0,p.Jx)({message:this.props.i18n._("Not a valid url.","[m10n] Validation error when a url is not a valid format","[m10n] Validation error when a url is not a valid format")})]}),m(this,"handleWebsiteChange",(({value:e})=>{const t=(0,p.FU)(this.validators.websiteUrl,e);this.setState({websiteUrl:e,websiteUrlErrors:t});const{onWebsiteInputChange:n}=this.props;n&&n(e)}))}render(){const{onDismiss:e,onComplete:t}=this.props,{websiteUrlErrors:n}=this.state;return(0,l.jsx)(u.Z,{accessibilityModalLabel:this.props.i18n._("What's your website","Accessibility label for modal to input user website","Accessibility label for modal to input user website"),footer:(0,l.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,l.jsx)(s.xu,{"data-test-id":"user-website-input-close",flex:"shrink",paddingX:4,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"gray",onClick:e,text:this.props.i18n._("Cancel","Button label for cancelling the action to set profile cover pins","Button label for cancelling the action to set profile cover pins")})}),(0,l.jsx)(s.xu,{"data-test-id":"user-website-input-next",flex:"shrink",children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:n=>{e(),t()},text:this.props.i18n._("Next","Button label for opening the claim website modal","Button label for opening the claim website modal")})})]}),heading:this.props.i18n._("What's your website","Header for the user website input modal.","Header for the user website input modal."),onDismiss:e,size:"sm",children:(0,l.jsx)(s.xu,{height:130,padding:6,children:(0,l.jsx)(s.nv,{errorMessage:n&&n.join(", "),id:"userWebsite",name:"website_url",onChange:this.handleWebsiteChange,placeholder:this.props.i18n._("www.red-shoes-online.com","Sample website prompt for claiming a website","Sample website prompt for claiming a website"),size:"lg",value:this.state.websiteUrl||""})})})}}function f(e){const t=(0,h.ZP)();return(0,l.jsx)(g,{...e,i18n:t})}var _=n(34411),x=n(836240),y=n(792575),b=n(549156),v=n(641483),E=n(535718),w=n(778527),I=n(858875),C=n(265044),T=n(932129),S=n(549135),P=n(312827);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){const n=(e||"default").replace(/ /g,"");(0,v.ZP)(`web.partner.claimWebsiteTagUpsell.${n}.${t}`)}const D=502468,R=1000298;class O extends i.Component{constructor(...e){super(...e),j(this,"state",{downloadClicked:!1,modalStep:1,verificationType:""}),j(this,"componentDidMount",(()=>{const{experience:e}=this.props;if(e&&e.experience_id===D){var t;A((null==e||null===(t=e.display_data)||void 0===t?void 0:t.tag_integration)||"default","render")}})),j(this,"handleForward",(()=>this.setState({modalStep:2}))),j(this,"handleBack",(()=>this.setState({modalStep:1}))),j(this,"handleSubmit",(()=>{const{website_url:e,experience:t,experienceClient:n,onHide:i}=this.props;(0,S.j)(101,{element:10736});if(c.ZP.create("DomainVerifyResource",{type:this.state.verificationType,domain:e}).callUpdate(),this.props.attemptToClaimWebsite(),a.t8(I.T7,"1",24),this.props.onSuccess&&this.props.onSuccess(),t&&t.experience_id===D){var o;(0,S.j)(120,{component:13624}),n.viewExperience(R,D);A((null==t||null===(o=t.display_data)||void 0===o?void 0:o.tag_integration)||"default","complete"),this.setState({modalStep:3})}else i()})),j(this,"handleInstall",(()=>{(0,S.j)(101,{component:13624,element:11926});const{experienceClient:e}=this.props;e.completeExperience(R,D)})),j(this,"handleDismissTag",(()=>{const{experience:e=null,experienceClient:t,onHide:n}=this.props;(0,S.j)(101,{component:13624,element:11925}),t.dismissExperience(R,D);A(e&&e.display_data&&e.display_data.tag_integration||"default","dismiss"),n()})),j(this,"handleDownload",(()=>{this.setState({downloadClicked:!0}),(0,x.Z)("/website/confirm/download/")})),j(this,"handleCopy",(()=>{window.document.getElementById("textAreaMetatag").select(),document.execCommand("copy")})),j(this,"renderNextFooter",(e=>(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:(0,l.jsx)(b.Z,{id:"claim-website-next",children:(0,l.jsx)(s.zx,{color:e?"red":"gray",text:this.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:this.handleForward,disabled:!e})})}))),j(this,"renderModalStep1",(()=>{var e;const{downloadClicked:t,verificationType:n}=this.state,{verification_code:i}=null!==(e=this.props.domainVerifyResource.data)&&void 0!==e?e:{},o="metatag"===n||"filename"===n&&t,r='<meta name="p:domain_verify" content="'+i+'"/>';return(0,l.jsxs)(u.Z,{accessibilityModalLabel:this.props.i18n._("Confirm your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:this.renderNextFooter(o),heading:this.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:[(0,l.jsxs)(s.xu,{paddingY:7,paddingX:3,children:[(0,l.jsxs)(s.kC,{alignItems:"start",justifyContent:"start",children:[(0,l.jsx)(s.xu,{paddingX:3,flex:"shrink",children:(0,l.jsx)(s.EU,{checked:"metatag"===n,id:"metatag",name:"websiteVerification",onChange:()=>this.setState({verificationType:"metatag"}),size:"md",value:"metatag"})}),(0,l.jsxs)(s.xu,{flex:"grow",marginTop:1,children:[(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{color:"darkGray",weight:"bold",children:this.props.i18n._("Add HTML tag","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})}),(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.xv,{children:this.props.i18n._("Paste this tag into the <head> section of your site’s index.html file","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})})]})]}),"metatag"===n&&(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:3,paddingY:3,children:(0,l.jsx)(s.xu,{column:12,children:(0,l.jsx)(s.Kx,{id:"textAreaMetatag",onChange:(e,t)=>{this.forceUpdate()},value:r})})})]}),(0,l.jsxs)(s.xu,{marginBottom:8,paddingX:3,children:[(0,l.jsxs)(s.kC,{alignItems:"start",justifyContent:"start",children:[(0,l.jsx)(s.xu,{paddingX:3,flex:"shrink",children:(0,l.jsx)(s.EU,{checked:"filename"===n,id:"filename",name:"websiteVerification",size:"md",onChange:()=>this.setState({verificationType:"filename"}),value:"filename"})}),(0,l.jsxs)(s.xu,{flex:"grow",marginTop:1,children:[(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{color:"darkGray",weight:"bold",children:this.props.i18n._("Upload HTML file","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})}),(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.xv,{children:this.props.i18n._("Download this file and upload it to your website's root directory","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})})]})]}),"filename"===n&&(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:3,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:t?"gray":"red",onClick:this.handleDownload,text:this.props.i18n._("Download","Button label for downloading a file to claim a website","Button label for downloading a file to claim a website")})})]})]})})),j(this,"renderModalStep2",(()=>{const e=(0,l.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,l.jsx)(s.xu,{flex:"shrink",marginEnd:4,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"gray",text:this.props.i18n._("Back","Button label for going back to step 1 of the claim website sequence","Button label for going back to step 1 of the claim website sequence"),onClick:this.handleBack})}),(0,l.jsx)(s.xu,{flex:"shrink",marginStart:4,children:(0,l.jsx)(b.Z,{id:"claim-website-submit",children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"red",text:this.props.i18n._("Submit","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:this.handleSubmit})})})]});return(0,l.jsx)(u.Z,{accessibilityModalLabel:this.props.i18n._("Submit for review","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e,heading:this.props.i18n._("Submit for review","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:(0,l.jsx)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:6,paddingX:6,children:(0,l.jsx)(s.xv,{children:this.props.i18n._("All set? We'll check your site for the meta tag and email you in the next 24 hours.","Confirmation message before claiming website","Confirmation message before claiming website")})})})})),j(this,"renderTagUpsellModal",(()=>{var e,t,n;const{experience:i}=this.props,o=(null==i||null===(e=i.display_data)||void 0===e?void 0:e.tag_integration)||"",r=(0,T.S)(o,this.props.i18n)||this.props.i18n._("To track how well ads drive conversion events on your claimed site, install the Pinterest tag.","[m10n] website_modal.tag_upsell_step.body2","Message describing Pinterest tag and prompting the user to install"),a=(0,C.E)((null===(t=this.props.experience)||void 0===t||null===(n=t.display_data)||void 0===n?void 0:n.tag_integration)||""),d=(0,l.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,l.jsx)(s.xu,{flex:"shrink",children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"gray",onClick:this.handleDismissTag,text:this.props.i18n._("Done","[m10n] website_modal.tag_upsell_step.done","Button label for completing claim website flow and exiting the modal")})}),(0,l.jsx)(s.xu,{flex:"shrink",marginStart:2,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:this.handleInstall,role:"link",href:a,text:this.props.i18n._("Install tag","[m10n] website_modal.tag_upsell_step.install","Button label for installing the Pinterest tag")})})]});return(0,l.jsx)(u.Z,{accessibilityModalLabel:this.props.i18n._("Tag upsell modal","[m10n] website_modal.tag_upsell_step.accessibility_label","Accessibility label for tag install screen on the claim website modal"),footer:d,heading:this.props.i18n._("Success!","[m10n] website_modal.tag_upsell_step.title","Modal heading for tag upsell screen"),onDismiss:this.props.onHide,size:"sm",children:(0,l.jsxs)(s.xu,{paddingX:8,children:[(0,l.jsx)(s.xu,{marginBottom:4,children:(0,l.jsx)(s.xv,{children:this.props.i18n._("You’ll be notified once we review your site for the meta tag; it may take up to 24 hours.","[m10n] website_modal.tag_upsell_step.body1","Message describing Pinterest tag and prompting the user to install")})}),(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.xv,{children:r})})]})})}))}render(){if(!this.props.domainVerifyResource.isLoaded){const e=(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:(0,l.jsx)(s.zx,{color:"gray",text:this.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),disabled:!0})});return(0,l.jsx)(u.Z,{accessibilityModalLabel:this.props.i18n._("Claim your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e,heading:this.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10,children:(0,l.jsx)(s.$j,{accessibilityLabel:this.props.i18n._("Loading","Accessibility label for loading spinner","Accessibility label for loading spinner"),show:!0})})})}if(this.props.domainVerifyResource.error)return(0,l.jsx)(y.Z,{error:this.props.domainVerifyResource.error,onHide:this.props.onHide});switch(this.state.modalStep){case 1:return this.renderModalStep1();case 2:return this.renderModalStep2();case 3:return this.renderTagUpsellModal();default:return null}}}const N=(0,w.ZP)(R)((function(e){const t=(0,h.ZP)(),n=(0,E.Z)({name:"DomainVerifyResource",noCache:!0}),i=(0,P.Z)();return(0,l.jsx)(O,{...e,domainVerifyResource:n,experienceClient:i,i18n:t})}));var k=n(855168);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends i.Component{constructor(...e){super(...e),L(this,"state",{attemptToClaimWebsite:"1"===a.U2(I.T7),showUserWebsiteInputModal:!1,websiteModalShown:!1,websiteUrl:this.props.viewer.isAuth?this.props.viewer.domainUrl:void 0}),L(this,"handleClaimWebsiteSuccess",(()=>{(0,S.j)(7509,{view:1,viewParameter:92,component:13233}),this.setState({attemptToClaimWebsite:"1"===a.U2(I.T7)})})),L(this,"closeUserWebsiteInputModal",(()=>this.setState({showUserWebsiteInputModal:!1}))),L(this,"closeClaimWebsiteModal",(()=>{this.setState({websiteModalShown:!1})})),L(this,"handleWebsiteChange",(e=>{this.setState({websiteUrl:e})})),L(this,"navigateToCreatePin",(()=>{const{history:e}=this.props;(0,S.j)(101,{view:1,viewParameter:92,component:13233,element:10797}),e.push("/pin-builder/")})),L(this,"openClaimWebsiteModal",(()=>{this.setState({websiteModalShown:!0});const{websiteUrl:e}=this.state,{viewer:t}=this.props,{domainUrl:n}=t.isAuth?t:{};if(e!==n){c.ZP.create("UserSettingsResource",{website_url:e}).callUpdate().finally((()=>{a.zN(I.T7.name)}))}})),L(this,"showUserWebsiteInputModal",(()=>{(0,S.j)(101,{view:1,viewParameter:92,component:13233,element:10796}),this.setState({showUserWebsiteInputModal:!0})})),L(this,"renderChecklistAction",((e,t)=>{let n;switch(e){case"show_claim_website":const{attemptToClaimWebsite:e}=this.state;return n=this.props.i18n._("Claim your website","Label for claiming website","Label for claiming website"),(0,l.jsx)(d,{accessibilityLabel:n,iconType:e?"ellipsis":"globe",iconBackgroundColor:"white",iconColor:"blue",onClickHander:this.showUserWebsiteInputModal,text:n,widthInColumn:t});case"show_create_pin":const{pinCreatedViaCreatorChecklist:i}=this.props;return n=this.props.i18n._("Create your first Pin","Label for creating the first pin","Label for creating the first pin"),(0,l.jsx)(d,{accessibilityLabel:n,iconType:i?"check":"pin",iconBackgroundColor:i?"green":"white",iconColor:i?"white":"blue",onClickHander:this.navigateToCreatePin,text:n,widthInColumn:t});default:return null}}))}render(){const{actionList:e,handleDismiss:t,header:n,viewer:i}=this.props,{showUserWebsiteInputModal:o,websiteModalShown:r,websiteUrl:a}=this.state,d=e&&e.length?Math.floor(12/e.length):1,c=n||this.props.i18n._("Follow these steps to get going on Pinterest","The headline of new business user's checklist","The headline of new business user's checklist");return(0,l.jsxs)(s.xu,{display:"flex",justifyContent:"between",height:150,color:"lightGray",position:"relative",children:[(0,l.jsx)(s.xu,{color:"blue",display:"flex",alignItems:"center",justifyContent:"center",width:"40%",minWidth:352,paddingX:8,paddingY:8,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"240px 476px"}},children:(0,l.jsx)(s.X6,{color:"white",children:c})}),(0,l.jsx)(s.xu,{display:"flex",width:"60%",alignItems:"center",justifyContent:"center",paddingX:12,children:e.map((e=>this.renderChecklistAction(e,d)))}),(0,l.jsx)(s.xu,{position:"absolute",top:!0,right:!0,padding:2,children:(0,l.jsx)(s.hU,{accessibilityLabel:this.props.i18n._("Close","Close the experience UI","Close the experience UI"),icon:"cancel",onClick:t})}),o&&(0,l.jsx)(f,{onComplete:this.openClaimWebsiteModal,onDismiss:this.closeUserWebsiteInputModal,onWebsiteInputChange:this.handleWebsiteChange,websiteUrl:i.isAuth?i.domainUrl:""}),r&&(0,l.jsx)(N,{onHide:this.closeClaimWebsiteModal,attemptToClaimWebsite:()=>{},onSuccess:this.handleClaimWebsiteSuccess,website_url:a})]})}}function B(e){const t=(0,h.ZP)(),n=(0,r.useSelector)((({creatorChecklist:e})=>!!e&&e.pinCreatedViaCreatorChecklist));return(0,l.jsx)(M,{...e,history:(0,k.k6)(),pinCreatedViaCreatorChecklist:n,viewer:(0,_.Z)(),i18n:t})}var F=n(855356),U=n(544260),Z=n(569716);const G=({color:e,completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:i,dismissButtonText:o,handleComplete:r=(()=>{}),handleDismiss:a=(()=>{}),header:s="",headerSubtitle:d=""})=>{const c=(0,h.ZP)();return(0,l.jsx)(Z.Z,{message:(s+" "+d).trim(),dismissButtonText:o||c._("Close","Closing a Hero banner","Closing a Hero banner"),completeButtonText:t||c._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:n,onComplete:r,onDismiss:a,external:i,color:e})};const H=function({color:e,completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:i,handleComplete:o=(()=>{}),header:r="",headerSubtitle:a=""}){const s=(0,h.ZP)();return(0,l.jsx)(Z.Z,{message:(r+" "+a).trim(),completeButtonText:t||s._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:n,onComplete:o,external:i,color:e||"darkGray"})};var z=n(354783),V=n(151101),W=n(946753);function Y({completeButtonText:e,headerSubtitle:t,handleComplete:n,handleDismiss:i}){const o=(0,h.ZP)(),r=(0,_.Z)(),{firstName:a,imageLargeUrl:d}=r.isAuth?r:{};return(0,l.jsx)(s.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,l.jsxs)(s.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(s.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,l.jsx)(V.Z,{name:a,src:d,size:"lg",outline:!0})}),(0,l.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,l.jsx)(s.xu,{marginBottom:2,children:(0,l.jsx)(s.X6,{size:"sm",children:(0,W.nk)(o._("Welcome back, {{ name }}",'shown on a banner, "welcome back, first_name"','shown on a banner, "welcome back, first_name"'),{name:a})})}),(0,l.jsx)(s.xv,{children:t})]})]}),(0,l.jsx)(s.xu,{marginEnd:4,children:(0,l.jsx)(s.zx,{color:"white",size:"lg",text:e,onClick:n})}),(0,l.jsx)(s.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,l.jsx)(s.hU,{accessibilityLabel:o._("Close","accessible label for close button","accessible label for close button"),iconColor:"darkGray",icon:"cancel",onClick:i,size:"sm"})})]})})}var K=n(615071),q=n(585967);function $({completeButtonUrl:e,onDismiss:t,placementId:n}){const[r,a]=(0,i.useState)(!1),d=(0,q.B)();return(0,l.jsx)(U.Z,{placementId:n,type:13,children:({experience_id:n,complete:i,dismiss:c,display_data:u})=>{e&&(u.complete_button_url=e);const h=(e=>{switch(e){case 502597:return o.default;case 500863:return Y;case 500840:return B;case 501117:case 501153:case 501487:return H;default:return G}})(n),p={requestContext:d,experienceId:n,handleComplete:i,handleDismiss:()=>{t&&t(),c()},color:"blue",...(0,F.Z)(z.Z)(u)};return r||a(!0),(0,l.jsx)(K.Z,{in:r,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,l.jsx)(s.xu,{marginBottom:4,children:(0,l.jsx)(h,{...p})})})}})}},264414:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(544260),r=n(881220),a=n(549135),s=n(785893);const l=e=>(0,s.jsx)(o.Z,{experienceIds:e.experienceIds,placementId:e.placementId,type:10,children:({complete:t,dismiss:n,display_data:i})=>{const o=i.link||e.linkUrl;return(0,s.jsx)(r.Z,{duration:i.duration,href:o,text:i.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&(0,a.j)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}});var d=n(475446);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),c(this,"componentDidMount",(()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout((()=>this.triggerEducationToasts()),e)}))}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast((({onHide:e})=>(0,s.jsx)(l,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1})))}render(){return null}}c(h,"defaultProps",{completionOnDismissal:!1});const p=(0,d.Cl)(h)},390764:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(544260),r=n(514319),a=n(883119),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return(0,s.jsx)(a.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(a.xv,{color:"darkGray",weight:"bold",children:t})}),(0,s.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,s.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,s.jsx)(a.zd,{rounding:2,height:60,children:(0,s.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{paused:!1}),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:c,fontSize:u,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:_,positionRelativeToAnchor:x,shouldTimeoutDismiss:y,showCaret:b,textAlign:v,textOverflow:E,textOverrideFn:w,textWeight:I,customizedComplete:C,pulsarZIndex:T}=this.props,S=t||(({children:e})=>p?(0,s.jsx)(a.mh,{children:e}):e),P="blue";return(0,s.jsx)(o.Z,{experienceIds:n,placementId:_,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(y&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),o.disappearTime)),(0,s.jsxs)(i.Fragment,{children:[o.has_pulsar&&(0,s.jsx)(r.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:T&&T.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?(0,s.jsx)(d,{anchor:e,dismiss:n,idealDirection:h||"down",text:o.text,thumbnails:o.thumbnail_urls}):(0,s.jsx)(S,{children:(0,s.jsx)(a.J2,{anchor:e,color:P,idealDirection:h||"down",onDismiss:m?()=>{}:n,positionRelativeToAnchor:!p&&x,shouldFocus:!1,showCaret:b,size:c,children:(0,s.jsxs)(a.xu,{column:12,padding:3,children:[(0,s.jsx)(a.xv,{align:"right"===v?"end":v,color:"white",overflow:E,size:u,weight:I||"bold",children:this.getText(o,l,w)}),o.sub_text&&(0,s.jsx)(a.xu,{paddingY:2,children:(0,s.jsx)(a.xv,{color:"white",size:u,children:o.sub_text})}),o.complete_button_cta_url&&(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{align:"right"===v?"end":v,color:"white",size:u,children:(0,s.jsx)(a.rU,{href:o.complete_button_cta_url,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:o.complete_button_text})})}),!o.complete_button_cta_url&&(o.dismiss_button_text||o.complete_button_text)&&(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&(0,s.jsx)(a.xu,{marginEnd:1,column:6,children:(0,s.jsx)(a.zx,{fullWidth:!0,color:P,onClick:()=>{f&&f(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&(0,s.jsx)(a.xu,{column:o.dismiss_button_text?6:12,children:C?(0,s.jsx)(a.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,s.jsx)(a.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,s.jsx)(a.xv,{color:"blue",weight:"bold",children:o.complete_button_text})})}):(0,s.jsx)(a.zx,{fullWidth:!0,color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),g&&g()}})})]})]})})}))]})):(t(),null))})}}c(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},195490:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(544260),o=n(459123),r=n(785893);const a=({anchors:e,idealDirection:t,onCompleteByAnchor:n,placementId:a,positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})=>(0,r.jsx)(i.Z,{placementId:a,predicate:t=>{const{display_data:n}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null!=t&&t.web){const{anchor:n,placement:i}=t.web;return i===a&&n in e}}return!1},children:({complete:i,dismiss:a,display_data:c})=>(0,r.jsx)(o.Z,{anchors:e,complete:i,dismiss:a,displayData:c,idealDirection:t,onCompleteByAnchor:n,platform:"web",positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})})},282152:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(737614);function o(){const e=i.Z.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},529110:(e,t,n)=>{n.d(t,{Js:()=>s,w9:()=>d,bh:()=>c,ax:()=>h,Hx:()=>p,P0:()=>m,j:()=>g});var i=n(41743),o=n(395047),r=n(535258),a=n(227340);const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=2;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return(e=>"ja"===e?23:19)(t)*n}return 0},d=e=>(0,a.eK)(e),c=(e,t=!1)=>e&&e.length>0&&!t,u=(e,t,n,i)=>{let r=0;const{description:a,vaseAnnotations:s}=d(e),l={seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2};if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!c(t)&&t&&t.length>0;return!1})(0,s,e)&&(r+=l.seeMoreButtonHeight,r+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(r+=l.productSiteTitle,r+=l.productSiteTitleTopMargin),c(s,i)&&(r+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=(0,o.Z)(e);const n=35,i=2;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);r+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(r+=28),r},h=(e,t,n,i=!1,o,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=(0,a.fs)(e);return l(n,t)+10})(e,t):0,d=i?0:u(e,0,0,o);return s||d?d+s+10:0},p=(e,t="orig")=>(0,i.Z)(e.images,t);function m(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map((t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)}));t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const a=p(e,"orig");if(a){var s,l;const e=Math.floor((null!==(s=a.height)&&void 0!==s?s:1)*r.xf/(null!==(l=a.width)&&void 0!==l?l:1));i=e>o?o:e}return i}},233495:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702925),o=n(641483);const r={scope:"profile email",client_id:i.Z.settings.GPLUS_CLIENT_ID,app_package_name:i.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>((0,o.ZP)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{(0,o.ZP)(`unauth_web.init_google.sdk.${e}`)},l=(e=r)=>new Promise(((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then((()=>a(t)))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then((()=>a(t)))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))}))},419015:(e,t,n)=>{n.d(t,{lt:()=>i,Bx:()=>o,oM:()=>r,N4:()=>a,is:()=>s});const i=e=>e._("You're almost there! Log in to access all of Pinterest","loginModal.limitedLogin.subheader","Subheader text on personalized login modal/flyout to remind users to log in"),o=e=>e._("Log in to save this Pin","limitedLogin.modalHeader.repin","Title on mobile web limited login modal to prompt users to login after they clicked save button."),r=e=>e._("Log in to edit this Pin","limitedLogin.modalHeader.editPin","Title on mobile web limited login modal to prompt users to login after they clicked edit button."),a=({i18n:e,toFollow:t})=>t?e._("Log in to follow","limitedLogin.modalHeader.follow","Title on mobile web limited login modal to prompt users to login to follow a user or board."):e._("Log in to unfollow","limitedLogin.modalHeader.unfollow","Title on mobile web limited login modal to prompt users to login to unfollow a user or board."),s=e=>e._("Log in to create a Pin or board","limitedLogin.modalHeader.create","Title on mobile web limited login modal to prompt users to login to create a Pin or board.")},998864:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(419015),r=n(848101);const a=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n,limitedLoginModalSubheader:a}=(0,r.B$)(),{shouldStopEventPropagation:s}=e,l="AUTH"===n.type,d=(0,i.ZP)();return l?e=>e:(e,n)=>e=>{let i=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?i=e:e.event&&(i=e.event)),s&&i&&i.stopPropagation&&i.stopPropagation(),t&&t.setVisible(!0),a&&(n?a.setText(n):a.setText((0,o.lt)(d)))}}},600169:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(311866),r=n(282303),a=n(883119),s=n(549135),l=n(192830),d=n(785893);function c({children:e,flyoutDirection:t,userId:n}){const[c,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),m=(0,i.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(a.xu,{ref:m,children:e({showSendMessageFlyout:()=>{u((e=>!e))}})}),c&&(0,d.jsx)(r.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),u(!1),(0,s.j)(101,{element:103,component:13946,view:4,viewParameter:3107});const t=o.ZP.create("ConversationsResource",{user_ids:[n],text:e}),i=await t.callCreate(),r=null==i?void 0:i.resource_response.data;g(r),f(r.id)},onDismiss:()=>u(!1),message:h})]})}},282303:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(883119),r=n(785893);function a({anchor:e,idealDirection:t,message:n,onDismiss:a,onMessageChange:s,onMessageSubmit:l}){const d=(0,i.ZP)();return(0,r.jsx)(o.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:a,size:"md",children:(0,r.jsxs)(o.xu,{padding:3,width:"100%",children:[(0,r.jsx)(o.Kx,{id:"message",value:n,onChange:({value:e})=>s(e),placeholder:d._("Add a message","profileHeader.actionBar.messageFlyout.textareaPlaceholder","Text placeholder when sending a message to another user")}),(0,r.jsx)(o.xu,{marginTop:3,children:(0,r.jsx)(o.zx,{fullWidth:!0,color:"red",text:d._("Send","profileHeader.actionBar.messageFlyout.sendButton","Label for button to send this message to this user"),disabled:""===n.trim(),onClick:l})})]})})}},318205:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(667294),o=n(932466),r=n(620813),a=n(174523),s=n(585967),l=n(883119),d=n(785893);function c({height:e,onCtaDidLoad:t,width:c}){const u=(0,a.ZP)(),[h,p]=(0,i.useState)(null),{locale:m}=(0,s.B)(),g=(0,o.default)(m);(0,i.useEffect)((()=>{g&&"none"!==g&&(e=>{const t=(0,i.lazy)((()=>n(641661)(`./${e}`)));p(t)})(g)}),[g]),(0,i.useEffect)((()=>{h&&t()}),[h]);const f=u._("Open Pinterest and tap the camera icon for ideas","PincodeCTA.title","Text informing users how to use Pincodes — may be displayed or used as accessibility label for an image"),_=(0,d.jsx)(l.xv,{align:"center",children:f});return"none"===g?_:h?(0,d.jsx)(r.Z,{fallback:_,children:(0,d.jsx)(h,{height:e,title:f,width:c})}):(0,d.jsx)(l.$j,{accessibilityLabel:u._("Loading Pincode Call to Action","PincodeCTA.loading","Accessibility label for loading spinner for the Pincode call-to-action"),show:!0})}},932466:(e,t,n)=>{function i(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}n.r(t),n.d(t,{default:()=>i})},33234:(e,t,n)=>{n.d(t,{ZP:()=>D});var i=n(667294),o=n(318205),r=n(785893);const a="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",s="#e60023",l="0 0 222 222";function d({size:e}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:l,children:(0,r.jsx)("path",{d:a,fill:s,fillRule:"evenodd"})})}var c=n(174523),u=n(883119);function h({getThumbnailImageSrcSet:e,images:t,onTouch:n}){const i=(0,c.ZP)();return(0,r.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map(((t,o)=>{var a,s,l,c;return(0,r.jsx)(u.xu,{padding:1,children:(0,r.jsx)(u.Zb,{children:(0,r.jsx)(u.iP,{fullWidth:!1,onTap:()=>n("logo"===t?"logo":o-1),rounding:2,children:(0,r.jsx)(u.zd,{rounding:"circle",width:85,height:85,children:"logo"===t?(0,r.jsx)(d,{size:85}):(0,r.jsx)(u.Ee,{alt:i._("Pincode Hero Image","accessibility label for the Pincode hero image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(l=t.url)&&void 0!==l?l:"",srcSet:e&&e(null!==(c=t.url)&&void 0!==c?c:"")})})})})},"logo"===t?t:t.url)}))})}var p=n(535718);const m=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${g||222}" height="${g||222}" x="${f||0}" y="${f||0}" viewBox="0 0 222 222">\n    <path d="${a}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim())}`;var g,f;const _=600;function x(e,t,n){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===n?300:0)}"\n      width="${_/("row"===t?1:2)}"\n      height="${_/("column"===n?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function y(e,t){const n=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return n?e.replace(/<image[^>]*>/,n):e}class b extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(n="handleFetchChange")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:n,pincodeImageResource:{data:i,isLoaded:o}}=this.props,a=n,s=n;return(0,r.jsxs)(u.kC,{alignItems:"center",height:s,justifyContent:"center",width:a,children:[o&&!!i&&(0,r.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:y(i,t)},style:{width:a,height:s}}),(0,r.jsx)(u.$j,{accessibilityLabel:this.props.i18n._("Loading Pincode Image","accessibility label for loading the Pincode image","accessibility label for loading the Pincode image"),show:!i})]})}}function v(e){const t=(0,c.ZP)(),n=(0,p.Z)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||m}});return(0,r.jsx)(b,{...e,i18n:t,pincodeImageResource:n})}var E=n(549135);function w(e){return new Promise(((t,n)=>{const i=new XMLHttpRequest;i.ontimeout=n,i.onreadystatechange=()=>{if(4!==i.readyState)return;if(200!==i.status)return void n();const e=new FileReader;e.onloadend=()=>{const i=e.result;"string"==typeof i?t(i.split(/,/)[1]):n()},e.readAsDataURL(i.response)},i.open("GET",e,!0),i.timeout=3e4,i.responseType="blob",i.send()}))}function I(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();const i=t?t(n):n;return Promise.resolve(i).then(w).then((e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(i)};base64,${e}`)).then((t=>new Promise(((n,i)=>{e.onerror=i,e.href.baseVal=t,window.requestAnimationFrame(n)}))))}(e,t);const n=Array.from(e.childNodes);return Promise.all(n.map((e=>I(e,t))))}function C(e,t){return new Promise(((n,i)=>{const o=document.createElement("div");o.innerHTML=e.innerHTML,I(o,t).then((()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame((()=>n(t)))},t.onerror=i;const r=o&&o.querySelector("svg");r&&(/^[0-9]+$/.test(r.getAttribute("width")||"")||r.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(r.getAttribute("height")||"")||r.setAttribute("height",`${e.scrollHeight}`));const a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a.trim())}`}))}))}function T(e,t){return new Promise(((n,i)=>{(function(e){return new Promise(((t,n)=>{if(e.toBlob)return void e.toBlob(t);let i="";try{i=e.toDataURL("image/png")}catch(s){n()}const o=window.atob(i.split(",")[1]),r=o.length,a=new Uint8Array(r);for(let e=0;e<r;e+=1)a[e]=o.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))}))})(e).then((e=>window.URL.createObjectURL(e))).then((e=>{const i=document.createElement("a");i.download=t,i.href=e,i.style.display="none",window.document.body.appendChild(i),window.requestAnimationFrame((()=>{const t=()=>{window.requestAnimationFrame((()=>{window.URL.revokeObjectURL(e),i.removeAttribute("href"),i.removeEventListener("click",t),window.document.body.removeChild(i),n()}))};i.addEventListener("click",t),i.click()}))})).catch(i)}))}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P="pincodeMain",j="pincodeCTA";class A extends i.PureComponent{constructor(...e){super(...e),S(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),S(this,"getCustomHeroImages",(()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:n}=this.state;if(!t)return e;const i="logo"!==n&&e[n];return i?[i]:[]})),S(this,"normalizeUrl",(e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))})),S(this,"handleFetchChange",(e=>{this.setState({isFetchingPincodeImage:e})})),S(this,"handleCancelButtonClick",(()=>this.setState({isPickingHeroImage:!1}))),S(this,"handleEditButtonClick",(()=>this.setState({isPickingHeroImage:!0}))),S(this,"handleSelectImage",(e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e}))),S(this,"downloadPincodeImage",(()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:n,isDownloading:i}=this.state;if(!e||!t||n||i)return;const o=e.querySelector(".pincodeMain"),r=e.querySelector(".pincodeCTA");if(!o||!r)return;const{getDownloadImageURL:a,id:s}=this.props;(0,E.j)(7078,{component:13141,objectId:s}),this.setState({isDownloading:!0}),Promise.all([C(o,a),C(r)]).then((e=>{const[t,n]=e;return((e,t)=>{const n=document.createElement("canvas");n.width=3544,n.height=3544;const i=Math.round(.1*n.width),o=Math.round(.05*n.width),r=n.width-2*i,a=n.width-2*o,s=n.height-r,[l,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],c=n.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,n.width,n.height),c.drawImage(e,i,0,r,r),c.drawImage(t,(n.width-l)/2,r+(n.height-r-d)/2,l,d),n})(t,n)})).then((e=>T(e,`pincode_${this.props.id}.png`))).then((()=>{this.setState({isDownloading:!1})})).catch((()=>{this.setState({errorFlyoutIsOpen:!0})}))}))}render(){const{id:e,isLoadingImages:t,images:n,getThumbnailImageSrcSet:i,customizable:a}=this.props,{ctaIsLoaded:s,errorFlyoutIsOpen:l,isFetchingPincodeImage:d,isDownloading:c,isPickingHeroImage:p}=this.state;return p?(0,r.jsx)(u.xu,{width:350,color:"white",rounding:2,padding:4,children:(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(u.xu,{paddingY:1,children:(0,r.jsx)(u.X6,{size:"md",lineClamp:1,children:this.props.i18n._("Change Image","Title of the Pincode hero image picker modal","Title of the Pincode hero image picker modal")})}),(0,r.jsx)(u.iz,{}),(0,r.jsx)(h,{images:n,getThumbnailImageSrcSet:i,onTouch:this.handleSelectImage}),(0,r.jsx)(u.xu,{padding:1,children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._("Cancel","Button to dismiss Pincode hero image picker","Button to dismiss Pincode hero image picker"),onClick:this.handleCancelButtonClick})})]})}):(0,r.jsx)(u.xu,{width:350,color:"white",rounding:2,marginBottom:4,paddingX:4,children:(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(u.xu,{ref:e=>{this.previewNode=e},children:(0,r.jsxs)(u.xu,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?(0,r.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,r.jsx)(u.$j,{accessibilityLabel:this.props.i18n._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})}):(0,r.jsx)(v,{className:P,id:e,imageUrls:this.getCustomHeroImages().map((e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")})),onFetchingChange:this.handleFetchChange,size:230}),(0,r.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:(0,r.jsx)("div",{className:j,children:(0,r.jsx)(o.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),(0,r.jsxs)(u.xu,{marginTop:2,padding:1,children:[a&&n.length>0&&(0,r.jsx)(u.xu,{paddingY:1,children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._("Change Image","Button to pick Pincode hero image","Button to pick Pincode hero image"),onClick:this.handleEditButtonClick})}),(0,r.jsxs)(u.xu,{paddingY:1,children:[(0,r.jsx)(u.xu,{ref:e=>{this.downloadButton=e},children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._("Download Pincode","Button to download the Pincode image","Button to download the Pincode image"),color:"red",onClick:this.downloadPincodeImage,disabled:t||!s||d||c})}),l&&(0,r.jsx)(u.J2,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:(0,r.jsx)(u.xu,{padding:3,children:(0,r.jsx)(u.xv,{color:"white",weight:"bold",children:(0,r.jsx)("span",{children:this.props.i18n._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported","Error message shown when user attempts to download Pincode on a browser not supported")})})})})]})]})]})})}}function D(e){const t=(0,c.ZP)();return(0,r.jsx)(A,{...e,i18n:t})}},956997:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(451190),r=n(174523),a=n(883119),s=n(549135),l=n(785893);function d({children:e,objectId:t,onHide:n}){const d=(0,r.ZP)(),c={component:13141,objectId:t};return(0,i.useEffect)((()=>{(0,s.j)(6359,c)}),[t]),(0,l.jsx)(o.Z,{accessibilityModalLabel:d._("Pincode","pincode.pincodemodal.label","Accessible label for a modal showing the pincode modal"),heading:d._("Pincode","pincode.pincodemodal.heading","Heading for a modal showing the pincode."),onDismiss:()=>{n(),(0,s.j)(6358,c)},size:"sm",children:(0,l.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},256490:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(930530),o=n(822348),r=n(123527),a=n(728909),s=n(174523),l=n(535718),d=n(883119),c=n(785893);function u({user:e}){const t=(0,s.ZP)(),{data:n,fetchMore:u,isAtEnd:h,isFetching:p,isLoaded:m}=(0,l.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:e.username}});return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.gr,{isAtEnd:h,isFetching:p,fetchMore:u}),m&&(n&&n.length?(0,c.jsx)(a.Z,{itemWidth:317,children:n.map(((e,t)=>(0,c.jsx)(d.xu,{width:317,paddingX:1,paddingY:4,children:(0,c.jsx)("div",{className:"item relative",children:(0,c.jsx)(i.Z,{board:e,slotIndex:t,layout:"wide"})})},e.id)))}):(0,c.jsx)(o.Z,{children:(0,c.jsx)(r.Z,{subject:"boards",surface:"following",user:e})})),(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading additional boards","Label for the loading state spinner in the Boards section of the Following page","Label for the loading state spinner in the Boards section of the Following page"),show:p||!m})]})}},890935:(e,t,n)=>{n.d(t,{cs:()=>v,ZP:()=>E});var i=n(667294),o=n(185062),r=n(943112),a=n(822348),s=n(123527),l=n(728909),d=n(130876),c=n(535718),u=n(34411),h=n(549135),p=n(174523),m=n(585967),g=n(883119),f=n(785893);function _({onClick:e}){const t=(0,p.ZP)();return(0,f.jsx)(g.xu,{marginStart:-6,padding:6,children:(0,f.jsx)(g.iP,{role:"link",href:"/categories",onTap:e,children:(0,f.jsxs)(g.xu,{children:[(0,f.jsx)(g.zd,{height:236,rounding:2,wash:!0,width:236,children:(0,f.jsx)(g.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,f.jsx)(g.JO,{accessibilityLabel:t._("add topics","accessible label for Explore topics add icon","accessible label for Explore topics add icon"),color:"red",icon:"add-circle",size:40})})}),(0,f.jsx)(g.xu,{paddingY:3,children:(0,f.jsx)(g.X6,{size:"sm",color:"gray",children:t._("Explore topics","Text to display for link to find topics to follow","Text to display for link to find topics to follow")})})]})})})}function x(e){let t=e;return e.includes(":")&&2===e.indexOf(":")&&(t=e.substring(3)),t}function y(e){const{id:t="",images:n={},name:i="",background_color:o="",is_followed:a=!1,url_name:s="",primaryAction:l=!1}=e;return(0,f.jsx)(g.xu,{marginStart:-6,padding:6,children:(0,f.jsx)(d.Z,{backgroundColor:o,id:t,image:n["400x"],followedByMe:a,name:i,url:x(s),followingButton:Boolean(l)&&(0,f.jsx)(r.Z,{fullWidth:!0,topicId:t,isFollowed:a,primaryAction:Boolean(l)})})},t)}class b extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=()=>{(0,h.j)(101,{view:4,viewParameter:51,element:1224})},(n="handleFindTopicsClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{viewer:e,topicsResource:{data:t,fetchMore:n,isAtEnd:i,isFetching:o,isLoaded:r},user:d,hideExploreButton:c,primaryAction:u,requestContext:h}=this.props,p=e.isAuth&&e.username===d.username;return(0,f.jsxs)(g.xu,{children:[(0,f.jsx)(g.gr,{isAtEnd:i,isFetching:o,fetchMore:n}),r&&t&&(t.length?(0,f.jsxs)(l.Z,{itemWidth:260,children:[!c&&p&&(0,f.jsx)(_,{onClick:this.handleFindTopicsClick}),t.map((e=>Object.assign(e,{primaryAction:u,requestContext:h}))).map(y)]}):(0,f.jsx)(a.Z,{children:(0,f.jsx)(s.Z,{subject:"topics",surface:"following",user:d})})),(0,f.jsx)(g.$j,{accessibilityLabel:this.props.i18n._("Loading additional topics","Label for the loading state spinner in the Topics section of the Following page","Label for the loading state spinner in the Topics section of the Following page"),show:o||!r})]})}}function v(e){const t=(0,p.ZP)(),n=(0,m.B)(),i=(0,u.Z)(),r=(0,c.Z)({name:"NuxInterestsResource",options:{is_renux:!0,isLazyLoading:!0,urlParams:(0,o.Z)()}});return(0,f.jsx)(b,{...e,hideExploreButton:!0,primaryAction:!0,requestContext:n,topicsResource:r,viewer:i,i18n:t})}function E(e){const t=(0,p.ZP)(),n=(0,m.B)(),i=(0,u.Z)(),o=(0,c.Z)({name:"InterestFollowingResource",options:({user:e})=>({username:e.username})});return(0,f.jsx)(b,{...e,requestContext:n,topicsResource:o,viewer:i,i18n:t})}},270513:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(379544);var o=n(940458),r=n(883119),a=n(785893);function s({height:e=200,numCols:t=3,pins:n=[],rounding:s=2,width:l=o.WC}){return(0,a.jsx)(r.zd,{rounding:s,width:l,height:e,children:(0,a.jsx)(r.gM,{columns:t,cover:!0,height:e,gutter:2,renderImage:({index:e,width:t,height:o})=>{var r;const s=n[e];if(!s)return null;const l=null===(r=s.images)||void 0===r?void 0:r["474x"];return(0,a.jsx)(i.Z,{height:o,image:l,width:t})},width:l})})}},940458:(e,t,n)=>{n.d(t,{X1:()=>i,WC:()=>o});const i=3,o=300},244223:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(27713),o=n(883119),r=n(785893);function a({cover:e,height:t,image:n,width:a}){var s,l,d,c;return e?(0,r.jsx)(i.Z,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(c=e.url)&&void 0!==c?c:"",width:a}):n?(0,r.jsx)(o.zd,{height:t,wash:!0,width:a,children:(0,r.jsx)(o.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:null!==(s=n.height)&&void 0!==s?s:1,naturalWidth:null!==(l=n.width)&&void 0!==l?l:1,src:null!==(d=n.url)&&void 0!==d?d:""})}):(0,r.jsx)(o.xu,{color:"lightGray",height:t,width:a})}var s=n(379544),l=n(118558),d=n(174523),c=n(585967),u=n(896829),h=n(613321);function p({boardThumbs:e=[],cover:t,editButton:n,isActive:i,isSecret:p,layout:m,sensitivityScreenAuxData:g,showSensitivityScreen:f=!1}){const _=(0,d.ZP)();(0,u.Q)(f?{component:13861,view_type:215,aux_data:g}:null);const{isRTL:x}=(0,c.B)(),{height:y,width:b}=(0,h.FN)(m),v=t?void 0:e[0],E=e.slice(t?0:1);return(0,r.jsxs)(o.zd,{height:y,rounding:4,wash:i,width:b,children:[(0,r.jsxs)(o.xu,{color:"white",dangerouslySetInlineStyle:{__style:f?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,r.jsx)(a,{cover:t,height:y,image:v,width:Math.floor(b/3*2)}),(0,r.jsxs)(o.kC,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,r.jsx)(s.Z,{height:Math.floor(y/2),image:E[0],width:Math.floor(b/3)}),(0,r.jsx)(s.Z,{height:Math.floor(y/2),image:E[1],width:Math.floor(b/3)})]})]}),p&&(0,r.jsx)(o.xu,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!x,marginStart:2,marginTop:2,position:"absolute",right:x,rounding:"circle",top:!0,width:32,children:(0,r.jsx)(l.Z,{})}),i&&n&&(0,r.jsx)(o.xu,{alignItems:"center",bottom:!0,color:"white",display:"flex",height:32,justifyContent:"center",left:x,marginBottom:2,marginEnd:2,position:"absolute",right:!x,rounding:"circle",width:32,children:n}),f&&(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,r.jsx)(o.X6,{align:"center",color:"white",size:"sm",children:_._("This board may contain sensitive content","profileBoardCard.boardCollage.heading","Warning text on board that may have sensitive content")})})]})}},379544:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({image:e,width:t,height:n}){return e?(0,o.jsx)(i.zd,{wash:!0,width:t,height:n,children:(0,o.jsx)(i.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,o.jsx)(i.xu,{color:"lightGray",width:t,height:n})}},27713:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({customCover:e,height:t,imgUrl:n,imgPos:r,width:a}){const s=t/a;let l="center center";if(e&&r){let e=1;e=r.height/r.width>s?a/r.width:t/r.height;l=`-${r.x*e}px -${r.y*e}px`}const d={backgroundImage:`url(${n})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF"};return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:a}},children:(0,o.jsx)("div",{className:"relative",style:d,children:(0,o.jsx)("div",{className:"imageWash absolute"})})})}},575579:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(40142),r=n(695508),a=n(80775),s=n(467311),l=n(118558),d=n(174523),c=n(883119),u=n(785893);function h({board:e,canEdit:t,isActive:n,onEditClick:i,subtitle:o}){const r=(0,d.ZP)(),{image_cover_url:h,is_collaborative:p,name:m,pin_count:g,section_count:f}=e,_=p&&(0,u.jsx)(c.xu,{marginEnd:2,paddingX:1,children:(0,u.jsx)(c.JO,{accessibilityLabel:r._("Group board","Accessibility label to indicate group boards","Accessibility label to indicate group boards"),color:"darkGray",icon:"people",size:16})});return(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(c.xu,{column:9,display:"flex",paddingX:4,children:(0,u.jsxs)(c.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(c.xu,{overflow:"hidden",paddingX:4,children:(0,u.jsxs)(c.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,u.jsx)(c.xu,{flex:"none",paddingX:2,children:(0,u.jsx)(c.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:h?(0,u.jsx)(c.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:h}):(0,u.jsx)(c.xu,{color:"lightGray",height:"100%",width:"100%"})})}),(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,u.jsx)(c.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(c.xv,{lineClamp:1,weight:"bold",children:m})})})]})}),(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:[(0,a.Z)(e)&&(0,u.jsx)(c.xu,{marginEnd:2,children:(0,u.jsx)(l.Z,{})}),_,(0,u.jsx)(s.Z,{pinCount:g,sectionCount:f})]})]})}),(0,u.jsxs)(c.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[o&&(0,u.jsx)(c.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(c.xv,{size:"md",lineClamp:1,children:o})}),t&&n&&(0,u.jsx)(c.xu,{flex:"none",paddingX:1,children:(0,u.jsx)(c.hU,{accessibilityLabel:r._("Edit","Edit button accessibility label","Edit button accessibility label"),icon:"edit",onClick:({event:e})=>i(e)})})]})]})}var p=n(311866),m=n(881220),g=n(61020),f=n(475446);const _=(0,f.Cl)((function({board:e,canEdit:t,images:n,invite:a,isOwnProfile:s,isReordering:l,layout:f,onDeclineRequest:_,onEditClick:x,progress:y,subtitle:b,toastImageUrl:v,toastManagerContext:E}){var w;const I=(0,d.ZP)(),[C,T]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1),j=(0,g.U)();(0,i.useEffect)((()=>{l&&C&&T(!1)}),[l,C]);const A=null==e||null===(w=e.owner)||void 0===w?void 0:w.id,D=(0,o.useSelector)((({users:e})=>e[A])),R=D&&D.blocked_by_me,O=null==e?void 0:e.id,N=(0,o.useSelector)((({boards:e})=>e.content[O])),k=()=>{T(!l),j&&j.load(new URL("[username]/[slug].js","file://"))},L=()=>{T(!1)};if(e||N){const i=null!=e?e:N;return(0,u.jsx)(c.xu,{"data-test-id":"profile-board-card",children:(0,u.jsx)(c.xu,{"data-test-id":`board-${i.name}`,onMouseEnter:k,onMouseLeave:L,children:"list"===f?(0,u.jsx)(h,{board:i,canEdit:t,isActive:C,onEditClick:x,subtitle:b}):(0,u.jsx)(r.Z,{board:i,canEdit:t,handleInviteResponse:e=>{(async e=>{if(!a)return;const{board:t={},invited_user:n={}}=a,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await p.ZP.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),P(e),!e&&_?(_(),E.showToast((({onHide:e})=>(0,u.jsx)(m.Z,{onHide:e,text:I._("Invitation declined","text in toast after declined a board collaborator invite","text in toast after declined a board collaborator invite")})))):E.showToast((({onHide:e})=>(0,u.jsx)(m.Z,{duration:5e3,onHide:e,text:I._("You're in! Save Pins, plan with collaborators, and more!","ProfileBoardCard.handleInviteResponse.acceptedInviteToast","Text in toast after accepting a board collaborator invite.")})))})(e)},images:n,invite:a,isActive:C,isBoardInviteAccepted:S,isOwnProfile:s,isUserBlocked:R,layout:f,onEditClick:x,progress:y,subtitle:b,toastImageUrl:v})})})}return null}))},930530:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(40142),r=n(497231),a=n(191182),s=n(34411),l=n(159276),d=n(549135),c=n(40197),u=n(768491),h=n(658726),p=n(174523),m=n(767523),g=n(883119),f=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),_(this,"state",{isEditModalOpen:!1}),_(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),_(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:n}=this.props,i="list"===n;return e.archived_by_me_at?i?(0,f.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._("Archived","profileBoardCard.footer.archived","Indicating that a board is archived"):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||i?this.props.getHumanizedTimeSince(e.board_order_modified_at,!0):null:i?(0,f.jsx)("span",{children:(0,f.jsx)(u.Z,{dateFormatType:u.k.LONG,value:new Date(e.created_at)})}):null})),_(this,"handleBoardCardClick",(()=>{const{board:e}=this.props;(0,d.j)(101,{component:1,element:36,objectId:e.id,view:4})})),_(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t}=this.props;this.setState({isEditModalOpen:!0}),(0,d.j)(101,{component:1,element:81,objectId:t.id,view:4})})),_(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e;const{board:t,forwardedRef:n,images:o,isReordering:s,isOwnProfile:d,layout:c,onBoardArchiveChange:u,onBoardDelete:h,onBoardPrivacyChange:p,onBoardLeave:m,onBoardUpdate:_,progress:x,slotIndex:y,viewer:b,orbacActingAs:v}=this.props,{isEditModalOpen:E}=this.state;if(!t)return null;const{image_cover_url:w,image_cover_hd_url:I,url:C}=t,T=d||t.access.includes("write")||(0,l.D3)(b,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",v),S=this.getSubtitleText(),P=w||I||"";return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.iP,{role:"link",onTap:this.handleBoardCardClick,href:C,ref:n,children:(0,f.jsx)(g.xu,{children:(0,f.jsx)(a.Z,{board:t,canEdit:T,images:o||t.images,isOwnProfile:d,isReordering:s,layout:c,onEditClick:this.handleEditClick,progress:x,slotIndex:y,subtitle:S,toastImageUrl:P})})}),E&&(0,f.jsx)(r.Z,{boardId:t.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:u,onBoardDelete:h,onBoardLeave:m,onBoardPrivacyChange:p,onBoardUpdate:_,onClose:this.handleEditClose})]})}}_(x,"defaultProps",{isOwnProfile:!1,isReordering:!1});const y=(0,o.connect)((({blockingActions:e,boards:t},{board:n})=>({images:(t.content[n.id]||{}).images,progress:((e.boardMap[n.id]||{}).wholeBoard||{}).progress})),((e,{board:t})=>({updateBoard:()=>e((0,c.oG)(t.id,"profile_grid_item"))})))((function(e){const t=(0,p.ZP)(),n=(0,h.Z)(),i=(0,m.Z)(),o=(0,s.Z)();return(0,f.jsx)(x,{...e,i18n:t,viewer:o,orbacActingAs:i,getHumanizedTimeSince:n})}))},130874:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(189734),o=n.n(i),r=n(174523),a=n(34411),s=n(883119),l=n(946753),d=n(785893);function c(e){var t,n;const i=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:i}){const u=(0,r.ZP)(),h=(0,a.Z)(),p=i?[c(e.owner)]:function(e,t,n){const{collaborated_by_me:i,collaborating_users:r=[],owner:a}=e,s=[a];if(i||n){const e=r.findIndex((e=>t.isAuth&&e.id===t.id));if(-1!==e){const t=r.splice(e,1)[0];s.push(t)}else s.push(t)}const l=o()(r,"full_name");return[...s,...l]}(e,h,t).map(c),m=p.slice(0,3).map((e=>e.name));let g="";switch(p.length){case 3:g=(0,l.Wc)(`${u._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames")}`,{first:`${m[0]}`,second:`${m[1]}`,last:`${m[2]}`});break;case 2:g=(0,l.Wc)(`${u._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames.")}`,{first:`${m[0]}`,second:`${m[1]}`});break;default:g=m.join(", ")}const f=p.length>3?(0,l.Wc)(`, ${u.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",p.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars")}`,{userNames:g,leftCount:""+(p.length-3)}):(0,l.Wc)(`, ${u._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators")}`,{userNames:g});return(0,d.jsx)(s.HE,{accessibilityLabel:f,collaborators:p,size:n?"xs":"sm"})}},624765:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(482547),r=n(756169),a=n(174523),s=n(946753),l=n(883119),d=n(785893);function c({pinCount:e,sectionCount:t}){const n=(0,a.ZP)();return(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(l.xu,{overflow:"hidden",children:(0,d.jsx)(l.xv,{size:"sm",lineClamp:1,children:(0,s.nk)(n.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:(0,d.jsx)(r.Z,{value:e},"pin_count")})})}),t?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(o.Z,{}),(0,d.jsx)(l.xu,{display:"none",overflow:"hidden",smDisplay:"flex",children:(0,d.jsx)(l.xv,{inline:!0,size:"sm",lineClamp:1,children:(0,s.nk)(n.ngettext("{{ count }} section","{{ count }} sections",t,"label for n amount of sections","label for n amount of sections"),{count:(0,d.jsx)(r.Z,{value:t},"section_count")})})})]}):null]})}},695508:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),o=n(244223),r=n(80775),a=n(363570),s=n(130874),l=n(624765),d=n(883119),c=n(785893);function u({board:e,isCompact:t,isOwnProfile:n,subtitle:i}){const{is_collaborative:o,name:r,pin_count:a,section_count:u}=e;return(0,c.jsxs)(d.xu,{padding:2,children:[(0,c.jsxs)(d.kC,{alignItems:"start",justifyContent:"between",children:[(0,c.jsx)(d.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:r}),o&&(0,c.jsx)(s.Z,{board:e,isCompact:t})]}),(0,c.jsx)(d.xu,{marginTop:1,children:(0,c.jsxs)(d.kC,{alignItems:"center",gap:2,justifyContent:"start",wrap:!0,children:[(0,c.jsx)(l.Z,{pinCount:a,sectionCount:u}),n&&(0,c.jsx)(d.xv,{align:"center",color:"gray",size:"sm",lineClamp:1,children:i})]})})]})}var h=n(946753),p=n(174523);function m(e,t){const{full_name:n,username:i}=e,o=(0,c.jsx)(d.rU,{href:`/${i}`,inline:!0,children:n});return(0,h.nk)(t._("{{ linkToUser }} invited you to join this board","boardRep.invite.invitationText","Indicating that another user invited the viewer to this board"),{linkToUser:o})}function g({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:o,isCompact:r}){const a=(0,p.ZP)(),{name:l,url:u}=e,h=(0,c.jsx)(d.xu,{marginTop:0,marginBottom:1,children:(0,c.jsx)(d.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:l})}),g=o?(0,c.jsx)(d.xv,{size:"md",lineClamp:1,children:a._("You’ve joined","boardRep.invite.invitationAcceptedText","Text shown after accepting collaborator board invitations")}):(0,c.jsx)(d.xv,{size:"md",children:m(n.invited_by_user,a)});return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.xu,{alignItems:"start",display:"flex",padding:2,children:[(0,c.jsx)(d.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,c.jsxs)(d.xu,{width:"100%",children:[(0,c.jsx)(d.rU,{href:u,children:h}),g]})}),(0,c.jsx)(d.xu,{marginStart:2,children:(0,c.jsx)(s.Z,{board:e,forceViewer:!0,isCompact:r,ownerOnly:!o})})]}),o?(0,c.jsx)(d.xu,{direction:"row",display:"flex",paddingX:2,children:(0,c.jsx)(d.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,c.jsx)(d.zx,{role:"link",href:u,fullWidth:!0,size:"lg",text:a._("See board","boardRep.invite.seeBoardButton","Button text to see board after accepting collaborator invite")})})}):(0,c.jsxs)(d.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,c.jsx)(d.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,c.jsx)(d.zx,{fullWidth:!0,onClick:()=>{t(!1)},size:"lg",text:a._("Decline","boardRep.invite.declineButton","Button text to decline board collaborator invite or request")})}),(0,c.jsx)(d.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,c.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:()=>{t(!0)},size:"lg",text:a._("Accept","boardRep.invite.acceptButton","Button text to accept board collaborator invite or request")})})]})]})}function f({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:o,isOwnProfile:r,subtitle:a}){return n?(0,c.jsx)(g,{board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:o}):(0,c.jsx)(u,{board:e,isCompact:o,isOwnProfile:r,subtitle:a})}var _=n(34411),x=n(181307);const y=()=>{},b=e=>{const t=e.split("/");return t[t.length-1].split(".")[0]};function v({board:e,canEdit:t,handleInviteResponse:n=y,images:s,invite:l,isActive:u,isBoardInviteAccepted:h=!1,isOwnProfile:m,isUserBlocked:g,layout:v,onEditClick:E=y,progress:w,subtitle:I,toastImageUrl:C}){var T,S,P,j,A,D,R;const O=(0,p.ZP)(),{cover_images:N,cover_pin:k,has_custom_cover:L,url:M}=e,B=(0,_.Z)(),F=(0,a.Z)({board:e,viewer:B}),U=(0,x.tc)("web_board_sensitivity_screen"),Z=!F&&U().anyEnabled,G=!(null===(T=e.sensitivity_screen)||void 0===T||!T.show_warning)&&Z,H=null!==(S=k&&k.crop&&k.image_size&&{x:k.crop[0],y:k.crop[1],width:k.image_size[0],height:k.image_size[1]})&&void 0!==S?S:{x:0,y:0,width:0,height:0};let z=null!=k&&k.image_url||null!==(P=N["222x"])&&void 0!==P&&P.url?{isCustom:L,position:H,url:null!==(j=null==k?void 0:k.image_url)&&void 0!==j?j:null===(A=N["222x"])||void 0===A?void 0:A.url}:void 0;const V=null!==(D=s["170x"])&&void 0!==D?D:[];let W=[];if(z){var Y,K,q;const e=null!==(Y=null!==(K=(null===(q=N["222x"])||void 0===q?void 0:q.url)&&b(N["222x"].url))&&void 0!==K?K:null==k?void 0:k.image_signature)&&void 0!==Y?Y:(null==k?void 0:k.image_url)&&b(k.image_url);W=V.filter((t=>{var n;return!(null!==(n=t.url)&&void 0!==n?n:"").includes(e)}))}else W=V,l&&"square"!==v&&V.length&&(z={isCustom:L,position:H,url:V[0].url},W=V.slice(1));const $=t?(0,c.jsx)(d.hU,{accessibilityLabel:O._("Edit"),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>E(e),size:"sm"}):null,X="list"!==v?(0,c.jsx)(d.xu,{"aria-hidden":"true",children:(0,c.jsx)(o.Z,{boardThumbs:W,cover:z,editButton:$,isActive:u,isSecret:(0,r.Z)(e),layout:v,sensitivityScreenAuxData:{board_id:e.id,reason:(null===(R=e.sensitivity_screen)||void 0===R?void 0:R.reason)||""},showSensitivityScreen:G})}):null;return(0,c.jsxs)(i.Fragment,{children:[l&&"list"!==v?(0,c.jsx)(d.iP,{role:"link",href:M,children:X}):X,(0,c.jsx)(f,{board:e,handleInviteResponse:n,invite:l,isBoardInviteAccepted:h,isCompact:"square"===v,isOwnProfile:m,subtitle:I})]})}},191182:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(269935),o=n(575579),r=n(785893);function a({board:e,isOwnProfile:t,slotIndex:n,...a}){const s=t?3069:3070;return(0,r.jsx)(i.Z,{componentType:13669,impressionType:"Board",loggingId:e.id,slotIndex:n,viewParameter:s,viewType:4,children:(0,r.jsx)(o.Z,{board:e,isOwnProfile:t,...a})})}},118558:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(883119),r=n(785893);function a(){const e=(0,i.ZP)();return(0,r.jsx)(o.JO,{accessibilityLabel:e._("Secret board","Accessibility label for icon indicating a secret board","Accessibility label for icon indicating a secret board"),color:"darkGray",icon:"lock",inline:!0})}},613321:(e,t,n)=>{n.d(t,{vc:()=>i,rD:()=>s,AE:()=>l,FN:()=>d,my:()=>c});const i=3,o={square:{width:236,height:236},wide:{width:300,height:200},xWide:{width:358,height:200},xxWide:{width:376,height:200}},r={square:{width:236,height:176},wide:{width:300,height:135},xWide:{width:358,height:200},xxWide:{width:376,height:200}},a={square:{width:236,height:157},wide:{width:320,height:213}};function s(e,t){return t?r[e].width:o[e].width}function l(e,t){return t?r[e].height:o[e].height}function d(e){return a["square"===e?"square":"wide"]}function c(e){return"list"===e?"100%":d(e).width+16}},80775:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(631739);function o(e){return e.privacy===i.Z.BoardPrivacy.SECRET}},269307:(e,t,n)=>{n.d(t,{ZP:()=>d,Yh:()=>c,tY:()=>u});var i=n(40142),o=n(535718),r=n(34411),a=n(153155);const s=0,l=1;function d(e){var t;const n=(0,r.Z)(),i=n.isAuth&&n.id===e,a=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||i});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=a.data)||void 0===t||!t.has_quicksave_board)}}function c(e){var t;const n=(0,i.useDispatch)(),s=(0,r.Z)(),l=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,d=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id},dangerouslyDisableFetch:!l||!e});return s.isAuth&&void 0===s.save_behavior&&d&&null!==(t=d.data)&&void 0!==t&&t.id&&n((0,a.W)(d.data.save_behavior)),{showEnabledSaveBehavior:l}}function u(e){const t=(0,r.Z)();let n;return e&&(t.save_behavior===s?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},273341:(e,t,n)=>{n.d(t,{OJ:()=>s,Sd:()=>l,Q2:()=>d});var i=n(881219),o=n(711349),r=n(301314);const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},o)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})})},l=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),d=e=>a.reduce(((t,n)=>{const a=[(0,o.Z)("profileBoards",(0,i.OV)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{a.push((0,r.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(a)}),[])},280083:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var i=n(756169),o=n(667294),r=n(451190),a=n(40142),s=n(151101),l=n(269935),d=n(854458),c=n(34411),u=n(549135),h=n(883119),p=n(785893);const m=100,g={avatar:{border:"2px solid white",zIndex:1}};function f({isNUX:e,itemIdx:t,onFollow:n,renderDescription:i,user:o}){const r=(0,c.Z)(),{full_name:a,id:f,image_large_url:_,recent_pin_images:x,user_recommendation_reason:y,username:b,verified_identity:v}=o,E=e=>y?e?{recommendationReasonDescription:y.recommendation_reason_description,recommendationReasonDetails:y.recommendation_reason_details,recommendationReasonType:y.recommendation_reason_type}:{recommendation_reason_description:y.recommendation_reason_description,recommendation_reason_details:y.recommendation_reason_details,recommendation_reason_type:y.recommendation_reason_type}:{},w=t=>{(0,u.j)(101,{objectId:t,view:185,viewParameter:3157,element:1053,...E()}),e&&(0,u.j)(101,{objectId:t,view:214,viewParameter:3157,element:1053,...E()})},I=(e,t)=>(0,p.jsx)(h.iP,{role:"link",href:`/${b}/`,onTap:()=>t(f),target:"blank",children:e}),C=v&&v.verified,T=x["222x"],S=T&&T.slice(0,3).map(((e,t)=>(0,p.jsxs)(h.xu,{display:"flex",children:[(0,p.jsx)(h.zd,{wash:!0,width:m,height:m,children:(0,p.jsx)(h.Ee,{fit:"cover",src:e.url,alt:o.username,naturalHeight:e.height,naturalWidth:e.width})}),t<2&&(0,p.jsx)(h.xu,{width:2})]},t)));if(S&&S.length<3){const e=3-S.length;for(let t=0;t<e;t+=1)S.push((0,p.jsxs)(h.xu,{display:"flex",children:[(0,p.jsx)(h.xu,{color:"lightGray",width:m,height:m}),t<e-1&&(0,p.jsx)(h.xu,{width:2})]},t+e))}const P=i(o,t),j=(0,p.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",height:m,children:[(0,p.jsx)(h.xu,{position:"absolute",width:m,height:m,dangerouslySetInlineStyle:{__style:g.avatar},rounding:"circle",children:(0,p.jsx)(s.Z,{name:a,src:_})}),(0,p.jsx)(h.xu,{flex:"grow",display:"flex",rounding:2,overflow:"hidden",justifyContent:"end",children:S})]}),A=(0,p.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",maxWidth:270,children:[(0,p.jsx)(h.xv,{lineClamp:1,weight:"bold",children:a}),C&&(0,p.jsx)(h.xu,{display:"flex",paddingX:2,alignItems:"center",flex:"grow",minWidth:30,children:(0,p.jsx)(h.JO,{color:"red",icon:"check-circle",accessibilityLabel:"",size:14})})]}),D=I(P,w),R=I(j,(e=>{(0,u.j)(101,{objectId:e,view:185,viewParameter:3157,element:1117,...E()})})),O=I(A,w),N=(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",direction:"column",padding:1,children:(0,p.jsxs)(h.Zb,{children:[R,(0,p.jsxs)(h.xu,{display:"flex",marginTop:3,marginBottom:1,children:[(0,p.jsxs)(h.xu,{marginEnd:2,flex:"grow",children:[O,(0,p.jsx)(h.xu,{height:2}),D]}),(0,p.jsx)(h.xu,{flex:"none",children:(0,p.jsx)(d.Z,{fullName:a,hideFollowingText:!0,id:f,imageUrl:_||"",inline:!0,isOwnProfile:r.isAuth&&b===r.username,profileUrl:_,onUserFollow:t=>((t,i)=>{i?((0,u.j)(45,{objectId:t,view:185,viewParameter:3157,element:62,...E()}),e&&(0,u.j)(45,{objectId:t,view:214,viewParameter:3157,element:62,...E()})):(0,u.j)(46,{objectId:t,view:185,viewParameter:3157,element:62,...E()}),n&&n(t,i)})(f,t),suppressToasts:!0})})]})]})},f),k=e?(0,p.jsx)(l.Z,{loggingId:f,impressionType:"User",impressionAuxFields:E(!0),slotIndex:t,viewType:214,viewParameter:3157,children:N}):N;return(0,p.jsx)(l.Z,{componentType:2,loggingId:f,impressionType:"User",impressionAuxFields:E(!0),slotIndex:t,viewType:185,viewParameter:3157,children:k})}var _=n(755908),x=n(881220),y=n(174523),b=n(946753),v=n(475446),E=n(708206),w=n(289605);const I=h.Rk.createMeasurementStore();const C=(0,E.compose)((0,a.connect)(((e,{isFollowed:t,data:n,itemIdx:i})=>{const o=e.users[n.id];return{isFollowed:o?o.explicitly_followed_by_me:t,itemIdx:i}}),(e=>({followUser:t=>e((0,w.ZN)(t)),unfollowUser:t=>e((0,w.fv)(t))}))),v.Cl)((function({data:e,followUser:t,isFollowed:n,unfollowUser:r,toastManagerContext:a,itemIdx:s}){const l=(0,y.ZP)(),d=`/${e.username}/`,c=n?()=>{r(e.id)}:()=>{t(e.id),a.showOneToast((({onHide:t})=>{var n;return(0,p.jsx)(x.Z,{onHide:t,text:(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(h.xv,{children:l._("Now following","text that comes before a user name in toast","text that comes before a user name in toast")}),(0,p.jsx)(h.xv,{weight:"bold",children:e.full_name})]}),href:d,imageUrl:null!==(n=e.image_medium_url)&&void 0!==n?n:""})}))};return(0,p.jsx)(f,{user:e,onFollow:c,itemIdx:s,renderDescription:e=>{const{follower_count:t,recommendation_reason:n,board_count:o,pin_count:r}=e;return(0,p.jsxs)(h.xu,{height:36,overflow:"hidden",children:[(0,p.jsxs)(h.xv,{size:"md",color:"darkGray",lineClamp:1,children:[(0,p.jsx)(i.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:1}),l.ngettext(" Follower"," Followers",t,"follower count on usercard","follower count on usercard")]}),(0,p.jsx)(h.xv,{size:"sm",color:"gray",lineClamp:1,children:n||(0,b.nk)(l._("{{ pinCount }} Pins {{ boardCount }} Boards","Number of pins user has on their profile","Number of pins user has on their profile"),{pinCount:(0,p.jsx)(i.Z,{value:r,shortform:!0,shortformMaximumFractionDigits:1}),boardCount:o})})]})}},e.id)}));const T=function({users:e,isOwnProfile:t,limit:n=0,scrollContainer:i}){const o=(0,y.ZP)(),{data:r,fetchMore:a,isFetching:s,isLoaded:l}=e;if(!l)return null;let d=r&&r.filter((e=>e.last_pin_save_time)),c=a;n>0&&d&&(d=d.slice(0,n),c=()=>{});const u=t?3106:3107;return(0,p.jsx)(_.Z,{view:4,viewParameter:u,component:223,children:(0,p.jsxs)(h.W2,{children:[(0,p.jsx)(h.Rk,{comp:C,columnWidth:365,items:d||[],loadItems:c,virtualize:!0,measurementStore:I,scrollContainer:()=>i||window,minCols:1,layout:new h.G3}),l&&r&&0===r.length&&(0,p.jsx)(h.xu,{marginBottom:3,children:(0,p.jsx)(h.$j,{accessibilityLabel:o._("Loading additional people","Label for the loading state spinner in the People section(s) of the profile community page","Label for the loading state spinner in the People section(s) of the profile community page"),show:s||!l})})]})})};var S=n(539484);const P=({label:e,link:t,onSeeAllButtonClick:n,seeAllLabel:i})=>{const o=(0,y.ZP)(),r=(0,S.Z)({url:t})?"nofollow":"none";return(0,p.jsxs)(h.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",maxWidth:725,marginStart:8,children:[(0,p.jsx)(h.xu,{children:(0,p.jsx)(h.X6,{size:"sm",children:e})}),n&&(0,p.jsx)(h.xu,{flex:"shrink",marginEnd:-4,children:(0,p.jsx)(h.hU,{accessibilityLabel:o._("See all","Click to see all items of this type","Click to see all items of this type"),bgColor:"transparent",icon:"arrow-forward",iconColor:"gray",size:"lg",onClick:n})}),t&&(0,p.jsx)(h.xu,{flex:"shrink",marginEnd:-4,children:(0,p.jsx)(h.zx,{role:"link",rel:r,href:t,fullWidth:!0,color:"gray",text:i||"See all"})})]})};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={header:{zIndex:1}};class D extends o.PureComponent{constructor(...e){super(...e),j(this,"state",{isModalOpen:!1,isMounted:!1,showGrid:!1,scrollContainer:null,wrapperHeight:null}),j(this,"setScrollContainer",(e=>{this.state.isMounted&&this.setState({scrollContainer:e})})),j(this,"showGridAfterDelay",(()=>{this.state.isMounted&&this.setState({showGrid:!1}),setTimeout((()=>{this.state.isMounted&&this.setState({showGrid:!0})}),10)})),j(this,"updateHeight",(()=>{const e=window.innerHeight-270;this.setState({wrapperHeight:e>0?e:null})})),j(this,"handleOpenModal",(()=>{this.setState({isModalOpen:!0})})),j(this,"handleDoneModal",(()=>{const{users:e}=this.props;this.setState({isModalOpen:!1}),e.refresh(),this.showGridAfterDelay()}))}componentDidMount(){this.updateHeight(),window.addEventListener("resize",this.updateHeight),this.setState({isMounted:!0}),this.showGridAfterDelay()}componentWillUnmount(){window.removeEventListener("resize",this.updateHeight),this.setState({isMounted:!1})}render(){const{users:e,isOwnProfile:t,title:n,previewUserLimit:i}=this.props,{isModalOpen:o,showGrid:a,scrollContainer:s,wrapperHeight:l}=this.state;if(!e)return null;const d=a?(0,p.jsx)(T,{users:e,isOwnProfile:t,scrollContainer:s,limit:i||2}):(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",padding:7,children:(0,p.jsx)(h.$j,{accessibilityLabel:this.props.i18n._("Loading ...","Loading indicator","Loading indicator"),show:!0})}),c=a?(0,p.jsx)(T,{users:e,isOwnProfile:t,scrollContainer:s}):(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",padding:7,children:(0,p.jsx)(h.$j,{accessibilityLabel:this.props.i18n._("Loading ...","Loading indicator","Loading indicator"),show:!0})});return(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(h.xu,{children:(0,p.jsxs)(h.W2,{children:[(0,p.jsx)(h.xu,{padding:3,children:(0,p.jsx)(P,{label:n,onSeeAllButtonClick:()=>this.handleOpenModal()})}),(0,p.jsx)(h.xu,{marginStart:7,width:744,children:d})]})}),(0,p.jsx)(h.xu,{children:o&&(0,p.jsx)(r.Z,{accessibilityModalLabel:this.props.i18n._("Manage user list","Accessibility label for managing user list","Accessibility label for managing user list"),size:"lg",heading:(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",paddingY:4,children:(0,p.jsx)(h.X6,{size:"sm",children:n})}),onDismiss:this.handleDoneModal,children:(0,p.jsx)(h.xu,{display:"flex",direction:"column",height:l,dangerouslySetInlineStyle:{__style:A.header},children:(0,p.jsx)(h.xu,{display:"flex",flex:"none",overflow:"scrollY",paddingY:1,marginBottom:4,ref:this.setScrollContainer,justifyContent:"center",children:(0,p.jsx)(h.xu,{width:744,height:"100%",children:c})})})})})]})}}const R=function(e){const t=(0,y.ZP)();return(0,p.jsx)(D,{...e,i18n:t})};var O=n(822348),N=n(123527),k=n(383722),L=n(535718),M=n(855168),B=n(162409),F=n(896829);function U(e){var t,n;const o=(0,y.ZP)(),r=(0,c.Z)(),a=(0,M.$B)(),s=r.isAuth&&r.username===a.params.username;(0,F.Q)({object_id_str:s&&r.isAuth?r.id:void 0,view_type:4,view_parameter:3314});const l=(0,k.Z)(),d=(0,L.Z)({name:"UserFollowersResource",options:{username:a.params.username}}),u=(0,L.Z)({name:"UserFollowingResource",options:{explicit_following:!0,username:a.params.username}}),m=(0,L.Z)({name:"UserSimilarBusinessesResource",options:{username:a.params.username,userId:a.params.userId||(null===(t=l.data)||void 0===t?void 0:t.id)}}),g=(0,L.Z)({name:"UserDiscoveredPinsResource",options:{exclude_add_pin_rep:!0,username:a.params.username,user_id:a.params.userId||(null===(n=l.data)||void 0===n?void 0:n.id),field_set_key:r.isPartner&&r.isAuth&&r.username===a.params.username?"partner_grid_item":"grid_item"}});if(!(l&&l.data&&d&&d.data&&u&&u.data&&m&&m.data))return null;const{explicit_user_following_count:f=0,follower_count:_=0,username:x}=l.data,v=(0,b.nk)(o.ngettext("{{count}} Follower","{{count}} Followers",_),{count:(0,p.jsx)(i.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_})}),E=(0,b.nk)(o.ngettext("{{count}} Following","{{count}} Following",f),{count:(0,p.jsx)(i.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:f})}),w=o._("People also visit","Business people visited similar to this business","Business people visited similar to this business"),I=g.data&&g.data.length>0;return(0,p.jsxs)(h.xu,{children:[(!d.data||0===d.data.length)&&(!u.data||0===u.data.length)&&(!m.data||0===m.data.length)&&(0,p.jsx)(O.Z,{children:(0,p.jsx)(N.Z,{surface:"community",user:l.data})}),d.data&&d.data.length>0&&(0,p.jsx)(R,{isOwnProfile:s,title:v,users:d}),u.data&&u.data.length>0&&(0,p.jsx)(R,{isOwnProfile:s,title:E,users:u}),m.data&&m.data.length>0&&(0,p.jsx)(R,{isOwnProfile:s,previewUserLimit:4,title:w,users:m}),I&&(0,p.jsx)(h.xu,{children:(0,p.jsxs)(h.W2,{children:[(0,p.jsx)(h.xu,{padding:3,children:(0,p.jsx)(P,{label:o._("People are saving","Label for domain pins on user community page","Label for domain pins on user community page")})}),(0,p.jsx)(h.xu,{maxWidth:820,width:"100%",children:(0,p.jsx)(B.QI,{isOverview:!0,isOwnProfile:s,pins:g,user:l.data,username:x})})]})})]})}},143767:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(667294),o=n(390764),r=n(602173),a=n(785705),s=n(476865),l=n(822348),d=n(123527),c=n(174523),u=n(883119),h=n(785893);function p({isOwnProfile:e,pinsResource:t,surface:n,user:o}){var r;const p=(0,c.ZP)(),{fetchMore:m,isAtEnd:g,isFetching:f,isLoaded:_}=t,x=(null!==(r=t.data)&&void 0!==r?r:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(_&&!e&&(!x||!x.length))return null;const y=e?3106:3107;return(0,h.jsxs)(i.Fragment,{children:[_&&(x&&0!==x.length?null:(0,h.jsx)(l.Z,{marginTop:e?0:5,textSize:e?"sm":"md",children:(0,h.jsx)(d.Z,{subject:"pins",surface:"profile",user:o})})),_&&x?(0,h.jsx)(a.default,{flexible:!0,columnWidth:236,comp:({data:e,itemIdx:t})=>(0,h.jsx)(s.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:n,trackingParameters:{slotIndex:t,viewParameter:y,viewType:4}}),isAtEnd:g,isFetching:f,isLoaded:_,items:x,loadItems:()=>{f||g||m()},masonryRef:{current:null},serverRender:!1}):null,f&&(0,h.jsx)(u.xu,{paddingY:3,position:"relative",children:(0,h.jsx)(u.$j,{accessibilityLabel:p._("Loading Pins on profile","profile.createdTab.loadingSpinner","Loading Pins on profile"),show:f})})]})}var m=n(154006),g=n(383722),f=n(535718),_=n(83340),x=n(34411),y=n(946753),b=n(549135),v=n(678664),E=n(855168),w=n(181307);function I(e){var t,n,a,s,l,d;const I=(0,c.ZP)(),{params:{username:C,userId:T}}=(0,E.$B)(),S=(0,i.useRef)(),P=(0,x.Z)(),{anyEnabled:j}=(0,w.aq)("web_story_pin_creator"),A=["holdout","holdout_2"].includes((0,w.tc)("story_pin_longterm_holdout")({dangerouslySkipActivation:!0}).group),D=(0,w.tc)("web_created_tab_for_all")({dangerouslySkipActivation:!0}).anyEnabled,R=new u.Ry(1),O=(0,g.Z)(),N=(0,r.Z)({user:O.data,viewer:P}),k=(0,f.Z)({name:"UserResource",options:{username:P.isAuth&&(null===(t=O.data)||void 0===t?void 0:t.username),field_set_key:"quick_create"},dangerouslyDisableFetch:N||!(A&&D)}),L=(0,f.Z)({name:"UserActivityPinsResource",options:{data:{filter_version:1},exclude_add_pin_rep:!N,field_set_key:P.isPartner&&N?"partner_grid_item":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=T?T:null===(n=O.data)||void 0===n?void 0:n.id,username:C}}),M=(0,f.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},exclude_add_pin_rep:!N,field_set_key:P.isPartner&&N?"partner_grid_item":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=T?T:null===(a=O.data)||void 0===a?void 0:a.id,username:C}}),B=()=>(0,b.j)(101,{element:10949,component:13777,view:4,viewParameter:3106});(0,v.Sq)(C,O.data?O.data.id:null,13668);const{isAtEnd:F}=M,{first_name:U,scheduled_pin_count:Z=0}=O.data||{},G=N&&P.isPartner&&Z>0,H=M.isLoaded&&M.data&&M.data.length>0,z=L.isLoaded&&L.data&&L.data.length>0,V=z&&F,W=H&&!A||H&&A&&!(null===(s=k.data)||void 0===s||!s.quick_create_pin_count),Y=I._("No created Pins yet","profile.createdTab.notEligibleForCreatedPin","text letting user know there are no created pins");return(0,h.jsxs)(i.Fragment,{children:[G&&(0,h.jsx)(_.Z,{username:null!=C?C:""}),H&&N&&!D&&(0,h.jsxs)(u.xu,{ref:S,children:[(0,h.jsx)(m.Z,{label:I._("Your Idea Pins","profile.createdTab.ideaPinHeader","title for the Idea Pin section under the Created Tab on the profile page")}),(0,h.jsx)(o.Z,{showCaret:!0,anchor:S.current,customWrapper:({children:e})=>(0,h.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:R,children:e}),experienceIds:[502803],flyoutSize:"md",idealDirection:"down",placementId:19,textAlign:"center"})]}),M.isLoaded&&(W?(0,h.jsx)(u.xu,{"data-test-id":"story-pin-feed",children:(0,h.jsx)(p,{isOwnProfile:N,pinsResource:M,surface:"CreatorProfileStoryPinGrid",user:O.data})}):N&&j&&!D&&(0,h.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,children:[(0,h.jsx)(u.xv,{children:I._("Nothing to show...yet! Idea Pins you create will live here.","profile.createdTab.emptyIdeaPinState","text prompting creator that they do not have Idea Pins to display")}),(0,h.jsx)(u.xu,{paddingY:4,children:(0,h.jsx)(u.zx,{role:"link",href:"/idea-pin-builder/",onClick:B,size:"lg",text:I._("Create Idea Pin","profile.createdTab.createButton","Button that will re-direct user to Idea Pin Builder")})})]})),D&&A&&!N&&!(null!==(l=k.data)&&void 0!==l&&l.quick_create_pin_count)&&!z&&(0,h.jsx)(u.xu,{paddingY:12,children:(0,h.jsx)(u.xu,{"data-test-id":"empty-story-pin-state",display:"flex",justifyContent:"center",paddingY:12,children:(0,h.jsx)(u.X6,{size:"md",children:Y})})}),D&&!W&&!1===(null===(d=O.data)||void 0===d?void 0:d.has_published_pins)&&0===O.data.story_pin_count&&(N?(0,h.jsx)(u.xu,{paddingY:12,children:(0,h.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:[(0,h.jsx)(u.X6,{size:"md",children:j?I._("Inspire with an Idea Pin","profile.createdTab.selfEmptyPinState","text prompting creator to create an idea pin"):Y}),j&&(0,h.jsx)(u.xu,{paddingY:4,children:(0,h.jsx)(u.zx,{color:"red",href:"/idea-pin-builder/",onClick:B,role:"link",size:"lg",text:I._("Create","profile.createdTab.emptyStateCreateButton","Create button that will re-direct user to Idea Pin Builder")})})]})}):(0,h.jsx)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:(0,h.jsx)(u.xu,{maxWidth:362,paddingY:12,children:(0,h.jsx)(u.X6,{align:"center",size:"md",children:I._("No Idea Pins yet, but there's tons of potential","profile.createdTab.otherEmptyPinState","text indicating where idea pins would display if they were created")})})})),V&&W&&(N?(0,h.jsx)(m.Z,{showHeading:!0,label:I._("Other Pins","profile.createdTab.nonStoryPinHeaderAlt","header for non story pins section of user profile viewed by owner")}):(0,h.jsx)(u.xu,{"data-test-id":"public-view-pins-section-header",display:"flex",justifyContent:"center",marginTop:6,paddingY:4,children:(0,h.jsx)(u.X6,{size:"sm",children:(0,y.nk)(I._("More by {{ firstName }}","profile.createdTab.nonStoryPinHeader","header for non story pins section of user profile viewed by public"),{firstName:U})})})),(F||!F&&M.data&&0===M.data.length||D&&!W)&&z&&(0,h.jsx)(u.xu,{"data-test-id":"other-pins-feed",children:(0,h.jsx)(p,{isOwnProfile:N,pinsResource:L,surface:"CreatorProfileActivityPinGrid",user:O.data})})]})}},154006:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{showHeading:t,label:n,sublabel:r}=e;return(0,o.jsxs)(i.xu,{alignContent:"center",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,children:[t?(0,o.jsx)(i.X6,{size:"sm",children:n}):(0,o.jsx)(i.xv,{weight:"bold",children:n}),(0,o.jsx)(i.xu,{marginTop:1,children:(0,o.jsx)(i.xv,{color:"gray",size:"sm",children:r})})]})}},974182:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(602173),o=n(37166),r=n(383722),a=n(34411),s=n(896829),l=n(785893);function d(e){const t=(0,r.Z)(),n=(0,a.Z)(),d=(0,i.Z)({user:t.data,viewer:n});let c;return n.isAuth&&d&&(c=n.id),(0,s.Q)({object_id_str:c,view_type:4,view_parameter:d?3106:3107}),t&&t.data?(0,l.jsx)(o.default,{}):null}},822348:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({children:e,marginTop:t=5,textSize:n="md"})=>(0,o.jsx)(i.W2,{children:(0,o.jsx)(i.xu,{marginBottom:5,marginTop:t,children:(0,o.jsx)(i.X6,{color:"gray",size:n,children:e})})})},997734:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(946753),r=n(883119),a=n(785893);function s({fullName:e,isOwnProfile:t,isPartnerProfile:n}){const s=(0,i.ZP)(),l=t?s._("You haven't saved any Pins yet","ownProfile.boards.emptyState","Message on a user's own profile when they haven't saved anything"):(0,o.nk)(s._("{{ fullName }} hasn't saved any Pins yet","otherProfile.boards.emptyState","Message on another user's profile when that user hasn't saved anything"),{fullName:null!=e?e:""});return(0,a.jsx)(r.W2,{children:(0,a.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:8,children:[(0,a.jsx)(r.xv,{children:l}),t&&(0,a.jsx)(r.xu,{marginTop:4,children:(0,a.jsx)(r.zx,{role:"link",href:n?"/homefeed":"/",accessibilityLabel:s._("Find ideas","ownProfile.boards.emptyStateButton","Button accessibility label to redirect a user from their empty profile to homefeed to find ideas to save"),size:"lg",text:s._("Find ideas","ownProfile.boards.emptyStateButton","Button text to redirect a user from their empty profile to homefeed to find ideas to save")})})]})})}},123527:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(34411),r=n(946753);function a({subject:e,surface:t,user:n}){const a=(0,i.ZP)(),s=(0,o.Z)(),{first_name:l}=null!=n?n:{},d=((e,t)=>t.isAuth&&e&&t.id===e.id)(n,s),c=()=>d?(()=>{switch(e){case"boards":return a._("You haven’t followed any boards yet","Text displayed when the current user is viewing their own profile and has yet to follow any boards","Text displayed when the current user is viewing their own profile and has yet to follow any boards");case"topics":return a._("You haven’t picked any topics to follow yet","Text displayed when the current user is viewing their own profile and has yet to follow any topics","Text displayed when the current user is viewing their own profile and has yet to follow any topics");case"users":return a._("You haven’t followed anyone yet","Text displayed when the current user is viewing their own profile and has yet to follow any other users","Text displayed when the current user is viewing their own profile and has yet to follow any other users");default:return null}})():(()=>{switch(e){case"boards":return(0,r.nk)(a._("{{ firstName }} hasn't followed any boards yet","Text displayed when a user has not followed any boards","Text displayed when a user has not followed any boards"),{firstName:l});case"topics":return(0,r.nk)(a._("{{ firstName }} hasn't picked any topics to follow yet","Text displayed when a user has not followed any topics","Text displayed when a user has not followed any topics"),{firstName:l});case"users":return(0,r.nk)(a._("{{ firstName }} hasn't followed anyone yet","Text displayed when a user has not followed anyone","Text displayed when a user has not followed anyone"),{firstName:l});default:return null}})();switch(t){case"followers":return d?a._("Nobody has followed your boards yet","Text displayed when the current user is viewing their own profile and has yet to have their boards followed","Text displayed when the current user is viewing their own profile and has yet to have their boards followed"):(0,r.nk)(a._("Nobody has followed {{ firstName }}'s boards yet","Text displayed when a no one has followed a user’s boards","Text displayed when a no one has followed a user’s boards"),{firstName:null!==(h=null==n?void 0:n.first_name)&&void 0!==h?h:""});case"following":return c();case"profile":return(()=>{if(d)switch(e){case"pins":return null!=n&&n.is_partner?a._("Nothing to see yet! Pins you publish will show up here.","profile.businessProfile.latestFeed.emptyLabel","label for empty business profile self-view of latest feed"):null;default:return null}switch(e){case"pins":return(0,r.nk)(a._("{{ firstName }} hasn't saved any Pins yet","Text displayed when a user has not saved any pins","Text displayed when a user has not saved any pins"),{firstName:l});case"boards":return(0,r.nk)(a._("{{ firstName }} hasn't created any boards yet","Text displayed when a user has not created any boards","Text displayed when a user has not created any boards"),{firstName:l});case"domainPins":return(0,r.nk)(a._("{{ firstName }} hasn't had any pins saved from their domain yet","Text displayed when a user has not had any images from their website pinned","Text displayed when a user has not had any images from their website pinned"),{firstName:l});default:return null}})();case"community":return d?a._("No one is following you","Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed","Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed"):(0,r.nk)(a._("Be the first to follow {{ firstName }}","Text displayed when a no one has followed a user’s profile/boards","Text displayed when a no one has followed a user’s profile/boards"),{firstName:null!==(u=null==n?void 0:n.first_name)&&void 0!==u?u:""});case"shop":return(()=>{switch(e){case"search":return a._("Sorry, we couldn't find any Pins for this search.","Text displayed when a search result is empty","Text displayed when a search result is empty");default:return null}})();default:return null}var u,h}},444072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i=n(667294),o=n(40142),r=n(151101),a=n(925265),s=n(755908),l=n(881220),d=n(174523),c=n(34411),u=n(475446),h=n(883119),p=n(289605),m=n(785893);const g=()=>window;const f=(0,o.connect)(((e,{isFollowed:t,data:n})=>{const i=e.users[n.id];return{isFollowed:i?i.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,p.ZN)(t)),unfollowUser:t=>e((0,p.fv)(t))})))((function({data:e,followUser:t,isFollowed:n,unfollowUser:o}){var s,p,g;const f=(0,d.ZP)(),_=(0,c.Z)(),{showOneToast:x}=(0,u.F9)(),y=n?f._("Unfollow","Button label to unfollow the creator of a pin on closeup","Button label to unfollow the creator of a pin on closeup"):f._("Follow","Button label to follow the creator of a pin on closeup","Button label to follow the creator of a pin on closeup"),b=n?"gray":"red",v=`/${e.username}/`,E=n?()=>{o(e.id)}:()=>{t(e.id),x((({onHide:t})=>{var n;return(0,m.jsx)(l.Z,{onHide:t,text:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(h.xv,{children:f._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})]}),href:v,imageUrl:null!==(n=e.image_medium_url)&&void 0!==n?n:""})}))},w=_.isAuth&&_.id!==e.id,I=e.verified_identity&&e.verified_identity.verified,C=(0,a.Z)(f._("{{ pinnerFullName }} profile link","profileFollowers.link.accessibilityLabel","Accessibility label for user avatar"),{pinnerFullName:null!==(s=e.full_name)&&void 0!==s?s:""});return(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,m.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(h.xu,{width:72,children:(0,m.jsx)(h.rU,{accessibilityLabel:C,href:v,children:(0,m.jsx)(r.Z,{accessibilityLabel:"",name:null!==(p=e.full_name)&&void 0!==p?p:"",size:"lg",src:null!==(g=e.image_xlarge_url)&&void 0!==g?g:void 0,verified:Boolean(I)})},`${v}:avatar`)}),(0,m.jsx)(h.xu,{width:332,paddingX:4,children:(0,m.jsx)(h.rU,{accessibilityLabel:C,href:v,children:(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})},`${v}:name`)})]}),w&&(0,m.jsx)(h.xu,{column:3,display:"flex",justifyContent:"center",children:(0,m.jsx)(h.xu,{flex:"shrink",children:(0,m.jsx)(h.zx,{color:b,text:y,onClick:E,size:"sm"})})})]})}));function _({user:e,followers:t,isOwnProfile:n}){const i=(0,d.ZP)(),{data:o,fetchMore:r,isFetching:a,isLoaded:l}=t;if(!e.isLoaded)return null;const c=n?3106:3107;return(0,m.jsx)(s.Z,{view:4,viewParameter:c,component:223,children:(0,m.jsxs)(h.W2,{children:[(0,m.jsx)(h.Rk,{columnWidth:600,comp:f,gutterWidth:0,items:o||[],layout:h.G3,loadItems:r,minCols:1,scrollContainer:g,virtualize:!0}),l&&o&&0===o.length&&(0,m.jsx)(h.xu,{marginBottom:3,children:(0,m.jsx)(h.$j,{accessibilityLabel:i._("Loading additional followers","Label for the loading state spinner in the People section of the Follower/Following page","Label for the loading state spinner in the People section of the Follower/Following page"),show:a||!l})})]})})}var x=n(383722),y=n(678664),b=n(535718),v=n(855168);function E(e){const{params:{username:t}}=(0,v.$B)(),n=(0,c.Z)(),i=(0,b.Z)({name:"UserFollowersResource",options:{username:t}}),o=(0,x.Z)();(0,y.ZP)(t,50);const r=n.isAuth&&n.username===t;return(0,m.jsx)(_,{followers:i,user:o,isOwnProfile:r})}},122631:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var i=n(667294),o=n(256490),r=n(40142),a=n(151101),s=n(925265),l=n(881220),d=n(174523),c=n(34411),u=n(475446),h=n(883119),p=n(289605),m=n(785893);const g=()=>window;const f=(0,r.connect)(((e,{isFollowed:t,data:n})=>{const i=e.users[n.id];return{isFollowed:i?i.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,p.ZN)(t)),unfollowUser:t=>e((0,p.fv)(t))})))((function({data:e,followUser:t,inFollowExp:n,isFollowed:o,unfollowUser:r}){var p,g,f;const _=(0,d.ZP)(),x=(0,c.Z)(),{showOneToast:y}=(0,u.F9)(),b=o?_._("Following","Button label to unfollow the creator of a pin on closeup","Button label to unfollow the creator of a pin on closeup"):_._("Follow","Button label to follow the creator of a pin on closeup","Button label to follow the creator of a pin on closeup"),v=o?"gray":"red",E=`/${e.username}/`,w=o?()=>{r(e.id)}:()=>{t(e.id),y((({onHide:t})=>(0,m.jsx)(l.Z,{onHide:t,text:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(h.xv,{children:_._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})]}),href:E,imageUrl:e.image_medium_url||e.image_large_url||void 0})))},I=x.isAuth&&x.id!==e.id,C=Boolean(null===(p=e.verified_identity)||void 0===p?void 0:p.verified),T=(0,s.Z)(_._("{{ pinnerFullName }} profile link","profileFollowers.link.accessibilityLabel","Accessibility label for user avatar"),{pinnerFullName:null!==(g=e.full_name)&&void 0!==g?g:""});return(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,m.jsx)(h.xu,{width:72,children:(0,m.jsx)(h.rU,{accessibilityLabel:T,href:E,children:(0,m.jsx)(a.Z,{accessibilityLabel:"",name:null!==(f=e.full_name)&&void 0!==f?f:"",src:e.image_xlarge_url||void 0,verified:C})},`${E}:avatar`)}),(0,m.jsx)(h.xu,{width:332,paddingX:2,children:(0,m.jsx)(h.rU,{accessibilityLabel:T,href:E,children:(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})},`${E}:name`)}),(0,m.jsx)(h.xu,{column:3,display:"flex",justifyContent:"center",children:(0,m.jsx)(h.xu,{flex:"shrink",children:I&&(0,m.jsx)(h.zx,{color:v,text:b,onClick:w,size:"sm"})})})]})}));function _({user:e,following:t}){const n=(0,d.ZP)(),{data:i,fetchMore:o,isFetching:r,isLoaded:a}=t;return e.isLoaded?(0,m.jsxs)(h.W2,{children:[(0,m.jsx)(h.Rk,{columnWidth:600,comp:f,gutterWidth:0,items:i||[],layout:h.G3,loadItems:o,minCols:1,scrollContainer:g,virtualize:!0}),a&&i&&0===i.length&&(0,m.jsx)(h.xu,{marginBottom:3,children:(0,m.jsx)(h.$j,{accessibilityLabel:n._("Loading additional followers","Label for the loading state spinner in the People section of the Follower/Following page","Label for the loading state spinner in the People section of the Follower/Following page"),show:r||!a})})]}):null}var x=n(383722),y=n(535718),b=n(855168);const v=(0,b.EN)((function({match:{params:e}}){const t=(0,y.Z)({name:"UserFollowingResource",options:{username:e.username}}),n=(0,x.Z)();return(0,m.jsx)(_,{following:t,user:n})}));var E=n(890935),w=n(755908),I=n(622400),C=n(549135),T=n(896829),S=n(585967);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.PureComponent{constructor(e){super(e),P(this,"getOptions",(()=>Object.keys(this.options).map((e=>({label:this.options[e]?this.options[e].label:"",value:this.options[e]?this.options[e].value:""}))))),P(this,"handleSelectChange",(({value:e})=>{(0,C.j)(101,{view:4,viewParameter:51,element:this.options[e].elementType}),this.setState({selectedOption:e})})),P(this,"initOptions",(()=>{const{requestContext:e,user:t}=this.props;return new I.v(e,"web_all_profiles_follow_parity").enabledWithNoActivation()&&t.data&&!t.data.show_creator_profile?{People:{elementType:1226,label:this.props.i18n._("People","The label for the People tab on the Following page","The label for the People tab on the Following page"),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._("Boards","The label for the Boards tab on the Following page","The label for the Boards tab on the Following page"),render:this.renderBoardsTab,value:"Boards"}}:{People:{elementType:1226,label:this.props.i18n._("People","The label for the People tab on the Following page","The label for the People tab on the Following page"),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._("Boards","The label for the Boards tab on the Following page","The label for the Boards tab on the Following page"),render:this.renderBoardsTab,value:"Boards"},Topics:{elementType:1227,label:this.props.i18n._("Topics","The label for the Topics tab on the Following page","The label for the Topics tab on the Following page"),render:this.renderTopicsTab,value:"Topics"}}})),P(this,"renderPeopleTab",(()=>(0,m.jsx)(v,{}))),P(this,"renderBoardsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,m.jsx)(o.Z,{user:e}):null})),P(this,"renderTopicsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,m.jsx)(E.ZP,{user:e}):null})),this.state={selectedOption:"People"},this.options=this.initOptions()}render(){const{user:e,username:t,viewer:n}=this.props,{isLoaded:i}=e;if(!i)return null;const{selectedOption:o}=this.state,r=this.options[o].render(),a=n.isAuth&&t===n.username?3106:3107;return(0,m.jsx)(w.Z,{view:4,viewParameter:a,component:224,children:(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.W2,{children:(0,m.jsx)(h.xu,{column:12,display:"flex",justifyContent:"end",paddingY:2,children:(0,m.jsx)(h.xu,{flex:"shrink",children:(0,m.jsx)(h.EI,{id:"ProfileFollowingOptions",onChange:this.handleSelectChange,options:this.getOptions(),size:"lg",value:o})})})}),(0,m.jsx)(h.W2,{children:r})]})})}}function A(){const e=(0,d.ZP)(),t=(0,c.Z)(),{username:n}=(0,b.UO)(),i=(0,x.Z)(),o=(0,S.B)();let r;return t.isAuth&&t.username===n&&(r=t.id),(0,T.Q)({object_id_str:r,view_type:4,view_parameter:51}),(0,m.jsx)(j,{requestContext:o,user:i,username:n,viewer:t,i18n:e})}},728909:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);const r=(e,t)=>Array.from(new Array(t)).map(((t,n)=>(0,o.jsx)(i.xu,{width:e},n)));const a=function({children:e,itemWidth:t,maxColumns:n=12}){return(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,r(t,n)]})}},943836:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(373407),r=n(430189),a=n(400864),s=n(978136),l=n(174523),d=n(998864),c=n(854458),u=n(946753),h=n(549135),p=n(855168),m=n(896829),g=n(451190),f=n(883119),_=n(785893);const x=new f.H3([g.b]);function y({isOwnProfile:e,onDismiss:t,onToggleFollow:y,setShowMessageFlyout:b,user:v}){var E;const w=(0,l.ZP)(),I=(0,d.Z)(),C=(0,p.k6)();(0,m.Q)({view_type:548,view_parameter:e?3106:3107});const T=e=>{(0,h.j)(101,{element:e,view:548,viewParameter:3107})},[S,P]=(0,i.useState)(),j=async()=>{const e=await n.e(55302).then(n.bind(n,755302));P((()=>e.parsePhoneNumberFromString))};(0,i.useEffect)((()=>{S||j()}),[S]);const{about:A,full_name:D,is_primary_website_verified:R,is_verified_merchant:O,partner:N,website_url:k}=v,{contact_email:L="",contact_phone:M="",contact_phone_country:B={},enable_profile_address:F,enable_profile_message:U,profile_place:Z}=null!=N?N:{},G=M?null==S?void 0:S(M,{defaultCallingCode:B&&"0"!==B.phone_code?B.phone_code:null}):null,H=(0,_.jsx)(f.xu,{height:444,marginStart:6,marginEnd:10,children:(0,_.jsxs)(f.kC,{direction:"column",gap:9,children:[(0,_.jsxs)(f.kC,{direction:"column",gap:6,children:[O&&(0,_.jsx)(o.Z,{accessibilityLabel:w._("Verified merchant icon","profileHeader.aboutDrawer.verifiedMerchantIcon","Icon showing that user is a verified merchant"),color:"blue",icon:"workflow-status-ok",info:(0,_.jsx)(f.xv,{color:"blue",inline:!0,weight:"bold",children:w._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})}),k&&(0,_.jsx)(o.Z,{accessibilityLabel:w._("Website icon","profileHeader.aboutDrawer.websiteIcon","Icon next to user's website"),icon:R?"globe-checked":"globe",info:(0,_.jsx)(f.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(f.rU,{rel:"nofollow",target:"blank",href:k,inline:!0,children:(0,s.Z)(k)})})}),(0,_.jsx)(a.Z,{isAboutDrawerVariant:!0,user:v}),F&&(0,_.jsx)(o.Z,{accessibilityLabel:w._("Location icon","profileHeader.aboutDrawer.locationIcon","Icon next to user's address"),icon:"location",info:(0,_.jsx)(r.Z,{isFlyoutMenuCategory:!1,isOwnProfile:e,profilePlace:Z||{}})})]}),(0,_.jsx)(f.xv,{children:A})]})}),z=(0,_.jsx)(f.kC,{justifyContent:"end",children:(0,_.jsx)(f.zx,{size:"lg",text:w._("Edit Profile","profileHeader.editProfileButton","Button on a user profile to edit profile"),onClick:I((()=>{(0,h.j)(101,{element:94,view:548,viewParameter:3106}),C.push("/settings#profile")}))})}),V=(0,_.jsxs)(f.kC,{justifyContent:"between",children:[(0,_.jsxs)(f.kC,{children:[U&&(0,_.jsx)(f.u,{idealDirection:"up",text:w._("Message","profileHeader.aboutDrawer.message","Menu option to message the user"),zIndex:x,children:(0,_.jsx)(f.hU,{accessibilityLabel:w._("Send message","profileHeader.aboutDrawer.messageIconButton","Button to send message to profile owner"),icon:"speech-ellipsis",iconColor:"darkGray",onClick:()=>{T(11956),b(!0),t()},size:"xl"})}),(G||M)&&(0,_.jsx)(f.u,{idealDirection:"up",text:w._("Call","profileHeader.aboutDrawer.phoneNumber","Menu option to call the user"),zIndex:x,children:(0,_.jsx)(f.hU,{accessibilityLabel:w._("Call","profileHeader.aboutDrawer.phoneIconButton","Button to call profile owner"),href:`tel:${G?G.getURI():M}`,icon:"phone",iconColor:"darkGray",onClick:()=>{T(11955)},rel:"nofollow",role:"link",size:"xl",target:"blank"})}),L&&(0,_.jsx)(f.u,{idealDirection:"up",text:(0,u.nk)(w._("Email {{ contactEmail }}","profileHeader.aboutDrawer.email","Menu option to send an email to the user"),{contactEmail:L}).join(""),zIndex:x,children:(0,_.jsx)(f.hU,{accessibilityLabel:w._("Send email","profileHeader.aboutDrawer.emailIconButton","Button to send email to profile owner"),href:`mailto:${L}`,icon:"gmail",iconColor:"darkGray",onClick:()=>{T(11954)},role:"link",rel:"nofollow",size:"xl",target:"blank"})})]}),(0,_.jsx)(c.Z,{button:({followText:e,onClick:t})=>(0,_.jsx)(f.xu,{"data-test-id":v.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,_.jsx)(f.zx,{color:"red",onClick:t,selected:v.explicitly_followed_by_me,size:"lg",text:e})}),fullName:D,id:v.id,imageUrl:null!==(E=v.image_large_url)&&void 0!==E?E:"",isOwnProfile:!1,onUserFollow:y,profileUrl:`/${v.username}/`,userFollowed:v.explicitly_followed_by_me,viewType:548})]}),W=(0,_.jsx)(f.xu,{padding:8,children:(0,_.jsxs)(f.kC,{justifyContent:"between",children:[(0,_.jsx)(f.X6,{size:"md",children:(0,u.nk)(w._("About {{ name }}","profileHeader.aboutDrawer.heading","Heading for modal that shows a user's profile information"),{name:D})}),(0,_.jsx)(f.hU,{accessibilityLabel:w._("Close","profileHeader.aboutDrawer.closeModalButton","Accessibility label for close modal button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]})});return(0,_.jsx)(g.Z,{accessibilityModalLabel:w._("About the user","profileHeader.aboutDrawer.modal","Accessibility label for modal that shows a user's profile information"),footer:e?z:V,heading:W,onDismiss:t,size:"sm",children:H})}},373407:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({accessibilityLabel:e,color:t="darkGray",icon:n,info:r}){return(0,o.jsxs)(i.kC,{gap:4,children:[(0,o.jsx)(i.JO,{accessibilityLabel:e,color:t,icon:n,size:20}),r]})}},105337:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(151101),o=n(602173),r=n(939623),a=n(174523),s=n(883119),l=n(785893);function d({onTouch:e,user:t,viewer:n}){const d=(0,a.ZP)(),{image_xlarge_url:c,username:u}=t,h=(0,r.Z)(t),p=(0,o.Z)({viewer:n,user:t})||n.isAuth&&n.isEmployee,m=(0,l.jsx)(i.Z,{name:u,outline:h,size:"xl",src:null!=c?c:void 0});return p?(0,l.jsx)(s.iP,{accessibilityLabel:d._("Click to open pincode and share profile","AvatarWithPincode.pincodeEnabled.accessibilityLabel","Accessibility label for clicking on profile picture to open pincode for sharing"),fullWidth:!1,onTap:e,rounding:"circle",children:m}):m}},221860:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(320077),o=n(280083),r=n(143767),a=n(974182),s=n(444072),l=n(122631),d=n(37166),c=n(257043),u=n(998944),h=n(654025),p=n(683078),m=n(585937),g=n(853070),f=n(785893);function _({businessProfileTab:e}){const t={[g.u.COMMUNITY]:o.default,[g.u.CREATED]:r.default,[g.u.FOLLOWERS]:s.default,[g.u.FOLLOWING]:l.default,[g.u.PINS]:m.default,[g.u.SAVED]:d.default,[g.u.SHOP]:c.default,[g.u.STORY_PINS]:u.default,[g.u.TOPICS]:h.default,[g.u.TRIED]:i.default,[g.u.VIDEO_PINS]:p.default,[g.u.DECIDER]:a.default,[g.u.ACTIVITIES]:null,[g.u.ACTIVITY]:null,[g.u.BOARDS]:null,[g.u.OVERVIEW]:null},n=e?t[e]:null;return n?(0,f.jsx)(n,{}):null}},361080:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(913669),r=n(174523),a=n(883119),s=n(785893);function l(){const e=(0,r.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:n,onMouseLeave:l}}=(0,o.Z)(),d=(0,i.useRef)();return(0,s.jsxs)(a.xu,{display:"inlineBlock",onFocus:n,onBlur:l,onMouseOver:n,onMouseLeave:l,position:"relative",tabIndex:0,children:[(0,s.jsx)(a.xu,{display:"inlineBlock",ref:d,children:(0,s.jsx)(a.JO,{accessibilityLabel:t?"":e._("Claimed website","Claimed website icon","Claimed website icon"),color:"darkGray",icon:"globe-checked",inline:!0,size:16})}),t&&(0,s.jsx)(a.J2,{anchor:d.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,s.jsx)(a.xu,{column:12,padding:3,children:(0,s.jsx)(a.xv,{color:"white",overflow:"normal",size:"sm",children:e._("This website has been claimed","Tooltip for claimed website.","Tooltip for claimed website.")})})})]})}},160793:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(430189),r=n(207395),a=n(803478),s=n(101267),l=n(307284),d=n(174523),c=n(946753),u=n(549135),h=n(181307),p=n(896829),m=n(883119),g=n(785893);function f({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:f,user:_}){const x=(0,h.tc)("web_about_drawer")().anyEnabled,y=(0,d.ZP)(),b=(0,i.useRef)(null),[v,E]=(0,i.useState)(!1),[w,I]=(0,i.useState)(),C=()=>{E(!1)},{id:T,partner:S}=_,{contact_email:P="",contact_phone:j="",contact_phone_country:A="",enable_profile_address:D,enable_profile_message:R,profile_place:O={}}=null!=S?S:{},N=j?null==w?void 0:w(j,{defaultCallingCode:A&&"0"!==A.phone_code?A.phone_code:null}):null;(0,p.Q)({component:13673,element:11953,object_id_str:T,view_type:4,view_parameter:3107});const k=async()=>{if(E((e=>!e)),j&&!w){const e=await n.e(55302).then(n.bind(n,755302));I((()=>e.parsePhoneNumberFromString))}(0,u.j)(101,{component:13673,element:11953,objectId:T,view:4,viewParameter:3107})},L=e=>{(0,u.j)(101,{component:13674,element:e,objectId:T,view:48,viewParameter:3107})},M=P||N;return M||R?(0,g.jsx)(l.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:f,userId:T,children:({toggleSendMessageFlyout:t})=>(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(m.xu,{ref:b,children:(0,g.jsx)(m.zx,{onClick:()=>{M?k():t()},selected:v,size:"lg",text:y._("Contact","profileHeader.contactButton","Button on a business profile to contact that business")})}),v&&(0,g.jsxs)(r.Z,{anchor:b.current,idealDirection:"up",onDismiss:C,children:[(0,g.jsx)(a.Z,{label:x?y._("Contact options","profileHeader.contactButton.contactOptions","Button on a business profile to contact that business"):y._("Contact","profileHeader.contactButton","Button on a business profile to contact that business"),children:(0,g.jsxs)(i.Fragment,{children:[R&&(0,g.jsx)(s.Z,{onClick:()=>{t(),L(11956),C()},children:y._("Message","profileHeader.contactMenu.message","Menu option to message the user")}),P&&(0,g.jsx)(s.Z,{onClick:()=>{L(11954)},children:(0,g.jsx)(m.xv,{lineClamp:1,weight:"bold",children:(0,g.jsx)(m.rU,{target:"blank",rel:"nofollow",hoverStyle:"none",href:`mailto:${P}`,onClick:C,children:(0,c.nk)(y._("Email {{ contactEmail }}","profileHeader.contactMenu.email","Menu option to send an email to the user"),{contactEmail:P})})})}),(N||j)&&(0,g.jsx)(s.Z,{onClick:()=>{L(11955)},children:(0,g.jsx)(m.xv,{lineClamp:1,weight:"bold",children:(0,g.jsx)(m.rU,{rel:"nofollow",hoverStyle:"none",href:`tel:${N?N.getURI():j}`,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),C()},children:y._("Call","profileHeader.contactMenu.phoneNumber","Menu option to call the user")})})})]})}),x&&D&&(0,g.jsx)(o.Z,{isFlyoutMenuCategory:!0,isOwnProfile:e,profilePlace:O||{}})]})]})}):null}},430189:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(803478),o=n(101267),r=n(881220),a=n(174523),s=n(549135),l=n(475446),d=n(883119),c=n(785893);function u({isFlyoutMenuCategory:e,isOwnProfile:t,profilePlace:n}){const u=(0,a.ZP)(),{showToast:h}=(0,l.F9)(),p=n.street||"",m=n.extra_street||"",g=`${p}${m?` ${m}`:""}, ${n.locality||""}, ${n.region||""} ${n.postal_code||""} ${n.country||""}`.trim(),f=()=>{(0,s.j)(101,{component:e?13674:void 0,element:12799,view:e?48:548,viewParameter:t?3106:3107}),navigator.clipboard.writeText(g),h((({onHide:e})=>(0,c.jsx)(r.Z,{onHide:e,text:u._("Address copied","profileHeader.contactButton.toastText","Text on toast to show that an address has been copied")})))};return e?(0,c.jsx)(i.Z,{label:u._("Address","profileHeader.contactButton.address","Address category for contact options drawer"),children:(0,c.jsx)(o.Z,{onClick:f,children:(0,c.jsx)(d.xv,{weight:"bold",children:g})})}):(0,c.jsx)(d.iP,{onTap:f,children:(0,c.jsx)(d.xv,{weight:"bold",children:g})})}},619641:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(803478),o=n(101267),r=n(785893);function a({closeFlyout:e,contents:t}){return t.map((({items:t,label:n})=>(0,r.jsx)(i.Z,{label:n,children:t.map((({clickHandler:t,isSelected:n,label:i})=>(0,r.jsx)(o.Z,{icon:n?"selected":void 0,onClick:()=>{e(),t()},children:i},i)))},n)))}},400864:(e,t,n)=>{n.d(t,{Z:()=>ee});var i=n(631739),o=n(551687),r=n(667294),a=n(373407),s=n(442634),l=n(756169),d=n(174523),c=n(34411),u=n(946753),h=n(883119),p=n(785893);function m({count:e,onClick:t,variant:n}){const i=(0,d.ZP)(),{isAuth:o}=(0,c.Z)(),r=e<=0,a={followers:(0,u.nk)(i.ngettext("{{count}} follower","{{count}} followers",e,"label for n followers","label for n followers"),{count:(0,p.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(i.ngettext("{{count}} following","{{count}} following",e,"label for n following users","label for n following users"),{count:(0,p.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return o?(0,p.jsx)(h.xu,{"data-test-id":`profile-${n}-count`,display:"inlineBlock",children:(0,p.jsx)(h.iP,{disabled:r,onTap:()=>t(n),children:(0,p.jsx)(h.xv,{inline:!0,weight:r?"normal":"bold",children:a[n]})})}):(0,p.jsx)(h.xv,{inline:!0,children:a[n]})}function g({headingText:e,itemIndex:t,onDismiss:n,setItemIndex:i,showSegmentedController:o}){const a=(0,d.ZP)(),s=[a._("People","FollowersModalHeading.tabs.people","Tab for displaying Pinner follows"),a._("Boards","FollowersModalHeading.tabs.boards","Tab for displaying board follows")];return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(h.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,p.jsx)(h.X6,{size:"md",children:(0,p.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,p.jsx)(h.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,p.jsx)(h.hU,{accessibilityLabel:a._("Close modal","FollowersModal.closeModalButton","Accessibility label for button to close the modal"),icon:"cancel",onClick:n})})]}),o&&(0,p.jsx)(h.xu,{paddingX:6,marginBottom:2,children:(0,p.jsx)(h.sY,{selectedItemIndex:t,items:s,onChange:({activeIndex:e})=>i(e)})})]})}var f=n(930530),_=n(728909),x=n(535718),y=n(613321);function b({layout:e,user:t}){const n=(0,d.ZP)(),i=(0,y.my)(e),o=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:t.username}}),{data:a,fetchMore:s,isAtEnd:l,isFetching:c,isLoaded:u}=o;return(0,p.jsxs)(r.Fragment,{children:[u&&a&&(0,p.jsx)(_.Z,{itemWidth:i,children:a.map(((t,n)=>(0,p.jsx)(h.xu,{width:i,padding:2,children:(0,p.jsx)(f.Z,{board:t,slotIndex:n,layout:e})},t.id)))}),(0,p.jsx)(h.$j,{accessibilityLabel:n._("Loading additional boards","FollowingBoards.spinner.accessibilityLabel","Label for the loading state spinner in the Boards section of the Following page"),show:c||!u}),!l&&!c&&(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,p.jsx)(h.zx,{accessibilityLabel:n._("See more","FollowingBoards.moreButton.accessibilityLabel","Accessibility label for button to see more"),disabled:c,onClick:s,text:n._("See more","FollowingBoards.moreButton.text","Button text to see more")})})]})}var v=n(451190),E=n(558491);const w="square",I=(0,y.my)(w),C="number"==typeof I?2*I+48:"md";function T({accessibilityModalLabel:e,followersResource:t,headingText:n,onDismiss:i,showSegmentedController:o,user:a}){const s=(0,d.ZP)(),{data:l,fetchMore:c,isAtEnd:u,isFetching:m}=t,[f,_]=(0,r.useState)(0),x=l&&l.length>0&&0===f&&l.map((e=>(0,p.jsx)(E.Z,{className:"boardFollower",showFollow:!0,showName:!0,size:"medium",subtitle:"",user:e,viewType:"thumb"},e.id)));return(0,p.jsxs)(v.Z,{accessibilityModalLabel:e,heading:(0,p.jsx)(g,{headingText:n,onDismiss:i,itemIndex:f,showSegmentedController:o,setItemIndex:_}),onDismiss:i,size:C,children:[(0,p.jsxs)(h.xu,{paddingX:6,paddingY:2,children:[(0,p.jsx)(r.Fragment,{children:x}),1===f&&(0,p.jsx)(b,{user:a,layout:w})]}),u||0!==f?null:(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,p.jsx)(h.zx,{accessibilityLabel:s._("See more","FollowersModal.moreButton.accessibilityLabel","Accessibility label for button to see more"),disabled:m,onClick:c,text:s._("See more","FollowersModal.moreButton.text","Button text to see more")})})]})}var S=n(602173),P=n(896829);function j({followersResource:e,onDismiss:t,totalFollowersCount:n,user:i,variant:o}){const a=(0,d.ZP)(),s="following"===o;(0,P.Q)({view_type:4,view_parameter:s?51:50});const h=(0,c.Z)(),m=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:i.username}}),g=!!m.data&&m.data.length>0,f={followers:a._("Followers","FollowersModal.accessibilityModalLabel.followers","Accessibility label for modal showing the followers for a given entity"),following:a._("Following","FollowersModal.accessibilityModalLabel.following","Accessibility label for modal showing what of a given entity is following")},_={followers:null,following:a._("Following","FollowersModal.heading.following","Header text for modal showing what given entities a user is following")},y={followers:(0,u.nk)(a.ngettext("{{ count }} Follower","{{ count }} Followers",n,"FollowersModal.headingCount.followers","Count of the followers of a given entity"),{count:(0,p.jsx)(l.Z,{value:n},"totalFollowersCount")}),following:null},b=(0,p.jsx)(r.Fragment,{children:[_[o],y[o]].filter(Boolean).reduce(((e,t,n)=>[...e,0!==n?" • ":null,t]),[])}),v=(0,S.Z)({user:i,viewer:h}),E=g&&v&&s;return(0,p.jsx)(T,{accessibilityModalLabel:f[o],headingText:b,showSegmentedController:E,onDismiss:t,followersResource:e,user:i})}var A,D,R,O=n(151101),N=n(294184),k=n.n(N),L=n(732891),M=n(167912),B=n(549135);const F=void 0!==A?A:A=n(451119),U=void 0!==D?D:D=n(364262),Z=void 0!==R?R:R=n(311150);function G({className:e,isSelf:t,logData:n,showName:i=!1,showFollow:o=!1,size:r="small",subtitle:a="",title:s,pinner:l}){const d=(0,M.useFragment)(F,l),{username:c,fullName:u,avatar:m,explicitlyFollowedByMe:g=!1,entityId:f}=d,[_,x]=(0,M.useMutation)(U),[y,b]=(0,M.useMutation)(Z),v=x||b,E=()=>{},w=()=>{};return(0,p.jsx)("div",{className:k()("User","hasText","thumb",r,e),children:(0,p.jsxs)(h.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,p.jsx)(h.xu,{flex:"grow",paddingX:1,children:(0,p.jsx)(h.iP,{role:"link",href:`/${c}/`,children:(0,p.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)("div",{className:"thumbImageWrapper",children:m&&(0,p.jsx)(O.Z,{name:u||"",src:m,size:"fit"})}),s&&(0,p.jsx)("h3",{className:"title",children:s}),i&&(0,p.jsx)("h4",{className:"fullname",children:u}),a&&(0,p.jsx)("div",{className:"subtitle",children:a})]})})}),o&&(0,p.jsx)(h.xu,{paddingX:1,children:(0,p.jsx)(L.Z,{handleFollowClick:()=>{g?y({variables:{followee:f},onCompleted:E,onError:w}):_({variables:{followee:f},onCompleted:E,onError:w}),n&&(0,B.j)(101,n)},isFollowing:g||!1,isSelf:Boolean(t),disabled:v})})]})})}var H;const z=(0,y.my)("square"),V="number"==typeof z?2*z+48:"md";function W({accessibilityModalLabel:e,headingText:t,onDismiss:o,pinner:r}){var a,s;const l=(0,d.ZP)(),{data:c,loadNext:u,hasNext:m,isLoadingNext:f}=(0,M.usePaginationFragment)(void 0!==H?H:H=n(61433),{...r,count:i.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE});if(!c)return null;const _=(null===(a=c.followers)||void 0===a||null===(s=a.connection)||void 0===s?void 0:s.edges.map((e=>null==e?void 0:e.node)))||[];return(0,p.jsxs)(v.Z,{accessibilityModalLabel:e,heading:(0,p.jsx)(g,{headingText:t,onDismiss:o,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:o,size:V,children:[(0,p.jsx)(h.xu,{"data-test-id":"profile-followers-feed",paddingX:6,paddingY:2,children:_.map((e=>(0,p.jsx)(G,{className:"boardFollower",showFollow:!0,showName:!0,size:"medium",subtitle:"",pinner:e},e.entityId)))}),m?(0,p.jsx)(h.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,p.jsx)(h.zx,{accessibilityLabel:l._("See more","FollowersModal.moreButton.accessibilityLabel","Accessibility label for button to see more"),disabled:f,onClick:()=>{u(i.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE)},text:l._("See more","FollowersModal.moreButton.text","Button text to see more")})}):null]})}function Y({onDismiss:e,pinner:t,totalFollowersCount:n}){const i=(0,d.ZP)();(0,P.Q)({view_type:4,view_parameter:50});const o=i._("Followers","FollowersModal.accessibilityModalLabel.followers","Accessibility label for modal showing the followers for a given entity"),a=!!n&&(0,p.jsx)(r.Fragment,{children:(0,u.nk)(i.ngettext("{{ count }} Follower","{{ count }} Followers",n,"FollowersModal.headingCount.followers","Count of the followers of a given entity"),{count:(0,p.jsx)(l.Z,{value:n},"totalFollowersCount")})});return(0,p.jsx)(W,{accessibilityModalLabel:o,headingText:a,onDismiss:e,pinner:t})}var K=n(939623),q=n(695782);function $({followersTotalCount:e,followingResource:t,followingTotalCount:n,isAboutDrawerVariant:i,user:o,pinner:l}){const[c,u]=(0,r.useState)(null),g=(0,d.ZP)(),f=()=>{u(null)},_=(0,K.Z)(o);return(0,p.jsxs)(r.Fragment,{children:[i?(0,p.jsxs)(h.kC,{direction:"column",gap:6,children:[!!e&&e>=0&&(0,p.jsx)(a.Z,{accessibilityLabel:g._("Followers icon","profileHeader.followersIcon","Icon next to user's follower count"),icon:"person-add",info:(0,p.jsx)(s.Z,{items:[(0,p.jsx)(m,{count:e,onClick:u,variant:"followers"},"followersDisplay"),_?(0,p.jsx)(q.Z,{user:o}):null]})}),n>=0&&(0,p.jsx)(a.Z,{accessibilityLabel:g._("Following icon","profileHeader.followingIcon","Icon next to user's following count"),icon:"people",info:(0,p.jsx)(m,{count:n,onClick:u,variant:"following"})})]}):(0,p.jsx)(s.Z,{items:[e&&e>=0?(0,p.jsx)(m,{count:e,onClick:u,variant:"followers"}):null,n>=0?(0,p.jsx)(m,{count:n,onClick:u,variant:"following"}):null]}),"followers"===c&&(0,p.jsx)(Y,{onDismiss:f,totalFollowersCount:e,pinner:l}),"following"===c&&(0,p.jsx)(j,{followersResource:t,onDismiss:f,totalFollowersCount:n,variant:c,user:o})]})}var X,J=n(689859);function Q({isAboutDrawerVariant:e=!1,user:t}){const o=(0,c.Z)(),{id:r}=t,a=void 0!==X?X:X=n(614338),s=(0,M.useLazyLoadQuery)(a,{userId:r}),{following_count:l=0,interest_following_count:d=0}=t,{pinner:u}=s.modelById,{followerCount:h,username:m}=u||{},g=(0,S.Z)({user:t,viewer:o}),f=(0,x.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:i.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!u)return null;const _=l-(null!=d?d:0);return(0,p.jsx)($,{followersTotalCount:h,followingResource:f,followingTotalCount:_,isAboutDrawerVariant:e,user:t,pinner:u})}function ee(e){const t=(0,d.ZP)();return(0,p.jsx)(o.Z,{name:"SafeSuspense_ProfileHeader_FollowersControllerGraphQL",children:(0,p.jsx)(J.Z,{fallback:(0,p.jsx)(h.xu,{padding:5,children:(0,p.jsx)(h.$j,{accessibilityLabel:t._("Loading follower counts","profile.header.followerController","accessibility label for follower counts spinner"),show:!0})}),children:(0,p.jsx)(Q,{...e})})})}},517764:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(731164),r=n(174523),a=n(358873),s=n(159617),l=n(596538),d=n(946753),c=n(549135),u=n(181307),h=n(883119),p=n(790928),m=n(785893);const g=new h.H3([new h.Ry(a.HW),new h.Ry(s.fe)]),f="/settings/account-settings/",_=({text:e})=>{const t=(0,i.useRef)(null),[n,r]=(0,i.useState)(!1);return n&&o.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,m.jsxs)(i.Fragment,{children:[n&&(0,m.jsx)(h.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>r(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,m.jsx)(h.xu,{padding:3,children:(0,m.jsx)(h.xv,{color:"white",align:"center",size:"md",children:e})})}),(0,m.jsx)(h.xu,{width:32,height:32,children:(0,m.jsx)(h.iP,{onFocus:()=>r(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,m.jsx)(h.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm"})})})]})},x=({badgeLabel:e,disabled:t,eligible:n,isChecked:i,setSelectedBadge:o})=>{const r=(0,m.jsx)(h.xu,{display:"inlineBlock",children:(0,m.jsx)(h.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,m.jsx)(h.xv,{overflow:"noWrap",children:(0,m.jsx)(h.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:p.QP[0],color:n?"black":"gray"}},children:e.label})})})});return(0,m.jsxs)(h.kC,{alignItems:"start",direction:"row",children:[(0,m.jsx)(h.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,m.jsx)(h.XZ,{checked:i,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>o(e.id,t)},e.id)}),e.controlsTooltip?(0,m.jsx)(h.u,{text:e.controlsTooltip,idealDirection:"right",children:r}):r]},e.id)};function y({inspirationalSignal:e,onDismiss:t,onSubmit:n}){var a;const s=(0,r.ZP)(),y=s._("Learn more","InspoBadges.learnMore","Link to article to learn more"),b=s._("Contact us","InspoBadgeControls.contactUs","Contact us link"),v=s._("Brand values","InspoBadgeControls.brandValuesLegend","Legend text used to describe brand values"),E=s._("Your brand's website indicates that your business is aligned with the values listed below","InspoBadges.brandValuesTooltip","Tooltip describing brand values"),w=s._("Communities","InspoBadgeControls.communitiesLegend","Legend text used to describe communities"),I=s._("Your brand's owner self-identified as a member of these groups. This information is only associated with your business account and isn't used to target ads. ","InspoBadges.communityTooltip","Tooltip describing communities"),C=s._("default color","InspoBadgeControls.defaultColor","Annotation describing the selected color as the default color"),T=(0,p.eT)(e),S=(0,p.hm)(e),P=(0,p.I)(s,T,256,256),j=(0,p.I)(s,S),A=P.filter((e=>p.w9.includes(e.id))),D=P.filter((e=>p.Dm.includes(e.id))),R=P.map((e=>e.id)),O=j.map((e=>e.id)),N=(null===(a=e.inspirational_badge_selection)||void 0===a?void 0:a.badgeColor)||p.QP[0],[k,L]=(0,i.useState)(O),[M,B]=(0,i.useState)(!1),[F,U]=(0,i.useState)(N),Z=(0,i.useRef)(null),G=Boolean((0,l.oo)(F)),H=G?F.toUpperCase():p.QP[0],z=H===p.QP[0]?`${H} (${C})`:H,{anyEnabled:V}=(0,u.aq)(p.Fp),W=k.filter((e=>p.Dm.includes(e))),Y=R.filter((e=>!k.includes(e))),K=O.length!==k.length||!k.every((e=>O.includes(e)))||F!==N,q=(e,t)=>{L(t?[...k,e]:k.filter((t=>t!==e)));const n=t?9675:9676;(0,c.j)(n,{component:13911})};return o.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,m.jsx)(h.mh,{zIndex:g,children:(0,m.jsx)(h.yo,{accessibilityDismissButtonLabel:s._("Close Inspirational Badges sheet","InspoBadgeControls.accessibilityDismissButtonLabel","Accessibility text for dismissing inspirational badges sheet"),accessibilitySheetLabel:s._("Inspirational Badges customization for business profile","InspoBadgeControls.accessibilitySheetLabel","Accessibility text for opening inspirational badges sheet"),heading:s._("Edit merchant details","InspoBadgeControls.title","Title for Inspirational Badges customization sheet"),onDismiss:t,footer:({onDismissStart:e})=>(0,m.jsxs)(h.kC,{direction:"row",justifyContent:"between",children:[(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.xv,{color:"gray",size:"md",inline:!0,children:s._("Have questions about brand values?","InspoBadgeControls.haveQuestions","Question preceding a contact us link")}),(0,m.jsx)("br",{}),(0,m.jsx)(h.xv,{color:"gray",size:"md",weight:"bold",inline:!0,children:(0,m.jsx)(h.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:b,inline:!0,children:b})})]}),(0,m.jsx)(h.xu,{children:(0,m.jsxs)(h.hE,{children:[(0,m.jsx)(h.zx,{color:"gray",text:s._("Cancel","InspoBadgeControls.cancel","Cancel editing Inspirational badges"),onClick:e}),(0,m.jsx)(h.zx,{color:"red",text:s._("Save","InspoBadgeControls.save","Save Inspirational badges"),disabled:!K,onClick:()=>n({badgeColor:F,badgeOptOut:Y})})]})})]}),size:"sm",children:(0,m.jsx)(h.kC,{direction:"column",gap:12,children:(0,m.jsxs)(h.kC,{direction:"column",gap:4,children:[(0,m.jsxs)(h.xu,{children:[(0,m.jsxs)(h.xv,{inline:!0,children:[s._("Pinterest is committed to connecting shoppers and merchants with compatible values.","InspoBadgeControls.description","Description text for Inspirational Badges customization sheet"),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),s._("Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.","InspoBadgeControls.description2","Description text for Inspirational Badges customization sheet")]})," ",(0,m.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(h.rU,{href:p._f,accessibilityLabel:y,target:"blank",inline:!0,onClick:()=>{(0,c.j)(9677,{component:13911})},children:y})})]}),(0,m.jsxs)(h.kC,{direction:"column",children:[(0,m.jsxs)(h.kC,{alignItems:"center",children:[(0,m.jsx)(h.xv,{size:"md",overflow:"noWrap",inline:!0,children:v}),(0,m.jsx)(_,{text:E})]}),(0,m.jsx)(h.xu,{paddingY:1,children:(0,m.jsx)(h.pg,{legend:v,legendDisplay:"hidden",children:(0,m.jsx)(h.kC,{direction:"column",gap:3,children:A.map((e=>{const t=k.includes(e.id),n=k.length>=p.S4&&!t;return(0,m.jsx)(x,{badgeLabel:e,disabled:n,eligible:!0,isChecked:t,setSelectedBadge:q},e.id)}))})})})]}),D.length>0&&(0,m.jsxs)(h.kC,{direction:"column",children:[(0,m.jsxs)(h.kC,{alignItems:"center",children:[(0,m.jsx)(h.xv,{size:"md",overflow:"noWrap",inline:!0,children:w}),(0,m.jsx)(_,{text:I})]}),(0,m.jsx)(h.xu,{paddingY:1,children:(0,m.jsx)(h.pg,{legend:w,legendDisplay:"hidden",children:(0,m.jsx)(h.kC,{direction:"column",gap:3,children:D.map((e=>{const t=k.includes(e.id),n=(k.length>=p.S4||W.length>=p.st)&&!t;return(0,m.jsx)(x,{badgeLabel:e,disabled:n,eligible:!0,isChecked:t,setSelectedBadge:q},e.id)}))})})}),(0,m.jsx)(h.xv,{color:"gray",size:"md",inline:!0,children:(0,d.nk)(s._("To change communities info, visit {{ accountSettingsLink }}","InspoBadgeControls.changeCommunities","Tell users when they can reapply"),{accountSettingsLink:(0,m.jsx)(h.rU,{inline:!0,href:f,children:(0,m.jsx)(h.xv,{color:"gray",size:"md",weight:"bold",inline:!0,children:s._("account settings","InspoBadgeControls.accountSettingsLink","Link to account settings")})},f)})})]}),(0,m.jsxs)(h.kC,{direction:"column",children:[V&&(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.xu,{marginTop:4,marginBottom:4,children:(0,m.jsx)(h.__,{htmlFor:"color-menu",children:(0,m.jsx)(h.xv,{size:"md",children:s._("Choose your label color","InspoBadgeControls.labelColor","Label color title")})})}),(0,m.jsx)(h.zx,{accessibilityControls:"color-menu",accessibilityExpanded:M,accessibilityHaspopup:!0,selected:M,onClick:()=>{(0,c.j)(9674,{component:13911}),B(!0)},text:z,iconEnd:"arrow-down",size:"lg"})]}),(0,m.jsx)(h.xu,{ref:Z}),M&&(0,m.jsx)(h.mh,{children:(0,m.jsx)(h.J2,{anchor:Z.current,idealDirection:"down",onDismiss:()=>B(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,m.jsxs)(h.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,m.jsx)(h.kC,{alignItems:"start",gap:4,children:p.QP.map((e=>(0,m.jsx)(h.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:F===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,m.jsx)(h.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>U(e)})},e)))}),(0,m.jsxs)(h.kC,{alignItems:"start",gap:4,children:[(0,m.jsx)(h.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:G&&!p.QP.includes(F.toUpperCase())?"black":void 0,backgroundColor:H}}}),(0,m.jsx)(h.nv,{id:"selected-color",value:F,onChange:({value:e})=>U(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var b=n(311866),v=n(5015);const E=new h.Ry(10);function w({country:e,isOwnProfile:t,userId:n}){var a;const s=(0,r.ZP)(),l=s._("Learn more","InspoBadges.learnMore","Link to article to learn more"),d=s._("New!","InspoBadges.newText","New! descriptor calling out a New feature"),g=s._("Show shoppers your brand values and which communities you're a part of","InspoBadges.editTooltipText","Edit your badges callout"),f=s._("Add merchant details","InspoBadges.toggleEditBadges","CTA to add merchant details if a merchant does not have any"),{anyEnabled:_}=(0,u.aq)(p.k$),{anyEnabled:x}=(0,u.aq)(p.Fp),w=(0,v.ye)(),I=w.data||{},C=(0,p.Bu)({areBadgesEnabled:_,country:e,verifiedMerchant:I}),T=(0,i.useRef)(),[S,P]=(0,i.useState)(p.Xe),[j,A]=(0,i.useState)(!1),[D,R]=(0,i.useState)(!0),O=C?(0,p.hm)(S):[],N=(0,p.I)(s,O),k=x&&(null===(a=S.inspirational_badge_selection)||void 0===a?void 0:a.badgeColor)||p.QP[0];(0,i.useEffect)((()=>{P(I.inspirational_signal||p.Xe)}),[I.inspirational_signal]),(0,i.useEffect)((()=>{(0,c.j)(9667,{component:13910})}));const L=()=>{A(!0),R(!1),(0,c.j)(9671,{component:13911})},M=()=>{(0,c.j)(9668,{component:13910})},B=()=>{(0,c.j)(9670,{component:13910})};return C&&o.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:t,num_badges:N.length,badge_color:k,user_id:I.id}),C?(0,m.jsxs)(i.Fragment,{children:[(0,m.jsxs)(h.kC,{alignItems:"center",children:[N.map((e=>(0,m.jsx)(h.u,{link:(0,m.jsx)(h.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,m.jsx)(h.rU,{href:p.NG,accessibilityLabel:l,target:"blank",onClick:B,children:(0,m.jsx)(h.xv,{color:"white",size:"sm",weight:"bold",children:l})})}),text:e.description,zIndex:E,children:(0,m.jsx)(h.xv,{overflow:"noWrap",children:(0,m.jsx)(h.iP,{onMouseEnter:M,children:(0,m.jsx)(h.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,p.ym)(k)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),t&&(0,m.jsxs)(i.Fragment,{children:[D&&(0,m.jsx)(h.mh,{zIndex:E,children:(0,m.jsx)(h.J2,{anchor:T.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{R(!1),(0,c.j)(9673,{component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,m.jsx)(h.xu,{padding:3,children:(0,m.jsxs)(h.xv,{color:"white",align:"center",size:"md",children:[(0,m.jsx)("strong",{children:d})," ",g]})})})}),0===N.length&&(0,m.jsx)(h.xu,{display:"inlineBlock",children:(0,m.jsx)(h.iP,{onTap:L,fullWidth:!0,children:(0,m.jsx)(h.xv,{color:"gray",children:f})})}),(0,m.jsx)(h.hU,{accessibilityLabel:f,icon:"edit",onClick:L,size:"sm",ref:T})]})]}),j&&(0,m.jsx)(y,{inspirationalSignal:S,onDismiss:()=>A(!1),onSubmit:({badgeColor:e,badgeOptOut:t})=>{A(!1),b.ZP.create("VerifiedMerchantResource",{userId:n,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}).callUpdate().then((()=>w.refresh()));const i={...S,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}};P(i),(0,c.j)(9672,{component:13911})}})]}):(0,m.jsx)(i.Fragment,{})}},574629:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(883119),r=n(896829),a=n(785893);function s({showSendMessageFlyout:e,userId:t}){const n=(0,i.ZP)();return(0,r.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,a.jsx)(o.zx,{fullWidth:!0,size:"lg",text:n._("Message","profileHeader.messageButton","Button on a user profile to message that user"),onClick:e})}},314528:(e,t,n)=>{n.d(t,{Z:()=>z});var i=n(667294),o=n(943836),r=n(105337),a=n(361080),s=n(160793),l=n(442634),d=n(551687),c=n(400864),u=n(978136),h=n(517764),p=n(602173),m=n(939623),g=n(263116),f=n(574629),_=n(749649),x=n(307284),y=n(297436),b=n(600169),v=n(506184),E=n(537343),w=n(702925),I=n(549156),C=n(174523),T=n(767523),S=n(998864),P=n(751075),j=n(854458),A=n(34411),D=n(234070),R=n(695782),O=n(159276),N=n(790928),k=n(549135),L=n(855168),M=n(181307),B=n(883119),F=n(851229),U=n(785893);const Z=(0,g.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(63663).then(n.bind(n,834836)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 834836}}),G={PARTNER:656,PINNER:488},H=170;function z({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:n,onToggleFollow:g,selectedTab:z,user:V}){var W;const Y=(0,C.ZP)(),K=(0,A.Z)(),q=(0,i.useRef)(null),[$,X]=(0,i.useState)(null),[J,Q]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(!1),ne=(0,T.Z)(),ie=(0,S.Z)(),oe=(0,L.k6)();(0,P.Z)((e=>{X(e.clientHeight)}),q);const re=(0,M.tc)("web_profile_pronouns")().anyEnabled,{about:ae,country:se="",is_primary_website_verified:le,full_name:de,impressum_url:ce,is_verified_merchant:ue,username:he,verified_identity:pe,website_url:me,id:ge,pronouns:fe}=V,_e=(0,m.Z)(V),xe=K.isLimitedLogin,ye=(0,F.j3)()&&Boolean(ce),be=(null==pe?void 0:pe.verified)||ue,ve=fe?fe.join("/"):"",{anyEnabled:Ee}=(0,M.aq)(N.k$),we=(0,M.tc)("web_about_drawer")().anyEnabled,Ie=(null==me?void 0:me.length)||0,Ce=(null==ce?void 0:ce.length)||0,Te=H-Ie-Ce,Se=ye?(0,U.jsx)(B.rU,{href:ce,inline:!0,children:(0,U.jsx)(F.$m,{inline:!0,weight:"bold"})}):null,Pe=me?(0,U.jsxs)(i.Fragment,{children:[le&&!be&&(0,U.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{bottom:we?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,U.jsx)(a.Z,{})}),(0,U.jsx)(B.xv,{inline:!0,weight:"bold",children:(0,U.jsx)(B.rU,{rel:"nofollow",target:"blank",href:me,inline:!0,children:(0,u.Z)(me)})})]}):null,je=!(0,O.N1)(K,V,ne);return(0,U.jsxs)(i.Fragment,{children:[(0,U.jsx)(B.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:q,children:(0,U.jsx)(B.xu,{marginTop:_e?void 0:3,maxWidth:_e?G.PARTNER:G.PINNER,width:"100%",children:(0,U.jsxs)(B.kC,{alignItems:"center",direction:"column",gap:2,justifyContent:"center",children:[(0,U.jsxs)(B.xu,{width:_e?G.PARTNER:void 0,children:[_e&&!xe&&(0,U.jsx)(Z,{user:V}),(0,U.jsx)(B.kC,{alignItems:"stretch",justifyContent:"center",children:(0,U.jsx)(r.Z,{onTouch:t,user:V,viewer:K})})]}),(0,U.jsxs)(B.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,U.jsxs)(B.X6,{align:"center",size:"lg",children:[de,be&&(0,U.jsx)(B.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,U.jsx)(D.Z,{hasVerifiedIdentity:Boolean(null==pe?void 0:pe.verified),isVerifiedMerchant:ue,size:"lg"})})]}),we&&(0,U.jsx)(l.Z,{color:"gray",inline:!0,items:[ue?(0,U.jsx)(B.xu,{display:"inlineBlock",children:(0,U.jsx)(B.rU,{href:w.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,U.jsx)(B.xv,{color:"blue",inline:!0,underline:!0,size:"md",children:Y._("Verified Merchant","profileHeader.verifiedMerchantText","Text showing that user is a verified merchant")})})}):null,(0,U.jsx)(B.xv,{color:"gray",inline:!0,size:"md",children:`@${he}`},he),ve?(0,U.jsx)(B.xv,{color:"gray",inline:!0,size:"md",children:ve}):null]}),re&&!we&&(0,U.jsx)(B.xv,{children:ve})]}),Ee&&!!V.is_inspirational_merchant&&(0,U.jsx)(d.Z,{name:"InspirationalBadges",children:(0,U.jsx)(h.Z,{country:se,isOwnProfile:(0,p.Z)({user:V,viewer:K}),userId:V.id})}),(0,U.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,U.jsx)(l.Z,{inline:!0,items:[Pe,Se,we?null:(0,U.jsx)(B.xv,{inline:!0,children:`@${he}`}),ae?we?(0,U.jsxs)(i.Fragment,{children:[(0,U.jsx)(B.xv,{inline:!0,children:(0,E.ZP)(ae,Te)}),ae.length>Te&&(0,U.jsx)(B.xu,{display:"inlineBlock",children:(0,U.jsx)(B.iP,{accessibilityLabel:Y._("Expand about section","profile.profileHeader.moreTextAccessibilityLabel","Accessibility label to expand profile about section"),onTap:()=>{(0,k.j)(101,{component:14011,view:4,viewParameter:(0,p.Z)({user:V,viewer:K})?3106:3107}),Q(!0)},children:(0,U.jsx)(B.xv,{inline:!0,weight:"bold",children:Y._("more","profile.profileHeader.moreText","Clickable text to expand profile about section")})})})]}):(0,U.jsx)(B.xv,{inline:!0,children:ae}):null]})}),(0,U.jsx)(c.Z,{user:V}),_e&&(0,U.jsx)(R.Z,{user:V}),je&&(0,U.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,U.jsxs)(B.kC,{gap:7,children:[(0,U.jsx)(v.Z,{shownWithinProfileHeader:!0,user:V}),(0,U.jsxs)(B.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:n="",enable_profile_message:i}=null!==(e=V.partner)&&void 0!==e?e:{};return!t&&!n||V.blocked_by_me?!i&&_e||V.blocked_by_me?null:(0,U.jsx)(x.Z,{setShowMessageFlyout:te,showMessageFlyout:ee,userId:ge,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,U.jsx)(f.Z,{showSendMessageFlyout:e,userId:ge})}):(0,U.jsx)(d.Z,{name:"ContactMenuButton",children:(0,U.jsx)(s.Z,{isOwnProfile:(0,p.Z)({user:V,viewer:K}),setShowMessageFlyout:te,showMessageFlyout:ee,user:V})})})(),V.blocked_by_me?(0,U.jsx)(B.zx,{onClick:n,size:"lg",text:Y._("Unblock","profileHeader.unblockButton","Button on a user profile to unblock that user")}):(0,U.jsx)(j.Z,{button:({followText:e,onClick:t})=>(0,U.jsx)(B.xu,{"data-test-id":V.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,U.jsx)(B.zx,{color:"red",onClick:t,selected:V.explicitly_followed_by_me,size:"lg",text:e})}),fullName:de,id:V.id,imageUrl:null!==(W=V.image_large_url)&&void 0!==W?W:"",isOwnProfile:!1,onUserFollow:g,profileUrl:`/${V.username}/`,userFollowed:V.explicitly_followed_by_me})]}),(0,U.jsx)(b.Z,{userId:V.id,children:({showSendMessageFlyout:t})=>(0,U.jsx)(y.Z,{onClickReportProfile:e,onToggleBlock:n,showSendMessageFlyout:t,user:V})})]})}),(0,p.Z)({user:V,viewer:K})&&(0,U.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,U.jsxs)(B.kC,{gap:2,children:[(0,U.jsx)(v.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:V}),(0,U.jsx)(I.Z,{id:"edit-button",children:(0,U.jsx)(B.zx,{size:"lg",text:Y._("Edit Profile","profileHeader.editProfileButton","Button on a user profile to edit profile"),onClick:ie((()=>{(0,k.j)(101,{element:94}),oe.push("/settings#profile")}))})})]})})]})})}),(0,U.jsx)(_.Z,{headerHeight:$,selectedTab:z,user:V,viewer:K}),J&&(0,U.jsx)(o.Z,{isOwnProfile:(0,p.Z)({user:V,viewer:K}),onDismiss:()=>{Q(!1)},onToggleFollow:g,setShowMessageFlyout:te,user:V})]})}},749649:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(737479),o=n(602173),r=n(667294),a=n(390764),s=n(174523),l=n(615071),d=n(921438),c=n(946753),u=n(549135),h=n(855168),p=n(853070),m=n(883119),g=n(785893);function f({headerHeight:e,isOwnProfile:t,selectedTab:n,user:i}){var o;const f=(0,s.ZP)(),_=(0,h.k6)(),x=(0,r.useRef)(null),{id:y,username:b}=i,[v,E]=(0,r.useState)(0),w=()=>{E((0,d.S$)())};(0,r.useEffect)((()=>(window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)})));const I={1:{tab:p.u.CREATED,text:f._("Created","profileHeader.tabs.created","Label for Created tab on profile header"),ref:x},0:{tab:p.u.SAVED,text:f._("Saved","profileHeader.tabs.saved","Label for Saved tab on profile header")},2:{tab:p.u.SHOP,text:f._("Shop","profileHeader.tabs.shop","Label for Shop tab on profile header")},3:{tab:p.u.TRIED,text:f._("Tried","profileHeader.tabs.tried","Label for Tried tab on profile header")}};function C({ref:e,tab:i,text:o}){return{href:`/${b}/${i}/`,id:`${i}-profile-tab`,isActive:n===i,onClick:()=>{return e=i,void(0,u.j)(101,{component:p.D[e],objectId:y,view:4,viewParameter:t?3106:3107});var e},ref:e,text:o}}const T=[];if((null!==(o=i.eligible_profile_tabs)&&void 0!==o?o:[]).forEach((e=>{const{tab_type:t}=e,n=void 0===t?null:I[t];n&&T.push(C(n))})),T.length<2)return(0,g.jsx)(l.Z,{in:!!e&&v>e,timeout:300,classNames:"ProfileTabsFullName",unmountOnExit:!0,children:(0,g.jsx)(m.X6,{size:"sm",children:i.full_name})});return(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.mQ,{activeTabIndex:Math.max(T.findIndex((e=>e.isActive)),0),onChange:({event:e,activeTabIndex:t})=>{const n=T[t];n.onClick&&n.onClick(),0!==e.button||(e=>Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||(e.preventDefault(),_.push(n.href))},tabs:T.map((({href:e,id:t,ref:n,text:i})=>({href:e,id:t,ref:n,text:i})))}),x&&t&&(0,g.jsx)(a.Z,{anchor:x.current,experienceIds:[502727],flyoutSize:300,idealDirection:"down",placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal",textOverrideFn:()=>(0,g.jsx)(m.xv,{align:"center",color:"white",children:(0,c.nk)(f._("New look! Click {{created}} to see Pins you've published. Click {{saved}} to see your saved Pins and boards.","profileHeader.experience.tooltipText","Text informing users about purpose of Created and Saved tabs on profile"),{created:(0,g.jsx)(m.xv,{inline:!0,color:"white",weight:"bold",children:f._("Created","profileHeader.experience.createdTooltipText","Text informing users about purpose of Created and Saved tabs on profile")}),saved:(0,g.jsx)(m.xv,{inline:!0,color:"white",weight:"bold",children:f._("Saved","profileHeader.experience.savedTooltipText","Text informing users about purpose of Created and Saved tabs on profile")})})})})]})}function _({headerHeight:e,selectedTab:t,user:n,viewer:r}){const a=(0,o.Z)({user:n,viewer:r});return(0,g.jsx)(i.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,shouldStick:!0,children:(0,g.jsx)(f,{headerHeight:e,isOwnProfile:a,selectedTab:t,user:n})})}},307284:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(311866),r=n(282303),a=n(883119),s=n(549135),l=n(192830),d=n(785893);function c({children:e,flyoutDirection:t,setShowMessageFlyout:n,showMessageFlyout:c,userId:u}){const[h,p]=(0,i.useState)(""),m=(0,i.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(a.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{n(!c)}})}),c&&(0,d.jsx)(r.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),n(!1),(0,s.j)(101,{element:103,component:13946,view:4,viewParameter:3107});const t=o.ZP.create("ConversationsResource",{user_ids:[u],text:e}),i=await t.callCreate(),r=null==i?void 0:i.resource_response.data;g(r),f(r.id)},onDismiss:()=>n(!1),message:h})]})}},297436:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81),o=n(939623),r=n(174523),a=n(619641),s=n(785893);function l({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:n,user:l}){const d=(0,r.ZP)(),c=(0,o.Z)(l),{blocked_by_me:u}=l,h={label:d._("Message","profileHeader.actionBar.overflowFlyout.message","Overflow menu option on a user profile to send a message to that user"),clickHandler:n},p={label:d._("Block","profileHeader.actionBar.overflowFlyout.block","Overflow menu option on a user profile to block that user"),clickHandler:t},m={label:d._("Report","profileHeader.actionBar.overflowFlyout.report","Overflow menu option on a user profile to report a complaint about that user"),clickHandler:e},g=[];u||((()=>{var e;const{contact_email:t="",contact_phone:n="",enable_profile_message:i=!1}=null!==(e=l.partner)&&void 0!==e?e:{};return(!!t||!!n)&&i&&c})()&&g.push(h),g.push(p)),g.push(m);const f={label:d._("Profile options","profileHeader.actionBar.overflowFlyout.profileOptions","Category heading on Overflow menu on a user profile"),items:g};return(0,s.jsx)(i.Z,{icon:"ellipsis",label:d._("Other actions","profileHeader.actionBar.overflow","Accessibility label for button to open other options flyout"),children:({handleClose:e})=>(0,s.jsx)(a.Z,{closeFlyout:e,contents:[f]})})}},695782:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(390764),r=n(602173),a=n(756169),s=n(702925),l=n(174523),d=n(34411),c=n(946753),u=n(883119),h=n(785893);function p({user:e}){var t;const n=(0,l.ZP)(),p=(0,i.useRef)(),m=(0,d.Z)(),g=new u.Ry(2);if(-1===e.profile_views)return null;const f=null!==(t=e.profile_views)&&void 0!==t?t:0,_=f>=1e7?n._("10m+","viewerCount.overTenMillion","Shortform number for a count of over 10,000,000"):(0,h.jsx)(a.Z,{value:f||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,h.jsx)(u.xu,{ref:p,children:(0,h.jsxs)(u.xv,{children:[(0,c.nk)(n._("{{ count }} {{ label }}","viewerCount.templateString","Template string for a count of the monthly viewers of a partner profile"),{count:_,label:n._("monthly views","viewerCount.monthlyViewsLabel","Label for count of monthly views of a partner profile")}),(0,r.Z)({user:e,viewer:m})&&(0,h.jsx)(o.Z,{showCaret:!0,anchor:p.current,customWrapper:({children:e})=>(0,h.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(s.Z.settings.HELP_UPDATED_REPORTING_METRICS,"_blank"),placementId:19,textAlign:"center"})]})})}},853070:(e,t,n)=>{n.d(t,{u:()=>i,D:()=>o});const i={ACTIVITIES:"_activities",ACTIVITY:"_activity",BOARDS:"boards",COMMUNITY:"_community",CREATED:"_created",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",OVERVIEW:"overview",PINS:"pins",SAVED:"_saved",SHOP:"_shop",STORY_PINS:"story_pins",TOPICS:"topics",TRIED:"tried",VIDEO_PINS:"video_pins"},o={[i.CREATED]:13668,[i.SAVED]:13669,[i.SHOP]:13670,[i.TRIED]:13671}},978136:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(862357),o=n(625462);function r(e){const t=(0,o.q)(e).replace(/^www\./,"");return(0,i.Z)(t)}},602173:(e,t,n)=>{function i({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}n.d(t,{Z:()=>i})},939623:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.show_creator_profile)}n.d(t,{Z:()=>i})},751075:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function o(e,t){let n=null,o=null,r=null;const a=()=>{if(n){const t=n.clientHeight,i=n.clientWidth;o===t&&r===i||(o=t,r=i,e(n)),window.requestAnimationFrame(a)}};(0,i.useEffect)((()=>{var i;return t.current&&(i=t.current,n&&n===i||(n=i,o=i.clientHeight,r=i.clientWidth,e(n),a())),()=>{n=null}}),[t])}},113532:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(263116),o=n(312827),r=n(174523),a=n(221469),s=n(181307),l=n(855168),d=n(883119),c=n(785893);const u=(0,i.ZP)({resolved:{},chunkName:()=>"FirstPinCreateProfileTakeover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(35074),n.e(76030),n.e(90167)]).then(n.bind(n,124080)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 124080}});function h({children:e,experience:t,initialViewerCreatedPins:n,isOwnProfile:i,username:h}){const p=(0,r.ZP)(),m=(0,l.TH)(),g=(0,o.Z)(),{anyEnabled:f}=(0,s.tc)("biz_growth_fpc_targeting")({dangerouslySkipActivation:!0}),_=!!(0,a.mB)(m.search).skipFac,x=t&&500925===t.experience_id&&(!n||f),y=t&&500980===t.experience_id&&!_;return i&&x?(0,c.jsx)(u,{username:h,experience:t,fallback:(0,c.jsx)(d.xu,{marginTop:10,children:(0,c.jsx)(d.$j,{accessibilityLabel:p._("Loading first pin create education","Loading spinner","Loading spinner"),show:!0})})}):(i&&y&&g.dismissExperience(19,500980),e)}},938769:(e,t,n)=>{n.d(t,{Z:()=>ce});var i=n(667294),o=n(40142),r=n(551687),a=n(627578),s=n(492090),l=n(933390),d=n(544260),c=n(174523),u=n(181307),h=n(883119),p=n(785893);function m(e){const t=(0,c.ZP)(),{group:n}=(0,u.tc)("advertiser_growth_pinner_upgrade_to_business_banner")(),{handleComplete:i,handleDismiss:o}=e;return(0,p.jsx)(h.xu,{width:"55%",marginStart:"auto",marginEnd:"auto",marginTop:2,marginBottom:2,children:(0,p.jsx)(h.QH,{dismissButton:{accessibilityLabel:t._("Dismiss Banner Button","PinnerUpgradeToBusinessBanner.primaryAction.accesibility","Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account"),onDismiss:o},imageData:{component:(0,p.jsx)(h.JO,{dangerouslySetSvgPath:{__path:"M8.6,0.2C4,0.2,0.2,4,0.2,8.6s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S13.3,0.2,8.6,0.2z M6.5,11.9c0,0.1-0.1,0.2-0.2,0.2H4.8  c-0.1,0-0.2-0.1-0.2-0.2V7.8c0-0.1,0.1-0.2,0.2-0.2h1.3c0.2,0,0.3,0.1,0.3,0.2V11.9z M9.5,11.9c0,0.1-0.1,0.2-0.2,0.2H8  c-0.1,0-0.2-0.1-0.2-0.2V4.6c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2v7.3H9.5z M12.7,11.9c0,0.1-0.1,0.2-0.2,0.2H11  c-0.1,0-0.2-0.1-0.2-0.2V6.8c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2V11.9z"},accessibilityLabel:"graph",color:"darkGray",size:45})},message:t._("Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products","PinnerUpgradeToBusinessBanner.message","Message of the Banner to upgrade pinners to business account"),primaryAction:{label:t._("Upgrade","PinnerUpgradeToBusinessBanner.primaryAction","Upgrade action of the Banner to upgrade pinners to business account"),href:"/business/convert/",accessibilityLabel:t._("Upgrade Button","PinnerUpgradeToBusinessBanner.primaryAction.accesibility","Upgrade Button accesibility Label of the Banner to upgrade pinners to business account"),onClick:i},title:"enabled_variant_b"===n?t._("Get more clicks, traffic and sales!","PinnerUpgradeToBusinessBanner.title.variant_b","Title of the Banner to upgrade pinners to business account"):t._("Discover your top performing Pins","PinnerUpgradeToBusinessBanner.title.variant_a","Title of the Banner to upgrade pinners to business account")})})}const g=({placementId:e})=>(0,p.jsx)(d.Z,{placementId:e,experienceIds:[503755],children:({complete:e,dismiss:t})=>(0,p.jsx)(m,{handleComplete:e,handleDismiss:t})});var f=n(264414),_=n(227361),x=n.n(_),y=n(939623),b=n(304194),v=n(113532),E=n(261220),w=n(314528),I=n(34411),C=n(451190),T=n(946753);function S({firstName:e,onClearModal:t}){const n=(0,c.ZP)(),i=n._("User blocked","BlockConfirmation.heading","Heading of confirmation modal after blocking a user");return(0,p.jsx)(C.Z,{accessibilityModalLabel:i,heading:i,onDismiss:t,size:"sm",footer:(0,p.jsx)(h.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:(0,p.jsx)(h.xu,{paddingX:1,children:(0,p.jsx)(h.zx,{color:"red",onClick:t,text:n._("OK")})})}),children:(0,p.jsx)(h.xu,{padding:4,children:(0,p.jsx)(h.xv,{children:(0,T.nk)(n._("You've blocked {{name}}","BlockConfirmation.message","Confirmation message after blocking a user"),{name:(0,p.jsx)("strong",{children:e})})})})})}var P=n(376045),j=n(33234),A=n(956997),D=n(702925);function R({onDismiss:e}){const t=(0,c.ZP)();return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(h.rU,{href:D.Z.settings.POLICY_COPYRIGHT_URL,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,p.jsxs)(h.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,p.jsx)(h.xu,{paddingX:6,children:(0,p.jsx)(h.xv,{weight:"bold",children:t._("This infringes my copyright","Copyright infringement statement","Copyright infringement statement")})}),(0,p.jsx)(h.xu,{paddingX:6,children:(0,p.jsx)(h.JO,{icon:"arrow-forward",accessibilityLabel:t._("Go to copyright infringement"),color:"darkGray"})})]})}),(0,p.jsx)(h.iz,{}),(0,p.jsx)(h.rU,{href:D.Z.settings.ABOUT_TRADEMARK_FORM,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,p.jsxs)(h.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,p.jsx)(h.xu,{paddingX:6,children:(0,p.jsx)(h.xv,{weight:"bold",children:t._("This infringes my trademark","Trademark infringement statement","Trademark infringement statement")})}),(0,p.jsx)(h.xu,{paddingX:6,children:(0,p.jsx)(h.JO,{icon:"arrow-forward",accessibilityLabel:t._("Go to trademark infringement"),color:"darkGray"})})]})})]})}var O=n(377876);function N({reason:e,user:t,userBlocked:n,onChangeBlocked:o}){const r=(0,c.ZP)(),a={[O.bj.SPAM]:{title:r._("Report spam?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Misleading content or behavior","Example of spam","Example of spam"),r._("Repetitive posts","Example of spam","Example of spam"),r._("Unsolicited commercial messages","Example of spam","Example of spam")]},[O.bj.PORN]:{title:r._("Report nudity or pornography?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Sexualized nudity","Example of porn","Example of porn"),r._("Depictions of sexual acts","Example of porn","Example of porn"),r._("Fetish content","Example of porn","Example of porn")]},[O.bj.SELF_INJURY]:{title:r._("Report self-harm?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Encouraging self-mutilation, eating disorders and drug abuse","Example of self-injury","Example of self-injury"),r._("Graphic depictions of self-harm","Example of self-injury","Example of self-injury")]},[O.bj.MEDICAL_MISINFORMATION]:{title:r._("Report medical misinformation?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("False cures for cancer or other chronic or terminal illnesses","Example of medical misinformation","Example of medical misinformation"),r._("Anti-vaccination advice","Example of medical misinformation","Example of medical misinformation")],nonRemovals:[r._("Diet advice, including cleanses and supplements that can boost the immune system","Example of a profile we will not remove","Example of a profile we will not remove"),r._("Teas, oils and herbs proposed for aromatic and sleep quality","Example of a profile we will not remove","Example of a profile we will not remove")]},[O.bj.HATE_SPEECH]:{title:r._("Report hateful speech?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Attacks or slurs directed at protected groups","Example of hate speech","Example of hate speech"),r._("People or groups that advocate hate speech","Example of hate speech","Example of hate speech")],nonRemovals:[r._("Profanity","Example of a profile we will not remove","Example of a profile we will not remove"),r._("Attacks on public figures","Example of a profile we will not remove","Example of a profile we will not remove"),r._("Criticism of government, political or religious leaders","Example of a profile we will not remove","Example of a profile we will not remove")]},[O.bj.HARASSMENT]:{title:r._("Report harassment?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Attacks directed at a specific private individual","Example of harassment","Example of harassment"),r._("Personally identifiable information","Example of harassment","Example of harassment")],nonRemovals:[r._("Attacks on public figures","Example of a profile we will not remove","Example of a profile we will not remove"),r._("Criticism of government, political or religious leaders","Example of a profile we will not remove","Example of a profile we will not remove")]},[O.bj.VIOLENCE]:{title:r._("Report graphic violence?","Confirm report profile reason title","Confirm report profile reason title"),removals:[r._("Extreme graphic violence","Example of violence","Example of violence"),r._("Glorification or promotion of violence","Example of violence","Example of violence"),r._("Threats of physical harm","Example of violence","Example of violence")],nonRemovals:[r._("Historical, educational or newsworthy content","Example of a profile we will not remove","Example of a profile we will not remove"),r._("Political protests, advocacy or other social causes","Example of a profile we will not remove","Example of a profile we will not remove")]}},{full_name:s,username:l,id:d}=t,u=s?`${s} (${l})`:l,m=(0,p.jsx)(h.xu,{paddingX:2,paddingY:2,children:(0,p.jsxs)(h.xu,{alignItems:"center",display:"flex",direction:"row",paddingX:2,children:[(0,p.jsxs)(h.xu,{paddingX:2,children:[(0,p.jsx)(h.X6,{size:"md",children:(0,T.nk)(r._("Block {{ name }}","Block a user heading","Block a user heading"),{name:s||t.username})}),(0,p.jsx)(h.xu,{marginTop:2,marginEnd:2,children:(0,p.jsx)(h.xv,{children:(0,T.nk)(r._("If you block {{ names }}, both of you can still view each other's profiles, but you can't message each other, follow or save each other's Pins.","Explanation of blocking a user","Explanation of blocking a user"),{names:(0,p.jsx)(h.rU,{href:`/${l}`,inline:!0,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:u},"blockUserLink")})})})]}),(0,p.jsx)(h.xu,{paddingX:2,children:(0,p.jsx)(h.rs,{id:"blockUser",onChange:o(d,u),switched:n})})]})}),g=a[e],{removals:f,nonRemovals:_}=g;return(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)(h.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,p.jsxs)(h.xu,{paddingX:6,"data-test-id":"detail-text",children:[(0,p.jsx)(h.xu,{paddingY:4,children:(0,p.jsx)(h.X6,{children:g.title})}),(0,p.jsx)(h.xu,{paddingY:2,children:(0,p.jsx)(i.Fragment,{children:f.map(((e,t)=>(0,p.jsx)(h.xv,{children:"• "+e},`removals-${t}`)))})}),_&&(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(h.xv,{weight:"bold",children:r._("We don’t remove things like","Title for list of content we do not remove","Title for list of content we do not remove")}),(0,p.jsx)(h.xu,{paddingY:2,children:(0,p.jsx)(i.Fragment,{children:_.map(((e,t)=>(0,p.jsx)(h.xv,{children:"• "+e},`nonRemovals-${t}`)))})})]}),g.notes&&(0,p.jsx)(h.xv,{children:(0,T.nk)(r._("Note: {{ notes }}","Note to the user","Note to the user"),{notes:g.notes})})]}),(0,p.jsx)(h.xu,{paddingY:2,children:(0,p.jsx)(h.iz,{})}),m]})})}var k=n(311866),L=n(881220),M=n(708206),B=n(233949),F=n(475446),U=n(855168);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G="cover-image",H="cover-video",z="report-type-step",V="reason-step",W="confirm-step";class Y extends i.Component{constructor(...e){var t;super(...e),t=this,Z(this,"state",{reason:null,reportType:null,step:z,showUserBlockedToastText:null}),Z(this,"handleChangeReason",(e=>()=>this.setState({reason:e}))),Z(this,"handleChangeReportType",(e=>()=>this.setState({reportType:e}))),Z(this,"handleExperimentReportSpam",(e=>()=>this.setState({reason:"spam",reportType:e}))),Z(this,"handleCopyrightReportClick",(()=>{const{user:{username:e},history:t}=this.props;t.push({pathname:`/copyright-reporting/${e}/`})})),Z(this,"handleChangeStep",(e=>()=>{this.setState({step:e})})),Z(this,"handleSubmitReport",(async function(){const{onClearModal:e,username:n,toastManagerContext:i}=t.props,{reportType:o,reason:r}=t.state,a={username:n,reason:r,reportObject:o};await k.ZP.create("UserReportProfileResource",a).callCreate(),e(),i.showToast((({onHide:e})=>(0,p.jsx)(L.Z,{text:t.props.i18n._("Thanks! Your feedback helps us improve Pinterest.","profileHeader.reportProfile.reportSentToast","User profile report was sent"),onHide:e})))})),Z(this,"handleChangeBlocked",((e,t)=>()=>{const{isUserBlocked:e,blockUser:n,unblockUser:i,user:o}=this.props,{id:r}=o;e?(i(r),this.showChangeBlock({name:t,showBlocked:!1})):(n(r),this.showChangeBlock({name:t,showBlocked:!0}))})),Z(this,"showChangeBlock",(({name:e,showBlocked:t})=>{const n=t?(0,T.nk)(this.props.i18n._("{{ name }} blocked","Toast text for blocking user","Toast text for blocking user"),{name:e}):(0,T.nk)(this.props.i18n._("Unblocked {{ name }}","Toast text for unblocking user","Toast text for unblocking user"),{name:e});this.setState({showUserBlockedToastText:n.join("")})})),Z(this,"hideUserBlockedToast",(()=>this.setState({showUserBlockedToastText:null})))}renderFooter(){const{onClearModal:e}=this.props,{reportType:t,reason:n,step:i}=this.state,o=i!==W,r=!t&&i===z||!n&&i===V,a=!(i===W&&n===O.bj.INTELLECTUAL_PROPERTY),s=o?this.props.i18n._("Next","Button to progress to next screen in report flow","Button to progress to next screen in report flow"):this.props.i18n._("Report","Button text to submit a report profile","Button text to submit a report profile");let l,d;i===z?(l=this.handleChangeStep(V),d=e,"name"===t&&(l=this.handleChangeStep(W)),"BulkDmca"===t&&(l=this.handleCopyrightReportClick)):i===V?(l=this.handleChangeStep(W),d=this.handleChangeStep(z)):(l=this.handleSubmitReport,d=this.handleChangeStep(V),"name"===t&&(d=this.handleChangeStep(z)));const c=i===z?this.props.i18n._("Cancel","Cancel button","Cancel button"):this.props.i18n._("Back","Back button","Back button");return(0,p.jsxs)(h.xu,{display:"flex",direction:"row",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,p.jsx)(h.xu,{paddingX:1,children:(0,p.jsx)(h.zx,{onClick:d,text:c})}),a&&(0,p.jsx)(h.xu,{paddingX:1,children:(0,p.jsx)(h.zx,{color:"red",disabled:r,onClick:()=>{l()},text:s})})]})}renderReportTypes(){const{reportType:e}=this.state,{user:t}=this.props,n=t.profile_cover&&t.profile_cover.source,o=[];return"video"===n?o.push({key:H,title:this.props.i18n._("Inappropriate cover video","Cover video of profile","Cover video of profile")}):"image"===n&&o.push({key:G,title:this.props.i18n._("Inappropriate cover image","Cover image of profile","Cover image of profile")}),(0,p.jsxs)(h.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,p.jsx)(h.xu,{paddingY:2,children:(0,p.jsx)(h.xv,{align:"center",color:"gray",size:"md",children:this.props.i18n._("Why are you reporting this account?","What is the reason for reporting","What is the reason for reporting")})}),(0,p.jsx)(h.iz,{}),(0,p.jsxs)(h.xu,{"data-test-id":"report-spam-option",children:[(0,p.jsx)(h.__,{htmlFor:"ReportSpam",children:(0,p.jsxs)(h.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,p.jsx)(h.xu,{paddingX:4,children:(0,p.jsx)(h.EU,{checked:"name"===e,id:"ReportSpam",name:"reportPinOptions",onChange:this.handleExperimentReportSpam("name"),value:"ReportSpam"})}),(0,p.jsx)(h.xu,{flex:"grow",children:(0,p.jsx)(h.xu,{marginBottom:1,children:(0,p.jsx)(h.xv,{weight:"bold",children:this.props.i18n._("Spam","Report user for spam","Report user for spam")})})})]})}),(0,p.jsx)(h.iz,{})]},"Option-ReportSpam"),(0,p.jsx)(B.KS,{name:"web_creators_bulk_dmca_tool",children:({anyEnabled:t})=>t&&(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(h.__,{htmlFor:"BulkDmca",children:(0,p.jsxs)(h.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,p.jsx)(h.xu,{paddingX:4,children:(0,p.jsx)(h.EU,{checked:"BulkDmca"===e,id:"BulkDmca",name:"reportPinOptions",onChange:this.handleChangeReportType("BulkDmca"),value:"BulkDmca"})}),(0,p.jsx)(h.xu,{flex:"grow",children:(0,p.jsx)(h.xu,{marginBottom:1,children:(0,p.jsx)(h.xv,{weight:"bold",children:this.props.i18n._("Copyright infringement","Report users pins for copyright infringement","Report users pins for copyright infringement")})})})]})}),(0,p.jsx)(h.iz,{})]},"Option-BulkDmca")})}),o.map(((t,n)=>(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(h.__,{htmlFor:t.key,children:(0,p.jsxs)(h.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,p.jsx)(h.xu,{paddingX:4,children:(0,p.jsx)(h.EU,{checked:t.key===e,id:t.key,name:"reportPinOptions",onChange:this.handleChangeReportType(t.key),value:t.key})}),(0,p.jsx)(h.xu,{flex:"grow",children:(0,p.jsx)(h.xu,{marginBottom:1,children:(0,p.jsx)(h.xv,{weight:"bold",children:t.title})})})]})}),o.length>n+1&&(0,p.jsx)(h.iz,{})]},`Option-${t.key}`)))]})}renderReasons(){const{reason:e}=this.state,t=[{key:O.bj.SPAM,title:this.props.i18n._("Spam","Report profile option","Report profile option"),subtitle:this.props.i18n._("Misleading or repetitive posts","Report profile option description","Report profile option description")},{key:O.bj.PORN,title:this.props.i18n._("Nudity or pornography","Report profile option","Report profile option"),subtitle:this.props.i18n._("Sexually explicit content","Report profile option description","Report profile option description")},{key:O.bj.SELF_INJURY,title:this.props.i18n._("Self-harm","Report profile option","Report profile option"),subtitle:this.props.i18n._("Eating disorders, cutting, suicide","Report profile option description","Report profile option description")},{key:O.bj.MEDICAL_MISINFORMATION,title:this.props.i18n._("Medical misinformation","Report profile option","Report profile option"),subtitle:this.props.i18n._("Harmful or misleading content about health and safety","Report profile option description","Report profile option description")},{key:O.bj.HATE_SPEECH,title:this.props.i18n._("Hate speech or symbols","Report profile option","Report profile option"),subtitle:this.props.i18n._("Attacks directed at protected groups","Report profile option description","Report profile option description")},{key:O.bj.HARASSMENT,title:this.props.i18n._("Harassment or privacy violations","Report profile option","Report profile option"),subtitle:this.props.i18n._("Threats, blackmail, personal attacks","Report profile option description","Report profile option description")},{key:O.bj.VIOLENCE,title:this.props.i18n._("Graphic violence","Report profile option","Report profile option"),subtitle:this.props.i18n._("Violent images or promotion of violence","Report profile option description","Report profile option description")},{key:O.bj.INTELLECTUAL_PROPERTY,title:this.props.i18n._("My intellectual property","Report profile option","Report profile option"),subtitle:this.props.i18n._("Copyright or trademark infringement","Report profile option description","Report profile option description")}];return(0,p.jsx)(h.xu,{maxHeight:"60vh",overflow:"auto",children:t.map(((n,i)=>(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(h.__,{htmlFor:n.key,children:(0,p.jsxs)(h.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,p.jsx)(h.xu,{paddingX:4,children:(0,p.jsx)(h.EU,{checked:n.key===e,id:n.key,name:"reportPinOptions",onChange:this.handleChangeReason(n.key),value:n.key})}),(0,p.jsxs)(h.xu,{flex:"grow",children:[(0,p.jsx)(h.xu,{marginBottom:1,children:(0,p.jsx)(h.xv,{weight:"bold",children:n.title})}),(0,p.jsx)(h.xv,{size:"md",children:n.subtitle})]})]})}),t.length>i+1&&(0,p.jsx)(h.iz,{})]},`Option-${n.key}`)))})}render(){const{onClearModal:e,user:t,isUserBlocked:n}=this.props,{step:i,reason:o,showUserBlockedToastText:r}=this.state,a=this.props.i18n._("Report account","Modal heading for report profile flow","Modal heading for report profile flow");let s;return s=i===z?this.renderReportTypes():i===V?this.renderReasons():i===W&&o===O.bj.INTELLECTUAL_PROPERTY?(0,p.jsx)(R,{onDismiss:e}):(0,p.jsx)(N,{reason:o,user:t,userBlocked:n,onChangeBlocked:this.handleChangeBlocked}),(0,p.jsxs)(C.Z,{accessibilityModalLabel:a,onDismiss:e,heading:a,footer:this.renderFooter(),children:[s,(0,p.jsx)(h.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:r&&(0,p.jsx)(L.Z,{duration:2e3,onHide:this.hideUserBlockedToast,text:r})})]})}}const K=(0,M.compose)(F.Cl,U.EN)((function(e){const t=(0,c.ZP)();return(0,p.jsx)(Y,{...e,i18n:t})}));function q({blockUser:e,currentModal:t,handleBlockUser:n,handleHideConfirmationModal:i,handleHideModal:o,isUserBlocked:r,unblockUser:a,user:s}){var l,d;switch(t){case"blockConfirmation":return(0,p.jsx)(S,{firstName:null!==(l=s.first_name)&&void 0!==l?l:"",onClearModal:i});case"blockUser":return(0,p.jsx)(P.Z,{firstName:null!==(d=s.first_name)&&void 0!==d?d:"",onBlockUser:n,onClearModal:o});case"reportProfile":return(0,p.jsx)(K,{onClearModal:o,username:s.username,user:s,isUserBlocked:r,blockUser:e,unblockUser:a});case"createPincode":const t=280;return(0,p.jsx)(A.Z,{onHide:o,objectId:s.id,children:(0,p.jsx)(j.ZP,{id:s.id,images:[{height:t,url:s.image_xlarge_url||"",width:t}]})});default:return null}}var $=n(998864),X=n(766274);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends i.Component{constructor(...e){super(...e),J(this,"state",{currentModal:null,currentUserDetails:this.props.user}),J(this,"handleClickCreatePincode",this.props.requireAuth((()=>this.setState({currentModal:"createPincode"})))),J(this,"handleClickReportProfile",this.props.requireAuth((()=>this.setState({currentModal:"reportProfile"})))),J(this,"handleHideModal",(()=>this.setState({currentModal:null}))),J(this,"handleHideConfirmationModal",(()=>{this.refreshPage()})),J(this,"refreshPage",(()=>{window.location.reload(!0)})),J(this,"handleToggleBlock",this.props.requireAuth((()=>{const{isUserBlocked:e}=this.props;e?this.unblockUser():this.setState({currentModal:"blockUser"})}))),J(this,"unblockUser",(()=>{const{unblockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!1}),e(t).then((()=>this.refreshPage()))})),J(this,"handleBlockUser",(()=>{const{blockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!0}),e(t),this.setState({currentModal:"blockConfirmation"})})),J(this,"handleToggleFollow",(()=>{const{currentUserDetails:{explicitly_followed_by_me:e}}=this.state,t=!e;this._updateUserDetails({explicitly_followed_by_me:t})})),J(this,"_updateUserDetails",(e=>{const{currentUserDetails:t}=this.state,n={...t,...e};this.setState({currentUserDetails:n})}))}static getDerivedStateFromProps(e,t){return e.user.id!==t.currentUserDetails.id?{...t,currentUserDetails:e.user}:null}renderModal(){const{currentModal:e}=this.state,{user:t,isUserBlocked:n,unblockUser:i,blockUser:o}=this.props;return(0,p.jsx)(q,{blockUser:o,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideConfirmationModal:this.handleHideConfirmationModal,handleHideModal:this.handleHideModal,isUserBlocked:n,unblockUser:i,user:t})}render(){const{minimalPartnerHeader:e,tab:t,user:n}=this.props,{currentModal:o}=this.state;return e?(0,p.jsx)(E.Z,{avatarUrl:n.image_medium_url,merchantName:n.full_name,text:n.full_name,username:n.username}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(w.Z,{onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,selectedTab:t,user:n}),o&&this.renderModal()]})}}function ee(e){const t=(0,o.useDispatch)(),n=(0,o.useSelector)((({users:t})=>{var n,i,o,r;return t&&t[null!==(n=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==n?n:""]?t[null!==(o=null===(r=e.user)||void 0===r?void 0:r.id)&&void 0!==o?o:""]:e.user})),i=(0,I.Z)(),r=(0,$.Z)();return(0,p.jsx)(Q,{...e,blockUser:e=>t((0,X.G)(e)),isUserBlocked:Boolean(null==n?void 0:n.blocked_by_me),unblockUser:e=>t((0,X.h)(e)),user:n,viewer:i,requireAuth:r})}var te=n(755908),ne=n(383722),ie=n(778527),oe=n(557162),re=n(691908),ae=n(549135),se=n(401081),le=n(853070);const de=(0,ie.ZP)(19,(({clickedFollowingButton:e},t)=>({clickedFollowingButton:e,profile_ownership:t.profile_ownership,profile_user_id:t.profile_user_id})))((function({children:e,clickedFollowingButton:t,experience:n,history:d,minimalPartnerHeader:u,renderError:m,setPlacementExtraContext:_,showPulsar:E,tab:w,unsetError:C,username:S,pins:P}){const j=(0,c.ZP)(),A=(0,I.Z)(),D=0!==((e,t)=>Object.keys(t).filter((n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin})).map((e=>t[e])))(A,P).length,R=(0,i.useRef)(!1),O=(0,i.useRef)(t),N=(0,i.useRef)(D),k=(0,ne.Z)(),L=(0,o.useSelector)((({mostRecentPin:e})=>null==e?void 0:e.id)),M=A&&A.isAuth&&k.data&&A.id===k.data.id;if((0,i.useEffect)((()=>{(0,b.Z)()}),[]),(0,i.useEffect)((()=>{"v3_get_board"!==x()(m,"apiHandler")||404!==x()(m,"http_status")||R.current||!k.data||k.error?k.error&&404===k.error.httpStatus&&d.replace("/?show_error=true"):(R.current=!0,a.Z.showHtmlError((0,T.nk)(j._("But here are some of {{ fullName }}'s other boards!"),{fullName:k.data.full_name}).join(""),C(),j._("We couldn't find that page.")))})),(0,i.useEffect)((()=>{(0,ae.j)(13,{pin_id:L,view:4})}),[L]),(0,i.useEffect)((()=>{if(k.isLoaded){var e;let n={profile_ownership:M?"own":"other",profile_user_id:(null===(e=k.data)||void 0===e?void 0:e.id)||""};t&&t!==O.current&&(n={...n,clickedFollowingButton:!0}),_(n)}}),[t,k.isLoaded]),!k||!k.isLoaded||!k.data)return null;const B=A.isAuth&&S===A.username,F=(({tab:e,updateUrlFromDecider:t,userData:n})=>{const i={2:le.u.SHOP,1:le.u.CREATED,0:le.u.SAVED,3:le.u.TRIED};if(e===le.u.BOARDS&&t(e=le.u.SAVED),e===le.u.DECIDER){var o;const e=null===(o=n.eligible_profile_tabs)||void 0===o?void 0:o.find((e=>e.is_default)),r=i[null==e?void 0:e.tab_type]||le.u.SAVED;return t(r),r}return e})({tab:w,updateUrlFromDecider:e=>d.replace(`/${k.data.username}/${e}/`),userData:k.data}),U=B?3106:3107,Z=(0,y.Z)(k.data),G=(0,p.jsx)(re.a,{children:(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(g,{placementId:19}),(0,p.jsx)(l.default,{placementId:19}),(0,p.jsxs)(h.xu,{children:[(0,p.jsx)(r.Z,{name:"ProfileHeaderContainer",children:(0,p.jsx)(oe.c,{children:e=>(0,p.jsx)(ee,{minimalPartnerHeader:u,tab:F,top:e,user:k.data})})}),(0,p.jsx)(r.Z,{name:"ProfileContent",children:(0,p.jsx)(h.xu,{children:e})}),Z&&(0,p.jsx)(s.Z,{placementId:19}),!Z&&S===A.username&&F===le.u.BOARDS&&(0,p.jsx)(f.Z,{placementId:19})]})]})}),H=Z?(0,p.jsx)(v.Z,{experience:n,initialViewerCreatedPins:N.current,isOwnProfile:B,username:S,children:G}):G;return(0,p.jsx)(te.Z,{view:4,viewParameter:U,objectId:k.data.id,children:(0,p.jsx)(i.Fragment,{children:H})})}));function ce(e){const t=(0,o.useSelector)((({pins:e})=>e)),{topics:n}=(0,se.X)(),i=n&&Object.keys(n).map((e=>n[e])).filter((e=>e.showTooltip)).length>0;return(0,p.jsx)(de,{...e,clickedFollowingButton:i,pins:t})}},691908:(e,t,n)=>{n.d(t,{a:()=>l,Z:()=>d});var i=n(667294),o=n(762803),r=n(785893);const{Provider:a,useHook:s}=(0,o.ZP)("ShowBoardlessPins");function l({children:e}){const[t,n]=(0,i.useState)(!1);return(0,r.jsx)(a,{value:{showBoardlessPinsModal:t,setShowBoardlessPinsModal:n},children:e})}const d=s},37166:(e,t,n)=>{n.r(t),n.d(t,{default:()=>at});var i=n(667294),o=n(40142),r=n(390764),a=n(622400);function s({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:n,mostRecentBoardSortOrder:i,requestContext:o,updatedBoardOrder:r}){if(!n)return"last_pinned_to";if(r)return r;if(i)return i;const s=!e&&t&&new a.v(o,"web_gb_highlight_on_profile_default").enabled();return e?"custom":s?"group_boards_at_top":"last_pinned_to"}var l=n(602173),d=n(81),c=n(389609),u=n(311866),h=n(174523),p=n(535718),m=n(34411),g=n(549135),f=n(181307),_=n(619641),x=n(853070),y=n(955637),b=n(785893);const v={alphabetical:10430,last_pinned_to:10431,custom:10434},E={square:10604,wide:10603};function w({currentTab:e,user:t,setVisibilityControlsModalOpen:n}){const r=(0,h.ZP)(),a=(0,o.useDispatch)(),l=(0,m.Z)(),w=e===x.u.PINS,I=e===x.u.SAVED,{data:C}=(0,p.Z)({name:"UserMetadataResource",options:{user:{id:l.isAuth&&l.username}}}),T=(0,o.useSelector)((({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.profileBoardView})),S=(0,o.useSelector)((({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.updatedBoardOrder})),P=(0,o.useSelector)((({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.profilePinView})),j=s({hasCustomOrder:Boolean(t.has_custom_board_sorting_order),isOwnProfile:!0,mostRecentBoardSortOrder:null==C?void 0:C.most_recent_board_sort_order,updatedBoardOrder:S});(0,i.useEffect)((()=>{if(C&&(!T||"list"===T)){const{profile_board_rep_view_type:e}=C,t=e&&"list"!==e?e:"wide";a((0,y.HY)(t))}}),[C,T]);(0,i.useEffect)((()=>{if(C&&""===P){const{board_pin_rep_view_type:e}=C;a((0,y.QG)(null!=e?e:"regular"))}}),[C,P]);const A=e=>()=>{(0,g.j)(101,{component:13149,element:v[e]});u.ZP.create("UserMetadataResource",{most_recent_board_sort_order:e}).callUpdate(),a((0,y.gh)(e))},D=e=>()=>{(0,g.j)(101,{component:13181,viewParameter:3106,element:E[e]});u.ZP.create("UserMetadataResource",{profile_board_rep_view_type:e}).callUpdate(),a((0,y.HY)(e))},R=e=>()=>{(0,c.Z)({boardDensity:e,component:13182,surface:"profile"})},{anyEnabled:O}=(0,f.tc)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),N={label:O?r._("Sort by","profileHeader.actionBar.organizeFlyout.sortBoardsBy","Category heading on Organize menu on user profile"):r._("Sort boards by","profileHeader.actionBar.organizeFlyout.sortBoardsBy.deprecated","Category heading on Organize menu on user profile, to be deprecated"),items:[{label:r._("A to Z","profileHeader.actionBar.organizeFlyout.aToZ","Organize menu option to sort boards alphabetically"),isSelected:"alphabetical"===j,clickHandler:A("alphabetical")},{label:O?r._("Custom","profileHeader.actionBar.organizeFlyout.dragAndDrop","Organize menu option to sort boards by drag-and-drop"):r._("Drag and drop","profileHeader.actionBar.organizeFlyout.dragAndDrop.deprecated","Organize menu option to sort boards by drag-and-drop, to be deprecated"),isSelected:"custom"===j,clickHandler:A("custom")},{label:r._("Last saved to","profileHeader.actionBar.organizeFlyout.lastSavedTo","Organize menu option to sort boards by last saved to"),isSelected:"last_pinned_to"===j,clickHandler:A("last_pinned_to")}]},k=O&&n?{label:r._("Profile layout","profileHeader.actionBar.organizeFlyout.layout","Category heading on Organize menu on user profile"),items:[{label:r._("Edit board visibility","profileHeader.actionBar.organizeFlyout.manageVisibility","Organize menu option to control visibility of boards"),clickHandler:()=>{n(!0),(0,g.j)(101,{view:215,viewParameter:3106,component:13996,element:12786})}}]}:null,L={label:r._("View options","profileHeader.actionBar.organizeFlyout.viewOptions","Category heading on Organize menu on user profile"),items:[{label:r._("Standard","profileHeader.actionBar.organizeFlyout.Standard","Organize menu option for standard view density"),isSelected:w?"regular"===P:"wide"===T,clickHandler:w?R("regular"):D("wide")},{label:r._("Compact","profileHeader.actionBar.organizeFlyout.compact","Organize menu option for compact view density"),isSelected:w?"dense"===P:"square"===T,clickHandler:w?R("dense"):D("square")}]},M=[];return w||[N,k].forEach((e=>{e&&M.push(e)})),I||M.push(L),(0,b.jsx)(d.Z,{icon:"filter",label:r._("Organize","profileHeader.actionBar.organize","Accessibility label for button to open organization and view tools flyout"),children:({handleClose:e})=>(0,b.jsx)(_.Z,{closeFlyout:e,contents:M})})}var I=n(544260),C=n(691908),T=n(883119);const S=110;function P({boardThumbs:e}){const t=(0,h.ZP)();return(0,b.jsx)(T.xu,{"aria-label":t._("Collage of images","profile.boardlessPinsUpsell.imageCollage","Collage of images on upsell"),role:"img",children:(0,b.jsx)(T.zd,{height:S,rounding:4,width:S,children:(0,b.jsx)(T.gM,{columns:2,cover:!0,height:S,gutter:1,renderImage:({index:t,width:n,height:i})=>{var o,r,a;const s=e[0],l=e.slice(1),d=0===t?s:l[t-1];return(0,b.jsx)(T.zd,{width:n,height:i,children:(0,b.jsx)(T.Ee,{alt:"",src:null!==(o=d.url)&&void 0!==o?o:"",color:"#EFEFEF",naturalHeight:null!==(r=d.height)&&void 0!==r?r:1,naturalWidth:null!==(a=d.width)&&void 0!==a?a:1,fit:"cover"})})},width:S})})})}function j(){const e=(0,h.ZP)(),{setShowBoardlessPinsModal:t}=(0,C.Z)();return(0,b.jsx)(I.Z,{experienceIds:[503446],placementId:19,children:({complete:n,dismiss:i,display_data:o})=>{const{button_text:r,images:a,subtitle:s,title:l}=o,d=a.map((e=>e["170x"]));return(0,b.jsx)(T.kC,{justifyContent:"center",children:(0,b.jsx)(T.xu,{maxWidth:960,paddingY:4,children:(0,b.jsx)(T.QH,{title:l,imageData:{component:(0,b.jsx)(P,{boardThumbs:d})},message:s,primaryAction:{label:r,accessibilityLabel:e._("Create board","profile.boardlessPinsUpsell.createButton","Button to create new board from upsell"),onClick:()=>{t(!0),n()}},dismissButton:{accessibilityLabel:e._("Dismiss","profile.boardlessPinsUpsell.dismissButton","Button to dismiss upsell"),onDismiss:i}})})})}})}var A=n(515743),D=n(476865),R=n(535258);const O=(0,i.lazy)((()=>Promise.all([n.e(19509),n.e(55827)]).then(n.bind(n,391966))));function N({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:n,isOwnProfile:r,userId:a}){const s=(0,h.ZP)(),{showBoardlessPinsModal:l,setShowBoardlessPinsModal:d}=(0,C.Z)(),c=(0,o.useSelector)((({pins:e})=>e)),u=!!e&&e.reduce(((e,t)=>{const n=c[t.id];return e.push(n),e}),[])||[],p=(0,f.tc)("web_profile_board_create_upsell"),m=r&&u.length>=5&&!n&&p().anyEnabled,{isFetching:g,fetchMore:_}=t;return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)(T.xu,{padding:n?0:3,children:[n&&u.length>0&&(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(T.xu,{marginTop:5,children:(0,b.jsx)(T.iz,{})}),(0,b.jsxs)(T.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:5,paddingY:7,children:[(0,b.jsx)(T.X6,{size:"sm",children:s._("Unorganized ideas","profileBoard.unorganizedIdeas.heading","Heading for unorganized ideas.")}),(0,b.jsx)(T.zx,{onClick:()=>{d(!0)},text:s._("Organize","profileBoard.unorganizedIdeas.organizeButton","Button for organizing boardless Pins")})]})]}),m&&(0,b.jsx)(j,{}),(0,b.jsx)(A.Z,{columnWidth:R.xf,comp:({data:e,itemIdx:t})=>{const n=r?{type:"none"}:{type:"inline"};return(0,b.jsx)(D.default,{pin:e,pinId:e.id,saveButtonOptions:n,surface:"BoardlessPins",trackingParameters:{viewParameter:r?3106:3107,viewType:4,slotIndex:t}})},gutterWidth:R.Us,isGridCentered:!0,items:u,layout:"basic",loadItems:()=>{g||_()},serverRender:!0,useMasonry9:!0})]}),!!u&&u.length>0&&l&&(0,b.jsx)(O,{boardlessPins:u,fetchMore:_,hasBoards:n,onDismiss:()=>d(!1),userId:a})]})}var k=n(930530),L=n(366574);function M({children:e,containerWidth:t,inListView:n,semiTransparent:i}){const o=i?.5:void 0;return n?(0,b.jsx)(T.xu,{"data-test-id":L.Kb,display:"flex",justifyContent:"center",width:"100%",children:(0,b.jsxs)(T.xu,{maxWidth:800,paddingX:3,width:"100%",children:[(0,b.jsx)(T.iz,{}),(0,b.jsx)(T.xu,{opacity:o,paddingY:3,width:"100%",children:e})]})}):(0,b.jsx)(T.xu,{"data-test-id":L.Kb,maxWidth:t,opacity:o,overflow:"hidden",padding:2,children:e})}function B({headerLabel:e}){const t=(0,h.ZP)();return(0,b.jsx)(T.W2,{children:(0,b.jsxs)(T.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:-4,marginEnd:-4,paddingX:3,children:[(0,b.jsx)(T.xu,{column:9,display:"flex",justifyContent:"between",paddingX:4,children:(0,b.jsx)(T.xv,{color:"gray",size:"md",children:t._("Name","Profile header - board name","Profile header - board name")})}),(0,b.jsx)(T.xu,{alignItems:"center",column:3,display:"flex",paddingX:4,children:(0,b.jsx)(T.xv,{color:"gray",size:"md",children:e||""})})]})})}var F=n(728909);const U=e=>e.boards.content;var Z=n(613321);function G({boardIds:e,layout:t,onBoardArchiveChange:n,onBoardDelete:r,showCreatorProfile:a}){const s=(0,h.ZP)(),l=(0,i.useRef)(null),d=(0,o.useSelector)(U);if(!e.length)return null;const c=(0,Z.my)(t);return(0,b.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F6F6F6"}},paddingY:4,ref:l,children:["list"===t&&(0,b.jsx)(B,{headerLabel:s._("Archived on","Profile board list view heading label","Profile board list view heading label")}),(0,b.jsx)(F.Z,{itemWidth:c,children:e.map((e=>d[e])).filter(Boolean).map(((e,i)=>(0,b.jsx)(M,{containerWidth:c,inListView:"list"===t,children:(0,b.jsx)(k.Z,{board:e,isOwnProfile:!0,layout:t,onBoardArchiveChange:n,onBoardDelete:r,slotIndex:i})},e.id)))})]})}var H=n(702925);const z=(e,t)=>{switch(e){case"protected":return t._("Protected boards");case"secret":return t._("Secret boards");case"archived":return t._("Archived boards","title for archived boards section on a profile","title for archived boards section on a profile");default:return""}},V=e=>"archived"===e?"remove":"protected"===e?"protect":"lock",W=(e,t)=>{switch(e){case"protected":return t._("Protected boards are not shown on your profile page publicly but anyone with the URL can view them.");case"secret":return t._("Only you and people you invite can see these boards. ");case"archived":return t._("These are hidden from your profile.","subtitle for archived boards section on a profile","subtitle for archived boards section on a profile");default:return""}};function Y({type:e}){const t=(0,h.ZP)();return(0,b.jsx)(T.W2,{children:(0,b.jsxs)(T.xu,{paddingY:6,paddingX:3,children:[(0,b.jsxs)(T.xv,{size:"md",weight:"bold",children:[z(e,t)," ",(0,b.jsx)(T.JO,{accessibilityLabel:"",color:"darkGray",icon:V(e),inline:!0,size:12})]}),(0,b.jsx)(T.xv,{inline:!0,size:"md",children:W(e,t)}),"secret"===e&&(0,b.jsx)(T.xv,{inline:!0,size:"md",weight:"bold",children:(0,b.jsx)(T.rU,{href:H.Z.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,inline:!0,children:t._("Learn more")})})]})})}const K={borderColor:"white",WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function q({index:e,isHovering:t,onImageLoad:n,pinImageObject:{images:i}}){var o,r,a;return(0,b.jsx)(T.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:0-e,marginInlineEnd:"-89px"}},children:(0,b.jsx)(T.xu,{position:"relative",height:157,width:118,color:"white",borderStyle:"sm",overflow:"hidden",rounding:4,dangerouslySetInlineStyle:{__style:K},children:(0,b.jsx)(T.zd,{height:"100%",width:"100%",wash:t,children:i?(0,b.jsx)(T.Ee,{alt:"",src:null!==(o=i["236x"].url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(r=i["236x"].height)&&void 0!==r?r:1,naturalWidth:null!==(a=i["236x"].width)&&void 0!==a?a:1,onLoad:n}):(0,b.jsx)(T.xu,{height:"100%",width:"100%",color:"lightGray"})})})})}var $=n(624765),X=n(658726),J=n(383722),Q=n(226806);function ee({boardOrder:e,allPinsStory:{objects:t}}){var n;const o=(0,h.ZP)(),r=(0,X.Z)(),a=(0,Q.EV)(),s=(0,m.Z)(),{anyEnabled:d}=(0,f.aq)("web_profile_unification_pwt"),c=[...t];for(;c.length<5;)c.push({images:null});const[u,p]=(0,i.useState)(Array.from({length:5},(()=>!1))),[_,x]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1);(0,i.useEffect)((()=>{u.includes(!1)||y||!a||(a.addAnnotation("allPinsCard.imagesLoaded"),v(!0))}),[y,u,a]);const E=(0,J.Z)();if(!E||!E.isLoaded||!E.data)return null;const w=E.data,I=(0,l.Z)({user:w,viewer:s}),C=e&&"last_pinned_to"===e&&w.last_pin_save_time?r(w.last_pin_save_time,!0):"",S=`/${w.username}/pins/`;return(0,b.jsx)(T.xu,{"data-test-id":d?L.Kb:void 0,padding:2,children:(0,b.jsxs)(T.iP,{role:"link",href:S,onMouseEnter:()=>{x(!0)},onMouseLeave:()=>{x(!1)},onTap:()=>{(0,g.j)(101,{component:13676,objectId:w.id,view:4,viewParameter:I?3106:3107})},children:[(0,b.jsx)(T.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:c.map(((e,t)=>(0,b.jsx)(q,{index:t,isHovering:_,onImageLoad:()=>{(e=>{const t=[...u];t.splice(e,1,!0),p(t)})(t)},pinImageObject:e},t)))}),(0,b.jsx)(T.xu,{alignItems:"start",display:"flex",padding:2,children:(0,b.jsxs)(T.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,b.jsx)(T.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:o._("All Pins","allPinsCard.heading","Label for component leading to a page that shows all Pins of a user")}),(0,b.jsxs)(T.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,b.jsx)($.Z,{pinCount:null!==(n=w.pin_count)&&void 0!==n?n:0}),(0,b.jsx)(T.xu,{marginStart:2,children:(0,b.jsx)(T.xv,{color:"gray",size:"sm",lineClamp:1,children:C})})]})]})})]})})}var te=n(756169),ne=n(946753);function ie({boardName:e,collaboratorCount:t}){const n=(0,h.ZP)(),i=(0,b.jsx)(T.xv,{inline:!0,weight:"bold",children:e},"board_name");return(0,b.jsx)(T.xv,{children:t?(0,ne.nk)(n._("When you delete {{ boardName }}, you'll lose {{ n_collaborators }} and all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:i,n_collaborators:(0,b.jsx)(T.xv,{inline:!0,weight:"bold",children:(0,ne.nk)(n.ngettext("{{ count }} collaborator","{{ count }} collaborators",t,"label for n board collaborator(s)","label for n board collaborator(s)"),{count:(0,b.jsx)(te.Z,{value:t})})},"collaborator_count")}):(0,ne.nk)(n._("When you delete {{ boardName }}, you'll lose all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:i})})}function oe({board:{name:e="",is_collaborative:t}}){const n=(0,h.ZP)(),i=t?n._("your {{ boardName }} group board"):n._("your {{ boardName }} board");return(0,b.jsx)(T.xv,{inline:!0,children:(0,ne.nk)(i,{boardName:(0,b.jsx)(T.xv,{inline:!0,weight:"bold",children:e},`board_${e}`)})},`yourboard_${e}`)}function re({sourceBoard:e,targetBoard:t}){var n;const i=(0,h.ZP)();return(0,b.jsxs)(T.xu,{children:[(0,b.jsx)(T.xu,{paddingY:2,children:(0,b.jsx)(T.xv,{children:(0,ne.nk)(i._("You're about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.","helper text for selecting merge target board","helper text for selecting merge target board"),{sourceBoardName:(0,b.jsx)(oe,{board:e},"sourceBoard"),targetBoardName:(0,b.jsx)(oe,{board:t},"targetBoard")})})}),(0,b.jsx)(T.xu,{paddingY:2,children:(0,b.jsx)(ie,{boardName:null!==(n=e.name)&&void 0!==n?n:"",collaboratorCount:e.collaborator_count})})]})}var ae=n(451190);function se({onConfirm:e,onHide:t,sourceBoard:n,targetBoard:i}){const o=(0,h.ZP)();return(0,b.jsx)(ae.Z,{accessibilityModalLabel:o._("Confirm Board Merge","accessibility label for board merging confirmation modal","accessibility label for board merging confirmation modal"),onDismiss:t,heading:o._("Move Pins and delete board?","Modal heading for board merging confirmation modal","Modal heading for board merging confirmation modal"),role:"dialog",size:"md",footer:(0,b.jsxs)(T.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginStart:-2,marginEnd:-2,children:[(0,b.jsx)(T.xu,{paddingX:2,children:(0,b.jsx)(T.zx,{text:o._("Cancel","Cancel button in board merging confirmation modal","Cancel button in board merging confirmation modal"),onClick:t})}),(0,b.jsx)(T.xu,{paddingX:2,children:(0,b.jsx)(T.zx,{color:"red",text:o._("Move Pins and delete board","Confirm button in board merging confirmation modal","Confirm button in board merging confirmation modal"),onClick:()=>e(n,i)})})]}),children:(0,b.jsx)(T.xu,{padding:4,children:(0,b.jsx)(re,{sourceBoard:n,targetBoard:i})})})}var le=n(366787),de=n(627578),ce=n(195490);function ue({onHide:e}){const t=(0,h.ZP)();return(0,b.jsx)(ae.Z,{accessibilityModalLabel:t._("Board Merge Error Alert","accessibility label for board merging error alert","accessibility label for board merging error alert"),onDismiss:e,heading:t._("Oops!","Modal heading for board merging confirmation modal","Modal heading for board merging confirmation modal"),role:"alertdialog",size:"md",footer:(0,b.jsx)(T.xu,{children:(0,b.jsx)(T.zx,{fullWidth:!0,color:"red",text:t._("Got it","ok button in board merging error alert","ok button in board merging error alert"),onClick:e})}),children:(0,b.jsx)(T.xu,{padding:4,children:(0,b.jsx)(T.xv,{children:t._("You can't move this board because you didn't create it.","board merging error alert","board merging error alert")})})})}function he({onConfirm:e,onHide:t}){const n=(0,h.ZP)();return(0,b.jsx)(ae.Z,{accessibilityModalLabel:n._("Warning about overwriting board order","Accessible label for the board order overwrite modal","Accessible label for the board order overwrite modal"),onDismiss:t,heading:n._("Are you sure?","Heading for board order overwriting modal","Heading for board order overwriting modal"),role:"alertdialog",size:"md",footer:(0,b.jsxs)(T.xu,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[(0,b.jsx)(T.xu,{padding:1,children:(0,b.jsx)(T.zx,{fullWidth:!0,size:"lg",text:n._("Cancel","Button text for canceling board re-ordering","Button text for canceling board re-ordering"),onClick:t})}),(0,b.jsx)(T.xu,{padding:1,children:(0,b.jsx)(T.zx,{fullWidth:!0,size:"lg",color:"red",text:n._("Lose previous customization","Button text for confirming board re-ordering","Button text for confirming board re-ordering"),onClick:e})})]}),children:(0,b.jsx)(T.xu,{padding:4,children:(0,b.jsx)(T.xv,{children:(0,ne.nk)(n._("You’re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}"),{dragAndDrop:(0,b.jsx)(T.xv,{inline:!0,weight:"bold",children:n._("Drag and drop","Text for indicating drag and drop sort order","Text for indicating drag and drop sort order")},"dragDrop")})})})})}var pe=n(191182);class me extends i.Component{constructor(...e){var t,n,i;super(...e),i={board:null},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){var e;const{invite:t}=this.props,n={board_id:null===(e=t.board)||void 0===e?void 0:e.id,field_set_key:"profile_grid_item"};u.ZP.create("BoardResource",n).callGet().then((e=>{this.setState({board:e.resource_response.data})}),(e=>{throw e}))}render(){const{invite:e,layout:t,onDeclineRequest:n,slotIndex:i}=this.props,{board:o}=this.state;if(!o||!e)return null;const{image_cover_url:r,image_cover_hd_url:a}=o,s=(o||{}).images,l=r||a||"";return(0,b.jsx)(pe.Z,{board:o,canEdit:!1,images:s,invite:e,isOwnProfile:!1,layout:t,onDeclineRequest:n,onEditClick:e=>{},progress:null,slotIndex:i,subtitle:null,toastImageUrl:l})}}const ge=me;function fe(e){const{isOwnProfile:t,layout:n}=e,i=(0,m.Z)(),o=(0,p.Z)({name:"ContactRequestsResource",noCache:!0}),r=(0,p.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"},noCache:!0}),a=(0,Z.my)(n),s="list"===n,l=(r.data||[]).map((e=>({invited_user:e.invited_user,invited_by_user:e.invited_by_user,board:e.board}))),d=()=>{r.refresh()};let c=[];if(i.isAuth&&!i.isPartner){c=(o.data||[]).filter((e=>!!e.board&&!!e.created_at&&Date.now()-new Date(e.created_at)<2592e6)).map((e=>({invited_user:e.recipient,invited_by_user:e.sender,board:e.board})))}const u=[...l,...c].slice(0,5);return t&&!s&&u.length>0?u.map(((e,t)=>{var i;return(0,b.jsx)(M,{containerWidth:a,inListView:s,children:(0,b.jsx)(ge,{invite:e,layout:n,onDeclineRequest:d,slotIndex:t})},`invite-card-wrapper-${String(null===(i=e.board)||void 0===i?void 0:i.id)}`)})):null}var _e=n(386004),xe=n(881219),ye=n(613330);var be=n(975151),ve=n(118558),Ee=n(312827);var we=n(585967);function Ie({shoppingListStory:{objects:e,id:t,title:n}}){const o=(0,h.ZP)(),{showShoppingListIconEducation:r}=function(){const{experienceForPlacement:e}=(0,Ee.Z)(19);return{showShoppingListIconEducation:503246===(null==e?void 0:e.experience_id)}}(),a=(0,i.useRef)(),[s,l]=(0,i.useState)(r),d=(0,m.Z)(),c=d.isAuth?d.username:"";(0,i.useEffect)((()=>{const e={story_type:"wishlist_shop_your_products_story",story_id:t};(0,g.j)(170,{...e,component:13811,view:4})}),[t]);const u=[...e];for(;u.length<5;)u.push({images:null});const{isRTL:p}=(0,we.B)();return(0,b.jsxs)(T.xu,{padding:2,position:"relative",children:[s&&(0,b.jsx)(T.mh,{zIndex:new T.Ry(10),children:(0,b.jsx)(T.J2,{anchor:a.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>l(!1),positionRelativeToAnchor:!1,size:"xs",children:(0,b.jsx)(T.xu,{padding:4,children:(0,b.jsx)(T.xv,{color:"white",align:"center",children:o._("Shop all your saved products in one place","Profile.User.Button.Icon.ShoppingList.Tooltip","Tooltip explaining shopping list functionality on user own profile")})})})}),(0,b.jsx)(T.iP,{role:"link",href:`/${c}/_shopping_list/`,onTap:()=>{const e={story_type:"wishlist_shop_your_products_story",story_id:t};(0,g.j)(102,{...e,component:13811,view:4})},children:(0,b.jsx)(be.Z,{children:({active:e,focused:t,hovered:i,onMouseEnter:r,onMouseLeave:a,onFocus:s})=>(0,b.jsxs)(T.xu,{onFocus:s,onMouseEnter:r,onMouseLeave:a,children:[(0,b.jsxs)(T.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:[u.map(((n,o)=>(0,b.jsx)(q,{index:o,isHovering:e||i||t,pinImageObject:n},o))),(0,b.jsx)(T.xu,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!p,marginStart:4,marginTop:4,position:"absolute",right:p,rounding:"circle",top:!0,width:32,children:(0,b.jsx)(ve.Z,{})})]}),(0,b.jsx)(T.xu,{alignItems:"start",display:"flex",padding:2,children:(0,b.jsxs)(T.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,b.jsx)(T.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:n.format}),(0,b.jsx)(T.xu,{alignItems:"center",display:"flex",marginTop:1,children:(0,b.jsx)(T.xv,{size:"sm",children:o._("All saved products","shoppingListCard.Subtitle.Text","Subtitle for shopping list entrypoint card on user profile")})})]})})]})})})]})}var Ce=n(194620),Te=n(367599),Se=n(442279),Pe=n(164756),je=n(297633),Ae=n(470848),De=n(708206);function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe=-1;class Ne extends i.PureComponent{constructor(...e){super(...e),Re(this,"state",{activeModal:null,boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Oe,sourceIndex:Oe,targetIndex:Oe}),Re(this,"firstBoardRef",(0,i.createRef)()),Re(this,"container",(0,i.createRef)()),Re(this,"cancelHoverTimeout",(()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null})),Re(this,"dragHoverTimeout",null),Re(this,"isDragging",(()=>this.state.sourceIndex!==Oe)),Re(this,"handleBoardCardDragBegin",(e=>this.setState({previewIndex:e,sourceIndex:e}))),Re(this,"handleBoardCardDragHover",((e,t)=>{if(!t)return;const{boardIds:n,previewIndex:i}=this.state;if(!this.allowDragging)return;const o=this.allowDragging?(0,Ae.TI)({hoverRelativePosition:t,centerEnabled:e!==i}):"center",r={itemIndex:e,regionWithinItem:o};if(this.dragHoverTimeout&&(0,Ae.Lz)(r,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const a="center"===o?"merge":"reorder",s=(0,Ae.X3)({hoverLocation:r,sourceIndex:i});s!==i?this.dragHoverTimeout={hoverLocation:r,timeoutId:setTimeout((()=>{this.dragHoverTimeout=null,this.setState({dropAction:a,targetIndex:s,..."reorder"===a?{previewIndex:s,boardIds:(0,ye.zX)(n,i,s)}:{}})}),"reorder"===a?200:20)}:s!==this.state.targetIndex&&this.setState({targetIndex:s})})),Re(this,"handleCloseModal",(()=>this.setState({activeModal:null}))),Re(this,"handleBoardCardDragEnd",(e=>{const{boardIds:t,boardMap:n,boardOrder:i,dispatch:o,onBoardReorder:r,viewer:a}=this.props,{boardIds:s,dropAction:l,previewIndex:d,sourceIndex:c,targetIndex:h}=this.state;if(this.cancelHoverTimeout(),this.setState({boardIds:t,previewIndex:Oe,sourceIndex:Oe,targetIndex:Oe}),e&&c!==Oe&&h!==Oe&&c!==h)if("custom"!==i&&this.setState({activeModal:(0,b.jsx)(he,{onConfirm:this.handleOverwriteBoardOrder,onHide:this.handleCloseModal})}),"merge"===l){const e=e=>{const t=s[e];return t&&n[t]},t=e(d),i=e(h);if(t&&i){if(t.collaborated_by_me)return void this.setState({activeModal:(0,b.jsx)(ue,{onHide:this.handleCloseModal})});this.setState({activeModal:(0,b.jsx)(se,{onConfirm:()=>this.handleMergeBoards(t,i),onHide:this.handleCloseModal,sourceBoard:t,targetBoard:i})})}}else if(h<s.length&&c<s.length&&"custom"===i){o(function({boardIds:e,sourceIndex:t,targetIndex:n,username:i}){return o=>{if(!i)return;o((0,_e.Z)({feedType:"profileBoards",feedId:(0,xe.OV)(i,"custom"),itemType:"board",sourceItemId:e[t],targetItemId:e[n]}));const r=(0,ye.zX)(e,t,n);u.ZP.create("BoardsReorderResource",{board_ids:r}).callUpdate({showError:!1})}}({boardIds:t,sourceIndex:c,targetIndex:h,username:a.isAuth?a.username:null})),r&&r()}})),Re(this,"handleOverwriteBoardOrder",(()=>{const{dispatch:e}=this.props;e((0,y.gh)("custom")),u.ZP.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),this.handleCloseModal()})),Re(this,"handleMergeBoards",((e,t)=>{const{dispatch:n,showBlockingActionToast:i,onBoardDelete:o}=this.props;(0,g.j)(7172,{objectId:e.id,merge_flow:"dnd"}),n((0,Pe.xH)(e.id,t.id)).then((()=>i({actionType:"merge",board:t}))).catch((e=>{de.Z.showError(e.message||this.props.i18n._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))})),o(e.id),this.handleCloseModal()})),Re(this,"renderBoards",(()=>{var e,t;const{allPinsStory:n,boardOrder:o,boardMap:r,boardVisibility:a,viewer:s,isOwnProfile:l,isDragWithinBounds:d,layout:c,onBoardArchiveChange:u,onBoardDelete:h,onBoardPrivacyChange:p,onBoardUpdate:m,onBoardLeave:g,shoppingListStory:f,allowShoppingControls:_}=this.props,{activeModal:x,boardIds:y}=this.state,v=(0,Z.my)(c),E="list"===c,w=!n||!_||(null===(e=a.data)||void 0===e?void 0:e.show_all_pins),I=!f||!_||(null===(t=a.data)||void 0===t?void 0:t.eligible_for_wishlist)&&a.data.show_shopping_list;return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)(F.Z,{...E?{}:{itemWidth:v},maxColumns:E?0:12,children:[w&&n&&(0,b.jsx)(ee,{boardOrder:o,allPinsStory:n}),I&&f&&!s.isLimitedLogin&&(0,b.jsx)(Ie,{shoppingListStory:f}),!s.isLimitedLogin&&(0,b.jsx)(fe,{isOwnProfile:l,layout:c}),y.map((e=>r[e])).filter(Boolean).map(((e,t)=>{const n=(0,b.jsx)(k.Z,{board:e,boardOrder:o,forwardedRef:0===t?this.firstBoardRef:void 0,isOwnProfile:l,isReordering:this.isDragging(),layout:c,onBoardArchiveChange:u,onBoardDelete:()=>h(e.id),onBoardLeave:g,onBoardPrivacyChange:p,onBoardUpdate:m,slotIndex:t});return(0,b.jsx)(M,{containerWidth:v,inListView:E,semiTransparent:this.isDragging()&&!d,children:this.allowDragging?(0,b.jsx)(je.Z,{index:t,onDragBegin:this.handleBoardCardDragBegin,onDragEnd:this.handleBoardCardDragEnd,onDragHover:this.handleBoardCardDragHover,type:je.y.Board,children:n}):n},`main-card-wrapper-${e.id}`)}))]}),(0,b.jsx)(ce.Z,{anchors:{3008:this.firstBoardRef.current},placementId:19,positionRelativeToAnchor:!1}),x]})}))}componentDidUpdate(e){e.boardIds.join(",")!==this.props.boardIds.join(",")&&this.setState({boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Oe,sourceIndex:Oe,targetIndex:Oe})}componentWillUnmount(){this.cancelHoverTimeout()}get allowDragging(){const{isOwnProfile:e,isOverview:t}=this.props;return e&&!t}render(){const{connectDropTarget:e,boardOrder:t,layout:n}=this.props;return(0,b.jsxs)(T.xu,{ref:this.container,children:["list"===n&&(0,b.jsx)(B,{headerLabel:["newest","oldest"].includes(t)?this.props.i18n._("Created on","Profile board list view heading label","Profile board list view heading label"):this.props.i18n._("Last saved to","Profile board list view heading label","Profile board list view heading label")}),this.allowDragging&&e?(0,b.jsxs)(i.Fragment,{children:[e((0,b.jsx)("div",{children:this.renderBoards()})),this.isDragging()&&(0,b.jsx)(le.Z,{})]}):this.renderBoards()]})}}const ke=(0,De.compose)((0,Ce.Z)(je.y.Board),Te.ZP,(0,o.connect)((0,Se.zB)({boardMap:U}),(e=>({dispatch:e}))))((function(e){const t=(0,h.ZP)(),n=(0,m.Z)(),i=(0,p.Z)({name:"UserResource",options:{user_id:n.isAuth?n.id:"",field_set_key:"board_visibility"}}),{anyEnabled:o}=(0,f.tc)("web_shopping_list_controls")({dangerouslySkipActivation:!0});return(0,b.jsx)(Ne,{...e,boardVisibility:i,i18n:t,allowShoppingControls:o,viewer:n})}));function Le({allPinsStory:e,boardIds:t,boardOrder:n,group:i,isOverview:o,isOwnProfile:r,isPartner:a,onBoardChange:s,onBoardGroupChange:l,profileBoardView:d,showCreatorProfile:c,shoppingListStory:u}){if("archived"===i)return(0,b.jsx)(G,{boardIds:t,layout:d,onBoardArchiveChange:l,onBoardDelete:s,showCreatorProfile:c});const h=(0,b.jsx)(ke,{allPinsStory:e,boardIds:t,boardOrder:n,isOverview:o,isOwnProfile:r,layout:d,onBoardArchiveChange:l,onBoardDelete:s,onBoardLeave:e=>l(),onBoardPrivacyChange:l,onBoardReorder:s,onBoardUpdate:s,showCreatorProfile:c,shoppingListStory:u});return"unlabeled"===i?h:(0,b.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},marginBottom:6,marginTop:6,overflow:"hidden",children:[(0,b.jsx)(Y,{type:i}),h]})}var Me=n(997734);function Be({fetchMore:e,isAtEnd:t,isFetching:n}){return(0,b.jsx)(T.gr,{fetchMore:e,isAtEnd:t,isFetching:n})}var Fe=n(755908),Ue=n(164485),Ze=n(767523),Ge=n(269307),He=n(159276),ze=n(273341),Ve=n(301314);function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye({isAtEndOfFeed:e}){return(0,Ue.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class Ke extends i.PureComponent{constructor(...e){super(...e),We(this,"state",{boardsResourceAnnotationAdded:!1}),We(this,"container",null),We(this,"feedIsStale",!1),We(this,"handleBoardChanged",(()=>{this.feedIsStale=!0})),We(this,"handleBoardGroupChange",(()=>this.props.boardsResource.refresh()))}componentDidUpdate(e){const{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){const{boardsResource:n,pwtSurfaceContext:i}=e,{boardsResourceAnnotationAdded:o}=t;return n.isLoaded&&i&&!o?(i.addAnnotation("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){const{invalidateFeeds:e}=this.props;this.feedIsStale&&e()}renderAllBoardsGroups(e){const{boardOrder:t,boardlessPinsNormalized:n,boardsResource:i,filterStories:o,isOwnProfile:r,isOverview:a,mixPublicSecret:s,profileBoardView:l,user:d}=this.props,{is_partner:c,show_creator_profile:u}=d,h=!o&&i.data&&i.data.length>0&&"all_pins"===i.data[0].story_type?i.data[0]:null,p=!o&&i.data?i.data.find((e=>"wishlist_shop_your_products_story"===e.story_type?e:null)):null,m=h&&1===(i.data||[]).length;if((i.data||[]).length>0&&0===e.length&&!m)return(0,b.jsx)(T.xu,{padding:6,children:(0,b.jsx)(T.$j,{accessibilityLabel:this.props.i18n._("Boards","profileBoards.spinner","List of boards on the users profile page"),show:!0})});if(0===e.length&&!m&&(n||[]).length<1)return(0,b.jsx)(Me.Z,{fullName:d.full_name,isOwnProfile:r,isPartnerProfile:c});const g=function(e,t){return e.reduce(((e,{id:n,profileGroup:i})=>{let o;return o="public"===i||t&&"secret"===i?{unlabeled:e.unlabeled.concat([n])}:{[i]:e[i].concat([n])},{...e,...o}}),{unlabeled:[],protected:[],secret:[],archived:[]})}(e,s),f=["protected","secret","archived"].filter((e=>g[e].length>0)),_=o?l:"square";return(n||[]).length>0&&m?null:(0,b.jsx)(T.xu,{marginTop:"list"===l?6:-2,overflow:"hidden",children:["unlabeled"].concat(r&&!a?f:[]).map((e=>(0,b.jsx)(Le,{allPinsStory:"unlabeled"===e&&"story"===(null==h?void 0:h.type)?h:null,boardIds:g[e],boardOrder:t,group:e,isOverview:!!a,isOwnProfile:r,isPartner:!!c,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,profileBoardView:_,showCreatorProfile:!!u,shoppingListStory:"unlabeled"===e&&"story"===(null==p?void 0:p.type)?p:null},e)))})}render(){const{boardKeys:e,isBoardlessProfileEnabled:t,isOwnProfile:n,isOverview:i,boardlessPinsNormalized:o,boardlessPinsResource:r,boardsResource:a,user:s}=this.props,{data:l,isFetching:d,isLoaded:c,isAtEnd:u,fetchMore:h}=a,{isLoaded:p,isAtEnd:m}=r||{},g=!!l&&l.length>0&&"all_pins"===l[0].story_type,f=!!l&&(g&&l.length>1||!g&&l.length>0),_=t?p&&c:c,x=t?m&&u:u;return(0,b.jsx)(Fe.Z,{component:209,view:4,viewParameter:n?3106:3107,children:(0,b.jsxs)(T.xu,{ref:e=>{this.container=e},children:[c&&this.renderAllBoardsGroups(i?e.slice(0,6):e),(0,b.jsx)(T.xu,{padding:d?6:0,children:(0,b.jsx)(T.$j,{accessibilityLabel:this.props.i18n._("Boards","List of boards on the users profile page","List of boards on the users profile page"),show:d})}),c&&!i&&(0,b.jsx)(Be,{fetchMore:h,isAtEnd:u,isFetching:d}),_&&(0,b.jsx)(Ye,{isAtEndOfFeed:x}),(o||[]).length>0&&(null==r?void 0:r.data)&&(0,b.jsx)(N,{boardlessPinsNormalized:o,boardlessPinsResource:r,hasBoards:f,isOwnProfile:n,userId:s.id})]})})}}We(Ke,"defaultProps",{boardKeys:[]});const qe=(0,o.connect)((0,Se.P1)([xe.M0,e=>e.boards.deleting,xe.$k],((e,t,n)=>({boardKeys:(e||[]).reduce(((e,n)=>e.concat("board"===n.type&&n.onProfile&&!((e,t)=>e[t]&&(e[t].success||e[t].deleting))(t,n.id)?[n]:[])),[]),profileBoardView:n}))),(()=>({})))((function(e){const t=(0,h.ZP)(),{id:n}=e.user,i=(0,m.Z)(),r=i.isAuth?i.username:"",a=(0,Ze.Z)(),s=(0,He.lJ)(i,a),{showEnabledSaveBehavior:l}=(0,Ge.ZP)(n),d=(0,p.Z)({name:ze.OJ.name,options:ze.OJ.options(e,s)}),c=(0,p.Z)({name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:n},dangerouslyDisableFetch:!l}),u=(0,o.useSelector)((({feeds:e})=>e.boardlessPins[n])),g=(0,o.useDispatch)();return(0,b.jsx)(Ke,{...e,boardlessPinsNormalized:u,boardlessPinsResource:c,boardsResource:d,i18n:t,invalidateFeeds:()=>g((0,Pe.K8)(r)),invalidatePinBetterSaveResource:()=>g((0,Ve.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),isBoardlessProfileEnabled:l,pwtSurfaceContext:(0,Q.EV)(),requestContext:(0,we.B)()})})),$e={ALL_PINS_VISIBILITY_SWITCH:12787,SHOPPING_LIST_VISIBILITY_SWITCH:12788};function Xe({setVisibilityControlsModalOpen:e}){const t=(0,h.ZP)(),n=(0,we.B)(),o=(0,m.Z)(),{data:r,isFetching:a,refresh:s}=(0,p.Z)({name:"UserResource",options:{user_id:o.isAuth?o.id:"",field_set_key:"board_visibility"}}),{show_all_pins:l=!1,show_shopping_list:d=!1,eligible_for_wishlist:c=!1}=r||{},[f,_]=(0,i.useState)(!1),[x,y]=(0,i.useState)(!1);(0,i.useEffect)((()=>_(l)),[l]),(0,i.useEffect)((()=>y(d)),[d]);const v=async(e,t,n,i)=>{(0,g.j)(101,{view:4,viewParameter:3689,element:$e[i]}),n(e),await u.ZP.create("UserSettingsResource",{[t]:e}).callUpdate(),await s()},E=n.isRTL,w=(0,b.jsx)(T.hU,{accessibilityLabel:t._("Close","profileBoardsPage.visibilityControlsModal.close","Accessibility string that describes the close icon button to close the modal that controls board visibility on profile"),icon:"cancel",iconColor:"darkGray",onClick:()=>e(!1)});return(0,i.useEffect)((()=>{(0,g.j)(13,{view:4,viewParameter:3689})}),[]),(0,b.jsx)(ae.Z,{heading:(0,b.jsx)(T.xu,{padding:8,children:(0,b.jsxs)(T.kC,{alignItems:"center",children:[E&&w,(0,b.jsx)(T.kC.Item,{flex:"grow",children:(0,b.jsx)(T.X6,{align:"center",size:"md",children:t._("Manage visibility","profileBoardsPage.visibilityControlsModal.heading","Title on the modal to control board visibility on profile")})}),!E&&w]})}),accessibilityModalLabel:t._("Edit board visibility","profileBoardsPage.visibilityControlsModal.accessibilityModalLabel","Accessibility string that describes the modal to control board visibility on profile"),onDismiss:()=>e(!1),children:(0,b.jsxs)(T.xu,{paddingX:8,marginBottom:8,children:[(0,b.jsx)(T.__,{htmlFor:"show_all_pins",children:(0,b.jsx)(T.X6,{accessibilityLevel:3,size:"sm",children:t._("Show All Pins","profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.label","Title of the switch to control all pins board visibility on profile")})}),(0,b.jsxs)(T.xu,{display:"flex",marginTop:1,marginBottom:8,children:[(0,b.jsx)(T.xu,{marginEnd:2,children:(0,b.jsx)(T.xv,{color:"gray",children:t._("All Pins will be publicly visible to you and others when viewing your profile","profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.explanation","Describes the switch to control all pins board visibility on profile")})}),(0,b.jsx)(T.rs,{id:"show_all_pins",switched:f,disabled:a,onChange:({value:e})=>{v(e,"show_all_pins",_,"ALL_PINS_VISIBILITY_SWITCH")}})]}),c&&(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(T.__,{htmlFor:"show_shopping_list",children:(0,b.jsx)(T.X6,{accessibilityLevel:3,size:"sm",children:t._("Show Your shopping list","profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.label","Title of the switch to control shopping list board visibility on profile")})}),(0,b.jsxs)(T.xu,{display:"flex",marginTop:1,children:[(0,b.jsx)(T.xu,{marginEnd:2,children:(0,b.jsx)(T.xv,{color:"gray",children:t._("Your shopping list will only be visible to you when viewing your own profile","profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.explanation","Describes the switch to control shopping list board visibility on profile")})}),(0,b.jsx)(T.rs,{id:"show_shopping_list",switched:x,disabled:a,onChange:({value:e})=>{v(e,"show_shopping_list",y,"SHOPPING_LIST_VISIBILITY_SWITCH")}})]})]})]})})}var Je=n(343283),Qe=n(872571),et=n(841317),tt=n(855168),nt=n(998864);function it({currentTab:e,isORBACProfileManager:t}){const n=(0,h.ZP)(),[r,a]=(0,i.useState)(!1),s=(0,tt.k6)(),l=(0,o.useDispatch)(),d=(0,nt.Z)({shouldStopEventPropagation:!1}),c=d((()=>{a(!0)})),u=d((e=>{l((0,Ve.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),s.push({pathname:e.url,state:{newBoard:!0}})})),p=d((()=>{s.push("/pin-builder/")})),m=d((()=>{s.push("/idea-pin-builder/")}));return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(Qe.Z,{onCreateBoard:c,onCreatePin:p,onCreateStoryPin:t?null:m,surface:e===x.u.PINS?"profilePins":"profileBoards",children:({active:t,openFlyout:i})=>(0,b.jsx)(Je.Z,{accessibilityLabel:e===x.u.PINS?n._("Create a Pin","profileHeader.actionBar.createButtonPin","Accessibility label for button to open Create menu"):n._("Create a Pin or a board","profileHeader.actionBar.createButton","Accessibility label for button to open Create menu"),icon:"add",onClick:i,selected:t})}),r&&(0,b.jsx)(et.Z,{onBoardCreate:u,onClose:()=>a(!1)})]})}function ot({username:e}){const t=(0,we.B)(),n=(0,m.Z)(),a=(0,Ze.Z)(),d=(0,i.useRef)(null),[,c]=(0,i.useState)(!1);(0,i.useLayoutEffect)((()=>{c(!0)}),[]);const{anyEnabled:u}=(0,f.tc)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),[h,g]=(0,i.useState)(!1),_=(0,o.useSelector)((({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.updatedBoardOrder})),{data:y}=(0,J.Z)(),{data:v}=(0,p.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!y||!v)return null;const{most_recent_board_sort_order:E}=v,{has_custom_board_sorting_order:I=!1}=y,C=(0,l.Z)({user:y,viewer:n}),S=(0,He.q6)(n,y.id,a),P=s({hasCustomOrder:I,hasGroupBoard:void 0!==n.groupBoardCount&&n.groupBoardCount>0,isOwnProfile:C,mostRecentBoardSortOrder:E||void 0,updatedBoardOrder:_,requestContext:t});return(0,b.jsxs)(T.kC,{direction:"column",gap:2,children:[(0,b.jsx)(T.xu,{paddingX:4,children:(0,b.jsxs)(T.kC,{justifyContent:"between",children:[C&&(0,b.jsx)(T.xu,{ref:d,children:(0,b.jsx)(w,{currentTab:x.u.SAVED,user:y,setVisibilityControlsModalOpen:g})}),(C||S)&&(0,b.jsx)(it,{currentTab:x.u.SAVED,isORBACProfileManager:S})]})}),(0,b.jsx)(qe,{boardOrder:P,filterStories:!1,isOwnProfile:C,mixPublicSecret:C||S,user:y,username:y.username}),h&&(0,b.jsx)(Xe,{setVisibilityControlsModalOpen:g}),u&&(0,b.jsx)(r.Z,{anchor:d.current,placementId:19,experienceIds:[504098],idealDirection:"down",showCaret:!0,textAlign:"center",textWeight:"normal",onClickComplete:()=>g(!0)})]})}var rt=n(678664);function at(){const{data:e}=(0,J.Z)(),t=(0,tt.$B)();return(0,rt.Sq)(t.params.username,null==e?void 0:e.id,13669),(0,b.jsx)(ot,{username:t.params.username})}},257043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>We});var i=n(40142),o=n(667294),r=n(311866),a=n(881220),s=n(174523),l=n(366690),d=n(773432),c=n(702925),u=n(883119),h=n(785893);function p({onClick:e,text:t}){const{feedProfileId:n}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),o=n&&""!==n?`${c.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${n}/product-groups/create/`:c.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL,r=(0,d.Z)(o,{from:"storefront"});return(0,h.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(u.zx,{role:"link",href:r,rel:"none",onClick:e,size:"lg",text:t})})}var m=n(150361),g=n.n(m),f=n(451190),_=n(358873),x=n(159617),y=n(946753),b=n(549135),v=n(475446),E=n(231351);const w=new u.H3([new u.Ry(_.HW),new u.Ry(x.fe)]);function I({countries:e,feedProfiles:t,onDismiss:n,onSubmit:i,onUndo:l,settings:d,userId:c}){const p=(0,s.ZP)(),m=p._("Manage shop visibility","MerchantStorefront.ManageShopVisibilityModal.heading","Modal title"),_=p._("People on Pinterest in the selected regions/languages below can see your shop tab. These regions and languages are based on your active catalog feeds. To hide your shop in any region/language, deselect it and save your changes. ","MerchantStorefront.ManageShopVisibilityModal.subHeading","Modal subtitle"),x=p._("Cancel","MerchantStorefront.ManageShopVisibilityModal.cancel","Confirmation option"),{showOneToast:I}=(0,v.F9)(),[C,T]=(0,o.useState)(g()(d)),[S,P]=(0,o.useState)(!1),j=[...t].sort(((t,n)=>{const i=(0,E.LT)(e,(0,E.u3)(t)),o=(0,E.LT)(e,(0,E.u3)(n));return i.localeCompare(o)})),A=t.map(E.u3),D=(0,E.Q1)(d,t),R=(0,E.Q1)(C,t),O=R.map((t=>(0,E.LT)(e,t)));O.sort();const N=D.length!==R.length||R.reduce(((e,t)=>e||!D.includes(t)),!1);(0,o.useEffect)((()=>{(0,b.j)(9858,{component:13999})}),[]);const k=(0,y.Wc)(p.ngettext("Hide shop in {{count}} region/language?","Hide shop in {{count}} regions/languages?",R.length,"MerchantStorefront.ManageShopVisibilityModal.confirmHeading","Header to confirm hiding"),{count:R.length.toString()}),L=1===R.length?(0,y.Wc)(p._("Hide shop in {{country}}?","MerchantStorefront.ManageShopVisibilityModal.confirmHeadingCountry","Header to confirm hiding"),{country:(0,E.LT)(e,R[0])}):"",M=R.length>1?k:L,B=()=>{n(),(0,b.j)(9860,{component:13999})},F=()=>{n(),r.ZP.create("ApiResource",{url:`/v3/business/users/${c}/storefront/settings/`,data:{settings:JSON.stringify(C)}}).callUpdate().then((()=>{i(),(0,b.j)(9859,{component:13999}),I((({onHide:e})=>(0,h.jsx)("div",{className:"ShopVisibleToast",children:(0,h.jsx)(a.Z,{duration:E.QE,onHide:e,text:(0,h.jsx)(o.Fragment,{children:(0,h.jsxs)(u.xv,{children:[0===R.length&&p._("Shop visible in all regions/languages","MerchantStorefront.ManageShopVisibilityModal.visibleEverywhere","toast text"),R.length>0&&R.length<A.length&&(0,y.Wc)(p.ngettext("Shop hidden in {{count}} region/language","Shop hidden in {{count}} regions/languages",R.length,"MerchantStorefront.ManageShopVisibilityModal.hiddenSomewhere","toast text"),{count:R.length.toString()}),R.length===A.length&&p._("Shop hidden in all regions/languages","MerchantStorefront.ManageShopVisibilityModal.hiddenEverywhere","toast text")]})}),button:(0,h.jsx)(u.zx,{text:p._("Undo","MerchantStorefront.ManageShopVisibilityModal.undoToast","Undo button in toast"),size:"lg",onClick:()=>{l(),e()}},"undo-button")})})))}))},U=R.length>1?(0,y.Wc)(p._("{{item1}} and {{item2}}","MerchantStorefront.ManageShopVisibilityModal.andItems","And joining two geographic locations"),{item1:O.slice(0,-1).join(", "),item2:O[O.length-1]}):O.join();return(0,h.jsx)(u.mh,{zIndex:w,children:S?(0,h.jsx)(f.Z,{accessibilityModalLabel:M,align:"center",heading:M,onDismiss:B,footer:(0,h.jsxs)(u.kC,{gap:2,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(u.zx,{color:"gray",text:x,onClick:()=>P(!1)}),(0,h.jsx)(u.zx,{color:"red",text:p._("Hide shop","MerchantStorefront.ManageShopVisibilityModal.hideShop","Confirmation option"),onClick:F})]}),size:"sm",children:(0,h.jsx)(u.xu,{paddingX:8,children:(0,h.jsx)(u.xv,{size:"lg",align:"center",children:(0,y.Wc)(p.ngettext("People in {{region}} won't see your shop tab. Hiding your shop in any region/language won't delete or edit your product feeds in Catalogs.","People in {{regions}} won't see your shop tab. Hiding your shop in any region/language won't delete or edit your product feeds in Catalogs.",R.length,"MerchantStorefront.ManageShopVisibilityModal.hiddenRegions","Message describing what regions the user is about to hide their store from"),{region:U,regions:U})})})}):(0,h.jsxs)(f.Z,{accessibilityModalLabel:m,align:"start",heading:m,onDismiss:B,footer:(0,h.jsxs)(u.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,h.jsx)(u.zx,{color:"gray",text:x,onClick:B}),(0,h.jsx)(u.zx,{color:"red",text:p._("Save","MerchantStorefront.ManageShopVisibilityModal.save","Confirmation option"),onClick:()=>{R.length>0?P(!0):F()},disabled:!N})]}),size:"sm",children:[(0,h.jsx)(u.xu,{paddingX:8,marginBottom:8,children:(0,h.jsx)(u.xv,{size:"lg",children:_})}),(0,h.jsx)(u.xu,{paddingX:8,children:j.map((t=>(0,h.jsx)(u.xu,{marginBottom:8,children:(0,h.jsx)(u.XZ,{checked:(0,E.c8)(C[(0,E.u3)(t)]),id:`country_language_${t.id||""}`,label:(0,E.LT)(e,(0,E.u3)(t)),name:"country_language",onChange:({checked:e})=>T({...C,[(0,E.u3)(t)]:{...C[(0,E.u3)(t)]||{},shop_visible:e}})})},t.id)))})]})})}var C=n(920573),T=n(602173),S=n(387021),P=n(767523),j=n(383722),A=n(535718),D=n(34411),R=n(903945),O=n(159276),N=n(694425),k=n(483319),L=n(181307);function M(e){const t=(0,A.Z)({name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,data:{include_last_successful_ingestion:!0}},dangerouslyDisableFetch:!e});return{feedProfilesResource:t,feedProfiles:(0,N.d9)(t.data||[]).filter((e=>e.country&&e.locale))}}function B(){const{merchantId:e,ownerUserId:t}=(0,S.Z)(),{countriesResource:n,countries:i}=function(){const e=(0,A.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:o,feedProfiles:r}=M(e),{storefrontSettingsResource:a,settings:s}=function(e){const t=(0,A.Z)({name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`},dangerouslyDisableFetch:!e});return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:i,feedProfiles:r,isLoaded:n.isLoaded&&o.isLoaded&&a.isLoaded,refresh:()=>{o.refresh(),a.refresh()},settings:s,userId:t}}function F(){const{merchantId:e}=(0,S.Z)(),{feedProfilesResource:t,feedProfiles:n}=M(e),{userSettingsResource:i,userSettings:o}=function(){const e=(0,A.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}();return{feedProfiles:n,isLoaded:t.isLoaded&&i.isLoaded,userSettings:o}}function U(){const{data:e}=(0,j.Z)(),t=(0,L.tc)("web_merchant_success_storefront_controls")().anyEnabled,n=(0,D.Z)(),i=(0,T.Z)({user:e,viewer:n}),o=(0,P.Z)();return{isMerchantStorefrontControlsEnabled:t,isORBACProfileManager:(0,O.q6)(n,null==e?void 0:e.id,o),ownProfile:i}}function Z(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t}=U();return e&&t}function G(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t,isORBACProfileManager:n}=U();return e&&(t||n)}function H(){const{feedProfiles:e,userSettings:t,isLoaded:n}=F(),{country:r,language:a}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),s=(0,i.useDispatch)();(0,o.useEffect)((()=>{if(n&&(!r||!a||!(0,E.Ee)(e,r,a))){const[n,r]=((0,R.qn)(k.E)||"").split("/"),{country:a,locale:d}=t,c=[...e].sort(((e,t)=>(0,E.gE)(t)-(0,E.gE)(e)))[0],u=(0,E.Ee)(e,n,r),h=(0,E.Ee)(e,a,(0,E.Md)(d)),p=u||h||c;p&&(i=p.country||"",o=(0,E.Md)(p.locale),l=p.id,s((0,C.d)(i,o,l||"")))}var i,o,l}))}const z=({language:e,country:t,hidden:n,productCount:i,onClick:r,selected:a})=>{const l=(0,s.ZP)(),[d,c]=(0,o.useState)(!1);return(0,h.jsx)(u.iP,{onTap:r,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:(0,h.jsxs)(u.xu,{alignItems:"center",color:d?"lightGray":void 0,display:"flex",justifyContent:"between",padding:2,position:"relative",rounding:2,children:[(0,h.jsxs)(u.xu,{children:[(0,h.jsx)(u.xv,{weight:a?"bold":"normal",overflow:"noWrap",children:(0,E.z1)(t,e)}),(0,h.jsx)(u.xv,{size:"md",color:"gray",children:(0,y.nk)(l.ngettext("{{productCount}} product","{{productCount}} products",i,"merchantStorefront.storefrontLocaleSelector.feedProfileOption.productCount","Shows how many products are in a merchant product feed"),{productCount:i})})]}),n&&(0,h.jsx)(u.xu,{color:"gray",rounding:1,dangerouslySetInlineStyle:{__style:{padding:"2px"}},marginStart:2,marginEnd:8,position:"absolute",right:!0,children:(0,h.jsx)(u.xv,{color:"white",size:"sm",weight:"bold",overflow:"noWrap",align:"forceRight",children:l._("Shop hidden","merchantStorefront.storefrontLocaleSelector.shopHidden","Shop hidden badge")})}),a&&(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.JO,{accessibilityLabel:l._("A checkmark indicating the currently selected locale on your merchant storefront","merchantStorefront.storefrontLocaleSelector.feedProfileOption.selectedIcon.accessibilityLabel","Accessibility label for the icon indicating the selected locale in a list"),icon:"check",color:"darkGray"})})]})})},V=()=>{const e=(0,s.ZP)(),t=(0,i.useDispatch)(),{country:n,language:r}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale));H();const[a,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),p=(0,o.useRef)(null),{countries:m,feedProfiles:g,isLoaded:f,settings:_,userId:x,refresh:v}=B(),[w,T]=(0,o.useState)(!1),S=()=>{T(!0),l(!1)};(0,o.useEffect)((()=>{a&&(0,b.j)(9853,{component:13997})}),[a]);const P=[...g].sort(((e,t)=>(0,E.z1)(m[e.country||""],e.locale).localeCompare((0,E.z1)(m[t.country||""],t.locale))));if(!(f&&n&&r&&g&&(0,E.Ee)(g,n,r)))return null;const j=P.reduce(((e,t)=>e||!(0,E.c8)(_[(0,E.u3)(t)])),!1);return(0,h.jsxs)(u.xu,{color:d?"lightGray":void 0,"data-test-id":"storefrontLocaleSelector",padding:4,rounding:6,ref:p,children:[(0,h.jsx)(u.iP,{accessibilityLabel:e._("Button to show a dropdown of locales you can select to show on your merchant storefront","merchantStorefront.storefrontLocaleSelector.button.accessibilityLabel","The accessibility label for the button the triggers a dropdown of selectable locales to view your storefront in"),onTap:()=>l(!a),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:(0,h.jsx)(u.xv,{color:"darkGray",overflow:"noWrap",children:(0,h.jsxs)(u.kC,{alignItems:"end",justifyContent:"start",children:[(0,y.nk)(e._("Viewing shop as: {{viewingStorefrontLocaleAsLabel}}","merchantStorefront.storefrontLocaleSelector.button.header","Header text telling the merchant in which country/language they are viewing the storefront currently"),{viewingStorefrontLocaleAsLabel:(0,h.jsx)(u.xu,{display:"inlineBlock",marginStart:1,children:(0,h.jsx)(u.xv,{weight:"bold",children:(0,E.z1)(m[n],r)})},"viewing-storefront-locale-as-label")}),(0,h.jsx)(u.xu,{marginStart:1,children:(0,h.jsx)(u.JO,{accessibilityLabel:e._("A downward arrow icon indicating this button will open a dropdown","merchantStorefront.storefrontLocaleSelector.button.icon.accessibiltyLabel","The accessibility label for downward arrow icon"),icon:"arrow-down",color:"darkGray"})})]})})}),a&&(0,h.jsx)(u.mh,{zIndex:new u.Ry(1),children:(0,h.jsx)(u.J2,{anchor:p.current,idealDirection:"down",onDismiss:()=>l(!1),size:j?"lg":"md",positionRelativeToAnchor:!1,children:(0,h.jsxs)(u.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:2,paddingX:2,children:[(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.xv,{size:"sm",children:(0,y.nk)(e._("Preview your shop in different regions / languages based on your active product feeds in Catalogs. {{manageShopVisibilityLink}}","merchantStorefront.storefrontLocaleSelector.popover.header","Popover header text describing what the storefront locale selector does"),{manageShopVisibilityLink:(0,h.jsx)(u.xv,{weight:"bold",size:"sm",inline:!0,children:(0,h.jsx)(u.xu,{display:"inlineBlock",children:(0,h.jsx)(u.iP,{accessibilityLabel:e._("Button to open a modal to adjust which locales to show your merchant storefront in","merchantStorefront.storefrontLocaleSelector.managedVisibility.accessibilityLabel","The accessibility label for the button to open a modal to adjust which locales to show your merchant storefront in"),onTap:S,children:e._("Manage shop visibility","merchantStorefront.storefrontLocaleSelector.managedVisibility.text","Link in popover to open settings for managing the visibility of this storefront in different locales")})})},"manage-shop-visibility-link")})})}),P.map((e=>{const{id:i,country:o,locale:a}=e,s=(0,E.Md)(a);return o&&a?(0,h.jsx)(z,{country:m[o],hidden:!(0,E.c8)(_[(0,E.u3)(e)]),language:s,productCount:(0,E.gE)(e),onClick:()=>{((e,n,i)=>{t((0,C.d)(e,n,i||""))})(o,s,i),l(!1)},selected:o===n&&s===r},i):null}))]})})}),w&&(0,h.jsx)(I,{countries:m,feedProfiles:g,onDismiss:()=>T(!1),onSubmit:()=>{v(),t((0,C.a)((new Date).getTime()))},onUndo:S,settings:_,userId:x})]})};var W=n(968597),Y=n(135105);const K=()=>{const e=(0,s.ZP)();return(0,h.jsx)(o.Fragment,{children:(0,h.jsxs)(u.xu,{marginTop:-4,marginBottom:6,children:[(0,h.jsx)(u.xu,{marginBottom:2,children:(0,h.jsx)(u.xv,{size:"lg",inline:!0,children:e._("Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.","merchantStorefront.ProductGroupControls.subheader.text","Text for explaining the purpose of the product group controls sheet")})}),(0,h.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(V,{}),(0,h.jsx)(u.xu,{children:(0,h.jsx)(p,{onClick:()=>(0,b.j)(9866,{component:14001}),text:e._("Create product group","Storefront.ProductGroupControls.CreateProductGroup.button","Button to create product group from catalogs page")})})]})]})})},q=({featuredGroups:e=[],recommendedGroups:t=[],customGroups:n=[],checkedGroups:i=[],setSelectedGroup:r})=>{const a=(0,s.ZP)(),l=(e,t,n,o,s)=>{const l=i.includes(t),d=[W.EK.FEATURING,W.EK.FEATURED,W.EK.CAN_FEATURE].includes(s);return(0,h.jsx)(u.xu,{width:"100%",height:91,marginTop:4,marginBottom:4,borderStyle:"shadow",padding:2,rounding:5,children:(0,h.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,h.jsx)(u.xu,{column:2,children:(0,h.jsx)(u.zd,{rounding:4,wash:!0,height:79,width:79,children:(0,h.jsx)("img",{alt:a._("product group cover image","merchantStorefront.ProductGroupControls.body.card.image","The cover image for a product group"),src:null==n?void 0:n.url})})}),(0,h.jsx)(u.xu,{column:7,padding:4,children:(0,h.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,h.jsx)(u.X6,{size:"sm",color:d?"darkGray":"gray",children:e}),!d&&(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.u,{text:(0,Y.O)(s,a),idealDirection:"right",children:(0,h.jsx)(u.JO,{accessibilityLabel:a._("An exclamation point alert icon indicating issues, described on a tooltip","merchantStorefront.productGroupControlsSheet.ProductGroupCard.icon.accessibiltyLabel","The accessibility label for alert icon"),color:"gray",icon:"alert",size:24})})})]})}),(0,h.jsx)(u.xu,{column:4,padding:4,children:(0,h.jsx)(u.xv,{size:"lg",align:"forceRight",color:"gray",children:1===o?`${o} product`:`${o} products`})}),(0,h.jsx)(u.xu,{padding:2,column:1,children:(0,h.jsx)(u.XZ,{checked:l,id:t,label:"",name:e,disabled:!d,onChange:({checked:e})=>{r(t,e);const n=e?9864:9865;(0,b.j)(n,{component:14e3})}})})]})},t)};return(0,h.jsx)(o.Fragment,{children:(0,h.jsxs)(u.xu,{marginTop:4,children:[e&&e.length>0&&(0,h.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(u.X6,{size:"sm",children:a._("Featured","merchantStorefront.ProductGroupControls.body.header.featured","Text indicating the product groups shown are currently being featured")}),e.map((e=>l(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,h.jsx)("br",{}),t&&t.length>0&&(0,h.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(u.X6,{size:"sm",children:a._("Recommended for you","merchantStorefront.ProductGroupControls.body.header.recommended","Text indicating the product groups shown are recommended groups")}),t.map((e=>l(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,h.jsx)("br",{}),n&&n.length>0&&(0,h.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(u.X6,{size:"sm",children:a._("Your custom product groups","merchantStorefront.ProductGroupControls.body.header.custom","Text indicating the product groups shown are custom groups")}),n.map((e=>l(e.name,e.id,e.image,e.count,e.featureStatus)))]})]})})},$=({isLoading:e=!1,onDismiss:t,onSave:n,featuredGroups:i=[],recommendedGroups:r=[],customGroups:a=[]})=>{const l=(0,s.ZP)(),d=new u.H3([new u.Ry(_.HW),new u.Ry(x.fe)]),[c,p]=(0,o.useState)([]);(0,o.useEffect)((()=>{e||p(i.map((({id:e})=>e)))}),[i,e]);return(0,h.jsx)(u.mh,{zIndex:d,children:(0,h.jsx)(u.yo,{accessibilityDismissButtonLabel:l._("Close storefront product group controls sheet","merchantStorefront.ProductGroupControls.accessibilityDismissButtonLabel","Accessibility text for dismissing storefront product group sheet"),accessibilitySheetLabel:l._("Product group controls for merchant storefront","merchantStorefront.ProductGroupControls.accessibilitySheetLabel","Accessibility text for opening storefront product group controls sheet"),heading:l._("Feature product groups","merchantStorefront.ProductGroupControls.title","Title for storefront product group controls sheet"),onDismiss:t,footer:({onDismissStart:e})=>(0,h.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.xv,{size:"lg",weight:"bold",inline:!0,children:(0,y.nk)(l._("{{ NumberOfGroups }} selected","merchantStorefront.ProductGroupControls.changes","Tracks how many product groups were selected to edit"),{NumberOfGroups:1===c.length?"1 product group":`${c.length} product groups`})})}),(0,h.jsx)(u.xu,{children:(0,h.jsxs)(u.hE,{children:[(0,h.jsx)(u.zx,{color:"gray",text:l._("Cancel","merchantStorefront.ProductGroupControls.cancel","Cancel storefront product group changes"),onClick:e}),(0,h.jsx)(u.zx,{color:"red",text:l._("Save","Storefront.ProductGroupControls.save","Save storefront product group changes"),onClick:()=>{n(c)}})]})})]}),size:"md",children:e?(0,h.jsx)(u.$j,{show:!0,accessibilityLabel:"loading"}):(0,h.jsxs)(u.xu,{children:[(0,h.jsx)(K,{}),(0,h.jsx)(q,{featuredGroups:i,customGroups:a,recommendedGroups:r,checkedGroups:c,setSelectedGroup:(e,t)=>{p(t?[...c,e]:c.filter((t=>t!==e)))}})]})})})};var X=n(472442);function J({onDismiss:e}){const t=(0,i.useDispatch)(),n=(0,s.ZP)(),{country:d,language:c,feedProfileId:u}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),{isLoaded:p,userId:m,settings:g,refresh:f}=B(),{showOneToast:_}=(0,v.F9)(),x=(0,X.G7)({feedProfileId:u}),{canFeatureProductGroups:y}=x,w=y&&x.data||[],I=(0,X.Ib)({feedProfileId:u}),T=I&&I.data||[];(0,o.useEffect)((()=>{(0,b.j)(9861,{component:14e3})}),[]);const S=p&&I.isLoaded&&!I.isFetching&&x.isLoaded&&!x.isFetching,{featuredGroups:P,customGroups:j,recommendedGroups:A}=((e,t)=>{const n=[],i=[],o=[],r=[];return e&&t?(t.forEach((n=>{const i=e.find((e=>String(e.id)===n.id)),o={};o.name=n.name,o.id=n.id,o.image=n.preview_pins&&n.preview_pins[0]&&n.preview_pins[0].images&&n.preview_pins[0].images["170x"],o.isFeatured=!!n.featured_position,o.count=i&&i.product_count?i.product_count:0,o.isCustom="MERCHANT_CREATED"===n.group_type,o.featureStatus=(0,l._c)(t,o.id,""),r.push(o)})),r.forEach((e=>{e.isFeatured?n.push(e):e.isCustom?i.push(e):o.push(e)})),{featuredGroups:n,recommendedGroups:o,customGroups:i}):{featuredGroups:n,customGroups:i,recommendedGroups:o}})(T,w);return(0,h.jsx)($,{isLoading:!S,onDismiss:()=>{e(),(0,b.j)(9863,{component:14e3})},onSave:i=>{const o=new Set(w.filter((e=>!!e.featured_position)).map((({id:e})=>e))),s=new Set(i),l=new Set([...s.values()].filter((e=>!o.has(e)))),p=new Set([...o.values()].filter((e=>!s.has(e)))),y=[...l.values()].map((e=>r.ZP.create("FeaturedProductGroupsResource",{feedProfileId:u,productGroupId:e}).callCreate())),v=[...p.values()].map((e=>r.ZP.create("FeaturedProductGroupsResource",{feedProfileId:u,productGroupId:e}).callDelete())),T=`${d}/${c.toUpperCase()}`,S=new Set(g[T].featured_product_groups);p.forEach((e=>{S.delete(e)})),l.forEach((e=>{S.add(e)}));const P={...g,[T]:{...g[T]||{},featured_product_groups:[...S.values()]}},j=r.ZP.create("ApiResource",{url:`/v3/business/users/${m}/storefront/settings/`,data:{settings:JSON.stringify(P)}}).callUpdate();(0,b.j)(9862,{component:14e3}),Promise.all([j,...y,...v]).then((()=>{e(),_((({onHide:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(a.Z,{duration:E.QE,onHide:e,text:n._("Product groups saved! Drag to reorder.","MerchantStorefront.ProductGroupControls.pgSaved","toast text")})}))),I.refresh(),x.refresh(),f(),t((0,C.a)((new Date).getTime()))})).catch((()=>{_((({onHide:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(a.Z,{duration:E.QE,onHide:e,variant:"error",text:n._("Failed to save or feature product groups. You can select up to 8 product groups to feature on your business profile.","MerchantStorefront.ProductGroupControls.error","toast text")})})))}))},featuredGroups:P,customGroups:j,recommendedGroups:A})}var Q=n(221469),ee=n(855168),te=n(343283);function ne({bgColor:e}){const t=(0,o.useRef)(null),n=(0,ee.TH)(),i="open"===(0,Q.mB)(n.search).controls,[r,a]=(0,o.useState)(i),l=(0,s.ZP)();return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(u.xu,{ref:t,children:(0,h.jsx)(te.Z,{accessibilityLabel:l._("Product group controls button","Profile.User.Button.Icon.Product.Group.Controls","Icon for product group control on merchant profile"),bgColor:e,icon:"add",onClick:()=>a(!r),selected:r,size:"lg"})}),r&&(0,h.jsx)(J,{onDismiss:()=>a(!1)})]})}var ie=n(185062),oe=n(799092),re=n(269935),ae=n(29768),se=n(329244);function le(e){const{children:t,footer:n,title:i,dataTestId:o}=e;return(0,h.jsxs)(u.xu,{marginBottom:10,paddingX:4,"data-test-id":o,children:[i&&(0,h.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(u.X6,{size:"md",children:i})}),t,n]})}var de=n(539484);function ce({onClick:e,text:t,url:n}){const i=(0,de.Z)({url:n})?"nofollow":"none";return(0,h.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(u.zx,{role:"link",href:n,rel:i,onClick:e,size:"lg",text:t})})}var ue=n(359678);function he({bubble:e,slotIndex:t,storyId:n,viewParameter:i,source:r,title:a}){(0,o.useEffect)((()=>{ae.Z.StructuredFeed.Categories.viewCategory({id:n,source:r,title:a})}),[]);return(0,h.jsx)(oe.Z,{bubble:e,height:118,onClick:()=>ae.Z.StructuredFeed.Categories.tapCategory({id:n,source:r,title:a}),referringSource:"merchantStorefront",slotIndex:t,storyId:n,viewParameter:i,viewType:4,width:ue.Ny})}function pe(e){const{data:t,source:n,viewParameter:i}=e,{footer:o,id:r,items:a,title:s}=t,l=o&&(0,h.jsx)(re.Z,{contextLogData:{story_id:r,story_type:o.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,se.Z)(n),children:(0,h.jsx)(ce,{onClick:()=>ae.Z.StructuredFeed.Categories.tapSeeMoreCategories({id:r,source:n}),text:o.text,url:(0,d.Z)(o.url,{source:n})})});return(0,h.jsx)(re.Z,{contextLogData:{story_id:r,story_type:"storefront_category_bubbles"},impressionType:"Story",viewParameter:3512,viewType:(0,se.Z)(n),children:(0,h.jsx)(le,{title:null==s?void 0:s.text,footer:l,dataTestId:"storefront-categories-module",children:(0,h.jsx)(u.xu,{display:"flex",justifyContent:"center",paddingY:6,wrap:!0,children:a.map(((e,t)=>{var o;const r=(0,d.Z)((null===(o=e.action)||void 0===o?void 0:o.url)||"",{source:n}),a={...e,action:{...e.action,url:r}};return(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(he,{bubble:a,slotIndex:t,storyId:e.id,viewParameter:i,source:n,title:e.title.format})},e.id)}))})})})}var me=n(855830),ge=n(784655),fe=n(162409),_e=n(560133);function xe(e){const{data:t,isOwnProfile:n,merchant:i,source:r,storefrontResource:a}=e,{footer:l,title:c}=t,p=(0,se.Z)(r),m=(0,s.ZP)();(0,o.useEffect)((()=>{ae.Z.StructuredFeed.PinsFeed.viewPinsFeed({id:null==c?void 0:c.id,OwnerUserId:i.id,pinsFeedTitle:null==c?void 0:c.text,source:r})}),[]);const g=e=>{const t={...(0,_e.Zs)(e),board_owner_id:i.id,pin_is_promoted:(0,ge.jL)(e)},n=(0,_e.Sn)(t)||{};ae.Z.StructuredFeed.PinsFeed.tapPin({commerceData:n,source:r})},f=l&&(0,h.jsx)(ce,{text:l.text,url:(0,d.Z)(l.url,{storefront:1})}),_=c&&(0,h.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(re.Z,{impressionType:"Story",viewType:p,viewParameter:3512,contextLogData:{story_id:c.id,story_type:"storefront_header"},children:(0,h.jsx)(u.xu,{children:c.text})}),c.allProductLink&&(0,h.jsx)(u.xu,{position:"absolute",paddingX:4,right:!0,children:(0,h.jsx)(u.zx,{accessibilityLabel:m._("Button to view all the merchant's products","MerchantStorefront.structuredFeed.shopAllProducts.accessibilityLabel",'The accessibility label for the button to show the merchant "All Products" pins'),size:"lg",text:m._("Shop all products","MerchantStorefront.structuredFeed.shopAllProducts.text","Button to open a view with all the merchant's product pins"),role:"link",href:c.allProductLink||"",color:"transparent"})})]});return(0,h.jsx)(le,{title:_,footer:f,dataTestId:"storefront-pins-module",children:(0,h.jsx)(fe.QI,{renderPin:({data:e,itemIdx:t})=>(0,h.jsx)(me.Z,{componentType:null,merchant:i,onClick:g,pin:e,slotIndex:t,surface:"pdp"===r?"ShoppingSquareGridStorefrontDomain":"ShoppingSquareGridStorefront",viewParameter:3512,viewType:p}),isGridCentered:!0,isOverview:!1,isOwnProfile:n,layout:"basicCentered",onClick:g,pins:a,surface:"ShoppingSquareGridRelatedProductsBoth",user:i,username:i.username})})}var ye=n(25145),be=n(440172);const ve=488,Ee=488;function we({productGroup:e}){const t=(0,s.ZP)(),n=e.cover_images&&e.cover_images[0]&&e.cover_images[0]["488x488"]&&e.cover_images[0]["488x488"].url,i=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images&&e.preview_pins[0].images.orig,[r,a]=(0,o.useState)(!n),l=r?null==i?void 0:i.height:ve,d=r?null==i?void 0:i.width:Ee,c=r?null==i?void 0:i.url:n;return l&&d&&c?(0,h.jsx)(u.Ee,{alt:t._("Cover image","ProductGroupV2.coverImage","Cover image for product group rep v2"),naturalHeight:l,naturalWidth:d,src:c,fit:"contain",onError:()=>{r||a(!0)}}):null}function Ie({onClick:e,productGroup:t,showControls:n,url:i}){const r=(0,s.ZP)(),a=r._("Edit product group display","ProductGroupV2.editTooltip","Tooltip text for edit product group button"),[l,d]=(r._("Remove product group from shop","ProductGroupV2.removeTooltip","Tooltip text for remove product group button"),(0,o.useState)(!1)),[c,p]=(0,o.useState)(!1);return(0,h.jsxs)(u.xu,{position:"relative",onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:[(0,h.jsxs)(u.xu,{position:"relative",children:[(0,h.jsxs)(u.zd,{width:Ee,height:ve,rounding:8,children:[(0,h.jsx)(we,{productGroup:t}),(0,h.jsx)(u.xu,{position:"absolute",width:Ee,height:ve,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,h.jsx)(u.xu,{position:"absolute",color:"darkGray",opacity:c?.5:0,width:Ee,height:ve,rounding:8,top:!0})]}),n&&c&&(0,h.jsxs)(u.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,h.jsx)(u.xu,{marginEnd:0,children:(0,h.jsx)(u.u,{text:a,idealDirection:"down",children:(0,h.jsx)(u.hU,{accessibilityLabel:a,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>d(!0),size:"xl"})})}),false]}),(0,h.jsxs)(u.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,h.jsx)(u.xu,{marginBottom:5,maxWidth:424,children:(0,h.jsx)(u.X6,{size:"lg",color:"lightGray",children:t.name})}),c&&(0,h.jsx)(u.xu,{marginBottom:5,maxWidth:424,children:(0,h.jsx)(u.xv,{size:"lg",color:"lightGray",children:t.description})}),(0,h.jsx)(u.zx,{accessibilityLabel:r._("Shop button","ProductGroupV2.shopButton.accessibilityLabel","Shop button for product group rep v2"),size:"lg",text:r._("Shop","ProductGroupV2.shopButton.text","Shop button text for product group rep v2"),color:"white",role:"link",href:i,onClick:e})]}),n&&l&&(0,h.jsx)(be.Z,{onDismiss:()=>d(!1),onSubmit:()=>d(!1),productGroup:t})]})}var Ce=n(194620),Te=n(613330),Se=n(297633),Pe=n(470848);const je={previewIndex:-1,sourceIndex:-1,target:null};function Ae({merchantName:e,productGroup:t,showControls:n,source:i,isControlsExpEnabled:r}){(0,o.useEffect)((()=>{ae.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:t.id,source:i})}),[]);const a=()=>ae.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:t.id,source:i});return r?(0,h.jsx)(Ie,{onClick:a,productGroup:t,showControls:n,url:`/${e}/_shop/${t.id}/`}):(0,h.jsx)(ye.Z,{onClick:a,productGroup:t,showControls:n,url:`/${e}/_shop/${t.id}/`})}const De=(0,Ce.Z)(Se.y.Section)((function(e){const{data:t,merchantName:n,source:a}=e,{footer:s,items:l,title:c}=t,[p,m]=(0,o.useState)(je),g=l.reduce(((e,t)=>({...e,[t.id]:t})),{}),[f,_]=(0,o.useState)(l.map((e=>e.id)));(0,o.useEffect)((()=>{_(l.map((e=>e.id)))}),[l]);const{ownerUserId:x}=(0,S.Z)(),y=(0,A.Z)({name:"ApiResource",options:{url:`/v3/business/users/${x}/storefront/settings/`}}),{country:v,language:w}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),I=(0,A.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:C,locale:T}=I.data||{},P=`${v||C}/${(w||(0,E.Md)(T)).toUpperCase()}`,j=s&&(0,h.jsx)(re.Z,{contextLogData:{story_id:s.id,story_type:s.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,se.Z)(a),children:(0,h.jsx)(ce,{onClick:()=>ae.Z.StructuredFeed.ProductGroups.tapSeeMoreProductGroups({id:s.id,source:a}),text:s.text,url:(0,d.Z)(s.url,{source:a})})});function D(e){m({previewIndex:e,sourceIndex:e,target:null})}function R(e){const t=p&&p.target;if(!e||!p||!t||t.index===p.sourceIndex){m(je);const e=[...l];if(y.data&&y.data[P].featured_product_groups){const t=y.data[P].featured_product_groups;e.sort(((e,n)=>{const i=t.indexOf(e.id),o=t.indexOf(n.id);return i===o?0:n.group_type===E.yh||-1===i?1:e.group_type===E.yh||-1===o?-1:i-o}))}return void _(e.map((e=>e.id)))}const{previewIndex:n}=p,{index:i}=t;m(je);const o={...y.data,[P]:{...y.data&&y.data[P]||{},featured_product_groups:(0,Te.zX)(f,n,i)}};r.ZP.create("ApiResource",{url:`/v3/business/users/${x}/storefront/settings/`,data:{settings:JSON.stringify(o)}}).callUpdate().then((()=>{y.refresh()})),(0,b.j)(9869,{component:14004})}function O(e,t){const n={itemIndex:e,regionWithinItem:(0,Pe.TI)({hoverRelativePosition:t,centerEnabled:e!==p.previewIndex})},i={index:(0,Pe.X3)({hoverLocation:n,sourceIndex:p.previewIndex})};i.index!==p.previewIndex?(m({...p,target:i,previewIndex:i.index}),_((0,Te.zX)(f,p.previewIndex,i.index))):p.target&&p.target.index!==i.index&&m({...p,target:i})}const N=Z(),k=(0,L.tc)("web_merchant_success_storefront_controls")().anyEnabled;return(0,h.jsx)(le,{title:null==c?void 0:c.text,footer:j,dataTestId:"storefront-product-groups-module",children:(0,h.jsx)(u.xu,{display:"flex",justifyContent:"center",marginBottom:8,wrap:!0,children:f.map((e=>g[e])).map(((e,t)=>e&&(0,h.jsx)(u.xu,{padding:2,children:N&&e.group_type!==E.yh?(0,h.jsx)(Se.Z,{index:t,onDragBegin:D,onDragEnd:R,onDragHover:O,type:Se.y.Section,children:(0,h.jsx)(Ae,{merchantName:n,productGroup:e,showControls:N,source:a,isControlsExpEnabled:k})}):(0,h.jsx)(Ae,{merchantName:n,productGroup:e,showControls:N,source:a,isControlsExpEnabled:k})},e.id)))})})})),Re=(e,t)=>({ms:e._("Malay","merchantStorefront.hiddenShopBanner.language.Malay","The language name of the language code ms"),ru:e._("Russian","merchantStorefront.hiddenShopBanner.language.Russian","The language name of the language code ru"),en:e._("English","merchantStorefront.hiddenShopBanner.language.English","The language name of the language code en"),cs:e._("Czech","merchantStorefront.hiddenShopBanner.language.Czech","The language name of the language code cs"),nb:e._("Norwegian","merchantStorefront.hiddenShopBanner.language.Norwegian","The language name of the language code nb"),el:e._("Greek","merchantStorefront.hiddenShopBanner.language.Greek","The language name of the language code el"),pt:e._("Portuguese","merchantStorefront.hiddenShopBanner.language.Portuguese","The language name of the language code pt"),tr:e._("Turkish","merchantStorefront.hiddenShopBanner.language.Turkish","The language name of the language code tr"),te:e._("Telugu","merchantStorefront.hiddenShopBanner.language.Telugu","The language name of the language code te"),hi:e._("Hindi","merchantStorefront.hiddenShopBanner.language.Hindi","The language name of the language code hi"),zh:e._("Chinese","merchantStorefront.hiddenShopBanner.language.Chinese","The language name of the language code zh"),es:e._("Spanish","merchantStorefront.hiddenShopBanner.language.Spanish","The language name of the language code es"),hu:e._("Hungarian","merchantStorefront.hiddenShopBanner.language.Hungarian","The language name of the language code hu"),sk:e._("Slovak","merchantStorefront.hiddenShopBanner.language.Slovak","The language name of the language code sk"),fr:e._("French","merchantStorefront.hiddenShopBanner.language.French","The language name of the language code fr"),da:e._("Danish","merchantStorefront.hiddenShopBanner.language.Danish","The language name of the language code da"),ko:e._("Korean","merchantStorefront.hiddenShopBanner.language.Korean","The language name of the language code ko"),uk:e._("Ukrainian","merchantStorefront.hiddenShopBanner.language.Ukrainian","The language name of the language code uk"),fi:e._("Finnish","merchantStorefront.hiddenShopBanner.language.Finnish","The language name of the language code fi"),nl:e._("Dutch","merchantStorefront.hiddenShopBanner.language.Dutch","The language name of the language code nl"),de:e._("German","merchantStorefront.hiddenShopBanner.language.German","The language name of the language code de"),tl:e._("Tagalog","merchantStorefront.hiddenShopBanner.language.Tagalog","The language name of the language code tl"),pl:e._("Polish","merchantStorefront.hiddenShopBanner.language.Polish","The language name of the language code pl"),ro:e._("Romanian","merchantStorefront.hiddenShopBanner.language.Romanian","The language name of the language code ro"),ja:e._("Japanese","merchantStorefront.hiddenShopBanner.language.Japanese","The language name of the language code ja"),ar:e._("Arabic","merchantStorefront.hiddenShopBanner.language.Arabic","The language name of the language code ar"),bn:e._("Bangla","merchantStorefront.hiddenShopBanner.language.Bangla","The language name of the language code bn"),it:e._("Italian","merchantStorefront.hiddenShopBanner.language.Italian","The language name of the language code it"),id:e._("Indonesian","merchantStorefront.hiddenShopBanner.language.Indonesian","The language name of the language code id"),sv:e._("Swedish","merchantStorefront.hiddenShopBanner.language.Swedish","The language name of the language code sv"),vi:e._("Vietnamese","merchantStorefront.hiddenShopBanner.language.Vietnamese","The language name of the language code vi"),th:e._("Thai","merchantStorefront.hiddenShopBanner.language.Thai","The language name of the language code th")}[t]),Oe=()=>{const e=(0,s.ZP)(),t=(0,i.useDispatch)(),[n,r]=(0,o.useState)(!1),{countries:a,feedProfiles:l,settings:d,userId:c,refresh:p}=B(),{country:m,language:g}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),f=()=>{r(!0)};return!(0,E.c8)(d[[m||"",g||""].join("/").toUpperCase()])?(0,h.jsxs)(u.xu,{marginBottom:8,paddingX:8,width:"100%",display:"flex",justifyContent:"center",children:[(0,h.jsxs)(u.xu,{minHeight:134,paddingY:4,width:1496,dangerouslySetInlineStyle:{__style:{backgroundColor:"#FDF5EC"}},rounding:4,display:"flex",children:[(0,h.jsx)(u.xu,{height:"100%",marginStart:8,marginEnd:6,display:"flex",alignItems:"center",children:(0,h.jsx)(u.JO,{icon:"workflow-status-warning",accessibilityLabel:e._("Warning icon","merchantStorefront.hiddenShopBanner.warningIcon.accessibilityLabel","The accessibility label for the warning icon of the merchant storefront hidden shop banner"),color:"orange",size:32})}),(0,h.jsxs)(u.xu,{height:"100%",marginEnd:6,display:"flex",direction:"column",alignItems:"start",justifyContent:"center",maxWidth:1124,children:[(0,h.jsx)(u.xu,{marginBottom:2,children:(0,h.jsx)(u.X6,{size:"sm",children:e._("Your shop is hidden in this region/language","merchantStorefront.hiddenShopBanner.heading","The heading of the merchant storefront hidden shop banner")})}),(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.xv,{size:"lg",children:(0,y.nk)(e._("{{ language }} speaking people in the {{ country }} can't see your shop. You can preview the shop, but people in this region/language won’t see it until you make the shop visible.","merchantStorefront.hiddenShopBanner.text","The body text of the merchant storefront hidden shop banner"),{language:Re(e,g),country:a[m]})})})]}),(0,h.jsx)(u.xu,{height:"100%",marginEnd:12,display:"flex",alignItems:"center",children:(0,h.jsx)(u.zx,{accessibilityLabel:e._("Manage shop visibility button","merchantStorefront.hiddenShopBanner.button.accessibilityLabel","The accessibilityLabel of the merchant storefront hidden shop banner button"),size:"lg",text:e._("Manage shop visibility","merchantStorefront.hiddenShopBanner.button.text","The text of the merchant storefront hidden shop banner button"),color:"white",onClick:f})})]}),n&&(0,h.jsx)(I,{countries:a,feedProfiles:l,onDismiss:()=>r(!1),onSubmit:()=>{p(),t((0,C.a)((new Date).getTime()))},onUndo:f,settings:d,userId:c})]}):null};var Ne=n(755908);const ke=function({merchant:e,source:t,storefrontData:n,storefrontResource:i}){const{explorearticle:r,pin:a,productgroup:s}=n,{id:l,username:d}=e;(0,o.useEffect)((()=>{ae.Z.StructuredFeed.viewStructuredFeed({merchantId:l,source:t})}),[]);const c=(0,D.Z)(),u=c.isAuth&&c.username===d,p=u?3106:3107,m=s&&(0,h.jsx)(De,{data:s,merchantName:d,source:t},"productGroupsModule"),g=r&&(0,h.jsx)(pe,{data:r,source:t,viewParameter:p},"categoriesModule"),f=a&&(0,h.jsx)(xe,{data:a,isOwnProfile:u,merchant:e,source:t,storefrontResource:i},"pinsModule"),_=[m,g];_["pdp"===t?"unshift":"push"](f);const x=G();return(0,h.jsx)(Ne.Z,{component:237,view:4,viewParameter:p,children:(0,h.jsxs)(o.Fragment,{children:[x&&(0,h.jsx)(Oe,{}),_]})})};function Le(e){return e.type===ue.sy.story&&e.story_type===ue.sy.header}function Me(e){return e.type===ue.sy.story&&ue.sy.footers.includes(e.story_type)}const Be=function(e){const t=[];for(const n of e)n.type===ue.sy.story&&[ue.sy.header,ue.sy.bubblesStory].includes(n.story_type)||!t.length?t.push([n]):t[t.length-1].push(n);return t.map((e=>{let t;const n=e.find(Me);let i;n&&(t={id:n.id,story_type:n.story_type,text:n.button_text.format,url:n.action.url});const o=e.find(Le);var r;o&&(i={id:o.id,text:o.title.format,allProductLink:null===(r=o.action)||void 0===r?void 0:r.url});let a,s=e.filter((e=>!Le(e)&&!Me(e)));const l=e.find((e=>e.type===ue.sy.story&&e.story_type===ue.sy.bubblesStory));return l&&(i={text:l.title.format},s=s[0].objects,a=l.id),{footer:t,title:i,id:a,items:s,label:s[0].type}})).reduce(((e,t)=>{const{footer:n,title:i,id:o,items:r,label:a}=t;return{...e,[a]:{footer:n,id:o,title:i,items:r}}}),{})};var Fe=n(678664);function Ue(){return H(),null}function Ze({country:e,language:t,lastUpdated:n}){const{search:i}=(0,ee.TH)(),{params:{username:o}}=(0,ee.$B)(),r=(0,L.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:a,group:s}=r({dangerouslySkipActivation:!0});s.includes("pwt")||r();const{data:l}=(0,j.Z)();(0,Fe.GB)(o,3313);const{pin:d,search_query:c,source:p}=(0,ie.Z)(i),m=Z(),g=G(),f=g?{country:e,language:t}:{},_=(0,A.Z)({name:"StoreFrontFeedResource",options:{field_set_key:a?"shopping_grid_item":"grid_item",pin:d,search_query:c,shop_source:d?"product_detail_page":null,source:p,userId:l?l.id:void 0,username:o,last_updated:n,...f}}),{data:x}=_;return l?(0,h.jsxs)(u.xu,{children:[(0,h.jsxs)(u.kC,{alignItems:"stretch",direction:"row",justifyContent:"between",children:[(0,h.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:m&&(0,h.jsx)(V,{})}),(0,h.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:g&&(0,h.jsx)(ne,{})})]}),x?(0,h.jsx)(ke,{merchant:l,source:d?"pdp":"profile",storefrontData:Be(x),storefrontResource:_}):null,g&&(0,h.jsx)(Ue,{})]}):null}function Ge(){const{country:e,language:t}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),n=(0,i.useSelector)((({storefrontSettings:e})=>e.lastUpdated));return(0,h.jsx)(Ze,{country:e,language:t,lastUpdated:n})}const He=c.Z.settings,ze=()=>{const e=(0,s.ZP)();(0,o.useEffect)((()=>(0,b.j)(13,{view:4,viewParameter:3106,component:13890})),[]);return(0,h.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsx)(u.xu,{paddingX:4,width:"100%",position:"absolute",children:(0,h.jsx)(u.Ee,{naturalHeight:770,naturalWidth:2433,alt:e._("background image","profile.shopTab.catalogUpsell.backgroundImage","Background image for shop tab catalog upsell"),src:"https://i.pinimg.com/originals/1c/3e/52/1c3e52cc37a9b9f255eb9460559ae054.png"})}),(0,h.jsxs)(u.xu,{alignItems:"center",direction:"column",display:"flex",position:"absolute",children:[(0,h.jsx)(u.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:6,children:(0,h.jsx)(u.xv,{children:e._("No one will see your shop until you connect your catalog.","profile.shopTab.catalogUpsell.text","text prompting user that they do not have any products to display and no one will see the shop tab")})}),(0,h.jsx)(u.xu,{marginTop:6,children:(0,h.jsx)(u.zx,{href:He.SHOPPING_CATALOGS_URL,onClick:()=>{(0,b.j)(101,{component:13890,element:12587,view:4,viewParameter:3106})},role:"link",text:e._("Connect catalog","profile.shopTab.connectCatalogButton","Button that will re-direct user to catalog upload page"),color:"red",size:"lg"})})]})]})};var Ve=n(585967);const We=()=>{const{params:{username:e}}=(0,ee.$B)(),{data:t}=(0,j.Z)(),n=(0,D.Z)(),{experiments:i}=(0,Ve.B)(),{anyEnabled:o}=i.getWithoutActivation("merchant_success_profile_shop_tab_catalog_upsell");return(0,Fe.Sq)(e,t?t.id:null,13670),null!=t&&t.has_catalog?(0,h.jsx)(Ge,{}):n.isAuth&&(null==t?void 0:t.id)===n.id&&o?(0,h.jsx)(ze,{}):null}},998944:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(755908),o=n(883119),r=n(162409),a=n(785893);const s=function(e){const{isOwnProfile:t,user:n}=e,{username:s}=n,l=t?3106:3107;return(0,a.jsx)(i.Z,{view:4,viewParameter:l,component:13322,children:(0,a.jsx)(o.xu,{children:(0,a.jsx)(r.pP,{isOwnProfile:t,user:n,username:s})})})};var l=n(383722),d=n(678664),c=n(34411),u=n(855168);function h(e){const t=(0,u.$B)(),n=(0,c.Z)(),i=(0,l.Z)();(0,d.ZP)(t.params.username,3240);const o=n.isAuth&&n.username===t.params.username;return i&&i.data?(0,a.jsx)(s,{isOwnProfile:o,user:i.data}):null}},654025:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(535718),o=n(34411),r=n(883119),a=n(855168),s=n(896829),l=n(890935),d=n(785893);function c(e){const t=(0,a.$B)(),n=(0,i.Z)({name:"UserResource",options:{username:t.params.username}}),c=(0,o.Z)();if((0,s.Q)({view_type:4,view_parameter:51}),!n.isLoaded||!n.data)return(0,d.jsx)(r.$j,{accessibilityLabel:"Page loading...",show:!0});const{data:u}=n;return c.id===u.id?(0,d.jsx)(l.cs,{user:u}):(0,d.jsx)(l.ZP,{user:u})}},683078:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(755908),o=n(162409),r=n(785893);const a=function(e){const{isOwnProfile:t,user:n}=e,a=t?3106:3107;return(0,r.jsx)(i.Z,{view:4,viewParameter:a,component:13364,children:(0,r.jsx)(o.Ol,{isOwnProfile:t,user:n,username:n.username})})};var s=n(383722),l=n(678664),d=n(34411),c=n(855168);function u(e){const t=(0,c.$B)(),n=(0,s.Z)(),i=(0,d.Z)();(0,l.ZP)(t.params.username,3272);const o=i.isAuth&&i.username===t.params.username;return n&&n.data?(0,r.jsx)(a,{isOwnProfile:o,user:n.data}):null}},376045:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(451190),o=n(702925),r=n(174523),a=n(946753),s=n(883119),l=n(785893);const d=o.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function c({firstName:e,onBlockUser:t,onClearModal:n}){const o=(0,r.ZP)(),c=(0,a.nk)(o._("Block {{ firstName }}?","blockUser.modal.header","header text asking if we should block the user"),{firstName:e}).join("");return(0,l.jsxs)(i.Z,{accessibilityModalLabel:c,onDismiss:n,heading:c,footer:(0,l.jsxs)(s.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,l.jsx)(s.xu,{padding:1,children:(0,l.jsx)(s.zx,{fullWidth:!0,size:"md",text:o._("Cancel","blockUser.modal.cancel","Cancel blocking a user"),onClick:n})}),(0,l.jsx)(s.xu,{padding:1,children:(0,l.jsx)(s.zx,{fullWidth:!0,size:"md",color:"red",text:o._("Block","Button to confirm blocking a user","Button to confirm blocking a user"),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,l.jsx)(s.xu,{padding:4,"data-test-id":"block-text",children:(0,l.jsx)(s.xv,{children:(0,a.nk)(o._("Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.","blockUser.modal.description","explanation of what blocking another user means"),{firstName:e})})}),(0,l.jsx)(s.xu,{padding:4,children:(0,l.jsx)(s.xv,{color:"darkGray",weight:"bold",children:(0,l.jsx)(s.rU,{target:"blank",href:d,children:o._("Learn more","link to help center to learn more about blocking","link to help center to learn more about blocking")})})})]})}},162409:(e,t,n)=>{n.d(t,{QI:()=>v,pP:()=>E,Ol:()=>w,ZP:()=>I});var i=n(667294),o=n(40142),r=n(785705),a=n(476865),s=n(822348),l=n(123527),d=n(755908),c=n(535718),u=n(34411),h=n(535258),p=n(784655),m=n(266265),g=n(174523),f=n(883119),_=n(418102),x=n(785893);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),y(this,"masonryRef",{current:null}),y(this,"renderPin",(({data:e,itemIdx:t})=>{const{componentType:n,isOwnProfile:i,onClick:o,surface:r,user:s,viewParameter:l,viewType:d}=this.props;switch(e.type){case"module":return e.name===m.o?(0,x.jsx)(m.Z,{}):null;case"pin":default:const c=i?3106:3107;return(0,x.jsx)(f.iP,{onTap:()=>o&&o(e),children:(0,x.jsx)(a.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:null!=r?r:"UserProfilePinGrid",trackingParameters:{contextLogData:{commerce_data:{board_owner_id:null==s?void 0:s.id,pin_is_promoted:(0,p.jL)(e)}},componentType:void 0===n?237:n,slotIndex:t,viewParameter:l||c,viewType:d||4}})})}}))}componentDidMount(){const{pins:e,user:t}=this.props;t&&(this.subscribers=[_.eE.subscribe(t.id,"pinDeleted",e.refresh)])}componentDidUpdate(e){this.props.profilePinView!==e.profilePinView&&this.masonryRef.current&&this.masonryRef.current.reflow()}componentWillUnmount(){this.subscribers.forEach((e=>e.unsubscribe())),delete this.subscribers}render(){var e;const{emptyState:t,isGridCentered:n,isOverview:i,isOwnProfile:o,layout:a,limit:c,nativePins:u,onload:p,pins:m,profilePinView:g,scrollContainer:_,showNativePins:y,surface:b,user:v,username:E,renderPin:w}=this.props,{fetchMore:I,isAtEnd:C,isFetching:T,isLoaded:S}=m,P=(null!==(e=m.data)&&void 0!==e?e:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(S&&p&&p(P?P.length:0),S&&u&&!o&&(!P||!P.length))return null;let j,A;c||i?(j="gridCentered",A={marginTop:12}):n&&(y&&u||!y)?(j="gridCentered",A={marginTop:24}):n&&(j="gridCentered");let D=u?`${E}:pins`:`${E}:pins:native`;D=g?`${D}:${g}`:void 0;const R=o?3106:3107,O=c?()=>{}:I,N="OtherProfilePinGrid"===b||"dense"===g?2/3*h.xf:h.xf,k="OtherProfilePinGrid"===b||"dense"===g?2/3*16:16,L=w||this.renderPin,M=i?(0,x.jsx)(r.default,{cacheKey:D,columnWidth:N,comp:L,gutterWidth:k,isAtEnd:C,isFetching:T,isGridCentered:n,isLoaded:S,items:P,layout:a,loadItems:O,masonryRef:this.masonryRef,paddingStyle:"dense",scrollContainer:_,serverRender:!1}):(0,x.jsx)(r.default,{cacheKey:D,columnWidth:N,comp:L,gutterWidth:k,isAtEnd:C,isFetching:T,isGridCentered:n,isLoaded:S,items:P,layout:a,loadItems:I,masonryRef:this.masonryRef,scrollContainer:_,virtualize:!0}),B=t||(0,x.jsx)(s.Z,{marginTop:o?0:5,textSize:o?"sm":"md",children:(0,x.jsx)(l.Z,{subject:"pins",surface:"profile",user:v})});return(0,x.jsx)(d.Z,{component:210,view:4,viewParameter:R,children:(0,x.jsxs)("div",{className:j,style:A,children:[S&&(P&&0!==P.length?null:B),S&&P?(0,x.jsx)(f.xu,{"data-test-id":"user-profile-pin-grid",children:M}):null,T&&(0,x.jsx)(f.xu,{paddingY:3,position:"relative",children:(0,x.jsx)(f.$j,{accessibilityLabel:this.props.i18n._("Loading Pins on profile"),show:y&&u||!y})})]})})}}function v(e){const t=(0,g.ZP)(),n=(0,o.useSelector)((({ui:e})=>e.views&&e.views.profilePinView));return(0,x.jsx)(b,{...e,i18n:t,profilePinView:n})}function E(e){const t=(0,u.Z)(),n=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{exclude_add_pin_rep:!0,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(v,{...e,pins:n})}function w(e){var t;const n=(0,u.Z)(),i=(0,c.Z)({name:"UserVideoPinsFeedResource",options:{exclude_add_pin_rep:!0,username:null===(t=e.user)||void 0===t?void 0:t.username,field_set_key:n.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(v,{...e,pins:i})}function I(e){const t=(0,u.Z)(),n=(0,c.Z)({name:"UserPinsResource",options:{is_own_profile_pins:e.isOwnProfile,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}});return(0,x.jsx)(v,{...e,pins:n})}y(b,"defaultProps",{isGridCentered:!0})},585937:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),o=n(40142),r=n(997734),a=n(755908),s=n(535718),l=n(34411),d=n(162409),c=n(785893);function u({isOwnProfile:e,pinFeedFilter:t,user:n}){const i=(0,l.Z)(),o=(0,s.Z)({name:"BusinessProfileUserPinsResource",options:{exclude_add_pin_rep:!0,username:n.username,is_own_profile_pins:e,pinFeedFilter:e?t:void 0,user_id:n.id,field_set_key:i.isPartner&&e?"partner_grid_item":"grid_item"}});return!o.isLoaded||o.data&&0!==o.data.length?(0,c.jsx)(a.Z,{view:4,viewParameter:e?3106:3107,component:210,children:(0,c.jsx)(d.QI,{isOverview:!1,isOwnProfile:e,pins:o,showNativePins:!0,user:n,username:n.username})}):(0,c.jsx)(r.Z,{fullName:n.full_name,isOwnProfile:e,isPartnerProfile:!0})}var h=n(673448),p=n(883119);const m=e=>{const{label:t,sublabel:n}=e;return(0,c.jsx)(p.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:(0,c.jsxs)(p.xu,{children:[(0,c.jsx)(p.X6,{size:"sm",children:t}),(0,c.jsx)(p.xu,{marginTop:1,children:(0,c.jsx)(p.xv,{children:n})})]})})};var g=n(174523),f=n(383722),_=n(678664),x=n(83340),y=n(946753),b=n(855168);function v(e){var t,n,a,s;const v=(0,g.ZP)(),E=(0,l.Z)(),w=(0,b.$B)(),I=(0,f.Z)();(0,_.ZP)(w.params.username,74);const C=(0,o.useSelector)((({ui:e})=>e.views&&e.views.updatedPinFeedFilter)),T=(0,o.useSelector)((({users:e})=>E.isAuth?e[E.id]:void 0)),S=null!==(t=null==T?void 0:T.scheduled_pin_count)&&void 0!==t?t:null;if(!I.data)return null;const P=E.isAuth&&E.username===w.params.username,j=null!==(n=I.data)&&void 0!==n?n:{},A=S||j.scheduled_pin_count||0,D=P&&E.isPartner&&A>0,R=j.show_creator_profile&&E.isAuth,O="TRIES"===C?(0,c.jsx)(h.Z,{isOwnProfile:P,triedItUser:j}):(0,c.jsx)(u,{isOwnProfile:P,pinFeedFilter:C,user:j});return(0,c.jsxs)(i.Fragment,{children:[D&&(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(x.Z,{username:null!==(a=w.params.username)&&void 0!==a?a:""}),(0,c.jsx)(p.W2,{children:(0,c.jsx)(m,{label:v._("Published Pins","title for published Pins","title for published Pins"),sublabel:(0,y.nk)(v.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",null!==(s=j.pin_count)&&void 0!==s?s:0,"Label for the number of pins a user has","Label for the number of pins a user has"),{pinCount:j.pin_count})})})]}),R?O:(0,c.jsx)(d.ZP,{emptyState:(0,c.jsx)(r.Z,{fullName:j.full_name,isOwnProfile:P}),isOwnProfile:P,showNativePins:!0,user:j,username:w.params.username||""})]})}},261220:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(151101),o=n(883119),r=n(785893);function a({avatarUrl:e,contentsRight:t,merchantName:n,text:a,username:s}){return(0,r.jsxs)(o.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,r.jsx)(o.xu,{column:2}),(0,r.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,r.jsx)(o.xu,{marginEnd:2,children:(0,r.jsx)(o.iP,{role:"link",rounding:"circle",href:`/${s}`,children:(0,r.jsx)(i.Z,{name:n,size:"md",src:e})})}),(0,r.jsx)(o.rU,{hoverStyle:"none",href:`/${s}`,children:(0,r.jsx)(o.X6,{size:"md",children:a})})]}),(0,r.jsx)(o.xu,{column:2,display:"flex",alignItems:"center",justifyContent:"end",children:t})]})}},25145:(e,t,n)=>{n.d(t,{m:()=>m,Z:()=>g});var i=n(667294),o=n(551687),r=n(539484),a=n(440172),s=n(988089),l=n(174523),d=n(883119),c=n(785893);function u({children:e,onClick:t,productGroup:n,showControls:u,url:h,width:p}){const m=(0,l.ZP)(),g=(0,r.Z)({url:h})?"nofollow":"none",f=m._("Edit product group display","ProductGroup.editTooltip","Tooltip text for the edit product group button"),[_,x]=(0,i.useState)();return(0,c.jsxs)(d.Zb,{children:[(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.iP,{role:"link",rel:g,onTap:t,href:h,children:(0,c.jsxs)(d.xu,{"data-test-id":`productGroup-${n.name}`,width:p,children:[(0,c.jsx)(d.xu,{position:"relative",children:e}),(0,c.jsx)(d.xu,{display:"flex",alignItems:"end",paddingY:1,children:(0,c.jsx)(d.xu,{padding:2,flex:"grow",overflow:"hidden",children:(0,c.jsx)(d.X6,{size:"sm",children:(0,c.jsx)(s.Z,{maxHeightPx:70,children:n.name})})})})]})}),u&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,c.jsx)(d.u,{text:f,idealDirection:"down",children:(0,c.jsx)(d.hU,{accessibilityLabel:f,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>x(!0),size:"lg"})})})]}),u&&_&&(0,c.jsx)(o.Z,{name:"ProductGroupDetailsModal",children:(0,c.jsx)(a.Z,{onDismiss:()=>x(!1),onSubmit:()=>x(!1),productGroup:n})})]})}var h=n(270513),p=n(940458);const m=320;function g({onClick:e,productGroup:t,showControls:n,url:i}){return(0,c.jsx)(u,{onClick:e,productGroup:t,url:i,width:m,showControls:n,children:(0,c.jsx)(h.Z,{height:213,numCols:p.X1,pins:t.preview_pins,rounding:4,width:m})})}},440172:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),o=n(40142),r=n(451190),a=n(311866),s=n(881220),l=n(387021),d=n(174523),c=n(535718),u=n(34411),h=n(358873),p=n(159617),m=n(946753),g=n(968597),f=n(549135),_=n(920573),x=n(475446),y=n(231351),b=n(883119),v=n(472442),E=n(785893);const w=new b.H3([new b.Ry(h.HW),new b.Ry(p.fe)]),I=316;function C({onFileUpload:e}){const t=(0,d.ZP)(),[n,o]=(0,i.useState)(!1),r=(0,i.useRef)(null),a=t._("Upload from computer","ProductGroupDetailsModal.uploadFromComputer","Dropdown label to upload image file from your computer");return(0,E.jsxs)(b.kC,{justifyContent:"center",children:[(0,E.jsx)(b.hU,{accessibilityExpanded:n,accessibilityHaspopup:!0,accessibilityLabel:t._("Upload product group cover image menu","ProductGroupDetailsModal.productGroupCoverImageA11y","Accessibility text for upload menu"),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>o((e=>!e)),ref:r,size:"lg"}),n&&(0,E.jsx)(b.Lt,{anchor:r.current,id:"product-group-image-dropdown",onDismiss:()=>o(!1),children:(0,E.jsx)(b.Lt.Item,{onSelect:()=>{o(!1),e()},option:{value:a,label:a}})})]})}function T({image:e,onFileUpload:t,onError:n}){const i=(0,d.ZP)()._("Product Group Cover Image","ProductGroupDetailsModal.productGroupCoverImageAlt","Alt text for product group cover image");return(0,E.jsxs)(b.xu,{position:"relative",children:[(0,E.jsx)(b.xu,{height:I,width:I,rounding:5,overflow:"hidden",children:(0,E.jsx)(b.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:n})}),(0,E.jsx)(b.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,E.jsx)(C,{onFileUpload:t})})]})}const S=e=>{var t;return null===(t=(null==e?void 0:e["488x488"])||(null==e?void 0:e.originals)||(null==e?void 0:e.orig)||(null==e?void 0:e[Object.keys(e)[0]]))||void 0===t?void 0:t.url};function P({onDismiss:e,onSubmit:t,productGroup:n}){var h,p,C;const P=(0,d.ZP)(),j=P._("Edit product group display","ProductGroupDetailsModal.heading","Modal title"),A=(0,u.Z)(),D=(0,o.useDispatch)(),R=`/v3/business/users/${A.id||""}/storefront/product_group_image/`,[O,N]=(0,i.useState)(""),[k,L]=(0,i.useState)(""),[M,B]=(0,i.useState)(),[F,U]=(0,i.useState)(),[Z,G]=(0,i.useState)(!1),[H,z]=(0,i.useState)(0),[V]=(0,i.useState)((new Date).getTime()),W=n.group_type!==y.yh,{merchantId:Y,advertiserId:K}=(0,l.Z)(),{showOneToast:q}=(0,x.F9)(),$=(0,v.Ib)({advertiserId:K,merchantId:Y,productGroupsIds:[n.id],uniq:V},!1,!0),X=(0,c.Z)({name:"ApiResource",options:{url:R,data:{product_group_ids:[n.id]},uniq:V},noCache:!0}),J=(0,i.useRef)(),Q=Number(n.id),ee=null===(h=$.data)||void 0===h?void 0:h.find((e=>e.id===Q)),te=$.isLoaded&&X.isLoaded,ne=ee&&(O!==ee.name||k!==(ee.description||"")||!!M),ie=ee&&(O!==ee.name||k!==(ee.description||"")),oe=te?S(null===(p=X.data)||void 0===p||null===(C=p[n.id])||void 0===C?void 0:C[0]):null,re=n.preview_pins[0],ae=null==re?void 0:re.image_signature,se=S(null==re?void 0:re.images),le=F||[oe,se].filter((e=>!!e))[H];(0,i.useEffect)((()=>{ee&&(N(ee.name||""),L(ee.description||""))}),[ee]),(0,i.useEffect)((()=>{(0,f.j)(9854,{component:13998})}),[]);const de=()=>{e(),(0,f.j)(9856,{component:13998})};return(0,E.jsx)(b.mh,{zIndex:w,children:(0,E.jsx)(r.Z,{accessibilityModalLabel:j,align:"center",heading:j,onDismiss:de,footer:te?(0,E.jsxs)(b.kC,{alignItems:"start",children:[(0,E.jsx)(b.xu,{width:"50%",children:(0,E.jsx)(b.xv,{size:"lg",children:(0,m.nk)(P._("To edit items in this product group, visit {{catalogsLink}}","ProductGroupDetailsModal.coverImage","heading for cover image form"),{catalogsLink:(0,E.jsx)(b.rU,{href:"/product-catalogs",inline:!0,children:(0,E.jsx)(b.xv,{weight:"bold",inline:!0,children:P._("Pinterest Catalogs","ProductGroupDetailsModal.catalogsLink","link for catalogs")})},"product-catalogs-link")})})}),(0,E.jsx)(b.xu,{width:"50%",children:(0,E.jsxs)(b.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,E.jsx)(b.zx,{color:"gray",text:"Cancel",onClick:de}),(0,E.jsx)(b.zx,{color:"red",text:"Save",onClick:()=>{const e=oe?M:ae,i=[];e&&i.push(a.ZP.create("ApiResource",{url:R,data:{image_signatures:[e],product_group_id:n.id}}).callUpdate()),ie&&i.push(a.ZP.create("ProductGroupsResource",{name:O,description:k,productGroupId:Number(n.id),filters:null==ee?void 0:ee.filter_v2}).callUpdate()),t(),(0,f.j)(9857,{component:13998}),Promise.all(i).then((()=>{D((0,_.a)((new Date).getTime())),q((({onHide:e})=>(0,E.jsx)("div",{className:"ProductGroupSavedToast",children:(0,E.jsx)(s.Z,{duration:y.QE,onHide:e,text:P._("Product group saved","MerchantStorefront.ProductGroupDetailsModal.pgSaved","toast text")})})))}))},disabled:!ne})]})})]},"product-group-details-footer"):(0,E.jsx)(i.Fragment,{}),size:W?"md":"sm",children:(0,E.jsx)(b.xu,{paddingX:8,marginBottom:2,children:te?(0,E.jsxs)(b.kC,{justifyContent:"center",children:[(0,E.jsxs)(b.xu,{width:320,children:[(0,E.jsx)(b.xu,{marginBottom:4,children:(0,E.jsx)(b.xv,{size:"lg",weight:"bold",children:P._("Cover image","ProductGroupDetailsModal.coverImage","heading for cover image form")})}),(0,E.jsx)("input",{accept:"image/*",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],n=new FileReader;t&&n.readAsDataURL(t),n.addEventListener("load",(()=>{G(!0),(0,f.j)(9855,{component:13998}),a.ZP.create("ApiResource",{url:R,data:{image_base64:n.result}}).callCreate().then((e=>{var t,i;B(null===(t=e.resource_response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.image_signature),G(!1),"string"==typeof n.result&&U(n.result)}))}),!1)}},ref:J,style:{display:"none"},type:"file"}),Z&&(0,E.jsx)(b.xu,{height:I,width:I,rounding:5,color:"lightGray",justifyContent:"center",direction:"column",display:"flex",children:(0,E.jsx)(b.$j,{accessibilityLabel:P._("Uploading product group cover image","ProductGroupDetailsModal.uploadingCoverImage","spinner accessibility label"),show:!0})}),!Z&&le&&(0,E.jsx)(T,{image:le,onFileUpload:()=>{var e;null===(e=J.current)||void 0===e||e.click()},onError:()=>z(H+1)})]}),W&&(0,E.jsxs)(b.xu,{width:320,marginStart:4,children:[(0,E.jsx)(b.xu,{marginBottom:4,children:(0,E.jsx)(b.xv,{size:"lg",weight:"bold",children:P._("Title","ProductGroupDetailsModal.name","heading for product group name input")})}),(0,E.jsx)(b.nv,{disabled:(null==ee?void 0:ee.type)!==g.mR.MERCHANT_CREATED,id:"name",onChange:({value:e})=>N(e.slice(0,255)),size:"lg",type:"text",value:O}),(0,E.jsxs)(b.xu,{marginTop:2,marginBottom:4,height:30,children:[O&&(0,E.jsx)(b.xv,{size:"sm",color:"gray",children:P._("Changing your product group's name in your shop will also change its name in Catalogs","ProductGroupDetailsModal.pgName","subheading for name form")}),!O&&(0,E.jsx)(b.xv,{size:"sm",color:"red",children:P._("This field can't be blank!","ProductGroupDetailsModal.nameEmptyError","error message for an empty name input")})]}),(0,E.jsx)(b.xu,{marginBottom:4,children:(0,E.jsx)(b.xv,{size:"lg",weight:"bold",children:P._("Description","ProductGroupDetailsModal.description","heading for description form")})}),(0,E.jsx)(b.xu,{height:178,children:(0,E.jsx)(b.Kx,{id:"description",onChange:({value:e})=>L(e.slice(0,255)),placeholder:P._("Tell shoppers on Pinterest more about this product group","ProductGroupDetailsModal.descriptionPlaceholder","textarea placeholder for product group description"),value:k,rows:7})})]})]}):(0,E.jsx)(b.$j,{accessibilityLabel:P._("Loading product group details","ProductGroupDetailsModal.loadingSpinner","spinner accessibility label"),show:!0})})})})}},855830:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(476865),o=n(784655),r=n(463809),a=n(883119),s=n(785893);function l({commerceData:e,componentType:t,height:n=r.Je,merchant:l,onClick:d,pin:c,slotIndex:u,surface:h,viewParameter:p,viewType:m}){return(0,s.jsx)(a.xu,{height:n,margin:r.iO,width:r.jh,children:(0,s.jsx)(a.iP,{onTap:()=>d(c),children:(0,s.jsx)(i.default,{attributionOption:"hide",pin:c,pinId:c.id,surface:h||"ShoppingSquareGridRelatedProductsBoth",trackingParameters:{contextLogData:{commerce_data:{...e,board_owner_id:l.id,pin_is_promoted:(0,o.jL)(c)}},componentType:t,slotIndex:u,viewParameter:p,viewType:m}})})})}},359678:(e,t,n)=>{n.d(t,{Ny:()=>i,q3:()=>o,sy:()=>r});const i=236,o=16,r={bubblesStory:"storefront_category_bubbles",exploreArticle:"explorearticle",footers:["storefront_category_footer_button","storefront_footer_button","storefront_product_group_footer_button","storefront_similar_items_footer_button"],header:"storefront_header",pin:"pin",productGroup:"productgroup",story:"story"}},29768:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(549135),o=n(896829);const r={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e}){(0,i.j)(102,{...e,view:1,viewParameter:3244,component:0})}},ProductFeed:{tapProductPin:function({commerceData:e}){(0,i.j)(102,{...e,component:13700,view:4,viewParameter:3512})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e}){(0,i.j)(102,{view:4,viewParameter:3512,component:13698,objectId:e})},useShoppingProfileViewLog:function(){(0,o.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e}){(0,i.j)(120,{view:4,viewParameter:3512,component:13698,objectId:e})}}};function a({entryPoint:e,objectId:t}){return{commerce_data:JSON.stringify({entrypoint:e}),component:13698,objectId:t,view:1,viewParameter:3515}}const s={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e}){(0,i.j)(102,{...e,view:1,viewParameter:3513,component:13700})}},Categories:{tapCategoryBubble:function({entryPoint:e}){(0,i.j)(102,{commerce_data:JSON.stringify({entrypoint:e}),view:1,viewParameter:3514,component:13699})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t}){const n=a({entryPoint:e,objectId:t});(0,i.j)(120,n)},tapProductGroup:function({entryPoint:e,productGroupId:t}){const n=a({entryPoint:e,objectId:t});(0,i.j)(102,n)}},ProductPins:{tapProductPin:function({commerceData:e,component:t}){(0,i.j)(102,{...e,component:t,view:1,viewParameter:3513})},viewProductPinsFeed:function({component:e,entryPoint:t,category:n,productGroupId:o}){(0,i.j)(13,{commerce_data:JSON.stringify({entrypoint:t}),component:e,view:1,viewParameter:3513,category_title:n,product_group_id:o})}},viewFeedPage:function({entryPoint:e,viewParameter:t}){(0,i.j)(13,{view:1,viewParameter:t,commerce_data:JSON.stringify({entrypoint:e})})}};var l=n(329244);const d={Control:r,DomainModule:{trackSeeMoreClick:function({viewParameter:e}){(0,i.j)(102,{component:13327,element:11829,view:3,viewParameter:e})}},Feeds:s,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t}){(0,i.j)(13,{view:(0,l.Z)(t),viewParameter:3512,..."profile"===t?{objectId:e}:{}})},Categories:{viewCategory:function({id:e,source:t,title:n}){(0,i.j)(120,{component:13699,story_id:e,story_type:"storefront_category_bubbles",view:(0,l.Z)(t),viewParameter:3512,category_title:n})},tapCategory:function({id:e,source:t,title:n}){(0,i.j)(102,{component:13699,story_id:e,story_type:"storefront_category_bubbles",view:(0,l.Z)(t),viewParameter:3512,category_title:n})},tapSeeMoreCategories:function({id:e,source:t}){(0,i.j)(102,{component:13699,element:179,story_id:e,story_type:"storefront_category_footer_button",view:(0,l.Z)(t),viewParameter:3512})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t}){(0,i.j)(102,{component:13698,objectId:e,view:(0,l.Z)(t),viewParameter:3512})},tapSeeMoreProductGroups:function({id:e,source:t}){(0,i.j)(102,{component:13698,element:179,story_id:e,story_type:"storefront_product_group_footer_button",view:(0,l.Z)(t),viewParameter:3512})},viewProductGroup:function({productGroupId:e,source:t}){(0,i.j)(120,{component:13698,objectId:e,view:(0,l.Z)(t),viewParameter:3512})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:n,source:o}){(0,i.j)(120,{component:13700,story_id:e,story_type:"storefront_pins_feed",view:(0,l.Z)(o),viewParameter:3512,pins_feed_title:n,owner_user_id:t})},tapPin:function({commerceData:e,source:t}){(0,i.j)(102,{...e,component:0,view:(0,l.Z)(t),viewParameter:3512})}}}}},329244:(e,t,n)=>{function i(e){return"profile"===e?4:1}n.d(t,{Z:()=>i})},231351:(e,t,n)=>{n.d(t,{yh:()=>i,QE:()=>o,Md:()=>r,gE:()=>a,u3:()=>s,z1:()=>l,LT:()=>d,c8:()=>c,Q1:()=>u,Ee:()=>h});const i="ALL_PRODUCTS",o=5e3,r=e=>e?e.split("-")[0].toLowerCase():"",a=e=>{var t;return(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},s=e=>[e.country||"",r(e.locale)].join("/").toUpperCase(),l=(e,t)=>e&&t?`${e} (${r(t).toUpperCase()})`:"",d=(e,t)=>{const[n,i]=t.split("/");return l(e[n.toUpperCase()],i)},c=e=>!e||void 0===e.shop_visible||e.shop_visible,u=(e,t)=>{const n=t.map(s);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,i,o)=>n.includes(t)&&!c(e[t])&&o.indexOf(t)===i))},h=(e,t,n)=>t&&n?e.find((e=>e.country===t&&r(e.locale)===n)):void 0},383722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(535718),o=n(855168);function r(){const{username:e}=(0,o.UO)();return(0,i.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},678664:(e,t,n)=>{n.d(t,{GB:()=>r,Sq:()=>a,ZP:()=>s});var i=n(34411),o=n(896829);function r(e,t){const n=(0,i.Z)(),r=n.isAuth&&n.username===e;(0,o.Q)({object_id_str:n.isAuth&&r?n.id:void 0,view_type:4,view_parameter:t})}function a(e,t,n){const r=(0,i.Z)(),a=r.isAuth&&r.username===e?3106:3107;(0,o.Q)({object_id_str:t,view_type:4,view_parameter:a,component:n})}const s=r},266265:(e,t,n)=>{n.d(t,{o:()=>c,Z:()=>u});var i=n(174523),o=n(34411),r=n(535258),a=n(549135),s=n(998864),l=n(883119),d=n(785893);const c="AddPinRep";function u({ctaText:e,handleClick:t,height:n,iconSize:c,textSize:u}){const h=(0,i.ZP)(),p=(0,o.Z)(),m=(0,s.Z)({shouldStopEventPropagation:!1})((()=>{t&&t(),p.isPartner&&(0,a.j)(101,{component:0,element:10643})}));return(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.iP,{role:"link",onTap:m,href:"/pin-builder/",children:(0,d.jsxs)(l.Zb,{children:[(0,d.jsx)(l.xu,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:n||r.xf,justifyContent:"center",rounding:2,width:n||void 0,children:(0,d.jsx)(l.xu,{color:"white",height:c||40,rounding:"circle",width:c||40,children:(0,d.jsx)(l.JO,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:c||40})})}),(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:"gray",size:u||"lg",weight:"bold",children:e||h._("Create Pin","label to open create pin modal","label to open create pin modal")})})]})})})}},383506:(e,t,n)=>{function i(e,t){return e?t._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):t._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e,t){return e?t._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):t._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function r(e,t){return t._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function a(e,t){return e?t._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):t._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}n.d(t,{Y8:()=>i,MM:()=>o,bl:()=>r,qj:()=>a})},16719:(e,t,n)=>{n.d(t,{Z:()=>r,I:()=>a});var i=n(535718);const o=({boardId:e,ownerUsername:t,ownerName:n,ownerImgSrc:o})=>{const{data:r,isLoaded:a}=(0,i.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),s=[{name:n,src:o,href:`/${t}/`,isDim:!1}];return a&&r&&r.length>0&&r.forEach((e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),s},r=o;function a({children:e,...t}){return e(o(t))}},872571:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),o=n(40142),r=n(390764),a=n(174523),s=n(691908),l=n(883119),d=n(785893);function c(e){const t=(0,a.ZP)(),{anchor:n,experienceType:i,hideAddSectionTooltip:o}=e,{setShowBoardlessPinsModal:c}=(0,s.Z)();let u;switch(i){case"addSectionTooltip":u=(0,d.jsx)(l.J2,{anchor:n,color:"blue",idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:(0,d.jsx)(l.xu,{padding:4,children:(0,d.jsx)(l.xv,{color:"white",weight:"bold",children:t._("Tap + to add a section any time","boardActionsButton.addIconButton.addSectionFlyout","Flyout to point out where you can find add section")})})});break;case"planningActionsExperience":u=(0,d.jsx)(r.Z,{anchor:n,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0});break;case"createBoardTooltip":u=(0,d.jsx)(r.Z,{anchor:n,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{c(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"});break;default:u=null}return(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:5e3}},position:"absolute",top:!0,children:u})})}var u=n(207395),h=n(803478),p=n(101267),m=n(549156),g=n(181307);function f({anchor:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:o,onAddSection:r,onClose:s,onCreateBoard:c,onCreatePin:f,onCreateStoryPin:_,surface:x}){const y=(0,a.ZP)(),{anyEnabled:b}=(0,g.aq)("web_story_pin_creator"),{anyEnabled:v}=(0,g.aq)("web_sp2s");return(0,d.jsx)(u.Z,{anchor:e,idealDirection:t,onDismiss:s,children:(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(h.Z,{label:y._("Create","BoardActionsButton.LegoFlyout.Create","Label for a list of options to create a pin or a section"),children:[(0,d.jsx)(p.Z,{dataTestId:"Create Pin",onClick:()=>{f(),s()},children:y._("Pin","BoardActionsButton.LegoFlyout.Pin","Option to create a pin")}),_&&b&&(0,d.jsx)(p.Z,{dataTestId:"Create Story Pin",onClick:()=>{_(),s()},children:v?y._("Idea Pin","BoardActionsButton.LegoFlyout.IdeaPin","Option to create a Idea Pin"):y._("Story Pin","BoardActionsButton.LegoFlyout.StoryPin","Option to create a Story Pin")}),"profileBoards"===x&&c&&(0,d.jsx)(p.Z,{dataTestId:"Create board",onClick:()=>{c(),s()},children:y._("Board","profileHeader.actionBar.board","Option to create a board")})]}),"board"===x&&(0,d.jsxs)(h.Z,{label:y._("Add","BoardActionsButton.LegoFlyout.Add","Label for a list of options to add board sections or a board date"),children:["board"===x&&n&&(0,d.jsx)(m.Z,{id:"addBoardNote",children:(0,d.jsx)(p.Z,{onClick:()=>{n(),s()},children:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(l.xv,{weight:"bold",children:y._("Note","BoardActionsButton.LegoFlyout.Note","Option to create a board note")}),(0,d.jsx)(l.xu,{color:"blue",marginStart:2,padding:1,rounding:1,children:(0,d.jsx)(l.xv,{color:"white",size:"sm",weight:"bold",children:y._("New","BoardActionsButton.LegoFlyout.New","New option indicator")})})]})})}),"board"===x&&r&&(0,d.jsx)(m.Z,{id:"addSection",children:(0,d.jsx)(p.Z,{onClick:()=>{r(),s()},children:y._("Section","BoardActionsButton.LegoFlyout.Section","Option to create a board section")})}),"board"===x&&!!o&&(0,d.jsx)(p.Z,{onClick:()=>{o(),s()},children:y._("Date","BoardActionsButton.LegoFlyout.Date","Option to add a date to a board")})]})]})})}var _=n(717927);function x({children:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:r,onAddSection:s,onCreateBoard:u,onCreatePin:h,onCreateStoryPin:p,onOpen:m=(()=>{}),surface:g}){const x=(0,a.ZP)(),y=(0,o.useDispatch)(),b=()=>y((0,_.l)()),v=(0,o.useSelector)((({createSectionTooltip:e})=>Boolean(null==e?void 0:e.showCreateSectionTooltip))),E=(0,i.useRef)(),[w,I]=(0,i.useState)(!1),C=()=>{m(),v&&b(),I(!0)},T={board:x._("Board Actions","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget"),profileBoards:x._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),profilePins:x._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),section:x._("Create Pin","Button to begin pin creation flow","Button to begin pin creation flow")},S=e&&e({active:w,openFlyout:C})||(0,d.jsx)(l.hU,{accessibilityLabel:T[g],icon:"add",onClick:"section"===g?h:C,size:"lg"});let P;return w||"board"!==g||(v?P="addSectionTooltip":r&&(P="planningActionsExperience")),w||"profileBoards"!==g||(P="createBoardTooltip"),(0,d.jsxs)(l.xu,{"data-test-id":"boardActionsButton",children:[(0,d.jsx)(l.xu,{ref:E,children:S}),w&&(0,d.jsx)(f,{anchor:E.current,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:r,onAddSection:s,onClose:()=>I(!1),onCreateBoard:u,onCreatePin:h,onCreateStoryPin:p,surface:g}),P&&(0,d.jsx)(c,{anchor:E.current,experienceType:P,hideAddSectionTooltip:b})]})}},23219:(e,t,n)=>{n.d(t,{Z:()=>J});var i=n(667294),o=n(551687),r=n(689859),a=n(881220),s=n(174523),l=n(475446),d=n(883119),c=n(785893);const u=(0,i.lazy)((()=>n.e(4603).then(n.t.bind(n,774855,23))));function h({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const i=(0,s.ZP)(),{showOneToast:h}=(0,l.F9)(),p=i._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return(0,c.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,c.jsx)(d.xu,{flex:"grow",marginEnd:2,children:(0,c.jsx)(d.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,c.jsx)(o.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(r.Z,{fallback:(0,c.jsx)(d.zx,{text:p,disabled:!0}),children:(0,c.jsx)(u,{text:e,onCopy:(e,t)=>{t&&h((({onHide:e})=>(0,c.jsx)(a.Z,{onHide:e,text:i._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")}))),n()},children:(0,c.jsx)(d.zx,{text:p,size:"lg"})})})})]})}var p=n(640027),m=n(237574),g=n(549135),f=n(659048);const _=e=>({invite_category:4,invite_channel:12,object_type:m.d.BOARD,object_id:e});function x({boardId:e}){const[t,n]=(0,i.useState)(!1),[o,r]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(!o){const t=_(e),{cancel:n,promise:i}=(0,p.Z)(f.Z.createShareInviteData(t));return i.then((e=>r(e))),()=>{n()}}}),[]);const a=o?o.invite_url:"...",s=()=>{null===o||t||(n(!0),f.Z.logShareInvite(_(e),o))};return(0,c.jsx)(h,{linkURL:a,onDidClickCopyButton:()=>{(0,g.j)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),s()},onDidFocus:s})}var y=n(760001),b=n(151101),v=n(535718);function E({boardId:e,invitedUserId:t,isInvited:n,onClick:o,buttonSize:r="sm"}){const a=(0,s.ZP)(),l=(0,v.Z)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});(0,i.useEffect)((()=>{l.refresh()}),[]);const u={text:a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return l.isFetching&&(u.text=a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(n||l.isLoaded&&l.data)&&(u.text=a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(0,c.jsx)(d.zx,{fullWidth:!0,color:u.color,size:r,disabled:u.disabled,onClick:o,text:u.text})}var w=n(494715),I=n(497199),C=n(760620),T=n(731164),S=n(294184),P=n.n(S),j=n(525974),A=n(912397);const D="40px";function R(e){const t=(0,s.ZP)(),n={[A.vq]:t._("Find friends from Facebook"),[A.jq]:t._("Find friends from Google+"),[A.u2]:t._("Find friends from Yahoo")},{network:i}=e;return(0,c.jsx)(d.iP,{onTap:()=>function(e,t){j.Z.instance().handleConnect(e,!0,{},t)}(i,t),children:(0,c.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[(0,c.jsx)(d.xu,{width:D,height:D,marginEnd:4,children:(0,c.jsx)("div",{className:"SocialConnectCell",children:(0,c.jsx)("div",{className:P()("icon",`socialConnect-${i}`),children:(0,c.jsx)("em",{})})})}),(0,c.jsx)(d.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:(0,c.jsx)(d.xv,{color:"darkGray",size:"md",weight:"bold",children:n[i]})})]})})}var O=n(203620),N=n(34411);var k=n(163880);const L=[];function M({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:o}){const r=(0,s.ZP)(),a=(0,N.Z)();let l=null;const u=(0,v.Z)({name:"UserResource",options:{user_id:a.isAuth?a.id:"",username:a.isAuth?a.username:"",field_set_key:"social_connect"},dangerouslyDisableFetch:!a.isAuth});var h;u.data&&(h=u.data,l={facebook:{connected:h.connected_to_facebook||!1},google:{connected:h.connected_to_google||!1},youtube:{connected:h.connected_to_youtube||!1},gplus:{connected:!!h.gplus_url,url:h.gplus_url},microsoft:{connected:h.connected_to_microsoft||!1},twitter:{connected:!!h.twitter_url,url:h.twitter_url},etsy:{connected:h.connected_to_etsy||!1},instagram:{connected:h.connected_to_instagram||!1},dropbox:{connected:h.connected_to_dropbox||!1}});const[p,m]=(0,i.useState)(""),[f,_]=(0,i.useState)([]),[x,y]=(0,i.useState)({}),[S,P]=(0,i.useState)({}),j=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||r._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||r._("Email Contact","invited user has an email","invited user has an email")}return""},A=(i,o)=>{const{id:r,full_name:a,debug_reason:s}=i;let l="";s&&(l=s.reason),((t,n)=>{const i=p?1044:1039;(0,g.j)(101,{component:13029,element:i,entered_query:p,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(o,l);const d={...x};d[r]=!0,y(d),(0,k.pS)(e,[r]).then((()=>{n(a,!0)})).catch((e=>{n(a,!1,e);const t={...x};t[r]=!1,y(t)})).finally(t)},D=[...(e=>{if(!e)return[];return Object.keys(e).filter((e=>L.includes(e))).filter((t=>!1===e[t].connected)).map((e=>(0,c.jsx)(R,{network:e},`socialConnect-${e}`)))})(l)];let M=o;return p&&(M=f),(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,c.jsx)(d.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,c.jsx)(d.xu,{flex:"grow",children:(0,c.jsx)(O.Z,{onTypeaheadSuggestionsChange:e=>{T.Z.increment("web_contacts_search",1,{source:"board_invite"}),_(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:p,children:(0,c.jsx)(d.xu,{paddingX:4,children:(0,c.jsx)(d.Um,{accessibilityLabel:r._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{m(e),(0,g.j)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:r._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:p})})})})}),(0,c.jsxs)(d.xu,{overflow:"scrollY",maxHeight:414,children:[M.map(((t,n)=>{const i=t.username?`/${t.username}/`:null;return(0,c.jsx)(d.xu,{children:(0,c.jsx)(w.Z,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:j(t),accessory:(0,c.jsx)(E,{boardId:e,invitedUserId:t.id,isInvited:(o=t.id,!!x[o]),onClick:()=>A(t,n),buttonSize:"lg"}),linkURL:i})},n);var o})),p&&((0,C.Z)(p)?(0,c.jsx)(w.Z,{name:p,title:p,accessory:(B=!!S[p],F=()=>{const i=p;if(!(0,C.Z)(i))return;const o={...S};o[i]=!0,P(o),(0,k.OA)(e,[i]).then((()=>{n(i,!0),m("")})).catch((e=>{n(i,!1,e);const t={...S};t[i]=!1,P(t)})).finally(t)},U="lg",(0,c.jsx)(d.zx,{fullWidth:!0,color:B?"gray":"red",disabled:!!B,size:U,onClick:F,text:B?r._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):r._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):(0,c.jsx)(I.Z,{iconNode:(0,c.jsx)(b.Z,{name:p,size:"md"}),title:p,subtitle:r._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),D]})]});var B,F,U}var B=n(946753);function F({boardId:e}){const t=(0,s.ZP)(),n=(0,l.F9)(),{refresh:o}=(0,v.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},noCache:!0}),{refresh:r}=(0,v.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},noCache:!0}),{data:u,isLoaded:h}=(0,v.Z)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},noCache:!0});(0,i.useEffect)((()=>{(0,g.j)(7120,{objectId:e,view:5,viewParameter:3059})}),[]),(0,i.useEffect)((()=>{if(h){const e=u&&u.length>0?7511:7512;(0,g.j)(e,{component:13305,element:10592,view:5,viewParameter:3059})}}),[h]);const p=(e,t=!1)=>{n.showOneToast((({onHide:n})=>(0,c.jsx)(a.Z,{duration:3e3,onHide:n,text:e,variant:t?"error":void 0})))};return h?(0,c.jsx)(M,{boardId:e,onInvitesDidUpdate:()=>{o(),r()},onInviteDidComplete:(e,n,i)=>{n?p(t._("1 invite sent!","BoardCollabInviteFormContainer.showInviteSuccessToast.text","Toast for successfully sending invitation of collaborating a board")):((e,n)=>{const i=t._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");p(n&&n.message?n.message:(0,B.nk)(i,{userIdentifier:e}).join(""),!0)})(e,i)},shareSuggestions:u||[]}):(0,c.jsx)(d.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}const U="INVITE_SETTING",Z="REQUEST_TO_JOIN_SETTING";function G({boldHeading:e,setting:t,viewerIsOwner:n}){const o=(0,s.ZP)(),r={0:{name:o._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:o._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?o._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):o._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[U]:{name:o._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[Z]:{name:o._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},a=e?d.X6:d.xv;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(a,{color:"darkGray",size:e?"sm":"lg",children:r[t].name}),(0,c.jsx)(d.xu,{paddingY:1,children:(0,c.jsx)(d.xv,{color:"gray",size:"lg",children:r[t].description})})]})}var H=n(26629),z=n(451190),V=n(629318),W=n(855168),Y=n(585967);function K({board:e,currentPermissionLevel:t,fromBoardEditModal:n,navigateToPermissions:o,onDismiss:r}){var a;const l=(0,s.ZP)(),u="number"==typeof e.collaborator_count&&e.collaborator_count>0,[h,p]=(0,i.useState)(!u),m=(0,Y.B)(),g=(0,N.Z)(),f=(0,W.k6)(),_=g.isAuth&&(null===(a=e.owner)||void 0===a?void 0:a.id)===g.id,b=_||e.collaborator_invites_enabled,v=h&&!u||!h;return(0,c.jsx)(V.k,{boardName:e.name,pendingOwnershipTransfer:e.pending_ownership_transfer,viewerIsOwner:_,children:(0,c.jsx)(z.Z,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:h?l._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):l._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:b&&!h?(0,c.jsx)(d.iP,{onTap:()=>p(!0),rounding:8,children:(0,c.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(d.hU,{accessibilityLabel:l._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),(0,c.jsx)(d.xu,{paddingX:3,children:(0,c.jsx)(d.xv,{size:"lg",weight:"bold",children:l._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:(0,c.jsxs)(d.xu,{padding:8,children:[n&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!m.isRTL,right:m.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(d.hU,{accessibilityLabel:l._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:r})}),(0,c.jsx)(d.X6,{align:"center",size:"md",children:h?l._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):l._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})]}),onDismiss:r,children:(0,c.jsxs)(d.xu,{marginBottom:5,children:[v&&(0,c.jsxs)(d.xu,{paddingX:6,children:[(0,c.jsx)(d.xu,{paddingY:3,children:(0,c.jsx)(d.xv,{size:"sm",children:_?l._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):l._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),(0,c.jsxs)(d.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,c.jsx)(d.xu,{width:"60%",children:(0,c.jsx)(G,{boldHeading:!0,viewerIsOwner:_,setting:t})}),_&&(0,c.jsx)(d.hU,{accessibilityLabel:l._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:o})]})]}),h?(0,c.jsxs)(d.xu,{paddingX:2,children:[(0,c.jsx)(x,{boardId:e.id}),(0,c.jsx)(F,{boardId:e.id})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{paddingX:6,paddingY:5,children:(0,c.jsx)(d.xv,{size:"sm",children:l._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),(0,c.jsx)(H.Z,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=g.isAuth?`/${g.username}`:"/";f.replace(e)},renderInvite:(e,t,n)=>{const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return(0,c.jsx)(y.Z,{...i})}})]})]})})})}var q=n(40142),$=n(164756);function X({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:o,navigateToCollaborators:r,onDismiss:a}){const l=(0,s.ZP)(),[u,h]=(0,i.useState)(o),[p,m]=(0,i.useState)(e),[f,_]=(0,i.useState)(t),[x,y]=(0,i.useState)(!1),b=(0,Y.B)(),v=(0,q.useDispatch)();return(0,c.jsx)(z.Z,{accessibilityModalLabel:l._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:(0,c.jsxs)(d.xu,{paddingY:8,position:"relative",children:[(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!b.isRTL,right:b.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(d.hU,{accessibilityLabel:l._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:r})}),(0,c.jsx)(d.X6,{align:"center",size:"md",children:l._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:b.isRTL,right:!b.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(d.hU,{accessibilityLabel:l._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:a})})]}),footer:(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(d.zx,{color:"red",disabled:x||u===o&&p===e&&f===t,onClick:()=>{y(!0);const i={id:n},r={view:5,viewParameter:3472};p!==e&&(i.collaborator_invites_enabled=p,(0,g.j)(p?106:107,{element:11896,...r})),u!==o&&(i.collaborator_permissions_setting=u,(0,g.j)(8841,{...r})),f!==t&&(i.collaborator_requests_enabled=f),v((0,$.wN)(i)).then((()=>a()))},size:"lg",text:l._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:a,children:(0,c.jsxs)(d.xu,{paddingX:12,children:[(0,c.jsx)(d.xu,{paddingY:3,children:(0,c.jsx)(d.xv,{size:"sm",children:l._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),(0,c.jsxs)(d.kC,{alignItems:"center",children:[(0,c.jsx)(d.EU,{checked:0===u,id:"ALL",onChange:()=>h(0),value:0}),(0,c.jsx)(d.xu,{marginEnd:12,paddingX:2,children:(0,c.jsx)(G,{setting:0})})]}),(0,c.jsxs)(d.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,c.jsx)(d.EU,{checked:1===u,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),(0,c.jsx)(d.xu,{marginEnd:12,paddingX:2,children:(0,c.jsx)(G,{setting:1})})]}),(0,c.jsx)(d.xu,{paddingY:3,children:(0,c.jsx)(d.xv,{size:"sm",children:l._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,c.jsx)(d.XZ,{checked:p,id:"inviteSetting",onChange:({checked:e})=>m(e)}),(0,c.jsx)(d.xu,{marginEnd:12,paddingX:2,children:(0,c.jsx)(G,{setting:U})})]}),(0,c.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(d.XZ,{checked:f,id:"inviteSetting",onChange:({checked:e})=>_(e)}),(0,c.jsx)(d.xu,{marginEnd:12,paddingX:2,children:(0,c.jsx)(G,{setting:Z})})]})]})})}function J({board:e,fromBoardEditModal:t,onDismiss:n}){const[o,r]=(0,i.useState)("collaboratorsView"),{collaborator_permissions_setting:a}=e;return"collaboratorsView"===o?(0,c.jsx)(K,{board:e,currentPermissionLevel:a,fromBoardEditModal:t,navigateToPermissions:()=>r("permissionsView"),onDismiss:n}):(0,c.jsx)(X,{board:e,currentPermissionLevel:a,navigateToCollaborators:()=>r("collaboratorsView"),onDismiss:n})}},648381:(e,t,n)=>{n.d(t,{k:()=>r,s:()=>a});var i=n(667294);const o=(0,i.createContext)(Object.freeze({})),r=o.Provider;function a(){return(0,i.useContext)(o)}},816670:(e,t,n)=>{n.d(t,{cg:()=>i,c7:()=>o,Ac:()=>r});const i=-1,o=5,r=6},963232:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(577302),o=n(129826);function r({action:e,board:t,viewer:n}){var r;return(0,i.Z)(n,t)||(0,o.Z)({board:t,viewer:n})&&!(null===(r=t.collaborator_permissions)||void 0===r||!r.includes(e))}},129826:(e,t,n)=>{function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,{Z:()=>i})},363570:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(577302),o=n(129826);function r({board:e,viewer:t}){return(0,i.Z)(t,e)||(0,o.Z)({board:e,viewer:t})}},343283:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{accessibilityLabel:t,bgColor:n,icon:r,onClick:a,selected:s,size:l}=e;return(0,o.jsx)(i.hU,{accessibilityLabel:t,bgColor:null!=n?n:"transparent",icon:r,iconColor:"darkGray",onClick:a,selected:s,size:null!=l?l:"lg"})}},81:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(207395),r=n(883119),a=n(343283),s=n(785893);function l({bgColor:e,children:t,icon:n,label:l,size:d}){const c=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1),p=()=>h(!1);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(r.xu,{ref:c,children:(0,s.jsx)(a.Z,{accessibilityLabel:l,bgColor:e,icon:n,onClick:()=>h(!u),selected:u,size:d})}),u&&(0,s.jsx)(o.Z,{anchor:c.current,onDismiss:p,children:t({handleClose:p})})]})}},737479:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(316770),o=n(883119),r=n(785893);function a(e,t){return(0,r.jsx)(o.xu,{"data-test-id":`${e.props.icon}-button`,children:e},t)}function s(e){const{buttonsLeft:t,buttonsRight:n,children:s,headerHeight:l,minHeight:d,shouldStick:c}=e;return(0,r.jsx)(i.Z,{position:c?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=l?l:"pending",children:(0,r.jsx)(o.xu,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:(0,r.jsxs)(o.xu,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:d,width:"100%",children:[(0,r.jsx)(o.xu,{alignItems:"center",column:2,display:"flex",children:t.map(a)}),(0,r.jsx)(o.xu,{margin:"auto",children:s}),(0,r.jsx)(o.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:n.map(a)})]})})})}},389609:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(549135);var o=n(311866);var r=n(584489),a=n(955637);function s({boardDensity:e,component:t,surface:n,viewType:s}){!function({boardDensity:e,component:t,viewType:n}){const o=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:n}),r=4===n?3106:3069;(0,i.j)(101,{component:t,element:o,...n?{view:n,viewParameter:r}:{}})}({boardDensity:e,component:t,viewType:s}),function({density:e,surface:t}){const n="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};o.ZP.create("UserMetadataResource",n).callUpdate()}({density:e,surface:n}),function({density:e,surface:t}){const n="board"===t?a.VT:a.QG;r.Z.instance.dispatch(n(e))}({density:e,surface:n})}},367599:(e,t,n)=>{n.d(t,{SE:()=>g,l:()=>f,Zl:()=>v,ZP:()=>w,EQ:()=>x,Bk:()=>E});var i=n(40142),o=n(117937),r=n(475446),a=n(667294),s=n(16539),l=n(174523),d=n(883119),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){const e=(0,l.ZP)();return(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:(0,c.jsx)("div",{className:"boardBlockingActionToastWhiteSpinner",children:(0,c.jsx)(d.JO,{accessibilityLabel:e._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})})})}class p extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",(()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.V)})),u(this,"handleMouseEnter",(()=>{window.clearTimeout(this.timeout)})),u(this,"handleMouseLeave",(()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)}))}componentDidMount(){this.firstLine&&(window.setTimeout((()=>{this.setState({visible:!0})}),100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):this.props.i18n._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?i?this.props.i18n._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):this.props.i18n._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):i?this.props.i18n._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):this.props.i18n._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const o="inProgress"===e?`${t.name}...`:t.name;return(0,c.jsx)(d.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:(0,s.Z)(n,i)},children:(0,c.jsx)(d.FN,{text:(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(d.xv,{children:this.firstLine}),(0,c.jsx)(d.xv,{weight:"bold",children:o})]}),thumbnail:"completed"===e?void 0:(0,c.jsx)(h,{})})})}}function m(e){const t=(0,l.ZP)();return(0,c.jsx)(p,{...e,i18n:t})}const g=2e3,f=5e3;const _=["merge","move_pins","create_section"];function x({blockingActions:e,actionType:t,boardId:n,sectionId:i}){return e.find((e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||_.includes(e.action_type)&&e.is_origin||e.board_id!==n||(i?i!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)))}let y=0;const b={};function v({check:e,checkDelay:t,checkInterval:n,onComplete:i}){const o=`timeout${y}`;y+=1;const r=()=>{const t=Date.now();e().then((e=>{const a=Date.now()-t;e?(i(),delete b[o]):b[o]=setTimeout(r,Math.max(1e3,n-a))})).catch((()=>{delete b[o]}))};b[o]=setTimeout(r,t)}const E=(e,t,n,i)=>({onHide:o})=>{var r;return(0,c.jsx)(m,{actionType:t,actionStatus:e,duration:"inProgress"===e?g:2e3,location:{name:i?i.title:null!==(r=n.name)&&void 0!==r?r:"",isSection:!!i},onHide:o})};function w(e){function t(t){const n=(0,i.useDispatch)(),{showToast:a}=(0,r.F9)();return(0,c.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:i})=>{a(E("inProgress",e,t,i)),v({check:()=>n((0,o.K)(t.id)).then((n=>!x({blockingActions:n,actionType:e,boardId:t.id,sectionId:i&&i.id}))),checkDelay:g,checkInterval:f,onComplete:()=>a(E("completed",e,t,i))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},584831:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(756169),r=n(311866),a=n(512806),s=n(946753),l=n(174523),d=n(883119),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",(()=>{})),u(this,"mounted",!1),u(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),u(this,"handleKeyDown",(e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)})),u(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),u(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),u(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),u(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),u(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(r.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:r}=this.props,a=e.filter((e=>e.query)),l=r||"down",u="flyout_"+a.length;return t&&a.length>0?(0,c.jsx)("div",{className:"HashtagFlyout",children:(0,c.jsx)(d.J2,{anchor:i,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:(0,c.jsx)("div",{className:"HashtagRecommendations",children:a.length>0?a.map(((e,t)=>(0,c.jsx)("div",{className:"HashtagItem",children:(0,c.jsx)(d.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[(0,c.jsx)(d.xu,{flex:"grow",children:(0,c.jsx)(d.xv,{inline:!0,size:"md",weight:"bold",children:e.query})}),(0,c.jsx)(d.xu,{flex:"none",children:(0,c.jsx)(d.xv,{inline:!0,size:"sm",children:(0,s.nk)(this.props.i18n.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:(0,c.jsx)(o.Z,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query))):null})},u)}):null}}function p(e){const t=(0,l.ZP)(),n=(0,a.Z)();return(0,c.jsx)(h,{...e,makeCancelablePromise:n,i18n:t})}},686723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(667294),o=n(294386),r=n(845555),a=n(504534),s=n(881220),l=n(174523),d=n(475446),c=n(659048),u=n(883119),h=n(785893);function p({iconColor:e,iconSize:t,backgroundColor:n,marginEnd:p,isCloseupActionBar:m,sharedObject:g}){const f=(0,l.ZP)(),_=(0,d.F9)(),[x,y]=(0,i.useState)(""),[b,v]=(0,i.useState)(!1),[E,w]=(0,i.useState)(!1),I=f._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),C=e=>{m?navigator.clipboard.writeText(e).then((()=>{var e;e=f._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),_.showToast((({onHide:t})=>(0,h.jsx)(u.xu,{top:!0,children:(0,h.jsx)(s.Z,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{w(!0),setTimeout((()=>{w(!1)}),3e3)}))},T=async()=>{if(x)return void C(x);v(!0);const e={invite_category:3,invite_channel:12,object_type:g.type,object_id:g.id,name:g.name,description:g.description||"",path:g.url,picture:g.imageUrl};c.Z.createShareInviteData(e).then((t=>{const{invite_url:n}=t;v(!1),n&&(y(n),c.Z.logShareInvite(e,t),C(n))}))};return(0,h.jsxs)(a.Z,{iconSize:t,marginEnd:p||!1,children:[(0,h.jsx)(u.xu,{alignItems:m?"center":"stretch",display:m?"flex":"block",width:m?"100%":"auto",children:(0,h.jsx)(u.iP,{disabled:b,onTap:()=>{T()},children:(0,h.jsx)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsx)(o.Z,{backgroundColor:n,iconColor:e,size:t})})})}),!m&&(0,h.jsx)(r.Z,{text:E?I:f._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},134507:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);const r=e=>{const{size:t,name:n,textLayout:r}=e,a=`calc(${Math.sin((s=45,s*(Math.PI/180)))} * (${t}) / 2)`;var s;const l=(0,o.jsx)(i.qE,{name:n?[...n][0].toUpperCase():""});switch(r){case"bottomLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:a,paddingRight:a}},children:l});case"topLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:a,paddingRight:a}},children:l});default:return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:l})}};function a(e){const{collaborators:t,outline:n=!1,size:a="fit"}=e,{colorGray0:s,colorGray100:l}=(0,i.tv)(),d="fit"===a?"100%":32,c="fit"===a?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,d).map(((e,n)=>[e,t[n]]));return(0,o.jsxs)(i.xu,{color:"white",overflow:"hidden",rounding:"circle",width:d,height:c,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:`0 0 0 2px ${s}`}:{},willChange:"transform"}},children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map((([e,t={name:"",src:void 0}],n)=>{const{width:a,height:s,top:d,left:c,textLayout:u}=e,{name:h,src:p}=t;return(0,o.jsxs)(i.xu,{position:"absolute",width:a,height:s,dangerouslySetInlineStyle:{__style:{top:d,left:c}},children:[null!=p?(0,o.jsx)(i.Ee,{alt:h,color:l,src:p,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,o.jsx)(r,{name:h,textLayout:u,size:s}),(0,o.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)}))]})}},373600:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),a=n(549135),s=n(883119),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onUndoHide:d,isGroupChat:c}=e,u=async()=>{const t=o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n});await t.callDelete(),d(),(()=>{const{component:t,element:n}=e;(0,a.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(s.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(s.xv,{inline:!0,color:"gray",children:c?t._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):t._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,l.jsx)(s.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(s.zx,{onClick:({event:e})=>{e.stopPropagation(),u()},text:t._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),a=n(883119),s=n(549135),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onHide:d}=e,c=()=>{o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n}).callCreate().then((()=>{d(),(()=>{const{component:t,element:n}=e;(0,s.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.hide",1,{surface:t})})()}))};return(0,l.jsx)(a.hU,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),c()},accessibilityLabel:t._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return(0,i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:(0,i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},872284:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(551687),r=n(689859),a=n(174523),s=n(883119),l=n(785893);const d=(0,i.lazy)((()=>n.e(61116).then(n.bind(n,415339))));function c(e){const t=(0,a.ZP)();return(0,l.jsx)(o.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(r.Z,{fallback:(0,l.jsx)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,l.jsx)(s.$j,{accessibilityLabel:t._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0})}),children:(0,l.jsx)(d,{...e})})})}},237574:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},415339:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var i=n(667294),o=n(151101),r=n(134507),a=n(34411),s=n(237574),l=n(174523),d=n(883119),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{textValue:this.props.initialTextValue||""}),u(this,"handleSendMessage",(()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)})),u(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},a="conversation_share_suggestion"===i.type,s=a?(i.users||[]).filter((e=>e.id!==n)):[];return(0,c.jsxs)(d.xu,{paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,c.jsx)(d.xu,{height:48,paddingX:1,width:56,children:a?(0,c.jsx)(r.Z,{collaborators:s.map((e=>({name:e.full_name||e.first_name,src:e.image_large_url})))}):(0,c.jsx)(o.Z,{name:i.full_name||i.email||" ",src:i.image_large_url})}),(0,c.jsxs)(d.xu,{flex:"grow",marginStart:1,children:[(0,c.jsx)(d.xv,{weight:"bold",children:a?s.map((e=>e.first_name||e.full_name)).join(", "):i.full_name||i.email}),(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:a||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,c.jsx)(d.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function p(e){const t=(0,l.ZP)(),n=(0,a.Z)();return(0,c.jsx)(h,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var m=n(760620);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),g(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),g(this,"handleSendEmail",((e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}})),g(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),g(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return(0,c.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,c.jsx)(d.xu,{flex:"grow",children:(0,c.jsx)(d.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,c.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,c.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,c.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,m.Z)(this.state.emailValue)})})]})]})}}function _(e){const t=(0,l.ZP)();return(0,c.jsx)(f,{...e,i18n:t})}var x=n(40142),y=n(946753);function b({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=(0,l.ZP)(),a=t?r._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):r._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?(0,y.nk)(r._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):(0,y.nk)(r._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return(0,c.jsx)(d.xu,{marginBottom:4,children:(0,c.jsx)(d.iP,{onTap:()=>{t&&n()},children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:(0,c.jsx)(o.Z,{name:e})}),(0,c.jsxs)(d.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,c.jsx)(d.xv,{weight:"bold",size:"lg",children:s}),(0,c.jsx)(d.xv,{size:"sm",color:"gray",children:a})]})]})})})}var v=n(94236),E=n(373600),w=n(617629),I=n(549156);function C(e){const t=(0,l.ZP)(),{shouldShowViewChat:n,isSent:i,onClickSend:o,onViewConversation:r}=e;return(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,c.jsx)(d.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,c.jsx)(d.xu,{marginStart:1,children:(0,c.jsx)(d.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,c.jsx)(I.Z,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,c.jsx)(d.zx,{color:i?"gray":"red",disabled:i,onClick:o,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var T=n(549135);function S(e){var t,n,s;const{item:l,textFieldValue:u,onSendMessage:h,onShowSendDraft:p,onViewConversation:m,sentHistory:g}=e,[f,_]=(0,i.useState)(!1),[x,y]=(0,i.useState)(!1),[b,I]=(0,i.useState)(!1),S=l.id||"string"==typeof l.email&&l.email||"",P=S in g,j=""!==u,A=null!==(t=g[S])&&void 0!==t?t:"",D=(0,a.Z)().id||"",R="conversation_share_suggestion"===l.type,O=R?(l.users||[]).filter((e=>e.id!==D)):[],N=l.debug_reason&&l.debug_reason.readable_reason;let k="";"string"!=typeof l.full_name||l.full_name.match(/^\s*$/)?"string"!=typeof l.email||l.email.match(/^\s*$/)||(k=l.email):k=l.full_name;return f?(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,c.jsx)(E.Z,{identifier:null!==(n=l.id)&&void 0!==n?n:l.email,onUndoHide:()=>_(!1),component:13029,element:11918,isGroupChat:O.length>1})}):(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(l)},children:(0,c.jsx)(d.Zb,{onMouseEnter:()=>{y(!(j||b&&P))},onMouseLeave:()=>y(!1),children:(0,c.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:R?(0,c.jsx)(r.Z,{collaborators:O.map((e=>({name:e.full_name||e.first_name,src:e.image_medium_url})))}):(0,c.jsx)(o.Z,{accessibilityLabel:"",name:k,src:l.image_medium_url})}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,c.jsx)(d.xu,{marginBottom:1,children:(0,c.jsx)(d.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:R?O.map((e=>e.first_name||e.full_name)).join(", "):k})}),j&&N?(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:N}):"string"==typeof l.username&&(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:l.username})]}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[x&&(0,c.jsx)(d.xu,{display:"flex",marginEnd:2,children:(0,c.jsx)(w.Z,{identifier:null!==(s=l.id)&&void 0!==s?s:l.email,onHide:()=>_(!0),component:13029,element:11917})}),(0,c.jsx)(C,{shouldShowViewChat:P,isSent:b,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=u?1044:1039;(0,T.j)(101,{component:13029,element:i,entered_query:u,result_index:n+1,rs:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})})(),I(!0),h(l),y(!1)},onViewConversation:()=>m(A)})]})]})]})})}),(0,c.jsx)(v.Z.Consumer,{children:e=>{var t;return e?(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,c.jsx)(d.X6,{color:"blue",size:"sm",children:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var P=n(535718),j=n(192830);function A(e){const t=(0,l.ZP)(),{onChange:n,onSendMessage:o,onShowSendDraft:r,onShowImportContacts:a,sentHistory:s,value:u,paddingX:h}=e,{isLoaded:p}=(0,P.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{isLoaded:g}=(0,P.Z)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:u||"default"},noCache:!0}),f=(0,x.useSelector)((e=>e.social.shareSuggestions[u]||[]));(0,i.useEffect)((()=>{if(!u&&p){const e=f.length>0?7511:7512;(0,T.j)(e,{component:56,view:70,viewParameter:256})}}),[p]);const{dropdownOpen:_,conversationOpen:y}=(0,j.Z5)(),v=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),y(t),_()},E=f.map(((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:o,onShowSendDraft:r,onViewConversation:v,sentHistory:s,textFieldValue:u};return(0,c.jsx)(S,{...i},n)})),w=0===f.length&&(""===u&&!p||""!==u&&!g);return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{display:"flex",paddingX:h,position:"relative",children:(0,c.jsx)(d.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,c.jsx)(d.Um,{accessibilityLabel:t._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:n,placeholder:t._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),(0,c.jsx)(d.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new d.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,c.jsxs)(d.xu,{paddingX:h,children:[(0,c.jsx)(d.xu,{paddingY:w?2:0,children:(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:w})}),(0,c.jsxs)(d.xu,{children:[E,u&&(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.Zb,{children:(0,c.jsx)(b,{email:u,isValid:(0,m.Z)(u),onClick:()=>r({email:u,full_name:u}),showSendEmailText:!1})}),!w&&(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsx)(d.Zb,{children:(0,c.jsx)(d.iP,{onTap:a,children:(0,c.jsxs)(d.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,c.jsx)(d.xu,{paddingX:3,children:(0,c.jsx)(d.xv,{weight:"bold",children:t._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var D=n(296882),R=n(686723),O=n(252688),N=n(230457),k=n(674245);function L({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const o=t||(i?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,c.jsx)("circle",{fill:r,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,c.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:o,children:[(0,c.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,c.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,c.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,c.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var M=n(845555),B=n(504534);function F({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:o}){const r=(0,l.ZP)(),u=(0,a.Z)();return t&&[s.d.BOARD,s.d.PINNER,s.d.USER].includes(e.type)&&u.isAuth&&(e.id===u.id||u.isEmployee)?(0,c.jsxs)(B.Z,{iconSize:i,marginEnd:!0,children:[(0,c.jsx)(d.iP,{fullWidth:!1,onTap:t,children:(0,c.jsx)(L,{backgroundColor:o,iconColor:n,size:i})}),(0,c.jsx)(M.Z,{text:r._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var U=n(447186),Z=n(855168),G=n(659048);const H="#EFEFEF",z="#333333";function V({size:e=48,grayscale:t=!1}){const n=t?z:"#FFFFFF",i=t?H:"#1877f2";return(0,c.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[(0,c.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function W({size:e=48,grayscale:t=!1}){const n=t?z:"#FFFFFF",i=t?H:"#0DC2FF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function Y({size:e=48,grayscale:t=!1}){const n=t?z:"#FFFFFF",i=t?H:"#25d366";return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function K({size:e=48,grayscale:t=!1}){const n=t?z:"#fff",i=t?H:"#00b900";return(0,c.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,c.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function q({size:e=48,grayscale:t=!1}){const n=t?z:"#fff";return(0,c.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,children:[(0,c.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var $=n(181307),X=n(475446),J=n(382745);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=48,te="#111111",ne="#EFEFEF",ie={backgroundColor:"#ffffff",border:"none",padding:0},oe=new Set(["JP","TW","TH"]),re=new Set(["US","UK","CA","AU","DE"]),ae=e=>{(0,k.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),N.Z)};class se extends i.Component{constructor(...e){super(...e),Q(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Q(this,"mounted",!1),Q(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(G.Z.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))})),Q(this,"selectText",(e=>{e.target.select()}))}componentDidMount(){this.mounted=!0,this.getWhatsAppURL()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===s.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case s.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case s.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case s.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);G.Z.createShareInviteData(e).then((e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,D.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!U.Z.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),(0,T.j)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ae((()=>{G.Z.shareFacebookInvite(this.getShareOptions(5))}))}openFbMessengerDialog(){ae((()=>{G.Z.shareFbMessengerInvite(this.getShareOptions(6))}))}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(G.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){G.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){G.Z.shareLineInvite(this.getShareOptions(8))}openRedditDialog(){G.Z.shareRedditInvite(this.getShareOptions(29))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n,showRedditPinShare:o,activateWebRedditPinShareExp:r,showRedditBoardShare:a,activateWebRedditBoardShareExp:s,i18n:l}=this.props;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"around",children:[n&&(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:ie,children:(0,c.jsx)(K,{size:48})}),(0,c.jsx)(M.Z,{text:l._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ie,tabIndex:"-1",children:(0,c.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,c.jsx)(Y,{size:ee})})}),(0,c.jsx)(M.Z,{text:l._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ie,children:(0,c.jsx)(V,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!n,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ie,"data-test-id":"twitter-share-icon",children:(0,c.jsx)(W,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&(0,c.jsx)(B.Z,{iconSize:ee,marginEnd:!1,children:this.renderEmail()})]}),(0,c.jsxs)(d.xu,{display:"flex",paddingY:4,children:[(o&&r().anyEnabled||a&&s().anyEnabled)&&(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:()=>this.handleSocialShareClick("reddit"),style:ie,children:(0,c.jsx)(q,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,c.jsx)(F,{backgroundColor:ne,iconColor:te,iconSize:ee,onCreatePincodeClick:t,sharedObject:e}),(0,c.jsx)(R.default,{sharedObject:e,backgroundColor:ne,iconColor:te,iconSize:ee,marginEnd:n,isCloseupActionBar:!1},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return(0,c.jsxs)(B.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:ie,children:(0,c.jsx)(O.Z,{backgroundColor:ne,iconColor:te,size:ee})})}),(0,c.jsx)(M.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return(0,c.jsxs)(d.xu,{paddingX:t,children:[(0,c.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,c.jsx)(d.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),(0,c.jsx)(d.xu,{paddingX:2,children:this.renderShareOptions()})]})}}function le(e){const t=(0,l.ZP)(),n=(0,a.Z)(),i=(0,Z.TH)(),o=n.isAuth&&oe.has(n.country),r=n.isAuth&&re.has(n.country),s=r&&(0,J.uM)(i),d=(0,$.tc)("web_auth_pin_reddit_share"),u=r&&(0,J.am)(i),h=(0,$.tc)("web_auth_board_reddit_share");return(0,c.jsx)(se,{...e,toastManagerContext:(0,X.F9)(),viewer:(0,a.Z)(),showLineShare:o,i18n:t,showRedditPinShare:s,showRedditBoardShare:u,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:h})}var de=n(731164),ce=n(311866),ue=n(881220);function he(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var pe=n(818270);const me=(e,t)=>{const n={};return e.forEach((e=>{n[e]=t})),n};function ge(e){const t=(0,l.ZP)(),[n,o]=(0,i.useState)(!1),[r,u]=(0,i.useState)(null),[h,m]=(0,i.useState)({}),[g,f]=(0,i.useState)(""),[x]=(0,i.useState)(((e,t)=>"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType,t)),{showOneToast:y}=(0,X.F9)(),{surface:b}=(0,pe.$)(),v=(0,a.Z)(),{conversationCreate:E}=(0,j.Z5)(),w=(0,j.NG)(),I=(t,n)=>{o(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,o=i.id;de.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),(0,T.j)(180,{element:276,objectId:o,conversation_id:t,pin_id:n})})(t,n)},C=e=>{de.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&y((({onHide:e})=>(0,c.jsx)(ue.Z,{variant:"error",duration:5e3,onHide:e,text:t})))},S=async(t,n,i)=>{const{sharedObject:o,sendType:r}=e,a=o.id,s={emails:n,user_ids:t,text:i,source:he(b)};s[r]=a;const l=ce.ZP.create("ConversationsResource",s);try{const e=await l.callCreate(),i=e&&e.resource_response.data;E(i),I(i.id,"pin"===r?a:null),t.length>0?m({...h,...me(t,i.id)}):m({...h,...me(n,i.id)})}catch(d){C(d)}},P=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sharedObject:o,sendType:r}=e;let a;switch(r){case"pin":a="pinId";break;case"board":a="boardId";break;case"did_it":a="didItId";break;case"user":case"pinner":a="userId"}const s=a?w(t,{text:n,[a]:o.id,source:he(b)},void 0,v):void 0;s&&s.then((()=>{I(t,"pin"===r?o.id:null),m({...h,[t]:t})})).catch((e=>{C(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?S([],[t.email],n):S([t.id],[],n),(0,T.j)(101,{component:56,element:276})},D=(t,n)=>{e.sendType!==s.d.SEARCH||n?P(t,n):ce.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const n=e.message;P(t,n)}))},R=()=>{o(!1),u(null)},{onCreatePincodeClick:O,onShowImport:N,sendType:k,sharedObject:L,isFlyout:M,onHide:B,onExternalSend:F}=e,U="email"===r?(0,c.jsx)(_,{initialTextValue:x,isFlyout:M,objectId:L.id,objectType:k,onCancelDraft:R,onHide:B,onSendMessage:D}):(0,c.jsx)(p,{initialTextValue:x,isFlyout:M,objectId:L.id,objectType:k,onCancelDraft:R,onHide:B,onSendMessage:D,recipient:"object"==typeof r?r:void 0});return n?U:(0,c.jsxs)(d.xu,{color:"white",children:[(0,c.jsx)(le,{onCreatePincodeClick:O,onEmailIconClick:()=>{o(!0),u("email")},onExternalSend:F,onHide:B,paddingX:4,sharedObject:L}),(0,c.jsx)(d.xu,{children:(0,c.jsx)(A,{isFlyout:M,onChange:({value:e})=>{f(e),(0,T.j)(4113,{component:13029,element:1043})},onHide:B,onSendMessage:D,onShowImportContacts:N,onShowSendDraft:e=>{o(!0),u(e),f("")},paddingX:4,sentHistory:h,value:g})})]})}var fe=n(294184),_e=n.n(fe),xe=n(525974);const ye=["facebook","google"];function be(e,t){return"facebook"===e?t._("Facebook"):"twitter"===e?t._("Twitter"):"google"===e?t._("Google"):t._("Other")}function ve(e){const t=(0,l.ZP)(),n=_e()("sendShare",e.network),i=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return(0,c.jsx)("a",{onClick:e.onClick,role:"button",children:(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("em",{className:"icon"}),(0,c.jsxs)("div",{className:"networkInfo",children:[(0,c.jsx)("h4",{className:"title",children:be(e.network,t)}),i?(0,c.jsx)("div",{className:"subtitle",children:i}):null]})]})})}function Ee({onBack:e}){const t=(0,l.ZP)(),n=(0,a.Z)(),i=n.isAuth?n.email:null,o=ye.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected));return(0,c.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[(0,c.jsxs)("div",{className:"header",children:[(0,c.jsx)("div",{className:"backNav",children:(0,c.jsxs)("a",{onClick:e,role:"button",children:[(0,c.jsx)("span",{className:"icon"}),(0,c.jsx)("span",{className:"label",children:t._("Back")})]})}),(0,c.jsx)("div",{className:"prompt",children:t._("Upload contacts from...")})]}),(0,c.jsx)("ul",{className:"socialConnectOptions",children:o.map((e=>(0,c.jsx)("li",{style:{borderLeft:"none"},children:(0,c.jsx)(ve,{email:i,network:e,onClick:()=>function(e,t){xe.Z.instance().handleConnect(e,!0,{},t)}(e,t)})},e)))})]})}function we({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:o,onHide:r,sendType:a,sharedObject:s,viewType:l,viewParameter:u}){const[h,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>((0,T.j)(7120,{objectId:s.id,view:l,viewParameter:u}),()=>{(0,T.j)(7121,{objectId:s.id,view:l,viewParameter:u});const e=m?7493:7492;(0,T.j)(e,{view:l,viewParameter:u})})),[]);const f=()=>{p(!0)},_=()=>{p(!1)},x=()=>{g(!0)};return h?(()=>{const e=t?"SendObjectBase sendShare":"";return(0,c.jsx)("div",{className:e,children:(0,c.jsx)(Ee,{onBack:_})})})():(0,c.jsx)(d.xu,{overflow:"hidden",children:(0,c.jsx)(ge,{isFlyout:t,onCreatePincodeClick:n,onHide:r,onShowImport:f,onMessageSent:x,onExternalSend:o,sendType:a,sharedObject:s})})}},506184:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(602173),r=n(343283),a=n(174523),s=n(883119),l=n(255539),d=n(785893);const c=l.Z.makeSendShareButton((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:n}){const i=(0,a.ZP)(),o=i._("Send Profile","Accessible label for button to send this profile","Accessible label for button to send this profile");return n?(0,d.jsx)(s.zx,{accessibilityLabel:o,onClick:e,selected:t,size:"lg",text:i._("Share","sendProfileButton.button","Button to share user profile")}):(0,d.jsx)(r.Z,{accessibilityLabel:o,icon:"share",onClick:e,selected:t})}));var u=n(34411);function h({shownWithinProfileHeader:e,useGestaltButton:t,user:n}){var r;const[a,s]=(0,i.useState)(!1),l=(0,u.Z)(),h=(0,o.Z)({user:n,viewer:l});return(0,d.jsx)(c,{fullName:null!==(r=n.full_name)&&void 0!==r?r:"",gridDescription:"",imageSrc:n.image_large_url,isFlyoutOpen:a,isOwnProfile:h,onFlyoutDismiss:()=>s(!1),onToggleFlyout:()=>s(!a),profileUrl:`/${n.username}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:n.id})}},845555:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(988089),o=n(883119),r=n(785893);const a=({text:e})=>(0,r.jsx)(o.xv,{align:"center",size:"sm",children:(0,r.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},504534:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({iconSize:e,marginEnd:t,children:n})=>(0,o.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n})},792575:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(451190),o=n(174523),r=n(883119),a=n(785893);function s({error:e,onHide:t}){const n=(0,o.ZP)(),s=n._("Oops!");return(0,a.jsx)(i.Z,{accessibilityModalLabel:s,role:"alertdialog",heading:s,onDismiss:t,size:"sm",footer:(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(r.zx,{color:"red",onClick:t,size:"lg",text:n._("Okay")})}),children:(0,a.jsx)(r.xu,{paddingX:8,children:(0,a.jsx)(r.xv,{align:"center",children:e.message})})})}},278646:(e,t,n)=>{n.d(t,{L:()=>g,t:()=>f});var i=n(904192),o=n(73697),r=n(549156),a=n(174523),s=n(302199),l=n(946753),d=n(585967),c=n(883119),u=n(785893);function h({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function p({count:e,countFormat:t,textSize:n}){const{locale:i}=(0,d.B)(),o=(0,a.ZP)(),h=(0,s.Z)();return(0,u.jsx)(c.xv,{size:n,children:(0,u.jsx)(r.Z,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?(0,l.nk)(o.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):h(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function m({count:e,countFormat:t,ratingTextSize:n,ratingValue:r,shippingInfo:a,showDot:s}){const l=h({count:e,ratingValue:r}),{free_shipping_price:d,free_shipping_value:c}=a||{},m=l&&!!r&&(0,u.jsx)(i.Z,{rating:r,width:12});return{rating:m&&l&&!!e&&(0,u.jsx)(p,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(c)&&(0,u.jsx)(o.ZP,{freeShippingPrice:d,freeShippingValue:c,dot:s?"· ":""}),stars:m}}function g({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:a}=m({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return(0,u.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,u.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[a,o&&(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&(0,u.jsx)(c.xu,{marginTop:a?1:0,children:(0,u.jsx)(c.xv,{color:"gray",size:"md",children:r})})]})}function f({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=h({count:e,ratingValue:n}),{rating:r,shipping:a,stars:s}=m({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return(0,u.jsxs)(c.xu,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[s,r,a&&(0,u.jsx)(c.xu,{marginStart:s?1:0,children:(0,u.jsx)(c.xv,{color:"darkGray",size:"lg",children:a})})]})}},344886:(e,t,n)=>{n.d(t,{Z0:()=>i,qA:()=>o,_z:()=>r,fM:()=>a,$O:()=>s,Xv:()=>l,GZ:()=>d,OE:()=>c,zX:()=>u});const i=40,o=4,r=106,a=133,s=.1,l=10,d=246,c=197,u=236},463809:(e,t,n)=>{n.d(t,{Je:()=>i,s_:()=>o,dA:()=>r,iO:()=>a,jh:()=>s});const i=350,o=134,r=16,a=2,s=236},94236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)(!1)},172738:(e,t,n)=>{n.r(t),n.d(t,{SendButton:()=>u,default:()=>h});var i=n(533127),o=n(975151),r=n(883119),a=n(785893);const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:l}){return(0,a.jsx)(o.Z,{children:({active:o,focused:d,hovered:c,onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:m,onMouseLeave:g,onMouseUp:f})=>{let _={borderRadius:24};if(c){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";_={..._,backgroundColor:e}}if(o){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";_={..._,backgroundColor:e}}return d&&(_={..._,...s}),(0,a.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:m,onMouseLeave:g,onMouseUp:f,onClick:i,children:(0,a.jsx)(r.xu,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:_},children:(0,a.jsxs)(r.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.JO,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),(0,a.jsx)(r.xu,{paddingX:3})]}),(0,a.jsx)(r.xv,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var d=n(174523),c=n(255539);const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:o,isSVG:r,iconOnly:s})=>{const c=(0,d.ZP)(),u="icon"===e,h=r&&o?o:"share",p={accessibilityLabel:c._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:h};return u?(0,a.jsx)(i.Z,{...p,isSVG:r,iconOnly:s,iconColor:t}):(0,a.jsx)(l,{...p,buttonColor:"lightGray",buttonText:c._("Send","Text for button to send this pin","Text for button to send this pin")})},h=c.Z.makeSendShareButton(u)},657542:(e,t,n)=>{n.d(t,{Z:()=>D});var i=n(667294),o=n(294184),r=n.n(o),a=n(264721),s=n.n(a),l=n(624500),d=n(702925),c=n(174523),u=n(34411),h=n(454690),p=n(311866);var m=n(946753),g=n(515897),f=n(883119),_=n(785893);const x=d.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function y(e){return e.map((({full_name:e})=>e))}const b=function({users:e,onClose:t,isLoading:n,onSubmit:i}){const o=(0,c.ZP)(),r=(0,_.jsx)("strong",{children:(0,l.Z)(y(e),o)},"userlist");return(0,_.jsxs)("form",{method:"post",children:[(0,_.jsxs)(f.xu,{padding:2,children:[(0,m.nk)(o._("If you block {{ users }}, you won’t be able to follow  each other or interact with each other’s Pins.","description of blocking users","description of blocking users"),{users:r}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(f.rU,{inline:!0,href:x,children:o._("Learn more","link to learn more about blocking","link to learn more about blocking")})]}),(0,_.jsx)("div",{className:"formFooter",children:(0,_.jsx)("div",{className:"formFooterButtons",children:(0,_.jsxs)(f.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,_.jsx)(f.xu,{paddingX:1,children:(0,_.jsx)(f.zx,{fullWidth:!0,id:"cancelButton",onClick:t,text:o._("Cancel","UserBlock.Cancel","cancel form")})}),(0,_.jsx)(f.xu,{paddingX:1,children:(0,_.jsx)(f.zx,{fullWidth:!0,color:"red",id:"submitButton",onClick:i,text:o._("Block","UserBlock.Submit","submit form to block users"),type:"submit"})})]})})})]})};var v=n(311864);const E=d.Z.settings.HELP_BLOCKING,w=d.Z.settings.POLICY_COMMUNITY_GUIDELINES;const I=({board:e,detailedReasons:t,flagReason:n,flagType:o,onClose:a,selectedReason:d,status:x,users:I})=>{const C=(0,c.ZP)(),[T,S]=(0,i.useState)({}),{setModalTitle:P,setStatus:j}=(0,g.d)(),A=(0,u.Z)(),{id:D}=A.isAuth?A:{},R=null==e?void 0:e.followed_by_me,O=I[0].explicitly_followed_by_me,N=I.filter((({id:e})=>T[e])),k=N.length>0;(0,i.useEffect)((()=>{(()=>{let e;s()([v.qb.SUBMITTED,v.qb.PROCESSING],x)?e=C.ngettext("Block this person?","Block these people?",N.length,"BlockAndUnfollow","Confirmation text when blocking users (plural)"):o===v.Vm.CONVERSATION&&(e=x===v.qb.COMPLETED?(0,m.nk)(C._("You’ve blocked {{usernames}}","BlockAndUnfollow","title of modal after user has been blocked"),{usernames:(0,l.Z)(y(N),C).join("")}).join(""):C._("Thanks for your report","BlockAndUnfollow","title at end of report flow")),P(e)})()}),[x]),(0,i.useEffect)((()=>{j(k?v.qb.SELECTED:v.qb.STARTED)}),[T]);const L=I.filter((({id:e})=>e!==D)),M=({target:{value:e}})=>{S({...T,[e]:!Boolean(T[e])})},B=()=>{S(T),j(v.qb.SUBMITTED)},F=({id:e,full_name:t})=>function(e,t){const{id:n,value:i,isSelected:o,labelText:r,labelDescription:a,handler:s}=e;return(0,_.jsxs)("label",{className:"blockAndUnfollowFormLabel",htmlFor:n,onChange:s,children:[(0,_.jsx)("input",{id:n,name:"action",type:"checkbox",value:i,checked:o}),(0,_.jsx)("span",{className:"uncheckedBox",children:"☐"}),(0,_.jsx)("span",{className:"checkedBox",children:"☑"}),(0,_.jsxs)("div",{className:"labelWrapper",children:[r,(0,_.jsx)("span",{className:"labelDescription",children:a})]})]},n)}({id:"blockPinner"+e,value:e,labelText:(0,m.nk)(C._("Block {{ pinnerName }}","BlockAndUnfollow","form option to block a pinner"),{pinnerName:t}),labelDescription:C._("You won’t be able to send each other messages or interact with each other’s Pins.","BlockAndUnfollow","explanation of blocking a user"),isSelected:Boolean(T[e]),handler:M});let U;return U=s()([v.qb.STARTED,v.qb.COMPLETED],x)?(0,_.jsx)(f.zx,{fullWidth:!0,color:"red",onClick:a,text:C._("Done","Block.Complete","confirm reporting flow is done & close modal")}):(0,_.jsx)(f.zx,{fullWidth:!0,color:"red",onClick:B,text:C._("Block","BlockAndUnfollow","submit users to block")}),(0,_.jsx)("form",{className:r()({BlockAndUnfollowForm:x!==v.qb.COMPLETED,ConfirmDialog:x===v.qb.COMPLETED,fluid:x===v.qb.COMPLETED}),method:"post",children:s()([v.qb.SUBMITTED,v.qb.PROCESSING],x)?(0,_.jsx)(b,{isLoading:x===v.qb.PROCESSING,onClose:()=>{j(v.qb.SELECTED)},onSubmit:()=>(j(v.qb.PROCESSING),Promise.all(Object.keys(T).filter((e=>T[e])).map((e=>function(e){const t=p.ZP.create("UserBlockResource",{blocked_user_id:e}),n="user_block";return t.callCreate().then((()=>{h.Z.trackEvent(n,"success")}),(()=>{h.Z.trackEvent(n,"error")}))}(e)))).finally((()=>{j(v.qb.COMPLETED)}))),users:N}):(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)("div",{className:r()("flagContent",{modalActionDescription:x===v.qb.COMPLETED}),children:x!==v.qb.COMPLETED?(()=>{let e,t;return"harassingOther"===d?e=(0,m.nk)(C._("We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.","confirmation message after reporting harassment","confirmation message after reporting harassment"),{communityGuidelines:(0,_.jsx)(f.rU,{inline:!0,href:w,children:C._("Community Guidelines","link to community guidelines for harassment","link to community guidelines for harassment")},"policyLink")}):"harassingPublicFigure"===d?e=C._("Please note that we won’t necessarily take down stuff that attacks public figures.","message shown after reporting harrassment","message shown after reporting harrassment"):"harassingFriend"===d?e=C._("Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.","message shown after reporting harrassment","message shown after reporting harrassment"):s()(["spam","policies","hurtfulContent"],n)&&(e=C._("We’ll take a look at this Pin and delete it if it goes against our policies.","confirmation message after reporting a pin","confirmation message after reporting a pin")),t=R&&O?C._("You can also unfollow or block this person.","description to block or unfollow","description to block or unfollow"):C.ngettext("You can also block this person.","You can also block these people.",L.length,"description to block people","description to block people"),(0,_.jsxs)("div",{className:"blockAndUnfollowFormContent",children:[(0,_.jsxs)("div",{className:"modalDescription",children:[e&&(0,_.jsxs)(f.xu,{children:[e,(0,_.jsx)("br",{}),(0,_.jsx)("br",{})]}),t]}),L.map((e=>F(e)))]})})():k&&(0,_.jsx)("span",{children:C._("You won’t be able to follow each other or interact with each other’s pins.","BlockAndUnfollow","message describing what blocking means")},"blockingConfirmation")}),(0,_.jsxs)("div",{className:"formFooter",children:[x!==v.qb.COMPLETED&&(0,_.jsx)("p",{className:"helpText",children:(0,m.nk)(C._("Learn more about {{ linkToTopic }}","BlockAndUnfollow","footer link to learn more about a topic"),{linkToTopic:(0,_.jsx)(f.rU,{inline:!0,href:E,children:C._("blocking","BlockAndUnfollow","footer link to learn more about blocking")},"policyLink")})}),(0,_.jsx)("div",{className:"formFooterButtons",children:U})]})]})})};function C(e,t,n){return e.map(((e,i)=>{const{condition:o}=e;return void 0===o||o?function(e,t,n,i){const{text:o,value:r,category:a}=e;return(0,_.jsx)("label",{className:"flagReasonLabel",htmlFor:r,children:(0,_.jsxs)(f.xu,{alignItems:"center",padding:2,display:"flex",children:[(0,_.jsx)(f.EU,{checked:n===r,id:r,onChange:e=>t(e,r,a),name:"flagReason",value:r}),(0,_.jsx)(f.xu,{padding:2,children:(0,_.jsx)(f.xv,{size:"md",children:o})})]})},i)}(e,t,n,i):null}))}class T{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const n in e)e[n].forEach((e=>{const i=e.value;if(Object.prototype.hasOwnProperty.call(t,i))throw new Error("Duplicate key in FlagOptions config: "+i);t[i]=e,t[i].parentOption=n}));return t}(e)}getFlagOption(e){return this.configMap[e]}renderFlagLabels(e){const{flagReason:t,onSelectReason:n,selectedReason:i}=e;return C(this.config[t],n,i)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=d.Z.settings.POLICY_COMMUNITY_GUIDELINES,j={contentContainer:{color:"#999",display:"table",fontSize:13,height:360,width:550},contents:{display:"table-cell",padding:"0 18px",textAlign:"center",verticalAlign:"middle"}};class A extends i.Component{constructor(...e){super(...e),S(this,"flagOptions",new T(this.props.flagOptionsConfig)),S(this,"handleClose",(()=>{this.props.onClose()})),S(this,"handleRevert",(()=>{this.props.onRevert&&this.props.onRevert()})),S(this,"handleNext",(()=>{this.props.onNext&&this.props.onNext()})),S(this,"renderPolicyLink",(()=>{const{flow:e,flagReason:t}=this.props;if(e===v.Zw.REPORT){if("attacks"===t)return(0,_.jsx)(f.xv,{size:"sm",children:(0,m.nk)(this.props.i18n._("Learn more about our {{ linkToTopic }}","footer link to learn more about community guidelines","footer link to learn more about community guidelines"),{linkToTopic:(0,_.jsx)(f.rU,{target:"blank",href:P,children:(0,_.jsx)(f.xv,{inline:!0,color:"red",size:"sm",weight:"bold",children:this.props.i18n._("Community Guidelines","name of footer link to community guidelines","name of footer link to community guidelines")})},"policyLink")})});if("policies"===t)return(0,_.jsxs)("p",{children:[(0,_.jsx)(f.xv,{size:"sm",children:(0,m.nk)(this.props.i18n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,_.jsx)(f.rU,{target:"blank",href:P+"#sub-section-adult-content",children:(0,_.jsx)(f.xv,{inline:!0,color:"red",size:"sm",children:this.props.i18n._("our nudity policies","name of footer link to policy","name of footer link to policy")})},"policyLink")})}),(0,_.jsx)(f.xv,{size:"sm",children:(0,m.nk)(this.props.i18n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,_.jsx)(f.rU,{target:"blank",href:P+"#sub-section-dangerous-goods-and-activities",children:(0,_.jsx)(f.xv,{inline:!0,color:"red",size:"sm",children:this.props.i18n._("our policies on hurtful content","name of footer link to policy","name of footer link to policy")})},"policyLink")})}),(0,_.jsx)(f.xv,{size:"sm",children:(0,m.nk)(this.props.i18n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,_.jsx)(f.rU,{target:"blank",href:P+"#sub-section-violence",children:(0,_.jsx)(f.xv,{inline:!0,color:"red",size:"sm",children:this.props.i18n._("our policies on gore","name of footer link to policy","name of footer link to policy")})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,_.jsx)(f.xv,{size:"sm",children:(0,m.nk)(this.props.i18n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,_.jsx)(f.rU,{target:"blank",href:P,children:(0,_.jsx)(f.xv,{inline:!0,color:"red",size:"sm",weight:"bold",children:"spam"===t?this.props.i18n._("our spam policies","name of footer link to policy","name of footer link to policy"):this.props.i18n._("our policies","name of footer link to policy","name of footer link to policy")})},"policyLink")})})}})),S(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===v.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===v.Zw.END?(0,_.jsx)("span",{style:j.contents,children:this.props.i18n._("We’ll use your feedback to make your Pinterest experience better.","final message in reporting flow","final message in reporting flow")}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case v.Zw.REPORT:n&&n();break;case v.Zw.BLOCK:i&&i()}}render(){const{aggregated_rich_data_type:e,board:t,className:n,detailedReasons:o,flagType:a,flow:s,status:l,onClose:d,pin:c,selectedReason:u,submitButton:h,flagReason:p,showPrimaryAction:m,users:g}=this.props;let x=e;if(!x&&c&&c.rich_metadata){const e=c.rich_metadata;["recipe","tutorial"].forEach((t=>{var n;e[t]&&e[t].from_aggregated_data&&null!==(n=e[t].additional_data)&&void 0!==n&&n.url&&(x=t)}))}let y,b=null;return s===v.Zw.REPORT&&(b=void 0===p?(0,_.jsx)(f.zx,{fullWidth:!0,onClick:this.handleClose,text:this.props.i18n._("Cancel","cancel form","cancel form")}):(0,_.jsx)(f.zx,{fullWidth:!0,onClick:this.handleRevert,text:this.props.i18n._("Back","previous step in a form","previous step in a form")})),s===v.Zw.REPORT?v.qb.PROCESSING===l||this.flagOptions.getFlagOption(u)&&this.flagOptions.getFlagOption(u).isTerminalReason?y=h:m&&(y=(0,_.jsx)(f.zx,{fullWidth:!0,color:"red",disabled:void 0===u,onClick:this.handleNext,text:this.props.i18n._("Next","go to the next view in the report flow","go to the next view in the report flow")})):s===v.Zw.END&&(y=(0,_.jsx)(f.zx,{fullWidth:!0,color:"red",onClick:this.handleClose,text:this.props.i18n._("Got it","confirm reporting flow is done & close modal","confirm reporting flow is done & close modal")})),(0,_.jsx)("div",{className:r()(n,{FlagBase:s===v.Zw.REPORT}),children:s===v.Zw.BLOCK?(0,_.jsx)(I,{board:t,detailedReasons:o,flagReason:p,flagType:a,onClose:d,selectedReason:u,status:l,users:g}):(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)("div",{className:r()("flagContent",{withBadRichDataLabel:x,modalActionDescription:s===v.Zw.BLOCK&&l===v.qb.COMPLETED}),style:s===v.Zw.END||"IP"===p?j.contentContainer:null,children:this.renderContent()}),(0,_.jsx)("div",{className:"formFooter",children:(0,_.jsxs)(f.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(f.xu,{flex:"grow",children:this.renderPolicyLink()}),(0,_.jsx)(f.xu,{padding:1,children:b}),(0,_.jsx)(f.xu,{padding:1,children:y})]})})]})})}}function D(e){const t=(0,c.ZP)();return(0,_.jsx)(A,{...e,i18n:t})}},646631:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(6582);const o=({id:e,viewParameter:t,viewType:n})=>(0,i.c)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"aggregatedComment"})},515897:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>l});var i=n(667294),o=n(762803),r=n(311864),a=n(785893);const{Provider:s,useHook:l}=(0,o.ZP)("Flag"),d=({children:e})=>{const[t,n]=(0,i.useState)(),[o,l]=(0,i.useState)(r.Zw.REPORT),[d,c]=(0,i.useState)(r.qb.STARTED),[u,h]=(0,i.useState)(),[p,m]=(0,i.useState)();return(0,a.jsx)(s,{value:{flagReason:p,flow:o,status:d,selectedReason:u,modalTitle:t,setFlagReason:m,setFlow:l,setModalTitle:n,setStatus:c,setSelectedReason:h},children:e})}},721739:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(40142),r=n(773432),a=n(294184),s=n.n(a),l=n(657542),d=n(451190),c=n(702925),u=n(174523),h=n(20420),p=n(515897),m=n(883119),g=n(311864),f=n(785893);const _=c.Z.settings.ABOUT_DMCA_PIN_URL,x="policies";const y=(0,o.connect)(null,(function(e){return{reportDidIt:(t,n,i,o,r)=>e((0,h.Th)(t,n,i,o,r))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:o,reportDidIt:a,username:c,users:h})=>{const y=(0,u.ZP)(),[b,v]=(0,i.useState)([]),[E,w]=(0,i.useState)(),[I,C]=(0,i.useState)(),{flow:T,modalTitle:S,selectedReason:P,setFlow:j,setModalTitle:A,setSelectedReason:D,setStatus:R,status:O}=(0,p.d)();(0,i.useEffect)((()=>{A((()=>{if(T===g.Zw.REPORT)switch(I){case"attacks":return y._("What's going on?","title for report content flow");case x:return y._("What's wrong with this Try?","title for report content flow","title for report content flow");case"IP":return y._("Intellectual Property","title for report content flow for IP complaints","title for report content flow for IP complaints");default:return y._("What's wrong with this Try?","title for the report content flow","title for the report content flow")}else if(T===g.Zw.END&&b.includes("notUseful"))return y._("Thanks for letting us know!","title at end of report flow when content is not useful","title at end of report flow when content is not useful");return""})())}),[b,T,I]);const N=(0,f.jsx)(m.zx,{fullWidth:!0,color:"red",onClick:()=>{if(R(g.qb.PROCESSING),"ignoreThisPin"===P)j(g.Zw.BLOCK),R(g.qb.STARTED);else{const n=[...b,P];v(n),a(e,n,t,E,c),b.includes("notUseful")?(j(g.Zw.END),R(g.qb.STARTED)):(j(g.Zw.BLOCK),R(g.qb.STARTED))}},text:y._("Report content","button to report content")});return(0,f.jsx)(d.Z,{accessibilityModalLabel:y._("Report conversation","Pin.DidIt.Report","Accessibility label for report pin did it"),heading:S,onDismiss:n(!1),size:"md",children:(0,f.jsx)(l.Z,{className:s()({FlagContent:T===g.Zw.REPORT}),content:"IP"===I?(0,f.jsx)(m.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,f.jsxs)(m.xu,{mdColumn:9,children:[(0,f.jsx)(m.xu,{padding:2,marginStart:2,children:(0,f.jsx)(m.xv,{align:"center",color:"darkGray",weight:"bold",children:y._("If you’ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.","explanation of IP complaint process","explanation of IP complaint process")})}),(0,f.jsx)(m.xu,{padding:2,children:(0,f.jsx)(m.zx,{role:"link",href:(0,r.Z)(_,{pin_id:o,user_did_it_id:t}),color:"red",text:y._("File a report","link to DMCA form","link to DMCA form"),target:"blank"})})]})}):null,flagType:g.Vm.DID_IT,flow:T,onClose:n(!0),onNext:()=>{C(P),v([...b,P]),D()},onRevert:()=>{const e=b[b.length-1],t=b.slice(0,-1);D(e),C(t[t.length-1]),v(t),w(),R(void 0===e?g.qb.STARTED:g.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(D(t),R(g.qb.SELECTED),w(n))},showPrimaryAction:"IP"!==I,submitButton:N,status:O,selectedReason:P,flagReason:I,users:h,flagOptionsConfig:{__default:[{text:y._("It isn't useful or relevant","tried-it reporting flow","tried-it reporting flow"),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:y._("It shouldn't be on Pinterest","tried-it reporting flow","tried-it reporting flow"),value:x,isTerminalReason:!1},{text:y._("It's spam","tried-it reporting flow","tried-it reporting flow"),value:"spam",isTerminalReason:!0,category:"spam"},{text:y._("It's my intellectual property","tried-it reporting flow","tried-it reporting flow"),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:y._("It's sexually explicit","tried-it reporting flow","tried-it reporting flow"),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:y._("It's self-harm","an option on tried-it reporting flow","an option on tried-it reporting flow"),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:y._("It's hate speech","tried-it reporting flow","tried-it reporting flow"),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:y._("It's harassment or bullying","tried-it reporting flow","tried-it reporting flow"),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:y._("It's graphic violence","tried-it reporting flow","tried-it reporting flow"),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:y._("It's a photo of me or my child","tried-it reporting flow","tried-it reporting flow"),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:y._("It identifies and attacks me or someone I know","tried-it reporting flow","tried-it reporting flow"),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:y._("Something else","tried-it reporting flow","tried-it reporting flow"),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})})}))},377876:(e,t,n)=>{n.d(t,{bj:()=>i,u7:()=>o,ZP:()=>r});const i={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",DANGEROUS_GOODS:"dangerous-goods",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MISINFORMATION:"misinformation",MISLEADING:"misleading-promoted",OFFENSIVE:"offensive-promoted",LOW_QUALITY:"low-quality-promoted",INTELLECTUAL_PROPERTY:"intellectualProperty",PRODUCT_OFFENSIVE:"offensive-product",PRODUCT_MISLEADING:"misleading-product",PRODUCT_PROHIBITED:"prohibited-product",PRODUCT_MATURE:"mature-product",PRODUCT_WEAPONS:"weapons-product",PRODUCT_RESTRICTED_HEALTHCARE:"restricted-healthcare-product",NETZDG:"netzdg",CONSPIRACY_THEORIES:"conspiracy-theories",MEDICAL_MISINFORMATION:"medical-misinformation",POLITICAL_MISINFORMATION:"political-misinformation"},o={spam:10583,nudity:10584,"self-harm":10585,"hate-speech":10586,"dangerous-goods":11479,attacks:10587,"graphic-violence":10588,"medical-misinformation":11150,intellectualProperty:10594,"low-quality-promoted":10591,"misleading-promoted":10589,"offensive-promoted":10590,"offensive-product":11452,"misleading-product":11453,"prohibited-product":11454,"mature-product":11455,"weapons-product":11456,"restricted-healthcare-product":11457,netzdg:11683,"conspiracy-theories":11762,"political-misinformation":11760,misinformation:11790},r=i},101161:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(584489),o=n(6582),r=n(784655);const a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,l=(0,r.VX)(e),d=(0,r.jL)(e);let c;if((0,r.iR)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];c=t&&t.duration}return()=>{i.Z.instance.dispatch((0,o.c)({id:a,isProduct:l,isPromoted:d,videoDuration:c,viewParameter:t,viewType:n,type:"pin"}))}}},311864:(e,t,n)=>{n.d(t,{Zw:()=>i,qb:()=>o,Vm:()=>r});const i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},o={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},r={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},432921:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(965035),o=n(174523),r=n(883119),a=n(785893);function s({duration:e}){const t=(0,o.ZP)();return(0,a.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(r.JO,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,a.jsx)(r.xu,{marginStart:1,children:(0,a.jsx)(r.xv,{color:"white",size:"sm",lineClamp:1,children:(0,i.Z)(e)})})]})}},727407:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),o=n(23279),r=n.n(o),a=n(102156);var s=n(30494),l=n(80078),d=n(549135),c=n(748455),u=n(883119),h=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",_={rootMargin:f,threshold:g},x={rootMargin:f,threshold:l.iM},y=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function v(e){return!!e.volume&&e.volume>0}class E extends i.Component{constructor(e){super(e),p(this,"videoWrapperRef",(0,i.createRef)()),p(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),p(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),p(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),p(this,"handleLoop",(()=>{this.videoTime=0})),p(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,o=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const o of i){const i=o*n;if(e<=i&&t>i)return o}return null}(this.videoTime,i,this.currentInterval.videoDuration,m);if("number"==typeof o&&this.props.playing&&!t&&n){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),p(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),p(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),p(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),p(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],o=t[n+1];if(null==o)return i;if(i<=e&&e<o)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:y.PAUSED}):this.startNewInterval({viewability:i}))})),p(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),p(this,"handleClose",(()=>{this.startNewInterval()})),p(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:v(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};v(e)&&!v(this.props)?n.isAudible=!1:!v(e)&&v(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?y.PLAYING:y.PAUSED:y.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:o,windowHeight:r,windowWidth:a,viewability:s,...l}=t;if(null!=i&&null!=o&&null!=r&&null!=a&&null!=s){const t={...l,height:i,width:o,windowHeight:r,windowWidth:a,viewability:s};(0,d.j)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:o,videoEndTime:r,isAudible:a,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:m}},...g}=e;return{...g,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:o,endVideoTime:r,isAudible:a,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:m}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:p,controls:m,cropHeight:g,hlsConfig:f,inAdsDesktopVideoExperiment:y,isAutoPlay:b,loop:v,objectFit:E,onLoadedChange:w,onPause:I,onPlay:C,onSeek:T,onVolumeChange:S,playbackRate:P,playing:j,playsInline:A,poster:D,preload:R,rootMargin:O,src:N,surface:k,videoStartTime:L,volume:M}=this.props,{seeking:B}=this.state,F=y?x:_;return void 0!==O&&(F.rootMargin=k?(0,s.e)(k):O),(0,h.jsx)(a.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(u.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,h.jsx)(c.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:p,controls:m,hlsConfig:f,isAutoPlay:b,loop:v,objectFit:E,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:w,onLoop:this.handleLoop,onPause:I,onPlay:C,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:T,onTimeChange:this.handleTimeChange,onVolumeChange:S,playbackRate:P,playing:!B&&j,playsInline:A,poster:D,preload:R,src:N,videoStartTime:L,visible:this.visible,volume:M})})})}}p(E,"defaultProps",u.nk.defaultProps)},647560:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(40142),r=n(484898),a=n(727407),s=n(974780),l=n(80078),d=n(81260),c=n(731164),u=n(172738),h=n(549135),p=(n(255539),n(174523)),m=n(883119),g=n(785893);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},x={overlay:{__style:{backgroundColor:"#000"}}};class y extends i.PureComponent{constructor(...e){super(...e),f(this,"setSendButton",(e=>{this.sendButton=e})),f(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),c.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),f(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),(0,h.j)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})})),f(this,"handleExternalSend",(()=>{c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),f(this,"renderReplayButton",(()=>(0,g.jsx)(m.iP,{onTap:this.handleRestartVideo,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})}))),f(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(u.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.iP,{onTap:this.handleShareVideo,rounding:2,children:(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})}))}componentDidMount(){const{pinId:e}=this.props;c.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),(0,h.j)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:x.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,g.jsxs)(m.xu,{position:"absolute",children:[(0,g.jsx)(m.xu,{children:this.renderShareButton()}),(0,g.jsx)(m.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function b(e){const t=(0,p.ZP)();return(0,g.jsx)(y,{...e,i18n:t})}const v=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=(0,p.ZP)();return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:x.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,g.jsx)(m.xu,{children:(0,g.jsx)(m.iP,{onTap:i,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:r._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:r._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})};var E=n(136686),w=n(226806),I=n(552443),C=n(428568),T=n(32529);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),S(this,"state",{controls:"always"===this.props.showControls,duration:0,fullscreen:!1,playing:!r.Z.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),S(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!s.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:s.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(E._z),i.addSubspan("perceived_video_load",null,s.Z.now()),i.metricId.segment===E.zc&&i.removeConstraint(E.pM))})),S(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:r}=n&&i||o||{},a=(s=e||r)&&document.querySelector(`video[poster="${s}"]`)||null;var s;4===(null==a?void 0:a.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),S(this,"componentDidUpdate",((e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&"hover"===this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1})})),S(this,"handleTouch",(()=>{const{seeking:e}=this.state;e||this.setState((e=>({playing:!e.playing})))})),S(this,"handleShowControls",(()=>this.setState({controls:!0}))),S(this,"handleHideControls",(()=>this.setState({controls:!1}))),S(this,"handleReady",(()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})})),S(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:o,onEnded:r}=this.props;var a;e.stopPropagation(),o||(this.setState({playing:!1}),(a=t)&&a.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()})),S(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),S(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),S(this,"handleDurationChange",(({duration:e})=>{this.setState({duration:e})})),S(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),S(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),S(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),S(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),S(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),S(this,"handleVolumeChange",(({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})})),S(this,"exitFullscreen",(()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),S(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return i?(0,g.jsx)(v,{...r}):(0,g.jsx)(b,{...s,...o})}))}render(){const{autoplay:e,contextLogData:t={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:n,isPromoted:i,loop:o,onTimeChange:s,objectFit:c,preferMp4:u,preload:h,storyPinContext:p,showControls:f,variant:_,video:x,videoStartTime:y}=this.props;t.is_closeup_video=!0;const{controls:b,fullscreen:v,playing:E,showEndCard:w,volume:I}=this.state,C=r.Z.isSafari(),T=x.hlsv3||x.hls||null,{ideaPinSessionId:S}=p||{};if(!T&&!x.mp4)return null;const P=x.mp4,j=u&&P&&P.url||T&&[{type:"video/m3u8",src:T.url}]||void 0,{height:A,thumbnail:D,width:R}=u&&P||T||{},O=n||D;let N;return N="default"===_?0:"storyPin"===_?d.yR:2,(0,g.jsx)(m.zd,{willChangeTransform:!(C&&v),rounding:N,wash:!0,children:w?this.renderCloseupVideoEndCard(null!=O?O:"",null!=A?A:1,null!=R?R:1,i):(0,g.jsx)(m.iP,{onMouseEnter:"hover"===f?this.handleShowControls:void 0,onMouseLeave:"hover"===f?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,g.jsx)(a.Z,{contextLogData:{...t,...S&&{idea_pin_session_id:S},video_id:this.props.video.id,video_play_type:"video"},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=R?R:1)/(null!=A?A:1),captions:"",controls:b,hlsConfig:{startLevel:l.VS},isAutoPlay:!!e,objectFit:c,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:s,onVolumeChange:this.handleVolumeChange,preferMp4:u,playing:E,preload:h,poster:O,src:j,videoStartTime:y,volume:I,loop:o})})})}}S(P,"defaultProps",{loop:!1,showControls:"hover"});const j=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:a}=o;let s=null;return s=i?a[n]:r[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}}),((e,t)=>({setCurrentVideo:t=>e((0,T.jt)(t))})))((function(e){const t=(0,p.ZP)(),n=(0,C.g)(),i=(0,w.EV)(),o=(0,I.c)();return(0,g.jsx)(P,{...e,i18n:t,pwtSurfaceContext:i,storyPinContext:o,storyPinStepStopwatch:n})}))},357937:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(40142),o=n(500953),r=n(32529);function a({children:e}){const t=(0,i.useDispatch)();return(0,o.Z)((()=>(t((0,r._L)(!1)),()=>{t((0,r._L)(!0))}))),e}var s=n(883119),l=n(785893);const d=new s.Ry(1e3);function c({anchor:e,children:t,color:n,idealDirection:i,onDismiss:o,positionRelativeToAnchor:r,showCaret:c,shouldFocus:u,size:h}){return(0,l.jsx)(a,{children:(0,l.jsx)(s.xu,{zIndex:d,children:(0,l.jsx)(s.J2,{anchor:e,color:n,idealDirection:i,onDismiss:o,positionRelativeToAnchor:r,showCaret:c,shouldFocus:u,size:h,children:t})})})}},852474:(e,t,n)=>{n.d(t,{t:()=>o,Z:()=>r});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},28745:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},30494:(e,t,n)=>{n.d(t,{e:()=>i});const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const o=document.querySelector('[data-root-margin="search-one-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},768491:(e,t,n)=>{n.d(t,{k:()=>o.k,Z:()=>a});var i=n(585967),o=n(625838),r=n(785893);const a=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,r.jsx)(i.LC,{children:i=>(0,o.Z)(i.locale,n,e,t)})},756169:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(302199),o=n(585967),r=n(785893);const a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:d,value:c})=>{const u=(0,i.Z)();return(0,r.jsx)(o.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:s,style:l,uplimit:d})})}},569716:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(454690),o=n(155656),r=n(418190),a=n(174523),s=n(635691),l=n(883119),d=n(785893);function c({color:e,completeButtonText:t,completeUrl:n,dismissButtonText:c,experienceId:u,external:h,message:p,onComplete:m,onDismiss:g,onRender:f}){const _=(0,a.ZP)();f&&f();const x=({event:e})=>{10202===u&&s.Z.instance().subscribe(),m&&m(e)},y=({event:e})=>{i.Z.trackEvent("nag","click_close"),g&&g(e)},b=p&&!t,v=500735===u,E=t&&(!n||v)&&(0,d.jsx)(l.zx,{color:"white",onClick:x,text:t}),w=t&&n&&(0,d.jsx)(r.Z,{accessibilityLabel:t,rounding:6,url:n,onClick:e=>x({event:e}),external:h,children:(0,d.jsx)(l.xu,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:(0,d.jsx)(l.xv,{align:"center",color:e,weight:"bold",children:t})})},"naglink"),I=c&&g&&(0,d.jsx)(l.xu,{mdPaddingX:2,children:(0,d.jsx)(l.zx,{color:e&&"darkGray"!==e?"transparent":"gray",onClick:y,text:c})}),C=b&&!v&&g&&(0,d.jsx)(l.hU,{accessibilityLabel:_._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:y,icon:"cancel"});return(0,d.jsxs)(l.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{column:12,smColumn:b?11:8,children:(0,d.jsxs)(l.xv,{color:"white",weight:v?"normal":"bold",children:[(0,d.jsx)(o.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,d.jsx)("div",{className:"Banner--message",children:(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})})]})}),(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"end",children:[I,E||w,C]})]})}},326149:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(975151),o=n(785893);const r=e=>{const{accessibilityLabel:t,children:n,className:r,dataTestId:a,onClick:s,onMouseEnter:l,onMouseLeave:d,style:c}=e;return(0,o.jsx)(i.Z,{children:({active:e,focused:i,hovered:u,onBlur:h,onFocus:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:f,onMouseUp:_})=>(0,o.jsx)("button",{"data-test-id":a,"aria-label":t,style:c,onBlur:h,onFocus:p,onMouseDown:m,onMouseEnter:e=>{g(),l&&l(e)},onMouseLeave:e=>{f(),d&&d(e)},onMouseUp:_,onClick:s,className:r,children:n({active:e,focused:i,hovered:u})})})}},316770:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(159617),r=n(883119),a=n(313949),s=n(557162),l=n(341088),d=n(785893);function c({children:e,className:t,forwardRef:n,offset:c=0,position:u,shouldShowShadow:h=!1,style:p={},top:m}){const{setIsContentHeaderPresent:g}=(0,a.i)();(0,i.useEffect)((()=>(g(!0),function(){g(!1)})),[]);const{currentScrollPosition:f,isScrolled:_,setSubheaderShadow:x}=(0,l.WQ)();(0,i.useEffect)((()=>(h&&x("contentHeader"),()=>{h&&x(null)})),[h]);let y=!1;"pending"!==m&&(y=null!=m?f>=m:_);const b=(0,s.t)(),v=(0,d.jsx)("div",{className:t,ref:n,style:{...p,top:b+c,...y&&h?{...o.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,d.jsx)(r.Le,{top:b+c,children:v}):v}},313949:(e,t,n)=>{n.d(t,{i:()=>s,Z:()=>l});var i=n(667294),o=n(762803),r=n(785893);const{Provider:a,useHook:s}=(0,o.ZP)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1);return(0,r.jsx)(a,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},482547:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"md",children:"·"})})}},442634:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(482547),r=n(883119),a=n(785893);function s(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:n,items:l}){const d=e?(0,a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,a.jsx)(o.Z,{color:t})}):(0,a.jsx)(o.Z,{color:t}),c=l.filter(s).reduce(((e,t,n)=>[...e,0!==n?d:null,t]),[]).filter(s).map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t)));return 0===c.length?null:n?(0,a.jsx)(r.xu,{children:c}):(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:c})}},975151:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(8742);function o({children:e}){return e((0,i.Z)())}},475446:(e,t,n)=>{n.d(t,{Zo:()=>o,F9:()=>r,Cl:()=>a});var i=n(762803);const{Provider:o,useHook:r,HOC:a}=(0,i._D)("toastManagerContext")},52620:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(883119),r=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),a(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:l}=this.props,d=Array.isArray(n)?n.join(""):n;return(0,r.jsx)(o.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,r.jsxs)(o.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:d,children:[!l&&t&&(0,r.jsx)(o.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?(0,r.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):(0,r.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),(0,r.jsxs)(o.xu,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,r.jsx)(o.xv,{color:"darkGray",size:l?"sm":"md",weight:e?"bold":"normal",children:n}),(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:!l&&i&&(0,r.jsx)(o.xu,{marginBottom:2,marginTop:1,children:(0,r.jsx)(o.xv,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(l,"defaultProps",{bold:!0})},207395:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(357937),o=n(883119),r=n(785893);function a({anchor:e,children:t,idealDirection:n,onDismiss:a,paddingX:s,paddingY:l,size:d="lg"}){return(0,r.jsx)(o.xu,{display:"flex",flex:"grow",zIndex:new o.Ry(1e3),children:(0,r.jsx)(i.Z,{anchor:e,idealDirection:null!=n?n:"down",onDismiss:a,positionRelativeToAnchor:!0,size:d,children:(0,r.jsx)(o.xu,{direction:"column",display:"flex",flex:"grow",paddingX:null!=s?s:2,paddingY:l,role:"list",children:t})})})}},803478:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,label:t}){return(0,o.jsxs)(i.xu,{marginTop:2,paddingY:2,role:"listitem",children:[(0,o.jsx)(i.xu,{paddingX:2,children:(0,o.jsx)(i.xv,{size:"sm",children:t})}),(0,o.jsx)(i.xu,{marginTop:2,role:"list",children:e})]})}},101267:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(174523),r=n(883119),a=n(785893);function s({children:e,dataTestId:t,flexGrow:n,icon:s,onClick:l,url:d}){const c=(0,o.ZP)(),[u,h]=(0,i.useState)(!1);let p;"selected"===s?p=(0,a.jsx)(r.JO,{accessibilityLabel:c._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===s&&(p=(0,a.jsx)(r.JO,{accessibilityLabel:c._("External page","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item is a link to an external page"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const m="string"==typeof e?(0,a.jsx)(r.xu,{maxWidth:p?230:void 0,children:(0,a.jsx)(r.xv,{weight:"bold",children:e})}):e,g=d?"link":"button";return(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(0, 0, 0, 0.06)":void 0}},"data-test-id":t,role:"listitem",rounding:2,flex:n?"grow":"shrink",children:(0,a.jsx)(r.iP,{role:g,href:d,onBlur:()=>h(!1),onFocus:()=>h(!0),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTap:l,target:"externalLink"===s?"blank":null,children:(0,a.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2,children:[m,p&&(0,a.jsx)(r.xu,{flex:"none",marginStart:"auto",children:p})]})})})}},418190:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(87657),r=n(736342),a=n(268648),s=n(215828),l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,d.jsx)(o.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t;class h extends i.Component{constructor(...e){super(...e),c(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),c(this,"anchorElementRef",(0,i.createRef)()),c(this,"handleBlur",(()=>this.setState({focused:!1}))),c(this,"handleFocus",(()=>this.setState({focused:!0}))),c(this,"handleMouseDown",(()=>this.setState({active:!0}))),c(this,"handleMouseEnter",(()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})})),c(this,"handleMouseLeave",(()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})})),c(this,"handleMouseUp",(()=>this.setState({active:!1})))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:n,children:i,onClick:o,onNavigationHandler:a,rounding:s="pill",tabIndex:c=0,url:h}=this.props,{active:p,focused:m,hovered:g}=this.state,f="pill"===s?2:1,_="circle"===s?48:"";return(0,d.jsx)(u,{anchorElementRef:this.anchorElementRef,experienceAnchor:t,children:(0,d.jsx)(l.iP,{accessibilityLabel:e,href:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==o||o(e),a({event:e})},rel:n?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:s,tabIndex:c,children:(0,d.jsx)(r.Z,{active:p,focused:m,justBgFocused:!0,hovered:g,rounding:s,children:(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",direction:"pill"===s?void 0:"column",height:_,justifyContent:"center",padding:f,position:"relative",rounding:s,width:_,children:i})})})})}}function p(e){const t=(0,a.Z)({href:e.url,onHistoryChange:s.Jd});return(0,d.jsx)(h,{...e,onNavigationHandler:t})}},736342:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);function r(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function a(e){const{active:t=!1,borderRadius:n,children:a,focused:s=!1,justBgFocused:l=!1,hovered:d=!1,rounding:c,hoverBgColor:u,bgColor:h="transparent",size:p="lg"}=e,m=t?{backgroundColor:"transparent"===h?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,g=!d||s||t?null:{backgroundColor:r(u,h)},f=s?{backgroundColor:r(u,h),outline:"0",...l?{}:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)"}}:null;let _;if("circle"===c)switch(p){case"xs":_=24;break;case"sm":_=32;break;case"md":_=40;break;case"lg":_=48;break;case"xl":_=56;break;default:_=48}const x=_,y={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[h],...g,...m,...f,...n?{borderRadius:n}:{}};return(0,o.jsx)(i.xu,{rounding:c,dangerouslySetInlineStyle:{__style:y},height:_,width:x,children:a})}},701438:(e,t,n)=>{n.d(t,{n:()=>u});var i=n(578429),o=n(311866),r=n(613330),a=n(163109),s=n(190039),l=n(20420),d=n(923828);const c={[d.o.aggregatedComment]:"AggregatedCommentReplyResource",[d.o.pin]:"AggregatedCommentResource",[d.o.didIt]:"DidItCommentsResource"};function u({fromUnifiedComment:e,objectId:t,objectType:n,pinId:d,replyToCommentId:u,tags:h,text:p}){return async m=>{const g=c[n],f={objectId:t,pinId:d,tags:h,text:p,replyToCommentId:u},_="pin"===n&&e?r.DV.UNIFIED_COMMENTS:r.DV.AGGREGATED_COMMENTS,x=await o.ZP.create(g,f).callCreate({showError:!1}),y=x.resource_response.data;return m(function(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}(t,y)),m((0,i.Z)({feedType:_,feedId:t,itemIds:[y.id],itemType:y.type})),m("pin"===n&&d?(0,a.R)(d,1):"aggregatedComment"===n?(0,s.s)(t,1):(0,l.L8)(t,1)),y.id||x}}},677397:(e,t,n)=>{n.d(t,{$:()=>c});var i=n(411221),o=n(311866),r=n(949438),a=n(613330),s=n(163109),l=n(190039),d=n(20420);function c({aggregatedCommentId:e,aggregatedPinId:t,feedType:n,parentId:c,type:u,updateParentCommentCount:h}){return async p=>{const m=await o.ZP.create("AggregatedCommentResource",{commentId:e,pinId:r.Rv.TOP===u?c:null}).callDelete({showError:!1});return p((0,i.Z)({feedId:n===a.DV.UNIFIED_COMMENTS&&t||c,feedType:n||a.DV.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"})),p(function(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}(c,e)),h&&(u||0===u)&&(u===r.Rv.TOP?p((0,s.R)(c,-1)):u===r.Rv.REPLY_TO_AGGREGATED?p((0,l.s)(c,-1)):p((0,d.L8)(c,-1))),m}}},607263:(e,t,n)=>{function i(e){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:e}}}function o(e){return{type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:e}}}n.d(t,{y:()=>i,V:()=>o})},536180:(e,t,n)=>{n.d(t,{SL:()=>o,f9:()=>r,Pd:()=>a,rK:()=>s,nI:()=>l});var i=n(311866);function o({commentId:e,tags:t,text:n}){return o=>i.ZP.create("AggregatedCommentResource",{commentId:e,tags:t,text:n}).callUpdate({showError:!1}).then((i=>{const{tagged_users:r}=i.resource_response.data,a=r.map((e=>Object.assign({},e)));o({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:e,tagged_users:a,tags:JSON.parse(t),text:n}}})}))}function r({aggregatedCommentId:e,isLikedByMe:t}){return n=>{const o=i.ZP.create("AggregatedCommentLikeResource",{aggregatedCommentId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:e,reaction_by_me:t?0:1}}})}}function a({aggregatedCommentId:e,isMarkedHelpfulByMe:t}){return n=>{const o=i.ZP.create("HelpfulResource",{helpfulModelType:1,objectId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:e,marked_helpful_by_me:!t}}})}}function s({aggregatedCommentId:e,pinId:t,isHighlighted:n}){return o=>{const r=i.ZP.create("AggregatedCommentHighlightResource",{aggregatedCommentId:e,pinId:t});return n?r.callDelete({showError:!1}):r.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:e,pin_id:t,is_highlighted:!n}}})}}function l({userId:e,featureMap:t}){return n=>{i.ZP.create("AggregatedCommentFeaturesResource",{userId:e,featureMap:t}).callUpdate({showError:!1}).then((({resource_response:{data:e}})=>{n(function(e){return{type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:e}}}({featureMap:e}))}))}}},190039:(e,t,n)=>{function i(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}n.d(t,{s:()=>i})},32529:(e,t,n)=>{n.d(t,{LX:()=>i,jt:()=>o,D8:()=>r,Dm:()=>a,_L:()=>s,Sg:()=>l,Sp:()=>d});const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function d(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},117937:(e,t,n)=>{n.d(t,{K:()=>o});var i=n(311866);function o(e){return t=>function(e){return i.ZP.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,n)=>{const i=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;i?t(i):n(new Error("No blocking actions found in the response"))}))))}(e).then((n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n)))}},163880:(e,t,n)=>{n.d(t,{OA:()=>a,pS:()=>s,q1:()=>l,Jn:()=>d,Cf:()=>c,xx:()=>u});var i=n(454690),o=n(311866);const r="collaborator_approve_invite";function a(e,t){return o.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return o.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function l(e,t){return n=>o.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then((()=>{i.Z.trackEvent(r,"success")})).catch((()=>i.Z.trackEvent(r,"error")))}function d(e,t,n){return t=>{const{invited_user:i,status:r,board:{id:a}}=e;return o.ZP.create("accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}function c(e,t){return async n=>{await o.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),n(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function u(e,t){return async n=>{await o.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),n(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}},40197:(e,t,n)=>{n.d(t,{oG:()=>o,xQ:()=>r,Br:()=>a,A8:()=>s,Cr:()=>l,ZP:()=>d});var i=n(357846);const o=(e,t)=>n=>n((0,i.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})),r=e=>o(e,"pin_count"),a=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),l=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),d=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},164756:(e,t,n)=>{n.d(t,{Tq:()=>m,oL:()=>g,K8:()=>f,aX:()=>_,yT:()=>x,wN:()=>y,L1:()=>v,Ss:()=>E,xk:()=>w,YV:()=>I,xH:()=>C,Fi:()=>T});var i=n(454690),o=n(711349),r=n(311866),a=n(153155),s=n(613330),l=n(357846),d=n(273341),c=n(101691);const u="board_create",h="board_delete",p="board_edit";function m(e,t){return(0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function g(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function f(e){return t=>{e&&(0,d.Q2)(e).forEach((e=>{t(e)}))}}function _(e,t,n){const o={...e};return s=>(s({type:"BOARD_CREATE",payload:{board:e}}),r.ZP.create("BoardResource",o).callCreate().then((e=>{i.Z.trackEvent(u,"success");const r=e.resource_response.data;return r&&(s(f(n)),null!=t&&t.isFBC||s(g(o,r)),s((0,a.Y)(r.owner.id))),r})).catch((e=>{throw i.Z.trackEvent(u,"error"),e})))}function x(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function y(e,t){return n=>{const o=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},a={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...t?{orbac_subject_id:t}:Object.freeze({}),...o};return n({type:"BOARD_UPDATE",payload:{boardUpdateOptions:a}}),r.ZP.create("BoardResource",a).callUpdate().then((t=>{i.Z.trackEvent(p,"success");const o=t&&t.resource_response&&t.resource_response.data||e;n(x(a,o))})).catch((e=>{throw i.Z.trackEvent(p,"error"),e}))}}function b(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function v(e,t){return(n,o)=>{var a;const s=o().boards.content[e],{pin_count:l}=s,{id:d=""}=null!==(a=s.owner)&&void 0!==a?a:{};return n({type:"BOARD_DELETE",payload:{boardId:e}}),r.ZP.create("BoardResource",{board_id:e,...t?{orbac_subject_id:t}:Object.freeze({})}).callDelete().then((()=>{i.Z.trackEvent(h,"error"),n(b(e)),n((0,c.JS)({userId:d,increment:"number"==typeof l?-l:0}))})).catch((e=>{throw i.Z.trackEvent(h,"error"),e}))}}function E(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function w(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),r.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate())}function I(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),r.ZP.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return n=>r.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((()=>Promise.all([n(b(e)),n(m(t,"pin_count")),n((0,o.Z)(s.DV.BOARD_SECTIONS,t))])))}function T(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},317485:(e,t,n)=>{function i(e,t){let n="SET_PERSONALIZATION_COOKIES";return"analytic"===e?n="SET_ANALYTICS_COOKIES":"marketing"===e&&(n="SET_MARKETING_COOKIES"),{type:n,payload:{value:t}}}function o(){return{type:"ALLOW_ALL_COOKIES"}}function r(){return{type:"REJECT_ALL_COOKIES"}}n.d(t,{c_:()=>i,YU:()=>o,XM:()=>r})},717927:(e,t,n)=>{function i(){return{type:"SHOW_SECTION_TOOLTIP"}}function o(){return{type:"HIDE_SECTION_TOOLTIP"}}n.d(t,{W:()=>i,l:()=>o})},647392:(e,t,n)=>{n.d(t,{w:()=>o,Y:()=>r});var i=n(311866);function o({didItDataId:e,isLikedByMe:t}){return n=>{const o=i.ZP.create("DidItLikeResource",{didItDataId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function r({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>{const o=i.ZP.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}},752430:(e,t,n)=>{function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function a(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function s(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function l(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function d(e,t,n=!1,i=!1,o={},r=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:a}}}function c(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function u(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function h(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function p(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function m(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,{JT:()=>i,Yh:()=>o,zN:()=>r,vr:()=>a,qb:()=>s,Uk:()=>l,V_:()=>d,WG:()=>c,ru:()=>u,Ky:()=>h,jE:()=>p,$8:()=>m})},711349:(e,t,n)=>{function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{Z:()=>i})},386004:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}n.d(t,{Z:()=>i})},578429:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,{Z:()=>i})},411221:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:()=>i})},152214:(e,t,n)=>{function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function o(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}n.d(t,{m:()=>i,L:()=>o})},224982:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,{Z:()=>i})},163109:(e,t,n)=>{function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},698602:(e,t,n)=>{function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{NA:()=>i,I1:()=>o,ZP:()=>r,Ib:()=>a,i0:()=>s,b9:()=>l,yj:()=>d})},165568:(e,t,n)=>{n.d(t,{a:()=>o,Q:()=>r});var i=n(311866);function o(e,t){return async n=>{const{resource_response:o}=await i.ZP.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return n(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),o}}function r(e){return async t=>{const{resource_response:n}=await i.ZP.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:o}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(o.id,o.tagged_users)),n}}},6582:(e,t,n)=>{function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,{c:()=>i,O:()=>o})},153155:(e,t,n)=>{n.d(t,{W:()=>o,Y:()=>r});var i=n(311866);function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))}))}},135517:(e,t,n)=>{n.d(t,{tJ:()=>r,Q0:()=>a,ab:()=>s,z5:()=>l,wM:()=>d});var i=n(311866),o=n(357846);function r(e){return async t=>{await i.ZP.create("TypeaheadClearRecentResource",{query:e}).callDelete(),t((0,o.U2)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))}}function a({report:e,query:t,suggestions:n,type:o}){return r=>{i.ZP.create("SearchSuggestionReportResource",{report:e,query:t,suggestions:n,type:o}).callCreate()}}function s(e){return{type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:e}}}function l(){return{type:"VIEWED_OWN_PROFILE"}}const d=e=>({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:e}})},920573:(e,t,n)=>{function i(e,t,n){return{type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}}}function o(e){return{type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e}}n.d(t,{d:()=>i,a:()=>o})},920763:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});const i={USER_FOLLOW:"USER_FOLLOW"},o={USER_BLOCK:"USER_BLOCK"}},766274:(e,t,n)=>{n.d(t,{G:()=>s,h:()=>l});var i=n(311866),o=n(607263),r=n(920763);const a=(e,t)=>({type:r.j.USER_BLOCK,payload:{id:e,isUserBlocked:t}}),s=e=>t=>{i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate(),t(a(e,!0)),t((0,o.V)(e))},l=e=>t=>{const n=i.ZP.create("UserBlockResource",{blocked_user_id:e});return t(a(e,!1)),n.callDelete()}},289605:(e,t,n)=>{n.d(t,{ZN:()=>s,yA:()=>l,fv:()=>d,KF:()=>c});var i=n(311866),o=n(920763);function r(e,t){return i.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t){return{type:o.F.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return n=>{r(e,t).callCreate().catch((()=>n(a(e,!1)))),n(a(e,!0))}}function l(e,t=null){return async n=>{n(a(e,!0)),await r(e,t).callCreate().catch((t=>{throw n(a(e,!1)),t}))}}function d(e,t=null){return n=>{r(e,t).callDelete().catch((()=>n(a(e,!0)))),n(a(e,!1))}}function c(e,t=null){return async n=>{n(a(e,!1)),await r(e,t).callDelete().catch((t=>{throw n(a(e,!0)),t}))}}},101691:(e,t,n)=>{function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,{JS:()=>i,hY:()=>o,h6:()=>r,V6:()=>a,fm:()=>s,GT:()=>l,hT:()=>d});const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),l=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function d(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},20420:(e,t,n)=>{n.d(t,{DD:()=>c,lg:()=>u,Th:()=>p,IU:()=>h,L8:()=>d});var i=n(578429),o=n(411221),r=n(311866);const a={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"};var s=n(613330);function l(e){return{type:a.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function d(e,t){return{type:a.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function c({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:o,pin_id:l,username:c,updateParentDidItCount:u}){const h={aggregatedPinDataId:e,details:t,image_signatures:o,pin_id:l};return t=>r.ZP.create("DidItActivityResource",h).callCreate().then((o=>{const r=o.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:a.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:r}}),t((0,i.Z)({feedId:e,feedType:n?s.DV.UNIFIED_COMMENTS:s.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),t((0,i.Z)({feedId:c,feedType:s.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),u&&t(d(e,1))}),(e=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:i,pinId:a,username:c,updateParentDidItCount:u}){return h=>{r.ZP.create("DidItActivityResource",{user_did_it_data_id:n,pinId:a}).callDelete().then((r=>{i&&h(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(a)),h(l(n)),h((0,o.Z)({feedId:null!=e?e:"",feedType:t||s.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),h((0,o.Z)({feedId:c,feedType:s.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),h((0,o.Z)({feedId:c,feedType:s.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&h(d(n,-1))}),(e=>{}))}}function h({id:e,details:t,image_signatures:n,pinId:i}){const o={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:i};return e=>{r.ZP.create("DidItActivityResource",o).callUpdate().then((t=>{const n=t.resource_response.data;e(function(e){return{type:a.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}(n))}),(e=>{}))}}function p(e,t,n,i,a){const d={reason:i,detailed_reasons:t,user_did_it_data_id:n};return t=>{r.ZP.create("DidItActivityFlagResource",d).callCreate().then((()=>{t(l(n)),t((0,o.Z)({feedId:e,feedType:s.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),t((0,o.Z)({feedId:a,feedType:s.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"}))}),(e=>{}))}}},955637:(e,t,n)=>{function i(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function o(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function r(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function a(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}n.d(t,{HY:()=>i,gh:()=>o,VT:()=>r,QG:()=>a})},574842:(e,t,n)=>{n.d(t,{oX:()=>d,Oh:()=>c,DT:()=>u,ZP:()=>g});var i=n(618446),o=n.n(i),r=n(682492),a=n.n(r),s=n(613330),l=n(451104);const d={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},c={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},u={[c.BOARD]:s.DV.BOARD_ACTIVITYITEMS,[c.BOARD_ACTIVITY]:s.DV.BOARD_ACTIVITYCOMMENTS,[c.BOARD_ACTIVITY_COMMENT]:s.DV.BOARD_ACTIVITYCOMMENTS},h={},p=(e,t)=>{const n={...a()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})};return o()(e,n)?e:n},m=e=>e.reduce(((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,i=t.ref_board_activity;n&&i&&(e.push({...n,user:t.user}),e.push(i),e.push({...t,comment:{id:n.id},ref_board_activity:{id:i.id}}))}else e.push(t);return e}),[]),g=(e=h,t)=>{if(t.type===l.zP||t.type===l.aW){const{payload:{resource:n,options:i}}=t,o=t.payload.response.resource_response.data;if("BoardActivityCommentFeedResource"===n){const t=(o||[]).reduce(((t,n)=>(t[n.id]=p(e[n.id],n),t)),{});return{...e,...t}}if("BoardActivityFeedResource"===n){const t=m(o||[]).reduce(((t,n)=>(t[n.id]=p(e[n.id],n),t)),{});return{...e,...t}}if("BoardActivityResource"===n&&o){const t=o;return{...e,[t.id]:p(e[t.id],t)}}if("BoardActivityCommentResource"===n&&o){const t=o,n={[t.id]:p(e[t.id],t)};if(t.root_board_activity){const i=t.root_board_activity.id;n[i]=p(e[i],t.root_board_activity)}return{...e,...n}}if("NewsHubDetailsResource"===n&&o&&o.length>0&&o[0].content_items){const t={};return o.forEach((e=>{e.content_items.forEach((e=>{const n=e.content_object&&e.content_object.type;if(n===c.BOARD_ACTIVITY_COMMENT||n===c.BOARD_ACTIVITY){const n=e.content_object;m([n]).forEach((e=>t[e.id]=e))}}))})),{...e,...t}}if(["PinResource","PinPageResource"].includes(n)&&o&&o.board_activity){const t=o.board_activity;return t.board=o.board,{...e,[t.id]:p(e[t.id],t)}}if(("BoardFeedResource"===n||"BoardSectionPinsResource"===n)&&("react_grid_pin_with_board_activity"===(null==i?void 0:i.field_set_key)||"partner_react_grid_pin_with_board_activity"===(null==i?void 0:i.field_set_key))||"BoardActivityPinsFeedResource"===n){const t=(o||[]).reduce(((t,n)=>{const i=n.board_activity;return i&&i.id&&(t[i.id]=p(e[i.id],i)),t}),{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:i}}=t;if(i===c.BOARD_ACTIVITY_COMMENT||i===c.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:p(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,o=e[i];if(o&&[c.BOARD_ACTIVITY_COMMENT,c.BOARD_ACTIVITY].includes(o.type)){const t={...o,comment_count:n?o.comment_count+1:o.comment_count-1};return{...e,[i]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:i,reactionType:o}}=t,r=e[i]||{},{reaction_counts:a={}}=r,s=a[o]||0,l=n?s+1:Math.max(s-1,0),d=n?o:0,c={...r,reaction_counts:{...a,[o]:l},reaction_by_me:d};return{...e,[i]:c}}}}return e}},923828:(e,t,n)=>{n.d(t,{o:()=>l,Z:()=>u});var i=n(618446),o=n.n(i),r=n(682492),a=n.n(r),s=n(451104);const l={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},d={feature_map:{}},c=(e,t)=>{const n={...a()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return o()(e,n)?e:n},u=(e=d,t)=>{if(t.type===s.zP||t.type===s.aW){const{payload:{resource:n}}=t,i=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=c(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=c(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].aggregated_comment,n=t?{[t.id]:c(e[t.id],t)}:{},o=i[0].creator_reply,r=o?{[o.id]:c(e[o.id],o)}:{};return{...e,...n,...r}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return{...e,[n.id]:n}}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:c(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],o=i.reaction_counts[1]||0,r={1:n.reaction_by_me?o+1:o-1},a={...i,reaction_by_me:n.reaction_by_me,reaction_counts:r};return{...e,[n.id]:a}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],o=i.helpful_count||0,r=n.marked_helpful_by_me?o+1:o-1,a={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:r};return{...e,[n.id]:a}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,o=e[i],r={...o,comment_count:o.comment_count+n};return{...e,[i]:r}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:i}}=t,o={...e[n],tagged_users:i};return{...e,[n]:o}}}return e}},613330:(e,t,n)=>{n.d(t,{DV:()=>s,zX:()=>c,ZP:()=>u});var i=n(317461),o=n(527082),r=n(881219),a=n(451104);const s={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},l={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:s.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:s.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:s.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:s.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:s.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:s.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:s.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:s.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:s.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:s.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:s.PROFILE_BOARDS,id:(0,r.OV)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:a,query:l,user:d},response:c})=>{var u;return{type:s.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:l,selectedPinImgSig:a,scope:n,user:d}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,i.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:s.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:s.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:s.TODAY_TAB,id:e}),MoreIdeasTabsResource:({response:e})=>{var t;return{type:s.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(t=e.resource_response.data)||void 0===t?void 0:t.tabs)||[]}},RelatedArticlesResource:({options:{article_id:e}})=>({type:s.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:s.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:s.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:s.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:s.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:s.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:s.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:s.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},d={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function c(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}const u=(e=d,t)=>{switch(t.type){case a.zP:case a.aW:{var n;const{payload:i}=t,o=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const r=l[i.resource](i);if(r){const{type:n,id:i,items:l,reversed:d}=r;let c=(l||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===s.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));d&&(c=c.reverse());const u=e[n][i];if(u||t.type!==a.aW){const o=u||[];let r=c;return t.type===a.aW&&(r=d?c.concat(o):o.concat(c)),{...e,[n]:{...e[n],[i]:r}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:a}}=t,l=e[n]||{},d=l[i]||[];let u=-1,h=-1;if([s.BOARD_PINS,s.SECTION_PINS,s.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex((e=>e.type===o&&e.id===a)),h=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==h)return{...e,[n]:{...l,[i]:c(d,u,h)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:r,itemIds:a=[]}}=t,l=e[n]||{},d=l[i];if(d&&d.length>0&&(n===s.SECTION_PINS||n===s.BOARD_PINS)){const t=d.filter((e=>{const t=a.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))})),s=!!t.find((e=>"pin"===e.type));return{...e,[n]:{...l,[i]:s?t:[]}}}if(d&&d.length>0&&n===s.BOARD_SECTIONS){const t=d.filter((e=>{const t=a.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}if(d&&d.length>0&&(n===s.BOARD_ACTIVITYITEMS||n===s.AGGREGATED_COMMENTS||n===s.BOARD_ACTIVITYCOMMENTS||n===s.BOARDLESS_PINS||n===s.UNIFIED_COMMENTS||n===s.USER_DID_IT_DATA||n===s.STORY_PIN_DATA)){const t=d.filter((e=>{const t=a.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:r=[],prepend:a}}=t,l=e[n]||{},d=l[i];if(d&&(n===s.SECTION_PINS||n===s.BOARD_PINS||n===s.BOARDLESS_PINS)){const t=r.map((e=>({id:e,type:o})));let a=0;"story"===(d[0]||{}).type&&(a=1),"story"===(d[1]||{}).type&&(a=2);const s=[...d.slice(0,a),...t,...d.slice(a)];return{...e,[n]:{...l,[i]:s}}}if(d&&n===s.BOARD_SECTIONS){const t=[...r].reverse().map((e=>({id:e,type:"board_section"}))),o=d?[...t,...d]:[...t];return{...e,[n]:{...l,[i]:o}}}if(n===s.BOARD_ACTIVITYITEMS||n===s.AGGREGATED_COMMENTS||n===s.BOARD_ACTIVITYCOMMENTS||n===s.UNIFIED_COMMENTS){const t=r.map((e=>({id:e,type:o}))),s=d?[...a?t:d,...a?d:t]:t;return{...e,[n]:{...l,[i]:s}}}if(n===s.USER_DID_IT_DATA){const t=r.map((e=>({id:e,type:o}))),a=d?[...t,...d]:t;return{...e,[n]:{...e[n],[i]:a}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=e[n]||{};if(o[i])return{...e,[n]:{...o,[i]:null}};break}}return e}},483319:(e,t,n)=>{n.d(t,{E:()=>r,Z:()=>a});var i=n(903945);const o={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0},r="merchantStorefront.storefrontSettings.locale",a=(e=o,t)=>{switch(t.type){case"UPDATE_LOCALE_STOREFRONT_SETTING":return(0,i.Nh)(r,`${t.payload.country}/${t.payload.language}/${t.payload.feedProfileId}`),{...e,currentViewingLocale:t.payload};case"UPDATE_STOREFRONT_LAST_UPDATED":return{...e,lastUpdated:t.payload};default:return e}}},881219:(e,t,n)=>{n.d(t,{OV:()=>i,M0:()=>o,$k:()=>r});const i=(e,t)=>`${e}:${t||""}`,o=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],r=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},604213:(e,t,n)=>{n.d(t,{Z:()=>o});const i=e=>e.startsWith("enabled")||e.startsWith("employee");class o{constructor(e={},t={},n=!1){var i,o,r;r=!1,(o="useBatching")in(i=this)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},202923:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(604213);class o extends i.Z{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},74339:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(177979),o=n(311866),r=n(604213);class a extends r.Z{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,r){const a={add_to_experiment:!!t,experiment_name:e};if(r&&(a.override_group=r),n&&(a.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new i.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(a);else{o.ZP.create("ActivateExperimentResource",a).callCreate({showError:!1})}}}},920349:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(164215);function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.Z(t,n,o)}}},164215:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(74339).Z},155656:(e,t,n)=>{n.d(t,{Z:()=>r});n(441143);var i=n(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...r}=e,a=String(t||"")||n||"";return!!a?(0,i.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(o.factory(a))}}):null}},549156:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{children:t,display:n,id:r}=e;return(0,o.jsx)(i.xu,{"data-test-id":r,display:n,children:t})}},966427:(e,t,n)=>{n.d(t,{o:()=>i,u:()=>o});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}}},799881:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(296882),o=n(641483);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,o.ZP)("setting_new_window_location")}),0),window.location.href=t,window}}},205794:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(799881),o=n(508841),r=n(641483);const a=e=>{(0,o.Z)(e)||(e="/",(0,r.ZP)("url_reset")),(0,i.Z)(e,!1)}},463080:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},925311:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class o{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):o.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):o.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):o.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):o.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=o.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportGoogleConversion(i.id,i.label,i.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,a,s;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(a=n.createElement(i)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");const l=o.queuedFacebookConversions;for(let d=0;d<l.length;d+=1){const t=l[d];t.id===e&&(t.isCustomEvent?o.reportCustomFacebookConversion(e,t.event,t.data):o.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,o,r,a;t=window,n=document,i="script",t.twq||((o=t.twq=function(){o.exe?o.exe.apply(o,arguments):o.queue.push(arguments)}).version="1.1",o.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,a)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportPinterestConversion(e,i.event,i.data)}}}i(o,"queuedGoogleConversions",[]),i(o,"queuedFacebookConversions",[]),i(o,"queuedPinterestConversions",[]),i(o,"queuedTwitterConversions",[]);const r=o},616240:(e,t,n)=>{n.d(t,{dl:()=>d,Fl:()=>u,IC:()=>h,GG:()=>p,tW:()=>m,Pw:()=>g,k3:()=>f,su:()=>_});var i=n(300970),o=n(593482),r=n(221469),a=n(580849);const s=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],l=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],d=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],c=["US","CA"],u=e=>{if(l.includes(e.toUpperCase())){const e=a.K.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return s.includes(e.toUpperCase())},h=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach((e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}})),i},p=e=>!!e&&c.includes(e.toUpperCase()),m=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),g=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=(0,r.ru)("/business/convert",{next:t});e.push(n)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(n))},f=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},_=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,i.Z)(null,e)},790928:(e,t,n)=>{n.d(t,{Dm:()=>l,w9:()=>d,S4:()=>c,st:()=>u,QP:()=>h,Xe:()=>p,k$:()=>m,Fp:()=>g,NG:()=>f,_f:()=>_,Bu:()=>y,eT:()=>b,hm:()=>v,I:()=>E,ym:()=>I});var i=n(596538);const o=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),r=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),a=Object.freeze({B_CORP:"b_corp",SUSTAINABILITY:"sustainability",PHILANTHROPY:"philanthropy",BUSINESS_PRACTICES:"business_practices",FAIR_TRADE:"fair_trade",INGREDIENTS:"ingredients",RECYCLED_MATERIALS:"recycled_materials",ARTISANS:"artisans",BODY_POSITIVE:"body_positive",DIVERSE_MODELS:"diverse_models",PRODUCTS:"products",HANDMADE:"handmade",SHOPPING_EXPERIENCE:"shopping_experience",COMMUNITY_BUILDING:"community_building",EDITORIAL_BLOGS:"editorial_blogs",BTS:"bts"}),s=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(o).map((e=>o[e])),...Object.keys(r).map((e=>r[e]))],d=[...Object.keys(s).map((e=>s[e]))],c=3,u=1,h=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],p={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:h[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1},m="storefront_inspirational_badges_web",g="storefront_inspirational_badges_colors",f="https://help.pinterest.com/article/merchant-details",_="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile",x=["US"];function y({areBadgesEnabled:e,country:t,verifiedMerchant:n}){var i,o;const r=null==n?void 0:n.isVerifiedMerchant,a=null==n||null===(i=n.inspirational_signal)||void 0===i?void 0:i.is_inspirational,s=null==n||null===(o=n.inspirational_signal)||void 0===o?void 0:o.is_eligible_for_storefront_badges;return Boolean(e&&r&&a&&s&&!!t&&x.includes(t.toUpperCase()))}function b(e){const{business_diversity_labels:t,review_labels:n}=e||{};return[...t||[],...n||[]].map((e=>e.trim()))}function v(e){var t;const n=b(e),i=(null===(t=e.inspirational_badge_selection)||void 0===t?void 0:t.badgeOptOut)||[];return n.filter((e=>!i.includes(e)))}function E(e,t,n=1,i=c){const l={[s.ECO_FRIENDLY]:{id:s.ECO_FRIENDLY,label:e._("Eco-friendly","InspirationalBadges.label.eco_friendly","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are environmentally sustainable and/or using upcycled or recycled materials","InspirationalBadges.desc.eco_friendly","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is environmentally sustainable and/or uses upcycled or recycled materials","InspirationalBadges.controlsTooltip.eco_friendly","Tooltip description of a profile badge, 2nd person perspective")},[s.INCLUSIVE]:{id:s.INCLUSIVE,label:e._("Inclusive","InspirationalBadges.label.inclusive","Badge label describing a merchant"),description:e._("This retailer's website indicates that they make and market products for a broader range of body types, sizes, ages and/or ethnicities","InspirationalBadges.desc.inclusive","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business makes and markets products for a broader range of body types, sizes, ages and/or ethnicities","InspirationalBadges.controlsTooltip.inclusive","Tooltip description of a profile badge, 2nd person perspective")},[s.INVESTED_IN_GOOD]:{id:s.INVESTED_IN_GOOD,label:e._("Invested in good","InspirationalBadges.label.invested_in_good","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are a philanthropic company and/or a registered B corp","InspirationalBadges.desc.invested_in_good","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is a philanthropic company and/or a registered B corp ","InspirationalBadges.controlsTooltip.invested_in_good","Tooltip description of a profile badge, 2nd person perspective")},[s.PERSONAL_TOUCH]:{id:s.PERSONAL_TOUCH,label:e._("Personal touch","InspirationalBadges.label.personal_touch","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are a provider of artisanal/handmade products and/or innovative shopping/delivery options","InspirationalBadges.desc.personal_touch","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is a provider of artisanal/handmade products and/or innovative shopping/ delivery options","InspirationalBadges.controlsTooltip.personal_touch","Tooltip description of a profile badge, 2nd person perspective")},[s.RESPONSIBLY_SOURCED]:{id:s.RESPONSIBLY_SOURCED,label:e._("Responsibly sourced","InspirationalBadges.label.responsibly_sourced","Badge label describing a merchant"),description:e._("This retailer's website indicates that they use ethical business/labor practices, transparent manufacturing processes/ingredient lists and/or are fair trade certified","InspirationalBadges.desc.responsibly_sourced","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business uses ethical business/labor practices, transparent manufacturing processes/ingredient lists and/or are fair trade certified","InspirationalBadges.controlsTooltip.responsibly_sourced","Tooltip description of a profile badge, 2nd person perspective")}},d=e._("Placeholder tooltip text","InspirationalBadges.desc.placeholder","placeholder text"),u={[o.AFRICAN_AMERICAN_OR_BLACK]:{id:o.AFRICAN_AMERICAN_OR_BLACK,label:e._("Black-owned","InspirationalBadges.label.african_american_black","Option for communities"),description:e._("This retailer's owner identified as a member of the Black community","InspirationalBadges.desc.african_american_black","Tooltip description of a profile badge")},[o.BLACK_AFRICAN_DIASPORA]:{id:o.BLACK_AFRICAN_DIASPORA,label:e._("Black (African diaspora)-owned","InspirationalBadges.label.black","Option for communities"),description:d},[o.HISPANIC_OR_LATINX]:{id:o.HISPANIC_OR_LATINX,label:e._("Latinx-owned","InspirationalBadges.label.hispanic_latinx","Option for communities"),description:e._("This retailer's owner identified as a member of the Latinx community","InspirationalBadges.desc.hispanic_latinx","Tooltip description of a profile badge")},[o.NATIVE_OR_INDIGENOUS]:{id:o.NATIVE_OR_INDIGENOUS,label:e._("Indigenous-owned","InspirationalBadges.label.native_or_indigenous","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.native_or_indigenous","Tooltip description of a profile badge")},[o.ABORIGINAL_OR_INDIGENOUS]:{id:o.ABORIGINAL_OR_INDIGENOUS,label:e._("Indigenous-owned","InspirationalBadges.label.aboriginal_or_indigenous","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.aboriginal_or_indigenous","Tooltip description of a profile badge")},[o.NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES]:{id:o.NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES,label:e._("Indigenous-owned","InspirationalBadges.label.native_american_alaska_native","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.native_or_indigenous","Tooltip description of a profile badge")},[o.ASIAN_OR_PACIFIC_ISLANDERS]:{id:o.ASIAN_OR_PACIFIC_ISLANDERS,label:e._("API-owned","InspirationalBadges.label.asian_or_pacific_islanders","Option for communities"),description:e._("This retailer's owner identified as a member of the Asian/Pacific Islander community","InspirationalBadges.desc.asian_or_pacific_islanders","Tooltip description of a profile badge")},[o.ASIAN]:{id:o.ASIAN,label:e._("Asian-owned","InspirationalBadges.label.asian","Option for communities"),description:e._("This retailer's owner identified as a member of the Asian community","InspirationalBadges.desc.asian","Tooltip description of a profile badge")},[o.MIDDLE_EASTERN]:{id:o.MIDDLE_EASTERN,label:e._("Middle Eastern-owned","InspirationalBadges.label.middle_eastern","Option for communities"),description:d},[o.MIDDLE_EASTERN_TURKISH_ROMA]:{id:o.MIDDLE_EASTERN_TURKISH_ROMA,label:e._("Middle Eastern, esp. Turkish and Roma-owned","InspirationalBadges.label.middle_eastern_or_north_african","Option for communities"),description:d},[o.NORTH_AFRICAN]:{id:o.NORTH_AFRICAN,label:e._("North African-owned","InspirationalBadges.label.north_african","Option for communities"),description:d},[o.MIDDLE_EASTERN_OR_NORTH_AFRICAN]:{id:o.MIDDLE_EASTERN_OR_NORTH_AFRICAN,label:e._("Middle Eastern or North African-owned","InspirationalBadges.label.middle_eastern_or_north_african","Option for communities"),description:d},[r.PERSON_OF_COLOR]:{id:r.PERSON_OF_COLOR,label:e._("Person of color-owned","CommunityInfoChecklist.category.person_of_color_owned","Option for category of underrepresented group"),description:d},[r.LGBTQ]:{id:r.LGBTQ,label:e._("LGBTQ+ owned","CommunityInfoChecklist.category.lgbtq_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a member of the LGBTQ+ community","InspirationalBadges.desc.lgbtq_owned","Tooltip description of a profile badge")},[r.DISABILITY]:{id:r.DISABILITY,label:e._("Disability-owned","CommunityInfoChecklist.category.disability_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a member of the disabled community","InspirationalBadges.desc.disability_owned","Tooltip description of a profile badge")},[r.WOMAN]:{id:r.WOMAN,label:e._("Woman-owned","CommunityInfoChecklist.category.woman_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a woman","InspirationalBadges.desc.woman_owned","Tooltip description of a profile badge")},[a.B_CORP]:l[s.INVESTED_IN_GOOD],[a.SUSTAINABILITY]:l[s.ECO_FRIENDLY],[a.PHILANTHROPY]:l[s.INVESTED_IN_GOOD],[a.BUSINESS_PRACTICES]:l[s.RESPONSIBLY_SOURCED],[a.FAIR_TRADE]:l[s.RESPONSIBLY_SOURCED],[a.INGREDIENTS]:l[s.RESPONSIBLY_SOURCED],[a.RECYCLED_MATERIALS]:l[s.ECO_FRIENDLY],[a.ARTISANS]:l[s.PERSONAL_TOUCH],[a.BODY_POSITIVE]:l[s.INCLUSIVE],[a.DIVERSE_MODELS]:l[s.INCLUSIVE],[a.PRODUCTS]:l[s.INCLUSIVE],[a.HANDMADE]:l[s.RESPONSIBLY_SOURCED],[a.SHOPPING_EXPERIENCE]:l[s.RESPONSIBLY_SOURCED],[s.ECO_FRIENDLY]:l[s.ECO_FRIENDLY],[s.INCLUSIVE]:l[s.INCLUSIVE],[s.INVESTED_IN_GOOD]:l[s.INVESTED_IN_GOOD],[s.PERSONAL_TOUCH]:l[s.PERSONAL_TOUCH],[s.RESPONSIBLY_SOURCED]:l[s.RESPONSIBLY_SOURCED]},h=t.map((e=>u[e])).filter((e=>e)),p=Array.from(new Set(h)).sort(((e,t)=>e.label.localeCompare(t.label))),m=p.filter((e=>r[e.id.toUpperCase()]||o[e.id.toUpperCase()])),g=p.filter((e=>l[e.id]));return(m.length?[...m.slice(0,n),...g]:g).slice(0,i)}function w(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,o,r]=t;return(0,i.DW)(n,o,r)<=i.I?"white":"black"}function I(e){const t=e||h[0];return{backgroundColor:t,color:w(t)}}},589444:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(657121),o=n(444488);function r({pin:e,shouldUnifyImageSizes:t,additionalImages:n}){const r=(0,i.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return r&&n&&n.length>0?(0,o.Z)(null,n,e.carousel_data&&e.carousel_data.index,t,r.id):r&&r.additional_images&&r.additional_images.length>0?(0,o.Z)(e.images,r.additional_images,e.carousel_data&&e.carousel_data.index,t,r.id):e&&e.carousel_data}},215484:(e,t,n)=>{function i(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:()=>i})},444488:(e,t,n)=>{n.d(t,{Z:()=>r});const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function r(e,t,n,i,r){const a=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],s=e?[{images:e},...a]:a;return{carousel_slots:i?o(s):s,index:n||0,id:r}}},596538:(e,t,n)=>{n.d(t,{vq:()=>o,oo:()=>r,I:()=>a,DW:()=>s});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},o=(e,t,n)=>"#"+i(e)+i(t)+i(n),r=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},457175:(e,t,n)=>{n.d(t,{B:()=>o,v:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ContextLogger")},304966:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(457175);const o=()=>(0,i.v)().logContextEvent},44062:(e,t,n)=>{n.d(t,{I:()=>l,s:()=>s});var i=n(667294),o=n(762803),r=n(785893);const{Provider:a,useHook:s}=(0,o.ZP)("View");function l({children:e,initialState:t={}}){const[n,o]=(0,i.useState)(t),s=(0,i.useCallback)((()=>o({})),[]);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(a,{value:{...n,clearViewContextData:s,setViewContextData:o},children:e})})}},980767:(e,t,n)=>{n.d(t,{DH:()=>i,FS:()=>o,UK:()=>r,F4:()=>a,VL:()=>s,N9:()=>l,v6:()=>d,N1:()=>c});const i=1e3,o=60*i,r=60*o,a=24*r,s=7*a,l=30*a,d=31*a,c=365*a},625838:(e,t,n)=>{n.d(t,{k:()=>i,Z:()=>o});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"};function o(e,t,n,o=!0){const r=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);o&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)}},848101:(e,t,n)=>{n.d(t,{I7:()=>l,B$:()=>d,Cw:()=>a,c4:()=>s});var i=n(667294),o=n(762803);const r=(0,i.createContext)(null),a=()=>(0,i.useContext)(r),s=r.Provider,{Provider:l,useHook:d}=(0,o.ZP)("DesktopCoreLogin")},292900:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(731164),r=n(372833);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,n=this.props.type||"secondary";(0,r.B)({errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},551687:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(292900).Z},944163:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>o,mR:()=>r,_4:()=>a,iY:()=>s,Ib:()=>l});const i="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE",l="EXPERIENCE_RESOURCE_UPDATED"},50351:(e,t,n)=>{n.d(t,{xW:()=>r,NW:()=>a,Yb:()=>s,OD:()=>l,cL:()=>d,fQ:()=>c});var i=n(311866),o=n(944163);const r=(e,t,n)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:n}}),a=e=>t=>i.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:o._4,payload:{experiences:e}}),d=e=>({type:o.mR,payload:{experiences:e}}),c=e=>({type:o.Ib,payload:{placementId:e}})},514319:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(883119),r=n(785893);function a({anchor:e,children:t,zIndex:n}){const a=(0,i.useRef)(null),[s,l]=(0,i.useState)(0),[d,c]=(0,i.useState)(0),{height:u,width:h}=e.getBoundingClientRect();return(0,i.useEffect)((()=>{const{current:t}=a;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(u,h,e,n);l(i),c(o)}}),[u,h,a.current]),(0,r.jsx)(o.xu,{position:"absolute",zIndex:n?new o.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:s,top:d}},ref:a,children:t})}const s=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:s,size:l,zIndex:d}=e;return t?(0,r.jsx)(a,{anchor:t,zIndex:d,children:(0,r.jsx)(o.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:(0,r.jsx)(o.o3,{paused:s,size:l})})}):null}},459123:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(514319),r=n(883119),a=n(785893);const s=new r.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:n,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:p=!0,touchToDismiss:m=!0,useMasonryFlyout:g=!1})=>{var f;const{anchors_by_platform:_={},button_text:x,button_uri:y,display_type:b,flyout_direction:v,scroll_to_dismiss:E,scroll_to_dismiss_delay_in_seconds:w=0,text:I}=d||{},C=null===(f=_[h])||void 0===f?void 0:f.anchor,T=e[C],S=(0,i.useCallback)((()=>{E&&(window.removeEventListener("scroll",S),window.removeEventListener("touchmove",S)),m&&T&&T.removeEventListener("click",S),setTimeout((()=>n()),1e3*w)}),[T]);if((0,i.useEffect)((()=>{T&&(E&&(window.addEventListener("scroll",S),window.addEventListener("touchmove",S)),m&&T.addEventListener("click",S))}),[T]),!T)return null;const{FLYOUT:P,PULSAR:j}={FLYOUT:1,PULSAR:2},A=({children:e})=>{if(g)return(0,a.jsx)(r.mh,{zIndex:s,children:e});if(b===j){const t={};if(p)t.top=T.offsetTop,t.left=T.offsetLeft,t.width=T.offsetWidth,t.height=T.offsetHeight;else{const e=T.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,a.jsx)(r.xu,{position:"absolute",top:!0,left:!0,zIndex:s,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,a.jsx)(r.xu,{zIndex:s,children:e})},D=l[v],R=y&&(y.startsWith("https://")||y.startsWith("http://")),O=(u||{})[C],N=()=>{E&&(window.removeEventListener("scroll",S),window.removeEventListener("touchmove",S)),m&&T.removeEventListener("click",S),t()};return(0,a.jsxs)(i.Fragment,{children:[b===j&&(0,a.jsx)(A,{children:(0,a.jsx)(o.Z,{anchor:T,onTouch:()=>{N(),O?O():T instanceof HTMLElement&&T.click()},zIndex:670})}),b===P&&(0,a.jsx)(A,{children:(0,a.jsx)(r.J2,{anchor:T,color:"blue",idealDirection:D||c||"down",onDismiss:S,positionRelativeToAnchor:!g&&p,shouldFocus:!1,showCaret:!0,size:"md",children:(0,a.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,a.jsx)(r.xv,{align:"center",color:"white",weight:"bold",children:I}),x?(0,a.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,a.jsx)(r.xu,{column:8,children:y?(0,a.jsx)(r.zx,{fullWidth:!0,color:"white",href:y,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),N()},role:"link",size:"md",target:R?"blank":null,text:x}):(0,a.jsx)(r.zx,{fullWidth:!0,color:"white",onClick:N,size:"md",text:x})})}):null]})})})]})}},151101:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:l}){return(0,o.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:a,src:r(s,t)?void 0:s,verified:l})}},451190:(e,t,n)=>{n.d(t,{b:()=>l,Z:()=>d});var i=n(667294),o=n(241933),r=n(51610),a=n(883119),s=n(785893);const l=new a.Ry(1e3);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:h,closeOnOutsideClick:p,footer:m,heading:g,onDismiss:f,role:_,size:x,subHeading:y}){(0,i.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,s.jsx)(a.mh,{zIndex:l,children:(0,s.jsx)(r.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:p,heading:g,footer:m,onDismiss:()=>{o.Z.resume(),f()},role:_,size:x,subHeading:y,children:h})})})}},881220:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(500953),r=n(16539),a=n(883119),s=n(785893);function l({button:e,dataTestId:t,duration:n=2e3,href:l,iconThumbnail:d,imageUrl:c,onClick:u,onHide:h,openNewPage:p,text:m,thumbnailShape:g="square",variant:f="default"}){const[_,x]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),v=(0,i.useRef)(),E=()=>{x(!0),v.current=setTimeout(h,r.V)},w=()=>{v.current&&clearTimeout(v.current)},I=()=>{v.current=setTimeout(E,n)};(0,o.Z)((()=>(setTimeout((()=>b(!0)),100),I(),w)));const C="string"==typeof m?m:`${m[0]} ${m[1]}`,T=c?(0,s.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(a.Ee,{alt:C,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,S=(0,s.jsx)(a.FN,{button:e,text:m,thumbnail:null!=d?d:T,thumbnailShape:g,variant:f});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,r.Z)(y,_)},"data-test-id":null!=t?t:"toast",onMouseEnter:w,onMouseLeave:I,children:l?(0,s.jsx)(a.iP,{role:"link",href:l,onTap:({event:e})=>null==u?void 0:u(e),target:p?"blank":null,rounding:"pill",children:S}):S})}},16539:(e,t,n)=>{n.d(t,{V:()=>i,Z:()=>o});const i=200,o=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},851229:(e,t,n)=>{n.d(t,{yv:()=>s,j3:()=>l,ak:()=>d,$m:()=>c});var i=n(174523),o=n(883119),r=n(585967),a=n(785893);function s(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function l(){const{country:e=""}=(0,r.B)();return s(e)}function d(){return(0,i.ZP)()._("Imprint","impressumText","Text for link to impressum for Germany, Austra, or Switzerland")}function c(e){return(0,a.jsx)(o.xv,{...e,children:d()})}},658726:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(946753),r=n(980767);function a(){const e=(0,i.ZP)();return function(t,n){const i=new Date(t),a=new Date-i,s=Math.floor(a/r.FS),l=Math.floor(a/r.UK),d=Math.floor(a/r.F4),c=Math.floor(a/r.VL),u=Math.floor(a/r.N1),h=e.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",s),p=e.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",l),m=e.ngettext("{{ days }} day ago","{{ days }} days ago",d),g=e.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",c),f=e.ngettext("{{ years }} year ago","{{ years }} years ago",u),_=e.ngettext("{{ minutes }}m","{{ minutes }}m",s,"minutes ago abbreviated","minutes ago abbreviated"),x=e.ngettext("{{ hours }}h","{{ hours }}h",l,"hours ago abbreviated","hours ago abbreviated"),y=e.ngettext("{{ days }}d","{{ days }}d",d,"days ago abbreviated","days ago abbreviated"),b=e.ngettext("{{ weeks }}w","{{ weeks }}w",c,"weeks ago abbreviated","weeks ago abbreviated"),v=e.ngettext("{{ years }}y","{{ years }}y",u,"years ago abbreviated","years ago abbreviated");return u>0?(0,o.nk)(n?v:f,{years:u}).join(""):c>0?(0,o.nk)(n?b:g,{weeks:c}).join(""):d>0?(0,o.nk)(n?y:m,{days:d}).join(""):l>0?(0,o.nk)(n?x:p,{hours:l}).join(""):s>0?(0,o.nk)(n?_:h,{minutes:s}).join(""):e._("Just now")}}},174523:(e,t,n)=>{n.d(t,{oz:()=>r,q6:()=>o,ZP:()=>s});var i=n(762803);const{Provider:o,Consumer:r,useHook:a}=(0,i.ZP)("i18n"),s=a},302199:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523);const o=(e,t)=>{const n=t||0,i=10**n,o=+(n?e*i:e).toFixed(8),r=Math.floor(o),a=o-r,s=a>.5-1e-8&&a<.5+1e-8?r%2==0?r:r+1:Math.round(o);return n?s/i:s},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=(0,i.ZP)();return(t,n,i)=>{let a=0,s=0;const l=i&&i.style||void 0,d=i&&i.shortform||!1,c=i&&i.uplimit||void 0,u=i&&i.currency||void 0,h=!!c&&n>=c,p=c&&h?c:n;if("currency"===l?(a=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(a=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),d&&p>999&&(a=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,s=0),a<s)return String(p);let m=p,g="";const f=[{"100M":{value:1e8,localeKey:e._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],_=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],x=/^zh|ja|ko/.test(t);if(d&&p>999){const e=x?f:_;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(p>=i){m=o(p/i*Math.pow(10,a))/Math.pow(10,a),g=e[t][n].localeKey;break}}}if(null==m)return"";return m.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...o,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:a,minimumFractionDigits:s,currency:u,style:l}))+g+(h?"+":"")}}},300970:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;let n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);const i=new Date(n);return i.setDate(i.getDate()+28),(new Date).getTime()<i.getTime()}},946753:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{nk:()=>r,Wc:()=>a,bF:()=>l});const o=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return i(e,t,o)}function a(e,t){return i(e,t,o).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,s)}},304194:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(311866);const o=e=>i.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var r=n(221469);const a=(e=(e=>{}))=>{const t=(0,r.mB)(window.location.search),n=t.invite_code;n?o(n):e(t)}},593482:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=i?new Date(i):o;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},588527:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},855356:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(968630),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach((a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]})),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}},586840:(e,t,n)=>{function i(e={},t=[]){return Object.keys(e).reduce(((n,i)=>t.includes(i)?n:{...n,[i]:e[i]}),{})}n.d(t,{Z:()=>i})},239540:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});const o=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},r=e=>{if(e.isHidden){const{reason:t}=e;o.onPauseListeners.forEach((e=>e(t)))}else o.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const a=o},365217:(e,t,n)=>{n.d(t,{P:()=>a,t:()=>s});var i=n(311866);const o=()=>{};const r={complaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},454217:(e,t,n)=>{n.d(t,{ZP:()=>s,yl:()=>l,XZ:()=>d,nb:()=>c,EF:()=>u});var i=n(702925),o=n(365217),r=n(266750);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,h=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:h});case"topic":const{name:p,url_name:m}=c,g=r("topicUrl",`/topics/${m}`,p);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const f=`/${s.username}`,_=r("boardUrl",i.url,a(i.name)),x=r("pinnerUrl",f,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:x}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:_});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,i,!0),d=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===i&&n&&a){const{id:i,name:r,url:s}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,u=`/${c}`,h=o("boardUrl",s,r,!0),p=o("pinnerUrl",u,d,!0);let m=l?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:h}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:h});return m=l?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:h}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}const u=(e,t,n,i,r,a,s)=>()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.t)(d,l),a(n),s(101,{component:0,element:11181,view:i,viewParameter:r})}},41743:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["orig","736x","564x","474x","236x","170x"],o=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},227340:(e,t,n)=>{n.d(t,{RC:()=>a,EU:()=>s,fs:()=>l,eK:()=>d,Ly:()=>c,hP:()=>u});var i=n(395047),o=n(537343);const r=e=>"string"==typeof e?e:"",a=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=a(e),r=s(t,200);return r||(n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},d=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],r=n.map((e=>(t.annotations_with_links||{})[e]||{name:e,url:""}));let a="";const s=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=s.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?a=l:s&&s.length>3&&c!==d&&(a=s),a&&(a=(0,i.Z)((0,o.ZP)(a,496)).trim()),{description:a,vaseAnnotations:n,annotationsWithLinks:r}},c=(e,t,n)=>{const i=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return l(e)||o(t)||o(i)||e.title},u=(e,t,n)=>{const i=r(e);let o=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),a=r(t);n!==i.toLowerCase()&&n!==a.trim().toLowerCase()&&(o=e)}let a=n.visual_annotation;a&&(a=a.join(", "),o&&(o+=" "),o+=a)}return o}},116955:(e,t,n)=>{n.d(t,{pH:()=>i,tz:()=>o,tL:()=>r,bd:()=>a,OW:()=>s,cZ:()=>l,dO:()=>d,aG:()=>c,_K:()=>u,lg:()=>h,hU:()=>p,oP:()=>m,nY:()=>g,iK:()=>f,nf:()=>_,RL:()=>x,V4:()=>y,yV:()=>b,Zn:()=>v,Bb:()=>E,xN:()=>w,E6:()=>I,an:()=>C,rm:()=>T,D4:()=>S,rM:()=>P,iZ:()=>j,$j:()=>A,Pv:()=>D,at:()=>R,Jt:()=>O,H9:()=>N,Cx:()=>k,qF:()=>L});const i=101,o=93,r=116,a=9,s=8,l=16,d=12,c=3,u=18,h=105,p=79,m=78,g=77,f=76,_=1402,x=85,y=82,b=88,v=1201,E=86,w=30,I=84,C=83,T=2901,S=2904,P=2905,j=95,A=19,D=113,R=91,O=2501,N=3050,k=[s,a],L=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[h,"FACEBOOK_ACCOUNT_NOT_LINKED"],[d,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[l,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[g,"INVALID_PASSWORD_FB_USER"],[m,"INVALID_PASSWORD_ERROR_CODE"],[p,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[y,"LOGIN_DEACTIVATED_USER"],[C,"LOGIN_POLICY_VIOLATION_USER"],[x,"AUTO_PASSWORD_RESET_ERROR_CODE"],[E,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[r,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[s,"API_LIMIT_EXCEEDED_ERROR"],[a,"API_EVENT_BLOCKED_ERROR"],[A,"USER_IN_SAFE_MODE"],[I,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[x,"LOGIN_BAD_PASSWORD_ASK_RESET"],[v,"LOGIN_MFA_REQUIRED"],[w,"LOGIN_USER_NOT_FOUND"],[b,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[T,"SAR_DOWNLOAD_LIMIT"],[S,"SAR_EMAIL_UNVERIFIED"],[P,"SAR_EMAIL_MISSING"]])},912397:(e,t,n)=>{n.d(t,{h5:()=>i,n$:()=>o,W7:()=>r,hC:()=>a,vI:()=>s,YC:()=>l,s7:()=>d,BX:()=>c,a7:()=>u,JT:()=>h,a2:()=>p,X6:()=>m,PF:()=>g,I6:()=>f,oo:()=>_,vq:()=>x,Ib:()=>y,Tr:()=>b,jq:()=>v,lA:()=>E,u2:()=>w});const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",a="account_switcher_modal",s="vmp_account_switcher_modal",l="account_recovery",d="closeup",c="flashlight_grid",u="google_one_tap_modal",h="inspired_banner",p="hybrid_clickthrough",m="hybrid_banner",g="pin_image",f="response_flyout",_="unauth_header",x="facebook",y="twitter",b="google",v="gplus",E="microsoft",w="yahoo"},674245:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(384832),o=n(311866),r=n(702925),a=n(658551);let s=!1;const l=(e,t,n="en-US")=>{(0,a.c5)((0,i.Z)(n),a.Jg.FACEBOOK).then((()=>{const n=window.FB;n&&(s||(n.init({appId:r.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{t()&&l((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){o.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),s=!0,window.fb_init=2),e(n))})),window.fb_init=1},d=l},384832:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},266750:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},21755:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(551687),r=n(181307),a=n(785893);const s=(0,i.memo)((({activate:e=!0,isEligible:t=!0,name:n,group:s,children:l})=>{const d=(0,r.tc)(n);(0,i.useEffect)((()=>{e&&t&&d&&d()}),[]);const c=s,u=`Experiment(${n}:${c})`,h=t&&c&&(c.startsWith("enabled")||c.startsWith("employee"))||!1,p={group:t?c:"",anyEnabled:h,customActivate:t&&!e?d:null};return(0,a.jsx)(o.Z,{name:u,children:l(p)})}))},197801:(e,t,n)=>{n.d(t,{u:()=>o,Y:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ExperimentContext")},181307:(e,t,n)=>{n.d(t,{tc:()=>r,aq:()=>a});var i=n(667294),o=n(197801);function r(e){const t=(0,o.Y)(),n=t.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),a=(e=>{const t=(0,i.useRef)(!1),n=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{t.current=!0,n.current&&e()}),[]),()=>{t.current?e():n.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:n,anyEnabled:r})}function a(e,t=!0){const n=r(e);return t?n():{group:"",anyEnabled:!1}}},73697:(e,t,n)=>{n.d(t,{ZP:()=>l});var i=n(174523),o=n(946753),r=n(785893);function a({dot:e}){const t=(0,i.ZP)();return(0,o.nk)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function s({dot:e,freeShippingPrice:t}){const n=(0,i.ZP)();return(0,o.nk)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function l({freeShippingPrice:e,freeShippingValue:t,dot:n}){return 0===t?(0,r.jsx)(a,{dot:n||""}):e?(0,r.jsx)(s,{dot:n||"",freeShippingPrice:e}):null}},862357:(e,t,n)=>{n.d(t,{Z:()=>o});const i=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:n}function t(e,t,i){let l;for(e=i?Math.floor(e/o):e>>1,e+=Math.floor(e/t),l=0;e>(n-r)*a>>1;l+=n)e=Math.floor(e/(n-r));return Math.floor(l+(n-r+1)*e/(e+s))}this.utf16={encode:function(e){for(var t,n=[],i=0,o=e.length;o>i;){if(55296==(63488&(t=e[i++])))throw!0;t>65535&&(t-=65536,n.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),n.push(String.fromCharCode(t))}return n.join("")}};var n=36,o=700,r=1,a=26,s=38,l=2147483647;this.decode=function(i,o){let s,d,c,u,h,p,m,g,f,_,x,y,b,v=[],E=[],w=i.length;for(s=128,c=0,u=72,h=i.lastIndexOf("-"),0>h&&(h=0),p=0;h>p;++p){if(o&&(E[v.length]=i.charCodeAt(p)-65<26),i.charCodeAt(p)>=128)throw!0;v.push(i.charCodeAt(p))}for(m=h>0?h+1:0;w>m;){for(g=c,f=1,_=n;;_+=n){if(m>=w)throw!0;if(x=e(i.charCodeAt(m++)),x>=n)throw!0;if(x>Math.floor((l-c)/f))throw!0;if(c+=x*f,y=_>u?u+a>_?_-u:a:r,y>x)break;if(f>Math.floor(l/(n-y)))throw!0;f*=n-y}if(d=v.length+1,u=t(c-g,d,0===g),Math.floor(c/d)>l-s)throw!0;s+=Math.floor(c/d),c%=d,o&&E.splice(c,0,i.charCodeAt(m-1)-65<26),v.splice(c,0,s),c++}if(o)for(c=0,b=v.length;b>c;c++)E[c]&&(v[c]=String.fromCharCode(v[c]).toUpperCase().charCodeAt(0));return this.utf16.encode(v)},this.toUnicode=function(e){for(var t=e.split("."),n=[],o=0;o<t.length;++o){const e=t[o];n.push(e.match(/^xn--/)?i.decode(e.slice(4)):e)}return n.join(".")}};function o(e){try{return i.toUnicode(e)}catch(t){return e}}},32539:(e,t,n)=>{n.d(t,{Z:()=>W});var i=n(667294),o=n(954321),r=n(139585),a=n(576618);const s=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,a.jh)("constraint_",e),...(0,a.jh)("mark_",(0,r.gQ)()),...(0,a.jh)("browser_",{...t?(0,a.D3)(t):{},...(0,a.rX)()})});var l=n(590606),d=n(842310),c=n(641239);const u=(e,t)=>{const{firstInputDelay:n}=(0,c.v2)();return[...e.map((e=>(0,d.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,l.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var h=n(133769),p=n(940094),m=n(26382);const g=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:r,imageTimings:a,metricId:l,pwtStaticContext:d,startTime:c,traceId:g,spans:f})=>{const _=(0,h.Cg)();let x;"initial_app_load"===l.navigationType&&(x=(0,o.Z)());const y=a.map((({name:e})=>e)),b=_.map((e=>(0,p.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:c,endTime:r})));return{type:"COMPLETE",traceId:g,startTime:c,endTime:r,spans:u(b,g).concat(f),annotationMap:s({constraintMap:i,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,m.r)({annotateExperiments:e,binaryAnnotations:n,entries:_,metricId:l,performanceResources:b,pwtEndTime:r,pwtStaticContext:d})}};var f=n(939606);let _=!1;const x=(e,t)=>e&&t?_?((0,f.H)("duplicated_initial_app_load_surface_pwt"),(0,l.Z)()):(_=!0,t):(0,l.Z)();var y=n(883119),b=n(409352),v=n(785893);function E({children:e,heading:t}){return(0,v.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:(0,v.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,v.jsx)(y.xv,{weight:"bold",align:"center",children:t})})})}),(0,v.jsx)("tbody",{children:e})]})}function w({name:e,children:t}){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)(y.xv,{weight:"bold",children:e})}),(0,v.jsx)("td",{children:"string"==typeof t?(0,v.jsx)(y.xv,{children:t}):t})]})}function I({result:e}){return"ABORT"===e.type?(0,v.jsx)(w,{name:"Abort Reason",children:e.reason}):(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(w,{name:"PWT (ms)",children:(0,v.jsx)(y.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,v.jsx)(w,{name:"PinTrace",children:(0,v.jsx)(y.xv,{italic:!0,children:(0,v.jsx)(y.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:"Open in a new tab"})})})]})}function C({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:o,result:r}=e;return(0,v.jsxs)(y.xu,{children:[(0,v.jsxs)(E,{heading:(0,b.KJ)(t),children:[(0,v.jsx)(w,{name:"Thrift Id",children:String((0,b.Rp)(t))}),(0,v.jsx)(w,{name:"Surface",children:t.surface}),(0,v.jsx)(w,{name:"Navigation Type",children:t.navigationType}),(0,v.jsx)(w,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,v.jsx)(E,{heading:"Constraints",children:n.map((e=>(0,v.jsx)(w,{name:e,children:(0,v.jsx)(y.xv,{align:"end",children:i[e]?Math.round(i[e]-o):"pending..."})},`constraint_${e}`)))}),(0,v.jsx)(E,{heading:"Result",children:r?(0,v.jsx)(I,{result:r}):(0,v.jsx)(w,{name:"result",children:(0,v.jsx)(y.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var T=n(51610);const S=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function P({data:e}){const[t,n]=(0,i.useState)(!1);return(0,v.jsx)(T.Z,{children:(0,v.jsxs)(y.mh,{children:[(0,v.jsx)(y.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,v.jsx)(y.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:S(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&(0,v.jsx)(y.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,v.jsx)(y.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:(0,v.jsx)(y.xu,{padding:6,children:(0,v.jsx)(C,{data:e})})})})]})})}var j=n(299962);const A=(e,t)=>{const n=(0,i.useRef)(e);(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useRef)(t);(0,i.useEffect)((()=>{o.current=t}),[t]),(0,i.useEffect)((()=>()=>o.current(n.current)),[])},D=(e,t)=>{const[n,o]=(0,i.useState)(t);return{state:n,dispatch:t=>o((n=>e(n,t)))}};var R=n(974780),O=n(840059),N=n(182513),k=n(239540),L=n(226806),M=n(666584);const B=["initial_app_load","client_route_push"],F=(0,N.X)("PwtSurface"),U="NavigationComplete",Z="VisuallyComplete",G=(e,t)=>{e.isSampled&&(0,j.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},H=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:o,annotateExperiments:r},annotations:a,binaryAnnotations:s,constraintMap:l,startTime:d,imageTimings:c,isSampled:u,spans:h}=e,p=x("initial_app_load"===i.navigationType,null===(n=o.serverData)||void 0===n?void 0:n.trace_id),m=g({annotateExperiments:r,annotations:a,binaryAnnotations:s,constraintMap:l,endTime:t,imageTimings:c,metricId:i,pwtStaticContext:o,startTime:d,traceId:p,spans:h});return u&&(0,j.Z)({metricId:i,pwtStaticContext:o,result:m}),{...e,result:m,status:"DONE"}})(e,t)}return e},z=(e,t)=>{const{constraint:n,time:i}=t,o=(0,b.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(F(`constraint "${n}" is already complete.`),(0,f.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(F(`marking constraint "${n}" as complete`),H({...e,constraintMap:{...e.constraintMap,[n]:i||R.Z.now()}})):(F(`marked constraint "${n}" is not a required constraint.`),e):((0,f.H)("missing_window_performance",{action:o}),e)},V=(e,t)=>{if(F("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:o}=t;if("TIMING"===e.status&&i!==e.startTime&&G(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,b.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,f.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?(0,f.A9)(`TIMING.${r}`,{tags:{userAgent:null===(a=window)||void 0===a||null===(s=a.navigator)||void 0===s?void 0:s.userAgent}}):(0,f.A9)(`TIMING.${r}`),z({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:U}));var a,s})(e,t.payload);if("TIMING"!==e.status)return F(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":G(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!R.Z)return e;const o=R.Z.now();return F(`adding annotation {${i}: ${o}}`),{...e,annotations:{...e.annotations,[i]:o}};case"BINARY_ANNOTATE":const{name:r,value:a,annotationType:s}=t.payload;return F(`adding binary annotation {${r}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:a,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return z(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.Z){const t=(0,b.KJ)(e.metricConfig.metricId);(0,f.H)("missing_window_performance",{action:t})}F(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...o}=e.constraintMap;return H({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.Z){const t=(0,b.KJ)(e.metricConfig.metricId);(0,f.H)("missing_window_performance",{action:t})}F(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){G(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return z({...e,imageTimings:n},{constraint:Z,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:c,startTime:u,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,l.Z)(),startTime:u||d,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,l.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const _=e.spans.findIndex((e=>e.name===t.payload.name));return _>-1?(e.spans[_].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[_].annotationMap={...e.spans[_].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[_].binaryAnnotationMap={...e.spans[_].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,f.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const x=(0,b.KJ)(e.metricConfig.metricId);return(0,f.H)("invalid_pwt_surface_action",{action:x}),e}};function W({children:e,...t}){const n=(0,M.fM)(),o={...t,navigationInfo:{navigationType:(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),clientNavigation:n}},{state:r,context:a}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:r,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:l},sampleRate:d})=>{const c=(0,i.useRef)("NOT_SET"),u=(0,M.N5)(),{state:h,dispatch:p}=D(V,{status:"DISABLED",metricConfig:null});if(c.current!==s&&(c.current=s,u)){const{isAuthenticated:i}=u,c=a||B,h=e&&l&&c.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[U,...t||[],...o?[Z]:[]],pwtStaticContext:u}:null;p({type:"INIT_ROUTE",payload:{metricConfig:h,startTime:s?s.time:0,isSampled:!d||Math.random()<d}})}if((0,i.useEffect)((()=>{const e=e=>{p({type:"ABORT",reason:e})};k.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),p({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{k.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),A(h,(e=>{F("handling unmount",e),"TIMING"===e.status&&G(e,"unmount")})),"TIMING"!==h.status||!h.constraintMap.NavigationComplete)return{state:h,context:null};const{startTime:m,metricConfig:g}=h;return{state:h,context:{id:m,metricId:g.metricId,abort:e=>p({type:"ABORT",reason:e}),addAnnotation:e=>p({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>p({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:g.constraints.includes(Z)?e=>p({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>p({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>p({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>p({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},o={},r=null)=>p({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r}}),startSubspan:(e,t={},n={},i=null)=>p({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>p({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(o);return(()=>{const e=(0,L.EV)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,b.KJ)(e.metricId):null;(0,f.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(L.Sb,{value:a,children:e}),O.DQ&&"DISABLED"!==r.status&&(0,v.jsx)(P,{data:{metricId:r.metricConfig.metricId,constraints:r.metricConfig.constraints,constraintMap:r.constraintMap,startTime:r.startTime,result:"DONE"===r.status?r.result:null}})]})}},255038:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(164485),o=n(667294),r=n(226806),a=n(139585);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,r.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))}),[!!t,e])}(s),e}},169039:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),o=n(762803),r=n(666584),a=n(46509),s=n(954321),l=n(403369),d=n(590606),c=n(299962),u=n(842310),h=n(974780),p=n(182513),m=n(940094),g=n(26382),f=n(576618),_=n(939606);const x=(0,p.X)("PwtStopwatch"),y=(e,t)=>{if(h.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:o}=t;return(0,_.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:h.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return x("ignoring action - stopwatch is not actively timing",t),(0,_.A9)(`WARN.${n}.noTiming.${t.type}`),e}x("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=h.Z.now();return x(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return x(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return x(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){x(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&x(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&x(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:x(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;x(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&x(`WARNING: starting duplicate subspan name {${t.name}}`);const i=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===i))&&x(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);const o=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||o,startTime:h.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(x(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>(n.name===t.name&&e.push(n),e)),[]).length>1&&(0,_.H)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=h.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,_.H)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:o,annotations:r,binaryAnnotations:l,isSampled:p,spans:_,traceId:x}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),p){const e=t.stopTime||h.Z.now(),p=[..._.map((t=>(t.endTime===1/0&&(t.endTime=e),t)))];if(t.manualAndResourceSpans||0===_.length){const i=(0,d.Z)();p.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((e=>(0,u.Z)((0,m.p)(e,[]),i))).filter(Boolean))}const y="initial_app_load"===i.navigationType&&(0,s.Z)(),b={type:"COMPLETE",traceId:x,startTime:n,endTime:e,spans:p,annotationMap:{...(0,a.Z)(r),...(0,f.jh)("browser_",y?(0,f.D3)(y):{})},binaryAnnotationMap:(0,g.n)({metricId:i,pwtStaticContext:o,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,c.Z)({metricId:i,pwtStaticContext:o,result:b})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,_.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,o=t.reason||"";return(0,c.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:o}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}}return e},b=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:o=!1})=>{const a=(0,r.N5)(),s=(0,i.useRef)([]),c=(0,i.useRef)(null),[u,h]=(0,i.useReducer)(y,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()});return a?{isTiming:u.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;s.current=[],c.current=(0,l.Z)({entryTypes:["resource"]},(t=>{s.current=s.current.concat(t.getEntries()),s.current.length>e&&(s.current=s.current.slice(-e))}))}const o={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:a,isSampled:!t||Math.random()<t};return h(o)},stop:e=>h({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:s.current,manualAndResourceSpans:o}),error:e=>{h({type:"error",stopwatchPerformanceObserver:c.current,error:e})},abort:e=>h({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:s.current,reason:e}),annotate:(e,t,n=!1)=>h({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,o=!1)=>h({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:o}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o=!1})=>h({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:o={},parentId:r=null,id:a=null,bypassIsTimingCheck:s=!1})=>h({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:a,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:o=null,id:r=null,bypassIsTimingCheck:a=!1})=>h({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:o,id:r,bypassIsTimingCheck:a}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r=!1})=>h({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r}),getSpans:(e,t)=>u.spans.filter((n=>n[e]===t)),getTraceId:()=>u.traceId}:null};var v=n(785893);const E=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:a=!0,navigationType:s,manualAndResourceSpans:l=!1})=>{const{Provider:d,useHook:c}=(0,o.js)(`Stopwatch_${e}`);return{Provider:function({children:t}){const o=b({name:e,sampleRate:n,navigationType:s,manualAndResourceSpans:l}),c=(0,r.fM)(),u=c?c.time:0,h=(0,i.useRef)(!1),p=null==o?void 0:o.isTiming,m=t=>{h.current?(h.current=!1,null==o||o.abort(t)):(0,_.A9)(`WARN.${e}.noTiming.abort`)};return(0,i.useEffect)((()=>()=>{a&&m("unloadOrClientNavigation")}),[u]),(0,v.jsx)(d,{value:{isTiming:p,abort:m,addAnnotation:(e,t)=>{null==o||o.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==o||o.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})=>{null==o||o.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:a,id:s,bypassIsTimingCheck:l})=>{null==o||o.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:a,id:s,bypassIsTimingCheck:l})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:a,bypassIsTimingCheck:s})=>{null==o||o.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:a,bypassIsTimingCheck:s})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:a})=>{null==o||o.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:a})},getSpans:(e,t)=>o?o.getSpans(e,t):[],getTraceId:()=>o?o.getTraceId():0,error:t=>{h.current?(h.current=!1,null==o||o.error(t)):(0,_.A9)(`WARN.${e}.noTiming.error`)},start:e=>{h.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),h.current=!0,null==o||o.start(e)},stop:t=>{h.current?(h.current=!1,null==o||o.stop(t)):(0,_.A9)(`WARN.${e}.noTiming.stop`)}},children:t})},useHook:c}}},428568:(e,t,n)=>{n.d(t,{T:()=>a,g:()=>s});var i=n(169039);const{Provider:o,useHook:r}=(0,i.Z)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),a=o,s=r},46509:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,i)=>{const o=i?`${e}_${i+1}`:e;n={...n,[o]:t}}))})),n}},904192:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(498913),r=n.n(o),a=n(883119),s=n(785893);const l=({fill:e,width:t,color:n})=>{const o="half"===e?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:n,color:o}){const a=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:n},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:n},a.length)))),(0,s.jsx)(i.Fragment,{children:a})}},139848:(e,t,n)=>{n.d(t,{e:()=>r,Z:()=>a});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!i.has(e)&&!e.startsWith("__track__"),r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(o).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):"",a=r},886550:(e,t,n)=>{n.d(t,{UZ:()=>d,Z8:()=>c});var i=n(667294),o=(n(40142),n(311866)),r=n(762803),a=n(785893);const{Provider:s,useHook:l}=(0,r.ZP)("ResourceContext");function d({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{var n;switch(t.type){case"addListener":const i=[...null!==(n=e[t.payload.name])&&void 0!==n?n:[],t.payload.handler];return{...e,[t.payload.name]:i};case"removeListener":if(!e[t.payload.name])return e;const o=e[t.payload.name].filter((e=>e!==t.payload.handler));return{...e,[t.payload.name]:o};default:return e}}),{});o.ZP.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:o,refresh:r,resourceSchema:a})=>{t[e]&&t[e].forEach((t=>t({isRefresh:r,normalizedResponse:o,options:n,schema:a,resource:e,response:i})))};const r=(0,i.useMemo)((()=>({listenerDispatch:n})),[]);return(0,a.jsx)(s,{value:r,children:e})}function c(e,t){const{listenerDispatch:n}=l();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}},357846:(e,t,n)=>{n.d(t,{U2:()=>l,bi:()=>d,v_:()=>c});var i=n(139848),o=n(311866),r=n(301314),a=n(678929);function s({fetchOptions:e,resource:t,retry:n}){return(l,d)=>{var c,u,h;const{bookmark:p,headers:m,options:g,refresh:f,schema:_}=e,x=(0,i.Z)(g);if(null!==(c=d().resources)&&void 0!==c&&null!==(u=c[t])&&void 0!==u&&null!==(h=u[x])&&void 0!==h&&h.fetching&&!n)return Promise.resolve();const y=n?n.bookmark:p,b=y?{...g,bookmarks:[y]}:g;return l((0,r.LQ)(t,g,!0)),o.ZP.create(t,b).callGet(void 0,m).then((i=>{var d,c,u;const h=null===(d=i.resource_response)||void 0===d?void 0:d.data,[m]=i.bookmarks||[];if(Array.isArray(h)&&0===h.length&&m&&m!==a.q){const i=n?n.count:0;if(!(i>=a.s))return l(s({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}null===(c=o.ZP.customDataManipulations)||void 0===c||c.call(o.ZP,t,h,g);const{normalizedResponse:x,resourceSchema:y}=(null===(u=o.ZP.normalizeResponse)||void 0===u?void 0:u.call(o.ZP,{data:h,opts:{bookmark:p,options:g,schema:_},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return p?l((0,r.Dm)(t,g,i,x,y)):(l((0,r.Sr)(t,g,i,x,f,y)),o.ZP.fetchCompleteCallback&&o.ZP.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:x,refresh:f,resourceSchema:y})),Promise.resolve()}),(e=>{l((0,r.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:n,options:i,schema:o})=>s({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:o}}),d=(e,{headers:t,options:n,schema:i})=>s({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}});function c(e,t,n){return i=>{const{options:a}=t;return o.ZP.create(e,a).callCreate().then((t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const o=t.resource_response.data,s=(null==n?void 0:n(o))||null;i((0,r.XM)(e,a,t,s))}return t}),(t=>(i((0,r.Tl)(e,a,t)),t)))}}},678929:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>o});const i="-end-",o=10},451104:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>o,cR:()=>r,zP:()=>a,aW:()=>s,se:()=>l});const i="CREATE_COMPLETE",o="FETCHING",r="FETCH_ERROR",a="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},301314:(e,t,n)=>{n.d(t,{XM:()=>o,LQ:()=>r,Tl:()=>a,Sr:()=>s,Dm:()=>l,jB:()=>d});var i=n(451104);function o(e,t,n,o){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function r(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const a=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,o,r,a){return{type:i.zP,payload:{isRefresh:r,normalizedResponse:o,options:t,resource:e,response:n,schema:a}}}function l(e,t,n,o,r){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:r}}}function d(e,t={}){return{type:i.se,payload:{resource:e,options:t}}}},535718:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(40142),r=n(139848),a=n(678929),s=n(855168),l=n(585967),d=n(357846);const c={};function u({enabledRouteRefresh:e,dangerouslyDisableFetch:t,headers:n,name:u,noCache:h,options:p,schema:m}){const g=(0,o.useDispatch)(),f=(0,r.e)(p),_=(0,i.useRef)(),x=(0,s.k6)(),y=x&&"POP"!==x.action,b=e=>(e[u]||c)[f]||c,v=(0,o.useSelector)((({resources:e})=>b(e).nextBookmark)),E=(0,o.useSelector)((({resources:e})=>b(e).data)),w=(0,o.useSelector)((({resources:e})=>b(e).auxData)),I=(0,o.useSelector)((({resources:e})=>b(e).error)),C=(0,o.useSelector)((({resources:e})=>Boolean(b(e).fetching))),T=Boolean(I)||void 0!==E,S=T&&!C&&v===a.q,P=Boolean(T&&e&&y&&!t),[j,A]=(0,i.useState)(P),D=(0,i.useCallback)((e=>g((0,d.U2)(u,{options:p,schema:m,bookmark:e,headers:n}))),[g,u,f,m,n]),R=()=>g((0,d.bi)(u,{options:p,schema:m,headers:n})),{isBot:O}=(0,l.B)();(0,i.useEffect)((()=>{if(!t&&_.current!==f){const e=void 0===_.current;_.current=f,!T&&!C||e&&I&&(({httpStatus:e})=>!e||e>=500)(I)?D():(!O&&h||P)&&R()}}));const N=(0,i.useCallback)((()=>{t||(R(),A(!0))}),[t,d.bi,u,f,n,A]),k=(0,i.useCallback)((()=>{!v||S||C||t||D(v)}),[t,D,v,S,C]),L=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:k,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),M={auxData:w,data:E,error:I,fetchMore:k,isAtEnd:S,isFetching:C,isLoaded:T,isRefreshing:j,nextBookmark:v,refresh:N};return(0,o.shallowEqual)(M,L.current)||(!j||!L.current.data&&P||(0,o.shallowEqual)(M.data,L.current.data)||(M.isRefreshing=!1,A(!1)),L.current=M),L.current}},979593:(e,t,n)=>{n.d(t,{V:()=>i});const i=e=>{const{thumbnail:t,url:n,width:i,height:o,duration:r}=e||{};return t&&n&&i&&o&&{thumbnail:t,url:n,width:i,height:o,duration:r}||void 0}},853051:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({accessibilityLabel:e}){return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},620813:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const r=t||null;return(0,o.jsx)(i.Suspense,{fallback:r,children:e})}},689859:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(620813).Z},658551:(e,t,n)=>{n.d(t,{Jg:()=>r,ZP:()=>a,c5:()=>s});var i=n(731164);const o=.01,r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function a(e){return new Promise(((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)}))}function s(e,t=r.OTHER,n=!1){const a=n?"web":"mweb";return new Promise(((n,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===r.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval((()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${a}.loadScript.gplus_one.tries_${e}`,o))}),100)}else if(t===r.FACEBOOK)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${a}.loadScript.facebook.tries_${e}`,o))}),100)}else if(t===r.GSI)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${a}.loadScript.gsi.tries_${e}`,o))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(t)}}))}},203620:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(68006);function r({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:r,resourceOptions:a,value:s}){const l=(0,o.Z)({allowSearchOnMount:e,resourceName:r,resourceOptions:a,value:s});return(0,i.useEffect)((()=>{null!=l&&l.length&&n(l)}),[l]),t||null}},660310:(e,t,n)=>{n.d(t,{R3:()=>r,NO:()=>a,Jc:()=>s,th:()=>l,ge:()=>c});var i=n(238402);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,i.Z)({term_meta:e.map((e=>s(e)))})}function d(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>o.includes(e.toLowerCase())))?[e]:t}return[]}function c({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return d(t).map((t=>({index:n,term:t,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return d(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},68006:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294);const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const a=r;var s=n(311866);function l({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.ZP.create(e,n),o=new a,r=()=>{i.abort()};return async function(e){const t=o.get(e);if(t){const n=t.items;if(n&&n.length){r();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;r()}const{bookmarks:a,...s}=i.options||{};i.options={...s,term:e};const l=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,d=null==l?void 0:l.items,c=(null==l?void 0:l.hint)||{},u={hint:c,items:d};return o.set(e,u),{term:e,items:d,hint:c}})(e):{hint:{},items:[],term:e}}}function d({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const r=(0,i.useRef)(!1),a=(0,i.useRef)({}),[s,d]=(0,i.useState)([]),c=function({resourceName:e,resourceOptions:t}){const n=(0,i.useRef)();return n.current||(n.current=l({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return(0,i.useEffect)((()=>{(async()=>{if(null!=o&&(e||r.current))if(o in a.current)d(a.current[o]);else try{const e=await c(o);if(e){const{items:t}=e;a.current[o]=t,d(t)}}catch(t){if("Resource call aborted"===t)return;throw t}r.current||(r.current=!0)})()}),[o]),s}},281996:(e,t,n)=>{n.d(t,{lw:()=>i,_R:()=>o,wF:()=>r});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},r=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},657121:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},51610:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>s});var i=n(588527),o=n(785893);const r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||a(e)}(e,t);return(0,o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:n?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},903945:(e,t,n)=>{n.d(t,{qn:()=>i,L_:()=>o,Nh:()=>r});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},r=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},552443:(e,t,n)=>{n.d(t,{o:()=>a,c:()=>s});var i=n(667294),o=n(785893);const r=(0,i.createContext)(null);function a({children:e,closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:a,loadFonts:s,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h,setIdeaPinSessionId:p}){const m={closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:a,loadFonts:s,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h,setIdeaPinSessionId:p};return(0,o.jsx)(r.Provider,{value:m,children:e})}const s=()=>(0,i.useContext)(r)},81260:(e,t,n)=>{n.d(t,{RR:()=>i,YB:()=>o,yR:()=>r,YL:()=>a,pE:()=>s,h8:()=>l,Cc:()=>d});const i="0.8.0",o=9/16,r=8,a=10;function s(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const l={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},925265:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(561077);const o=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,i.Z)(o,e,t)},730060:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},760620:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>i.test(e)},204478:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},561077:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},395047:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/\s\s+/g,o=e=>e.replace(i," ")},754999:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(925265),o=n(730060);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},537343:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="…",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},354783:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},280313:(e,t,n)=>{n.d(t,{z_:()=>i,Yq:()=>o,T7:()=>r,Yj:()=>l,pe:()=>d,xt:()=>c,E5:()=>u});n(883119);const i="/today/",o=(e,t=0)=>({num_days:3,referrer:t,...e?{}:{redux_normalize_feed:!0}});function r(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const a={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},s={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=s[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>a[e],c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},988089:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(883119),r=n(785893);class a extends i.Component{constructor(e){var t,n,o;super(e),o={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",r=i[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,a={maxWidth:e,maxHeight:t},s=n?{display:"inline",...a}:{...a};return i?(0,r.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:s},ref:this.ref,children:this.props.children}):(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:s},children:this.props.children})}}const s=a},625462:(e,t,n)=>{n.d(t,{q:()=>r});var i=n(414995),o=n.n(i);const r=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=o()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},500953:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=e=>{(0,i.useEffect)(e,[])}},8742:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=()=>{const[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}}},34411:(e,t,n)=>{n.d(t,{$:()=>o,Z:()=>a});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("viewer"),a=r},997993:(e,t,n)=>{n.d(t,{aH:()=>r,CU:()=>a,GT:()=>s,VG:()=>l,ZA:()=>d,Bh:()=>c,qA:()=>u,VC:()=>h,Jx:()=>p,Zt:()=>m,Gy:()=>g,MZ:()=>f,sG:()=>_,G$:()=>x,nw:()=>y,oR:()=>b,xk:()=>v,J_:()=>E,qp:()=>w,vd:()=>I,FU:()=>C,a3:()=>T});var i=n(542756);const o=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach(((e,i)=>{const o=t[e];o&&(n[i]=o)})),n.join("")};function r(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}const a=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(a)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function l(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){const i=o(t.trim()),r=[];if(i)if(i.length<2&&r.push(e.ageTooShortString),/^\d+$/.test(i)){const t=parseInt(i,10);t<=0||t>=300?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&r.push(e.checkUnderAgeWithString)}else r.push(e.invalidAgeString);const a={errors:r,warnings:[]};return n&&n(a),a}}function c(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],r=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||o.push(e.message);const a={errors:o,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const i=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const i=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function p(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){const o=[];if(t)try{const n=(0,i.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||o.push(e.message)}catch(a){o.push(e.message)}const r={errors:o,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?i.push(e.minErrorString):e.max&&o>e.max&&i.push(e.maxErrorString);const r={errors:i,warnings:[]};return n&&n(r),r}}function f(e){return function(t,n){const i=!e.checkExclusion,o=e.substrings,r=[];(i&&!o.some((e=>t.includes(e)))||!i&&o.some((e=>t.includes(e))))&&r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function _(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function x(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function b(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function E(e){return function(t,n){t=t&&t.trim();const i=[],o=new Date(t);t&&!o.getTime()&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function w(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function I(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function C(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function T(e,t){let n="";return t.some((t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)})),n}},477342:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>o})},265044:(e,t,n)=>{n.d(t,{r:()=>l,E:()=>d});var i=n(296882),o=n(238402),r=n(702925),a=n(580849),s=n(661966);const l=e=>e.advertiser?r.Z.settings.TAG_MANAGER_URL:(0,i.Z)(`?${(0,o.Z)({redirect:s.qp.PINTEREST_TAG})}`,"https:",r.Z.settings.ADS_DOMAIN),d=e=>{const t=a.K.fromGlobalContext();if(e){const n=(0,o.Z)({platform:s.vJ[e]});if("Shopify"===e)return r.Z.settings.INSTALL_PINTEREST_APP_ON_SHOPIFY_URL;if(["Google Tag Manager","WordPress"].includes(e))return t.advertiser?`${r.Z.settings.TAG_MANAGER_URL}/?${n}`:(0,i.Z)(`?${(0,o.Z)({redirect:e})}`,"https:",r.Z.settings.ADS_DOMAIN)}return t.advertiser?r.Z.settings.TAG_MANAGER_URL:(0,i.Z)(`?${(0,o.Z)({redirect:s.qp.PINTEREST_TAG})}`,"https:",r.Z.settings.ADS_DOMAIN)}},932129:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(754999);function o(e,t){let n="";if(e){const i=t._("Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.store","[m10n] Quick Promote success message from quick report, has a link to ads manager");switch(e){case"Ecwid":case"Bigcommerce":n=i;break;case"WordPress":n=t._("Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wordpress","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;case"WooCommerce":n=t._("Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wooCommerce","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;default:n=t._("Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.default","[m10n] Quick Promote success message from quick report, has a link to ads manager")}}return(0,i.Z)(n,{tagIntegration:e})}},387021:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(535718),o=n(34411),r=n(585967);function a(){var e;const t=(0,r.B)(),n=(0,o.Z)(),{advertiser:a}=t,s=(0,i.Z)({name:"UserResource",options:{user_id:a?a.owner_user_id:n.isAuth&&n.id,field_set_key:"merchant_summary"},dangerouslyDisableFetch:!(null==a||!a.merchant_id)});return{merchantId:(null==a?void 0:a.merchant_id)||(null===(e=s.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==a?void 0:a.id)||"",ownerUserId:(null==a?void 0:a.owner_user_id)||(n.isAuth?n.id:""),advertiser:a}}},196622:(e,t,n)=>{n.d(t,{O:()=>i,C:()=>o});const i=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155"],o=()=>["108","114","115","116","117","118","119","121","123","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","4029","4043","4055"]},659589:(e,t,n)=>{n.d(t,{aE:()=>i,qN:()=>o,yn:()=>r,Wd:()=>a,k:()=>s,Hm:()=>l,EF:()=>d,TL:()=>c,n6:()=>u,F4:()=>h,RS:()=>p,Ed:()=>m,gp:()=>g,AG:()=>f,v6:()=>_,HB:()=>x,D8:()=>y});const i={"In Stock":{name:"inStockProductCount",barColor:"#0074E8"},"Out of Stock":{name:"outOfStockProductCount",barColor:"#FFA99D"},Preorder:{name:"preorderProductCount",barColor:"#EFEFEF"}},o={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},r={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},a={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},s={NO_RETURN_POLICY:"NO_RETURN_POLICY",NO_SHIPPING_POLICY:"NO_SHIPPING_POLICY",UNCLEAR_RETURNS:"UNCLEAR_RETURNS",UNCLEAR_SHIPPING:"UNCLEAR_SHIPPING",SERVICES:"SERVICES",BROKEN_URL:"BROKEN_URL",TERMS_AND_SERVICES_VIOLATION:"TERMS_AND_SERVICES_VIOLATION",SPAM_VIOLATION:"SPAM_VIOLATION",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",TRUST_AND_SAFETY_VIOLATION:"TRUST_AND_SAFETY_VIOLATION",MARKETPLACE:"MARKETPLACE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",PAYPAL:"PAYPAL",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",DOMAIN_AGE:"DOMAIN_AGE",IMAGE_QUALITY:"IMAGE_QUALITY",WATERMARKS:"WATERMARKS",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCT_DESCRIPTION:"PRODUCT_DESCRIPTION",POP_UP:"POP_UP",INAUTHENTIC_PHOTOS:"INAUTHENTIC_PHOTOS",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},l={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},d=[o.PROCESSING,o.QUEUED_FOR_PROCESSING],c={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7},u={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},h="USD",p="None",m=()=>[{value:"None",label:"NONE "},{value:"IN_STOCK",label:"IN STOCK "},{value:"OUT_OF_STOCK",label:"OUT OF STOCK "},{value:"PREORDER",label:"PREORDER "}],g=e=>[{value:"AED",label:e._("AED - United Arab Emirates Dirham","[catalogs] name of AED currency","[catalogs] name of AED currency")},{value:"AFN",label:e._("AFN - Afghanistan Afghani","[catalogs] name of AFN currency","[catalogs] name of AFN currency")},{value:"ALL",label:e._("ALL - Albania Lek","[catalogs] name of ALL currency","[catalogs] name of ALL currency")},{value:"AMD",label:e._("AMD - Armenia Dram","[catalogs] name of AMD currency","[catalogs] name of AMD currency")},{value:"ANG",label:e._("ANG - Netherlands Antilles Guilder","[catalogs] name of ANG currency","[catalogs] name of ANG currency")},{value:"AOA",label:e._("AOA - Angola Kwanza","[catalogs] name of AOA currency","[catalogs] name of AOA currency")},{value:"ARS",label:e._("ARS - Argentina Peso","[catalogs] name of ARS currency","[catalogs] name of ARS currency")},{value:"AUD",label:e._("AUD - Australia Dollar","[catalogs] name of AUD currency","[catalogs] name of AUD currency")},{value:"AWG",label:e._("AWG - Aruba Guilder","[catalogs] name of AWG currency","[catalogs] name of AWG currency")},{value:"AZN",label:e._("AZN - Azerbaijan New Manat","[catalogs] name of AZN currency","[catalogs] name of AZN currency")},{value:"BAM",label:e._("BAM - Bosnia and Herzegovina Convertible Marka","[catalogs] name of BAM currency","[catalogs] name of BAM currency")},{value:"BBD",label:e._("BBD - Barbados Dollar","[catalogs] name of BBD currency","[catalogs] name of BBD currency")},{value:"BDT",label:e._("BDT - Bangladesh Taka","[catalogs] name of BDT currency","[catalogs] name of BDT currency")},{value:"BGN",label:e._("BGN - Bulgaria Lev","[catalogs] name of BGN currency","[catalogs] name of BGN currency")},{value:"BHD",label:e._("BHD - Bahrain Dinar","[catalogs] name of BHD currency","[catalogs] name of BHD currency")},{value:"BIF",label:e._("BIF - Burundi Franc","[catalogs] name of BIF currency","[catalogs] name of BIF currency")},{value:"BMD",label:e._("BMD - Bermuda Dollar","[catalogs] name of BMD currency","[catalogs] name of BMD currency")},{value:"BND",label:e._("BND - Brunei Darussalam Dollar","[catalogs] name of BND currency","[catalogs] name of BND currency")},{value:"BOB",label:e._("BOB - Bolivia Boliviano","[catalogs] name of BOB currency","[catalogs] name of BOB currency")},{value:"BRL",label:e._("BRL - Brazil Real","[catalogs] name of BRL currency","[catalogs] name of BRL currency")},{value:"BSD",label:e._("BSD - Bahamas Dollar","[catalogs] name of BSD currency","[catalogs] name of BSD currency")},{value:"BTN",label:e._("BTN - Bhutan Ngultrum","[catalogs] name of BTN currency","[catalogs] name of BTN currency")},{value:"BWP",label:e._("BWP - Botswana Pula","[catalogs] name of BWP currency","[catalogs] name of BWP currency")},{value:"BYR",label:e._("BYR - Belarus Ruble","[catalogs] name of BYR currency","[catalogs] name of BYR currency")},{value:"BZD",label:e._("BZD - Belize Dollar","[catalogs] name of BZD currency","[catalogs] name of BZD currency")},{value:"CAD",label:e._("CAD - Canada Dollar","[catalogs] name of CAD currency","[catalogs] name of CAD currency")},{value:"CDF",label:e._("CDF - Congo/Kinshasa Franc","[catalogs] name of CDF currency","[catalogs] name of CDF currency")},{value:"CHF",label:e._("CHF - Switzerland Franc","[catalogs] name of CHF currency","[catalogs] name of CHF currency")},{value:"CLP",label:e._("CLP - Chile Peso","[catalogs] name of CLP currency","[catalogs] name of CLP currency")},{value:"CNY",label:e._("CNY - China Yuan Renminbi","[catalogs] name of CNY currency","[catalogs] name of CNY currency")},{value:"COP",label:e._("COP - Colombia Peso","[catalogs] name of COP currency","[catalogs] name of COP currency")},{value:"CRC",label:e._("CRC - Costa Rica Colon","[catalogs] name of CRC currency","[catalogs] name of CRC currency")},{value:"CUC",label:e._("CUC - Cuba Convertible Peso","[catalogs] name of CUC currency","[catalogs] name of CUC currency")},{value:"CUP",label:e._("CUP - Cuba Peso","[catalogs] name of CUP currency","[catalogs] name of CUP currency")},{value:"CVE",label:e._("CVE - Cape Verde Escudo","[catalogs] name of CVE currency","[catalogs] name of CVE currency")},{value:"CZK",label:e._("CZK - Czech Republic Koruna","[catalogs] name of CZK currency","[catalogs] name of CZK currency")},{value:"DJF",label:e._("DJF - Djibouti Franc","[catalogs] name of DJF currency","[catalogs] name of DJF currency")},{value:"DKK",label:e._("DKK - Denmark Krone","[catalogs] name of DKK currency","[catalogs] name of DKK currency")},{value:"DOP",label:e._("DOP - Dominican Republic Peso","[catalogs] name of DOP currency","[catalogs] name of DOP currency")},{value:"DZD",label:e._("DZD - Algeria Dinar","[catalogs] name of DZD currency","[catalogs] name of DZD currency")},{value:"EGP",label:e._("EGP - Egypt Pound","[catalogs] name of EGP currency","[catalogs] name of EGP currency")},{value:"ERN",label:e._("ERN - Eritrea Nakfa","[catalogs] name of ERN currency","[catalogs] name of ERN currency")},{value:"ETB",label:e._("ETB - Ethiopia Birr","[catalogs] name of ETB currency","[catalogs] name of ETB currency")},{value:"EUR",label:e._("EUR - Euro Member Countries","[catalogs] name of EUR currency","[catalogs] name of EUR currency")},{value:"FJD",label:e._("FJD - Fiji Dollar","[catalogs] name of FJD currency","[catalogs] name of FJD currency")},{value:"FKP",label:e._("FKP - Falkland Islands (Malvinas) Pound","[catalogs] name of FKP currency","[catalogs] name of FKP currency")},{value:"GBP",label:e._("GBP - United Kingdom Pound","[catalogs] name of GBP currency","[catalogs] name of GBP currency")},{value:"GEL",label:e._("GEL - Georgia Lari","[catalogs] name of GEL currency","[catalogs] name of GEL currency")},{value:"GGP",label:e._("GGP - Guernsey Pound","[catalogs] name of GGP currency","[catalogs] name of GGP currency")},{value:"GHS",label:e._("GHS - Ghana Cedi","[catalogs] name of GHS currency","[catalogs] name of GHS currency")},{value:"GIP",label:e._("GIP - Gibraltar Pound","[catalogs] name of GIP currency","[catalogs] name of GIP currency")},{value:"GMD",label:e._("GMD - Gambia Dalasi","[catalogs] name of GMD currency","[catalogs] name of GMD currency")},{value:"GNF",label:e._("GNF - Guinea Franc","[catalogs] name of GNF currency","[catalogs] name of GNF currency")},{value:"GTQ",label:e._("GTQ - Guatemala Quetzal","[catalogs] name of GTQ currency","[catalogs] name of GTQ currency")},{value:"GYD",label:e._("GYD - Guyana Dollar","[catalogs] name of GYD currency","[catalogs] name of GYD currency")},{value:"HKD",label:e._("HKD - Hong Kong Dollar","[catalogs] name of HKD currency","[catalogs] name of HKD currency")},{value:"HNL",label:e._("HNL - Honduras Lempira","[catalogs] name of HNL currency","[catalogs] name of HNL currency")},{value:"HRK",label:e._("HRK - Croatia Kuna","[catalogs] name of HRK currency","[catalogs] name of HRK currency")},{value:"HTG",label:e._("HTG - Haiti Gourde","[catalogs] name of HTG currency","[catalogs] name of HTG currency")},{value:"HUF",label:e._("HUF - Hungary Forint","[catalogs] name of HUF currency","[catalogs] name of HUF currency")},{value:"IDR",label:e._("IDR - Indonesia Rupiah","[catalogs] name of IDR currency","[catalogs] name of IDR currency")},{value:"ILS",label:e._("ILS - Israel Shekel","[catalogs] name of ILS currency","[catalogs] name of ILS currency")},{value:"IMP",label:e._("IMP - Isle of Man Pound","[catalogs] name of IMP currency","[catalogs] name of IMP currency")},{value:"INR",label:e._("INR - India Rupee","[catalogs] name of INR currency","[catalogs] name of INR currency")},{value:"IQD",label:e._("IQD - Iraq Dinar","[catalogs] name of IQD currency","[catalogs] name of IQD currency")},{value:"IRR",label:e._("IRR - Iran Rial","[catalogs] name of IRR currency","[catalogs] name of IRR currency")},{value:"ISK",label:e._("ISK - Iceland Krona","[catalogs] name of ISK currency","[catalogs] name of ISK currency")},{value:"JEP",label:e._("JEP - Jersey Pound","[catalogs] name of JEP currency","[catalogs] name of JEP currency")},{value:"JMD",label:e._("JMD - Jamaica Dollar","[catalogs] name of JMD currency","[catalogs] name of JMD currency")},{value:"JOD",label:e._("JOD - Jordan Dinar","[catalogs] name of JOD currency","[catalogs] name of JOD currency")},{value:"JPY",label:e._("JPY - Japan Yen","[catalogs] name of JPY currency","[catalogs] name of JPY currency")},{value:"KES",label:e._("KES - Kenya Shilling","[catalogs] name of KES currency","[catalogs] name of KES currency")},{value:"KGS",label:e._("KGS - Kyrgyzstan Som","[catalogs] name of KGS currency","[catalogs] name of KGS currency")},{value:"KHR",label:e._("KHR - Cambodia Riel","[catalogs] name of KHR currency","[catalogs] name of KHR currency")},{value:"KMF",label:e._("KMF - Comoros Franc","[catalogs] name of KMF currency","[catalogs] name of KMF currency")},{value:"KPW",label:e._("KPW - Korea (North) Won","[catalogs] name of KPW currency","[catalogs] name of KPW currency")},{value:"KRW",label:e._("KRW - Korea (South) Won","[catalogs] name of KRW currency","[catalogs] name of KRW currency")},{value:"KWD",label:e._("KWD - Kuwait Dinar","[catalogs] name of KWD currency","[catalogs] name of KWD currency")},{value:"KYD",label:e._("KYD - Cayman Islands Dollar","[catalogs] name of KYD currency","[catalogs] name of KYD currency")},{value:"KZT",label:e._("KZT - Kazakhstan Tenge","[catalogs] name of KZT currency","[catalogs] name of KZT currency")},{value:"LAK",label:e._("LAK - Laos Kip","[catalogs] name of LAK currency","[catalogs] name of LAK currency")},{value:"LBP",label:e._("LBP - Lebanon Pound","[catalogs] name of LBP currency","[catalogs] name of LBP currency")},{value:"LKR",label:e._("LKR - Sri Lanka Rupee","[catalogs] name of LKR currency","[catalogs] name of LKR currency")},{value:"LRD",label:e._("LRD - Liberia Dollar","[catalogs] name of LRD currency","[catalogs] name of LRD currency")},{value:"LSL",label:e._("LSL - Lesotho Loti","[catalogs] name of LSL currency","[catalogs] name of LSL currency")},{value:"LYD",label:e._("LYD - Libya Dinar","[catalogs] name of LYD currency","[catalogs] name of LYD currency")},{value:"MAD",label:e._("MAD - Morocco Dirham","[catalogs] name of MAD currency","[catalogs] name of MAD currency")},{value:"MDL",label:e._("MDL - Moldova Leu","[catalogs] name of MDL currency","[catalogs] name of MDL currency")},{value:"MGA",label:e._("MGA - Madagascar Ariary","[catalogs] name of MGA currency","[catalogs] name of MGA currency")},{value:"MKD",label:e._("MKD - Macedonia Denar","[catalogs] name of MKD currency","[catalogs] name of MKD currency")},{value:"MMK",label:e._("MMK - Myanmar (Burma) Kyat","[catalogs] name of MMK currency","[catalogs] name of MMK currency")},{value:"MNT",label:e._("MNT - Mongolia Tughrik","[catalogs] name of MNT currency","[catalogs] name of MNT currency")},{value:"MOP",label:e._("MOP - Macau Pataca","[catalogs] name of MOP currency","[catalogs] name of MOP currency")},{value:"MRO",label:e._("MRO - Mauritania Ouguiya","[catalogs] name of MRO currency","[catalogs] name of MRO currency")},{value:"MUR",label:e._("MUR - Mauritius Rupee","[catalogs] name of MUR currency","[catalogs] name of MUR currency")},{value:"MVR",label:e._("MVR - Maldives (Maldive Islands) Rufiyaa","[catalogs] name of MVR currency","[catalogs] name of MVR currency")},{value:"MWK",label:e._("MWK - Malawi Kwacha","[catalogs] name of MWK currency","[catalogs] name of MWK currency")},{value:"MXN",label:e._("MXN - Mexico Peso","[catalogs] name of MXN currency","[catalogs] name of MXN currency")},{value:"MYR",label:e._("MYR - Malaysia Ringgit","[catalogs] name of MYR currency","[catalogs] name of MYR currency")},{value:"MZN",label:e._("MZN - Mozambique Metical","[catalogs] name of MZN currency","[catalogs] name of MZN currency")},{value:"NAD",label:e._("NAD - Namibia Dollar","[catalogs] name of NAD currency","[catalogs] name of NAD currency")},{value:"NGN",label:e._("NGN - Nigeria Naira","[catalogs] name of NGN currency","[catalogs] name of NGN currency")},{value:"NIO",label:e._("NIO - Nicaragua Cordoba","[catalogs] name of NIO currency","[catalogs] name of NIO currency")},{value:"NOK",label:e._("NOK - Norway Krone","[catalogs] name of NOK currency","[catalogs] name of NOK currency")},{value:"NPR",label:e._("NPR - Nepal Rupee","[catalogs] name of NPR currency","[catalogs] name of NPR currency")},{value:"NZD",label:e._("NZD - New Zealand Dollar","[catalogs] name of NZD currency","[catalogs] name of NZD currency")},{value:"OMR",label:e._("OMR - Oman Rial","[catalogs] name of OMR currency","[catalogs] name of OMR currency")},{value:"PAB",label:e._("PAB - Panama Balboa","[catalogs] name of PAB currency","[catalogs] name of PAB currency")},{value:"PEN",label:e._("PEN - Peru Nuevo Sol","[catalogs] name of PEN currency","[catalogs] name of PEN currency")},{value:"PGK",label:e._("PGK - Papua New Guinea Kina","[catalogs] name of PGK currency","[catalogs] name of PGK currency")},{value:"PHP",label:e._("PHP - Philippines Peso","[catalogs] name of PHP currency","[catalogs] name of PHP currency")},{value:"PKR",label:e._("PKR - Pakistan Rupee","[catalogs] name of PKR currency","[catalogs] name of PKR currency")},{value:"PLN",label:e._("PLN - Poland Zloty","[catalogs] name of PLN currency","[catalogs] name of PLN currency")},{value:"PYG",label:e._("PYG - Paraguay Guarani","[catalogs] name of PYG currency","[catalogs] name of PYG currency")},{value:"QAR",label:e._("QAR - Qatar Riyal","[catalogs] name of QAR currency","[catalogs] name of QAR currency")},{value:"RON",label:e._("RON - Romania New Leu","[catalogs] name of RON currency","[catalogs] name of RON currency")},{value:"RSD",label:e._("RSD - Serbia Dinar","[catalogs] name of RSD currency","[catalogs] name of RSD currency")},{value:"RUB",label:e._("RUB - Russia Ruble","[catalogs] name of RUB currency","[catalogs] name of RUB currency")},{value:"RWF",label:e._("RWF - Rwanda Franc","[catalogs] name of RWF currency","[catalogs] name of RWF currency")},{value:"SAR",label:e._("SAR - Saudi Arabia Riyal","[catalogs] name of SAR currency","[catalogs] name of SAR currency")},{value:"SBD",label:e._("SBD - Solomon Islands Dollar","[catalogs] name of SBD currency","[catalogs] name of SBD currency")},{value:"SCR",label:e._("SCR - Seychelles Rupee","[catalogs] name of SCR currency","[catalogs] name of SCR currency")},{value:"SDG",label:e._("SDG - Sudan Pound","[catalogs] name of SDG currency","[catalogs] name of SDG currency")},{value:"SEK",label:e._("SEK - Sweden Krona","[catalogs] name of SEK currency","[catalogs] name of SEK currency")},{value:"SGD",label:e._("SGD - Singapore Dollar","[catalogs] name of SGD currency","[catalogs] name of SGD currency")},{value:"SHP",label:e._("SHP - Saint Helena Pound","[catalogs] name of SHP currency","[catalogs] name of SHP currency")},{value:"SLL",label:e._("SLL - Sierra Leone Leone","[catalogs] name of SLL currency","[catalogs] name of SLL currency")},{value:"SOS",label:e._("SOS - Somalia Shilling","[catalogs] name of SOS currency","[catalogs] name of SOS currency")},{value:"SPL",label:e._("SPL - Seborga Luigino","[catalogs] name of SPL currency","[catalogs] name of SPL currency")},{value:"SRD",label:e._("SRD - Suriname Dollar","[catalogs] name of SRD currency","[catalogs] name of SRD currency")},{value:"STD",label:e._("STD - São Tomé and Príncipe Dobra","[catalogs] name of STD currency","[catalogs] name of STD currency")},{value:"SVC",label:e._("SVC - El Salvador Colon","[catalogs] name of SVC currency","[catalogs] name of SVC currency")},{value:"SYP",label:e._("SYP - Syria Pound","[catalogs] name of SYP currency","[catalogs] name of SYP currency")},{value:"SZL",label:e._("SZL - Swaziland Lilangeni","[catalogs] name of SZL currency","[catalogs] name of SZL currency")},{value:"THB",label:e._("THB - Thailand Baht","[catalogs] name of THB currency","[catalogs] name of THB currency")},{value:"TJS",label:e._("TJS - Tajikistan Somoni","[catalogs] name of TJS currency","[catalogs] name of TJS currency")},{value:"TMT",label:e._("TMT - Turkmenistan Manat","[catalogs] name of TMT currency","[catalogs] name of TMT currency")},{value:"TND",label:e._("TND - Tunisia Dinar","[catalogs] name of TND currency","[catalogs] name of TND currency")},{value:"TOP",label:e._("TOP - Tonga Pa'anga","[catalogs] name of TOP currency","[catalogs] name of TOP currency")},{value:"TRY",label:e._("TRY - Turkey Lira","[catalogs] name of TRY currency","[catalogs] name of TRY currency")},{value:"TTD",label:e._("TTD - Trinidad and Tobago Dollar","[catalogs] name of TTD currency","[catalogs] name of TTD currency")},{value:"TVD",label:e._("TVD - Tuvalu Dollar","[catalogs] name of TVD currency","[catalogs] name of TVD currency")},{value:"TWD",label:e._("TWD - Taiwan New Dollar","[catalogs] name of TWD currency","[catalogs] name of TWD currency")},{value:"TZS",label:e._("TZS - Tanzania Shilling","[catalogs] name of TZS currency","[catalogs] name of TZS currency")},{value:"UAH",label:e._("UAH - Ukraine Hryvnia","[catalogs] name of UAH currency","[catalogs] name of UAH currency")},{value:"UGX",label:e._("UGX - Uganda Shilling","[catalogs] name of UGX currency","[catalogs] name of UGX currency")},{value:"USD",label:e._("USD - United States Dollar","[catalogs] name of USD currency","[catalogs] name of USD currency")},{value:"UYU",label:e._("UYU - Uruguay Peso","[catalogs] name of UYU currency","[catalogs] name of UYU currency")},{value:"UZS",label:e._("UZS - Uzbekistan Som","[catalogs] name of UZS currency","[catalogs] name of UZS currency")},{value:"VEF",label:e._("VEF - Venezuela Bolivar","[catalogs] name of VEF currency","[catalogs] name of VEF currency")},{value:"VND",label:e._("VND - Viet Nam Dong","[catalogs] name of VND currency","[catalogs] name of VND currency")},{value:"VUV",label:e._("VUV - Vanuatu Vatu","[catalogs] name of VUV currency","[catalogs] name of VUV currency")},{value:"WST",label:e._("WST - Samoa Tala","[catalogs] name of WST currency","[catalogs] name of WST currency")},{value:"XAF",label:e._("XAF - Communauté Financière Africaine (BEAC) CFA Franc BEAC","[catalogs] name of XAF currency","[catalogs] name of XAF currency")},{value:"XCD",label:e._("XCD - East Caribbean Dollar","[catalogs] name of XCD currency","[catalogs] name of XCD currency")},{value:"XDR",label:e._("XDR - International Monetary Fund (IMF) Special Drawing Rights","[catalogs] name of XDR currency","[catalogs] name of XDR currency")},{value:"XOF",label:e._("XOF - Communauté Financière Africaine (BCEAO) Franc","[catalogs] name of XOF currency","[catalogs] name of XOF currency")},{value:"XPF",label:e._("XPF - Comptoirs Français du Pacifique (CFP) Franc","[catalogs] name of XPF currency","[catalogs] name of XPF currency")},{value:"YER",label:e._("YER - Yemen Rial","[catalogs] name of YER currency","[catalogs] name of YER currency")},{value:"ZAR",label:e._("ZAR - South Africa Rand","[catalogs] name of ZAR currency","[catalogs] name of ZAR currency")},{value:"ZMW",label:e._("ZMW - Zambia Kwacha","[catalogs] name of ZMW currency","[catalogs] name of ZMW currency")},{value:"ZWD",label:e._("ZWD - Zimbabwe Dollar","[catalogs] name of ZWD currency","[catalogs] name of ZWD currency")}],f=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],_=[{label:"English (Canada)",value:"en-CA"},{label:"Français (Canadien)",value:"fr-CA"}],x=20,y=1},694425:(e,t,n)=>{n.d(t,{bQ:()=>l,Qv:()=>d,f7:()=>c,hW:()=>h,Yy:()=>p,p6:()=>m,Dy:()=>g,v6:()=>f,qH:()=>_,Hc:()=>x,h$:()=>y,Bc:()=>b,bD:()=>v,Vn:()=>w,Di:()=>I,d9:()=>C,gP:()=>T,I5:()=>S});var i=n(754999),o=n(196622),r=(n(883119),n(639868)),a=n(625838),s=n(659589);const l=({feedProfile:e,workflows:t})=>{if(t.length){var n;const i=t[0].workflowStatus,o=s.EF.includes(i);return i===s.qN.DISAPPROVED?s.yn.DISABLED:(null==e?void 0:e.feedStatus)===s.Hm.INACTIVE?s.yn.PAUSED:i===s.qN.UNDER_REVIEW||i===s.qN.UNDER_APPEAL||o&&(null==e||null===(n=e.lastSuccessfulIngestion)||void 0===n?void 0:n.workflowStatus)!==s.qN.COMPLETED?s.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?s.yn.ACTIVE:s.yn.INACTIVE}return null},d=(e,t=null)=>0===e&&(t===r.$o.PENDING||t===r.$o.APPEAL_PENDING),c=e=>({[s.yn.PENDING]:{color:"gray",icon:"workflow-status-unstarted",text:e._("Pending","catalogs.dataSource.UnderReviewStatus","[Catalogs] The data source is under review")},[s.yn.ACTIVE]:{color:"green",icon:"workflow-status-in-progress",text:e._("Active","catalogs.dataSource.ActiveStatus","[Catalogs] The feed has ingested successfully.")},[s.yn.PAUSED]:{color:"gray",icon:"workflow-status-halted",text:e._("Paused","catalogs.dataSource.PausedStatus","[Catalogs] The daily feed ingestion processes are paused and will not refresh")},[s.yn.DISABLED]:{color:"red",icon:"workflow-status-problem",text:e._("Disabled","catalogs.dataSource.DisabledStatus","[Catalogs] The feed has been disapproved by our review team.")},[s.yn.INACTIVE]:{color:"red",icon:"workflow-status-problem",text:e._("Inactive","catalogs.dataSource.InactiveStatus","[Catalogs] The feed has not completed ingestion successfully and needs to be corrected")}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce"},h=(e,t,n)=>{if(n&&n in u)return u[n];if(!t)return e._("-","catalogs.dataSource.noFileName","[Catalogs] no data source file name");const i=t.split("/");if(1===i.length)return t;const o=i.pop();return o.length>15?"../"+o.slice(o.length-15):"../"+o},p=(e,t,n,o,r)=>`${(0,i.Z)(o.ngettext("{{ count }} error","{{ count }} errors",t),{count:r(e,t)})} | ${(0,i.Z)(o.ngettext("{{ count }} alert","{{ count }} alerts",n),{count:r(e,n)})}`,m=(e,t,n,i)=>n.toDateString()===t.toDateString()?i._("Today","catalogs.dataSources.dateAttribute","Date represents today in local timezone"):(0,a.Z)(e,t,a.k.NUMERIC),g=(e,t)=>{if(!e)return"-";const n=t[e]||e;return n.length>17?n.substring(0,14)+"...":n},f=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),_=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),x=e=>({warningStats:f(e),errorStats:_(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),y=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,b=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function v(e){return e.filter((({workflowStatus:e})=>e===s.qN.COMPLETED||e===s.qN.COMPLETED_EARLY)).some((e=>Object.values(s.aE).some((({name:t})=>e[t]&&0!==e[t]))))}function E(e){const t="128",n="1008";return Object.keys(e).every((e=>[t,n].includes(e)))}function w(e,t){return E(t)&&0===Object.keys(e).length||E(t)&&!function(e){return Object.keys(e).some((e=>(0,o.C)().includes(e)))}(e)}function I(e){const{feed_format:t,feed_default_currency:n,default_availability_type:i,id:o,location_config:r,feed_username:a,feed_has_password:s,feed_status:l,preferred_schedule:d,locale:c,country:u,display_name:h,last_successful_ingestion:p,integration_platform_type:m,created_at:g}=e||{};return{id:o,url:r?r.full_feed_fetch_location:"",format:t,defaultCurrency:n,defaultAvailability:i,feedStatus:l,feedPreferredScheduleTime:d?d.time:void 0,feedPreferredScheduleTimezone:d?d.timezone:void 0,feedProfileName:h,integrationPlatformType:m,locale:c,country:u,credential:{username:a,hasPassword:s},lastSuccessfulIngestion:(f=p,f?{workflowStatus:f.workflow_status,workflowId:f.feed_fetch_workflow_id,productCount:f.product_count,inStockProductCount:f.in_stock_product_count,outOfStockProductCount:f.out_of_stock_product_count,preorderProductCount:f.preorder_product_count,originalProductCount:f.original_product_count,dateModified:f.created_at,originalUrl:f.original_url,s3SourceUrl:f.s3_source_url,s3ValidationUrl:f.s3_validation_url,validationStatsWarnings:f.validation_stats_warnings||{},validationStatsErrors:f.validation_stats_errors||{},ingestionStatsWarnings:f.ingestion_stats_warnings||{},ingestionStatsErrors:f.ingestion_stats_errors||{},ingestionStatsInfo:f.ingestion_stats_info||{},lastSuccessfulWorkflowId:f.last_successful_workflow_id}:null),createdAt:g};var f}function C(e){return(e||[]).map((e=>I(e)))}function T(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function S(e,t){return e.find((e=>T(t,e)))}},793893:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(968597),r=n(785893);function a({children:e,width:t="100%",height:n=o.kc}){return(0,r.jsx)(i.kC,{alignItems:"stretch",direction:"column",height:n,justifyContent:"center",width:t,children:e})}},135105:(e,t,n)=>{n.d(t,{O:()=>u,Z:()=>h});var i=n(667294),o=n(793893),r=n(968597),a=n(946753),s=n(549135),l=n(174523),d=n(883119),c=n(785893);const u=(e,t)=>{switch(e){case r.EK.MAX_GROUPS_FEATURED:return t._("No more than 8 product groups can be featured","ProductGroupTableFeatureCell.Flyout.maxGroupsFeatured","[Catalogs] a tootip saying you can't feature that group");case r.EK.TOO_MANY_PRODUCTS:return t._("Product groups with more than 500 items can't be featured","ProductGroupTableFeatureCell.Flyout.tooManyProducts","[Catalogs] a tootip saying you can't feature that group");case r.EK.TOO_FEW_PRODUCTS:return t._("Product groups with less than 10 items can't be featured","ProductGroupTableFeatureCell.Flyout.tooFewProducts","[Catalogs] a tootip saying you can't feature that group");case r.EK.TOO_FEW_UNIQUE_PRODUCTS:return t._("To feature this product group, make sure it contains at least 10 in stock items. Product group changes may take up to 24 hours to appear in Catalogs.","ProductGroupTableFeatureCell.Flyout.tooFewUniqueProducts","[Catalogs] a tootip saying you can't feature that group");default:return""}};function h({productGroup:{id:e,featureStatus:t,featuredPosition:n},onFeaturedButtonClick:h,enableFeaturedButton:p=!1}){const m=(0,l.ZP)(),[g,f]=(0,i.useState)(!1),_=(0,i.useRef)(),x=null!=n,y=t===r.EK.FEATURING,b=t===r.EK.FEATURED,v=t===r.EK.CAN_FEATURE,E=u(t,m),w=(0,c.jsx)(d.hU,{accessibilityLabel:m._("Featured product group","ProductGroupTableFeatureCell.IconButton.featured","accessibility text for featured icon button"),icon:"star",size:"lg",iconColor:b?"darkGray":"gray",onClick:()=>{(0,s.j)(101,{view:236,viewParameter:3248,component:13331,element:12205}),h&&h(e)},disabled:!p});return(0,c.jsxs)(o.Z,{children:[v||y||b?(0,c.jsx)("div",{className:b||!x&&y?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:p?(0,c.jsx)(d.u,{inline:!0,idealDirection:"down",text:(0,a.nk)(m._("{{ featured }}","catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltip.text","Tooltip for feature product group button"),{featured:b?"Featured":"Feature"}).join(""),children:w}):w}):(0,c.jsx)(d.xu,{position:"relative",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),ref:_,children:(0,c.jsx)(d.Sj,{icon:"alert",size:"lg"})}),g&&E&&(0,c.jsx)(d.xu,{zIndex:new d.Ry(50),children:(0,c.jsx)(d.J2,{anchor:_.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",children:E})})})})]})}},968597:(e,t,n)=>{n.d(t,{Jm:()=>r,EK:()=>g,mR:()=>f,g4:()=>_,kl:()=>x,kc:()=>y,eu:()=>b,iN:()=>v,Eo:()=>E,bS:()=>w,V0:()=>I,Tj:()=>C,pV:()=>T,XT:()=>S,Bm:()=>P,hh:()=>j,QE:()=>A,g2:()=>D,gd:()=>R,r2:()=>O,yq:()=>N,WH:()=>k,KO:()=>L,pM:()=>M,rC:()=>B,MD:()=>F,MU:()=>U,pF:()=>Z,PD:()=>G,j1:()=>H,kq:()=>z,jW:()=>V});var i=n(808683),o=n(225643);const r="All products",a="in stock",s="out of stock",l="preorder",d="new",c="used",u="refurbished",h="male",p="female",m="unisex",g={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},f={MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6},_=[f.ALL_PRODUCTS,f.BEST_DEALS,f.PINNER_FAVORITES,f.TOP_SELLERS,f.BACK_IN_STOCK,f.NEW_ARRIVALS],x=[f.ALL_PRODUCTS,f.BEST_DEALS,f.PINNER_FAVORITES,f.TOP_SELLERS,f.BACK_IN_STOCK,f.NEW_ARRIVALS,f.MERCHANT_CREATED],y=90,b=350,v=265,E=72,w=450,I=200,C=12,T={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},S={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},P=100,j={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},A={[o.AvailabilityType.IN_STOCK]:a,[o.AvailabilityType.OUT_OF_STOCK]:s,[o.AvailabilityType.PREORDER]:l},D={[o.ConditionType.NEW]:d,[o.ConditionType.USED]:c,[o.ConditionType.REFURBISHED]:u},R={[o.GenderType.MALE]:h,[o.GenderType.FEMALE]:p,[o.GenderType.UNISEX]:m},O={[i.CatalogProductGroupFilterKey.ITEM_ID]:j.ITEM_ID,[i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0]:j.PRODUCT_CATEGORY,[i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0]:j.PRODUCT_TYPE,[i.CatalogProductGroupFilterKey.BRAND]:j.BRANDS,[i.CatalogProductGroupFilterKey.AVAILABILITY]:j.AVAILABILITY,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0]:j.CUSTOM_LABEL_0,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1]:j.CUSTOM_LABEL_1,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2]:j.CUSTOM_LABEL_2,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3]:j.CUSTOM_LABEL_3,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4]:j.CUSTOM_LABEL_4,[i.CatalogProductGroupFilterKey.CONDITION]:j.CONDITION,[i.CatalogProductGroupFilterKey.GENDER]:j.GENDER,[i.CatalogProductGroupFilterKey.MIN_PRICE]:j.PRICE,[i.CatalogProductGroupFilterKey.MAX_PRICE]:j.PRICE,[i.CatalogProductGroupFilterKey.CURRENCY]:j.CURRENCY,[i.CatalogProductGroupFilterKey.ITEM_GROUP_ID]:j.ITEM_GROUP_ID},N={[j.ITEM_ID]:i.CatalogProductGroupFilterKey.ITEM_ID,[j.PRODUCT_CATEGORY]:i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0,[j.PRODUCT_TYPE]:i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0,[j.BRANDS]:i.CatalogProductGroupFilterKey.BRAND,[j.AVAILABILITY]:i.CatalogProductGroupFilterKey.AVAILABILITY,[j.CUSTOM_LABEL_0]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0,[j.CUSTOM_LABEL_1]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1,[j.CUSTOM_LABEL_2]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2,[j.CUSTOM_LABEL_3]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3,[j.CUSTOM_LABEL_4]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4,[j.CONDITION]:i.CatalogProductGroupFilterKey.CONDITION,[j.GENDER]:i.CatalogProductGroupFilterKey.GENDER,[j.PRICE]:i.CatalogProductGroupFilterKey.MAX_PRICE,[j.CURRENCY]:i.CatalogProductGroupFilterKey.CURRENCY,[j.ITEM_GROUP_ID]:i.CatalogProductGroupFilterKey.ITEM_GROUP_ID},k={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},L={[k.GREATER_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!1}},[k.GREATER_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!0}},[k.LESS_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!1}},[k.LESS_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!0}}},M="newlyCreatedPGId",B="storefront",F={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},U=163,Z=350,G={LIST:"LIST",GRID:"GRID"},H="236x",z="calc(100vh - 277px)",V=30},366690:(e,t,n)=>{n.d(t,{Kk:()=>r,_c:()=>s,I3:()=>l});var i=n(968597);const o=e=>(e||[]).filter((e=>void 0!==e.featured_position&&null!==e.featured_position)).map((e=>({...e,featured:!0}))),r=(e,t)=>(e=>o(e).map((e=>e.id.toString())))(e).includes(t.toString()),a=(e,t)=>(e||[]).find((({id:e})=>e.toString()===t))||null,s=(e,t,n)=>{const s=o(e).filter((e=>e.group_type===i.pV.MERCHANT_CREATED)).length,l=((e,t)=>{const n=a(e,t);return n&&n.featureable_status&&n.featureable_status.code?n.featureable_status.code:i.XT.FEATUREABLE})(e,t);return n===t?i.EK.FEATURING:r(e,t)?i.EK.FEATURED:l===i.XT.UNFEATUREABLE_NOT_ENOUGH_PINS?i.EK.TOO_FEW_PRODUCTS:l===i.XT.UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS?i.EK.TOO_FEW_UNIQUE_PRODUCTS:l===i.XT.UNFEATUREABLE_EXCEEDED_PINS_LIMIT?i.EK.TOO_MANY_PRODUCTS:s>=i.Bm?i.EK.MAX_GROUPS_FEATURED:i.EK.CAN_FEATURE},l=(e,t,n,i,o)=>t.map((t=>{const r=t.id.toString(),l=a(e,r),d=s(e,r,n||"");return{id:t.id.toString(),name:t.name,lastUpdate:t.last_update,productCount:t.product_count?Number(t.product_count):0,type:t.type,featuredPosition:null==l?void 0:l.featured_position,featureStatus:d,promotedStatus:"",previewPins:null==l?void 0:l.preview_pins,filters:t.filters,filter_v2:t.filter_v2,promoted:!!i.find((({catalog_product_group_id:e})=>e===t.id.toString())),promotedButNotAccessible:!!o.includes(t.id)}}))},472442:(e,t,n)=>{n.d(t,{G7:()=>u,Lp:()=>h,Ib:()=>s});var i=n(667294),o=n(174523),r=n(535718),a=n(968597);function s(e={},t=!1,n=!1){const s=(0,o.ZP)(),l=(0,r.Z)({name:"ProductGroupsResource",options:e,dangerouslyDisableFetch:t,enabledRouteRefresh:!0,noCache:n}),d=(0,i.useMemo)((()=>l.data&&l.isLoaded?l.data.map((e=>(Number(e.type)===a.mR.ALL_PRODUCTS?e.name=s._("All Products","catalogs.productGroup.name.allProducts","Product group name All Products"):Number(e.type)===a.mR.BEST_DEALS?e.name=s._("Best Deals","catalogs.productGroup.name.bestDeals","Product group name Best Deals"):Number(e.type)===a.mR.PINNER_FAVORITES?e.name=s._("Most Popular","catalogs.productGroup.name.mostPopular","Product group name Most Popular"):Number(e.type)===a.mR.TOP_SELLERS?e.name=s._("Top Sellers","catalogs.productGroup.name.topSellers","Product group name Top Sellers"):Number(e.type)===a.mR.BACK_IN_STOCK?e.name=s._("Back In Stock","catalogs.productGroup.name.inStock","Product group name In Stock"):Number(e.type)===a.mR.NEW_ARRIVALS&&(e.name=s._("New Arrivals","catalogs.productGroup.name.newArrivals","Product group name New Arrivals")),e))):[]),[s,l.data,l.isLoaded]);return{...l,data:d}}var l=n(34411),d=n(585967);const c={auxData:{},fetchMore(){},refresh(){},isFetching:!1,isLoaded:!1,isAtEnd:!1,isRefreshing:!1,data:[]};function u(e={}){var t;const n=(0,l.Z)(),{advertiser:o}=(0,d.B)(),a=(0,r.Z)({name:"UserResource",enabledRouteRefresh:!0,options:{user_id:o?o.owner_user_id:n.isAuth&&n.id,field_set_key:"profile"}}),s=(0,r.Z)({name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});(0,i.useEffect)((()=>{s.isAtEnd||s.fetchMore()}),[s.nextBookmark]);const u=a&&(null===(t=a.data)||void 0===t?void 0:t.storefront_management_enabled);return u?{...s,data:s&&s.data||[],canFeatureProductGroups:u}:{...c,canFeatureProductGroups:u}}function h(e={}){const t=(0,r.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}},526947:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>x});var i=n(667294),o=n(616627),r=n(535718),a=n(34411),s=n(181307),l=n(354783);const d=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,l.Z)(n)]=e[n]:t[(0,l.Z)(n)]=d(e[n]));return t},c=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...d(e[r])});const i=n.sort((({user:{businessName:e}},{user:{businesName:t}})=>e.localeCompare(t))),o=new Map;for(const r of i)o.set(r.id,r);return o};var u=n(652382);const h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,n]=(0,i.useReducer)(p,h),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:a}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})}),[t,e,r]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:a}=t;(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacVisibility",a)}),[a]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:o,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:c(e,t)})}),[n])}};var g=n(762803),f=n(785893);const{Provider:_,useHook:x}=(0,g.js)("RoleBasedAccessControlContext"),y=({children:e})=>{const t=(0,s.tc)("web_m10n_business_access_orbac_www"),n=(0,a.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(l),{activeProfile:h,headerVisible:p,profiles:g=[]}=d,x=g?Array.from(g.values()):[],y=(0,o.Z)(x),b=!!(n.isAuth&&x.length>0)&&y,v=n.isAuth?n.id:"",E=n.isAuth?n.username:"",{changeProfile:w,toggleORBACVisibility:I,toggleDisableProfileChanger:C,toggleHeaderVisibility:T}=c;(0,i.useEffect)((()=>{l&&("string"!=typeof y?h||w(v):w(y))}),[y,v,l,w,h]),(0,i.useEffect)((()=>{l&&(b&&!p&&T(!0),!b&&p&&T(!1))}),[T,b,l,p,g]);const{data:S}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),P=null==S?void 0:S.profiles;let j;n&&n.isAuth&&d.activeProfile===n.id?j={id:n.id,permissions:["OWNER"],user:{username:E,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:h&&d.profiles&&(j=d.profiles.get(h)),(0,i.useEffect)((()=>{P&&u(P,v)}),[u,P,v]);const A=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(_,{value:{profiles:A,headerVisible:d.headerVisible,activeProfile:j,changeProfile:w,toggleORBACVisibility:I,toggleDisableProfileChanger:C,toggleHeaderVisibility:T},children:e})}},767523:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181307),o=n(526947);const r=()=>{const e=(0,i.tc)("web_m10n_business_access_orbac_www"),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},616627:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(40142),o=n(34411),r=n(382745),a=n(855168);const s=e=>{var t;const n=(0,a.TH)(),s=(0,o.Z)(),l=(0,a.$B)("/:username"),d=null==l||null===(t=l.params)||void 0===t?void 0:t.username,c=(0,a.$B)("/pin/:id"),u=(0,i.useSelector)((e=>{var t,n,i,o;return!(null==c||null===(t=c.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[c.params.id])||void 0===i||null===(o=i.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(n))return!1;if((0,r.RU)(n))return!0;const h=e.concat(s.isAuth?{user:{username:s.username},id:s.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&d||u&&n)&&(i===d||u===n)}));return!!h&&h.id}},159276:(e,t,n)=>{n.d(t,{Ms:()=>i,lJ:()=>o,q6:()=>r,D3:()=>a,KY:()=>s,N1:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),a=(e,t,n)=>!!(r(e,t,n)||e&&e.isAuth&&t===e.id),s=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return a(e,i,n)};function l(e,t,n){const i=t?t.id:"";return a(e,i,n)}},192830:(e,t,n)=>{n.d(t,{i5:()=>b,sX:()=>E,Z5:()=>y,NG:()=>v,MT:()=>w});var i=n(667294),o=n(40142),r=n(311866),a=n(682492),s=n.n(a);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function d(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const o=t(i);return n[o]?(s()(n[o],i),e):(n[o]=i,e.concat([i]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,n){let i=l(e,t).concat(n);return i=d(i,(e=>e.id)),c(i)}const h={conversationsUnseenCount:0,data:{},open:null,showConversationsDropdown:!1,ui:{},unread:0};function p(e=h,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:o}=t.payload,r=o.resource_response.data;if("ConversationMessagesResource"===i){const t=r||[],i=(null==n?void 0:n.conversation_id)||"",o=u(e,i,t),a=o[o.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:o,unread:0,last_message:a}}}}if("ConversationsResource"===i){const t=r||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:o,board:r,emails:a,unread:s,users:l,last_message:d}=e,c=u(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:o,board:r,emails:a||[],unread:s||0,users:l||[],last_message:d,messages:c}})),n}if("ConversationResource"===i){const t=r||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(r){const t=r.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;if(e.data[n]){const t=u(e,n,[i]);return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:t,last_message:i}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:n,messageId:i,newMessageId:o}=t.payload;if(e.data[n]){const t=l(e,n).find((e=>e.id===i));if(t){const r={...t,id:o};let a=l(e,n).filter((e=>e.id!==i)).concat([r]);return a=d(a,(e=>e.id)),a=c(a),{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:a}}}}}return e}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var m=n(762803),g=n(886550),f=n(785893);const _=(()=>{let e=0;return()=>e++})(),{Provider:x,useHook:y}=(0,m.ZP)("Conversations");function b({children:e}){const[t,n]=(0,i.useReducer)(p,h),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,g.Z8)("ConversationMessagesResource",o),(0,g.Z8)("ConversationsResource",o),(0,g.Z8)("ConversationResource",o),(0,g.Z8)("NewsHubBadgeResource",o);const a=(0,i.useMemo)((()=>({conversations:t,conversationOpen:(e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),conversationClose:(e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),conversationCreate:e=>n({type:"CONVERSATION_CREATE",payload:e}),conversationDelete:e=>n({type:"CONVERSATION_DELETE",payload:{id:e}}),conversationGet:(e,t,i)=>{r.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))},dropdownClose:()=>{n({type:"CLOSE_DROPDOWN"})},dropdownOpen:()=>{n({type:"OPEN_DROPDOWN"})},pendingMessageSend:(e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),pendingMessageClear:(e,t,i)=>n({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:i}}),updateUnreadCount:e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})})),[t]);return(0,f.jsx)(x,{value:a,children:e})}function v(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageClear:i}=y(),a=(0,o.useSelector)((({pins:e})=>e));return(o,s,l,d)=>new Promise(((c,u)=>{const{text:h,pinId:p,boardId:m,userId:g,didItId:f}=s;function x(){const e=r.ZP.create("ConversationMessagesResource",{conversation_id:o,text:h,pin:p,board:m,user:g,user_did_it_data:f,source:l}),t=`${_()}`;n(o,{text:h,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?a[p]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{i(o,t,e.resource_response.data.id),c()})).catch(u)}e.data[o]?x():r.ZP.create("ConversationResource",{conversation_id:o}).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;t(n),x()}))}))}function E(e){const{conversations:t}=y();return t.data[e]}function w(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},159617:(e,t,n)=>{n.d(t,{hu:()=>i,cI:()=>o,L1:()=>r,WZ:()=>a,fe:()=>s,Rz:()=>l});const i=64,o=80,r=22,a="HeaderContent",s=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},341088:(e,t,n)=>{n.d(t,{Hv:()=>c,WQ:()=>d});var i=n(667294),o=n(823493),r=n.n(o),a=n(762803),s=n(785893);const{Provider:l,useHook:d}=(0,a.ZP)("HeaderShadow");function c({children:e}){const[t,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,h]=(0,i.useState)(null),p=r()((()=>{t&&(a(window.scrollY>0),c(window.scrollY))}),50);return(0,i.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,i.useEffect)((()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)})),[t]),(0,s.jsx)(l,{value:{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:h,subheaderShadow:u},children:e})}},401081:(e,t,n)=>{n.d(t,{U:()=>_,X:()=>f});var i=n(667294),o=n(311866),r=n(266750),a=n(762803);const s=["RelatedInterestsResource","InterestFollowingResource"],l=(e,t)=>({...e,[t.id]:{...e[t.id],...t}});function d(e={},t){switch(t.type){case"TOPIC_FOLLOW":const{value:n,showTooltip:i}=t.payload;return{...e,is_followed:n,showTooltip:i};default:return e}}function c(e={},t){switch(t.type){case"TOPIC_FETCH_COMPLETE":const{resource:n,response:{resource_response:{data:i}}}=t.payload;return"InterestResource"===n&&i?l(e,i):s.includes(n)&&i?((e,t)=>({...e,...t.reduce(((e,t)=>{const{type:n}=t;return n&&"interest"!==n?e:l(e,t)}),{})}))(e,i):e;case"TOPIC_FOLLOW":const{payload:{id:o}}=t;return{...e,[o]:d(e[o],t)};default:return e}}var u=n(886550),h=n(785893);function p(e,t,n=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:n}}}function m(e){return o.ZP.create("InterestFollowResource",{interest_id:e,interest_list:r.X})}const{Provider:g,useHook:f}=(0,a.ZP)("Topics");function _({children:e}){const[t,n]=(0,i.useReducer)(c,{}),o=e=>{n({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,u.Z8)("RelatedInterestsResource",o),(0,u.Z8)("InterestFollowingResource",o);const r=(0,i.useMemo)((()=>({follow:(e,t=!1)=>{m(e).callCreate({showError:!1}).catch((()=>n(p(e,!1,t)))),n(p(e,!0,t))},topics:t,unfollow:e=>{m(e).callDelete({showError:!1}).catch((()=>n(p(e,!0)))),n(p(e,!1))}})),[n,t]);return(0,h.jsx)(g,{value:r,children:e})}},795737:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),o=n(40142),r=n(221860),a=n(551687),s=n(939623),l=n(263116),d=n(304194),c=n(938769),u=n(32539),h=n(620813),p=n(383722),m=n(34411),g=n(152214),f=n(221469),_=n(853070),x=n(226806),y=n(135517),b=n(855168),v=n(785893);const E=(0,l.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,974182)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 974182}}),w=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,257043)))),I=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,585937)))),C=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,280083)))),T=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,143767)))),S=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,444072)))),P=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,122631)))),j=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,320077)))),A=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,37166)))),D=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,654025)))),R=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,998944)))),O=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,683078))));function N(e){switch(e){case"pins":return(0,v.jsx)(I,{});case"_community":return(0,v.jsx)(C,{});case"_created":return(0,v.jsx)(T,{});case"_followers":return(0,v.jsx)(S,{});case"_following":return(0,v.jsx)(P,{});case"_saved":return(0,v.jsx)(A,{});case"tried":return(0,v.jsx)(j,{});case"topics":return(0,v.jsx)(D,{});case"story_pins":return(0,v.jsx)(R,{});case"video_pins":return(0,v.jsx)(O,{});case"_shop":return(0,v.jsx)(w,{});default:return(0,v.jsx)(E,{})}}E.preload();const k=()=>{const e=(0,m.Z)(),t=(0,b.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)};function L({history:e,location:t,match:n}){var l;const u=(0,x.EV)(),m=(0,o.useDispatch)(),b=(0,o.useSelector)((({ui:e})=>e.mainComponent.locationToErrorMap)),E=k(),w=(0,p.Z)(),I=(0,s.Z)(w.data);(0,i.useEffect)((()=>{(0,d.Z)(),E&&m((0,y.z5)())}),[]),u&&I&&u.abort("business_profile");const C=(null===(l=w.data)||void 0===l?void 0:l.has_catalog)&&RegExp(/\?pin=/).test(t.search),T=n.path.split("/").filter(Boolean)[1]||_.u.DECIDER,S=I&&w.data?(0,v.jsx)(r.Z,{businessProfileTab:T}):N(T);return(0,v.jsx)(c.Z,{history:e,minimalPartnerHeader:C,renderError:b[t.pathname],showPulsar:Boolean((0,f.mB)(t.search).showPulsar),tab:T,unsetError:()=>m((0,g.L)(t.pathname)),username:n.params.username||"",children:(0,v.jsx)(a.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:(0,v.jsx)(h.Z,{children:S})})})}function M(e){const t=k();return(0,v.jsx)(u.Z,{surface:t?"own_profile":"other_profile",customEnabledNavigationTypes:["client_route_push","client_route_replace"],measureGridVisuallyComplete:!0,children:(0,v.jsx)(L,{...e})})}const B=(0,b.EN)(M)},372833:(e,t,n)=>{n.d(t,{B:()=>r,Z:()=>a});var i=n(704170);const o=[];function r(e){let t;try{t=JSON.stringify({errorObj:e})}catch(s){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"5b9eecc"}),report_data:t},Object.keys(r).map((e=>e+"="+encodeURIComponent(r[e]))).join("&"));var r;const a=window.btoa(n);if(-1===o.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/report/error/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,i.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}("csrftoken")),e.send(n),o.push(a)}o.length>100&&o.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};r({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,o,a;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:s}=e,l="string"==typeof(null==s?void 0:s.message)?s.message:String(s);r({name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==s?void 0:s.message_detail,original_message:null==s?void 0:s.original_message,stack:null==s?void 0:s.stack,filename:null==s?void 0:s.fileName,line:null!==(n=null!==(i=null==s?void 0:s.lineno)&&void 0!==i?i:null==s?void 0:s.line)&&void 0!==n?n:null==s?void 0:s.lineNumber,column:null!==(o=null!==(a=null==s?void 0:s.column)&&void 0!==a?a:null==s?void 0:s.colno)&&void 0!==o?o:null==s?void 0:s.columnNumber})}))}},61020:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>a});var i=n(667294);const o=(0,i.createContext)();function r(){return(0,i.useContext)(o)}const a=o},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},e=>{e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,85486,21779,93653,26623,22777,39752,9136,66584,48455,48339,68648],(()=>(t(405369),t(95382),t(236247),t(888839),t(59435),t(234188),t(624589),t(588432),t(825773),t(170080),t(206312))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]-authdesktop-0a56dd359ab28d51.mjs.map