(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50011,51798,50157,39395,61116,38989,36811,76865,40667],{263116:(e,t,n)=>{n.d(t,{ZP:()=>P,TA:()=>C});var i=n(667294);function o(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=n(659864),l=n(108679),d=n.n(l);function c(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function u(e){console.warn("loadable: "+e)}var p=i.createContext();function h(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},g="PENDING",f="REJECTED";var _=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?_:t,l=e.render,u=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),_={};function y(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function x(e,i,o){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,a.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(o,r,{preload:!0}),r}var v,b=function(e){var n,i;function a(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},c(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),s(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&m.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,a.getDerivedStateFromProps=function(e,t){var n=y(e);return r({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=a.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===f&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return y(this.props)},d.getCache=function(){return _[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),_[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=x(h.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=x(t,e.props,{Loadable:S});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,o(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(n)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),i.status=f}))),i},d.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,s=(e.__chunkExtractor,o(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,d=a.error,c=a.loading,u=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(d)throw d;var p=i||t.fallback||null;return c?p:l({fallback:p,result:u,options:t,props:r({},s,{ref:n})})},a}(i.Component),w=(v=b,function(e){return i.createElement(p.Consumer,null,(function(t){return i.createElement(v,Object.assign({__chunkExtractor:t},e))}))}),S=i.forwardRef((function(e,t){return i.createElement(w,Object.assign({forwardedRef:t},e))}));return S.preload=function(e){h.requireAsync(e)},S.load=function(e){return h.requireAsync(e)},S}return{loadable:h,lazy:function(e,t){return h(e,r({},t,{suspense:!0}))}}}var x=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),v=x.loadable,b=x.lazy,w=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=w.loadable,I=w.lazy,T="undefined"!=typeof window;function C(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!T)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(T){var r=h(i),s=document.getElementById(r);if(s){o=JSON.parse(s.textContent);var a=document.getElementById(r+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!o)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){o.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=v;E.lib=S,b.lib=I;const P=E},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=o.apply(null,n);s&&e.push(s)}else if("object"===r)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},192845:e=>{e.exports="https://s.pinimg.com/webapp/CS-936df9f8.png"},237350:e=>{e.exports="https://s.pinimg.com/webapp/DA-7786a6fc.png"},819334:e=>{e.exports="https://s.pinimg.com/webapp/DE-1db62e2b.png"},372252:e=>{e.exports="https://s.pinimg.com/webapp/EL-8cf42788.png"},747401:e=>{e.exports="https://s.pinimg.com/webapp/EN-9e98a4a7.png"},508203:e=>{e.exports="https://s.pinimg.com/webapp/ES-25b0d4f3.png"},228316:e=>{e.exports="https://s.pinimg.com/webapp/FI-cb2571db.png"},153847:e=>{e.exports="https://s.pinimg.com/webapp/FR-b5b0c8fa.png"},350635:e=>{e.exports="https://s.pinimg.com/webapp/HU-fa536a26.png"},813735:e=>{e.exports="https://s.pinimg.com/webapp/ID-2f52d233.png"},403164:e=>{e.exports="https://s.pinimg.com/webapp/IT-2097820e.png"},792125:e=>{e.exports="https://s.pinimg.com/webapp/JA-a028a67e.png"},281043:e=>{e.exports="https://s.pinimg.com/webapp/KO-9cb16e60.png"},287020:e=>{e.exports="https://s.pinimg.com/webapp/MS-85a69c39.png"},449885:e=>{e.exports="https://s.pinimg.com/webapp/NB-de56f26b.png"},485426:e=>{e.exports="https://s.pinimg.com/webapp/NL-1c805967.png"},319124:e=>{e.exports="https://s.pinimg.com/webapp/PL-baf48928.png"},975481:e=>{e.exports="https://s.pinimg.com/webapp/PTBR-1cff8bc2.png"},630419:e=>{e.exports="https://s.pinimg.com/webapp/PTPT-0433f99a.png"},30694:e=>{e.exports="https://s.pinimg.com/webapp/RO-bff208e2.png"},804780:e=>{e.exports="https://s.pinimg.com/webapp/RU-7239de00.png"},614865:e=>{e.exports="https://s.pinimg.com/webapp/SK-747a8ad0.png"},342913:e=>{e.exports="https://s.pinimg.com/webapp/SV-70640421.png"},401712:e=>{e.exports="https://s.pinimg.com/webapp/TH-0dcefdac.png"},48287:e=>{e.exports="https://s.pinimg.com/webapp/TR-562c6827.png"},705242:e=>{e.exports="https://s.pinimg.com/webapp/UK-11d358d4.png"},856099:e=>{e.exports="https://s.pinimg.com/webapp/VI-c79a6c02.png"},300649:e=>{e.exports="https://s.pinimg.com/webapp/ZHCN-79f40009.png"},826919:e=>{e.exports="https://s.pinimg.com/webapp/ZHTW-197c7b57.png"},528866:e=>{e.exports="https://s.pinimg.com/webapp/favicon-notification-35a8b4bf.png"},353996:e=>{e.exports="https://s.pinimg.com/webapp/favicon-54a5b2af.png"},468966:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},529084:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},893870:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},664507:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},369765:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},829932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},121078:(e,t,n)=>{var i=n(862488),o=n(137285);e.exports=function e(t,n,r,s,a){var l=-1,d=t.length;for(r||(r=o),a||(a=[]);++l<d;){var c=t[l];n>0&&r(c)?n>1?e(c,n-1,r,s,a):i(a,c):s||(a[a.length]=c)}return a}},297786:(e,t,n)=>{var i=n(671811),o=n(240327);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},325970:(e,t,n)=>{var i=n(863012),o=n(379095);e.exports=function(e,t){return i(e,t,(function(t,n){return o(e,n)}))}},863012:(e,t,n)=>{var i=n(297786),o=n(10611),r=n(671811);e.exports=function(e,t,n){for(var s=-1,a=t.length,l={};++s<a;){var d=t[s],c=i(e,d);n(c,d)&&o(l,r(d,e),c)}return l}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},10611:(e,t,n)=>{var i=n(234865),o=n(671811),r=n(565776),s=n(513218),a=n(240327);e.exports=function(e,t,n,l){if(!s(e))return e;for(var d=-1,c=(t=o(t,e)).length,u=c-1,p=e;null!=p&&++d<c;){var h=a(t[d]),m=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(d!=u){var g=p[h];void 0===(m=l?l(g,h,p):void 0)&&(m=s(g)?g:r(t[d+1])?[]:{})}i(p,h,m),p=p[h]}return e}},880531:(e,t,n)=>{var i=n(562705),o=n(829932),r=n(701469),s=n(733448),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},727561:(e,t,n)=>{var i=n(567990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},671811:(e,t,n)=>{var i=n(701469),o=n(115403),r=n(555514),s=n(479833);e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(s(e))}},889464:(e,t,n)=>{var i=n(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},499021:(e,t,n)=>{var i=n(385564),o=n(545357),r=n(430061);e.exports=function(e){return r(o(e,void 0,i),e+"")}},900222:(e,t,n)=>{var i=n(671811),o=n(135694),r=n(701469),s=n(565776),a=n(541780),l=n(240327);e.exports=function(e,t,n){for(var d=-1,c=(t=i(t,e)).length,u=!1;++d<c;){var p=l(t[d]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++d!=c?u:!!(c=null==e?0:e.length)&&a(c)&&s(p,c)&&(r(e)||o(e))}},137285:(e,t,n)=>{var i=n(562705),o=n(135694),r=n(701469),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(s&&e&&e[s])}},115403:(e,t,n)=>{var i=n(701469),o=n(733448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},624523:(e,t,n)=>{var i=n(288306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},555514:(e,t,n)=>{var i=n(624523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=s},240327:(e,t,n)=>{var i=n(733448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(513218),o=n(707771),r=n(14841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,d,c,u,p,h,m=0,g=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=d;return l=d=void 0,m=t,u=e.apply(i,n)}function x(e){return m=e,p=setTimeout(b,t),g?y(e):u}function v(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=c}function b(){var e=o();if(v(e))return w(e);p=setTimeout(b,function(e){var n=t-(e-h);return f?a(n,c-(e-m)):n}(e))}function w(e){return p=void 0,_&&l?y(e):(l=d=void 0,u)}function S(){var e=o(),n=v(e);if(l=arguments,d=this,h=e,n){if(void 0===p)return x(h);if(f)return clearTimeout(p),p=setTimeout(b,t),y(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=r(t)||0,i(n)&&(g=!!n.leading,c=(f="maxWait"in n)?s(r(n.maxWait)||0,t):c,_="trailing"in n?!!n.trailing:_),S.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=d=p=void 0},S.flush=function(){return void 0===p?u:w(o())},S}},607187:(e,t,n)=>{var i=n(889464),o=n(479833),r=/[&<>"']/g,s=RegExp(r.source);e.exports=function(e){return(e=o(e))&&s.test(e)?e.replace(r,i):e}},385564:(e,t,n)=>{var i=n(121078);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},227361:(e,t,n)=>{var i=n(297786);e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},379095:(e,t,n)=>{var i=n(200013),o=n(900222);e.exports=function(e,t){return null!=e&&o(e,t,i)}},733448:(e,t,n)=>{var i=n(644239),o=n(637005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},288306:(e,t,n)=>{var i=n(883369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},478718:(e,t,n)=>{var i=n(325970),o=n(499021)((function(e,t){return null==e?{}:i(e,t)}));e.exports=o},823493:(e,t,n)=>{var i=n(23279),o=n(513218);e.exports=function(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}},498913:(e,t,n)=>{var i=n(422545),o=n(554290),r=n(640554),s=4294967295,a=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=s,l=a(e,s);t=o(t),e-=s;for(var d=i(l,t);++n<e;)t(n);return d}},418601:(e,t,n)=>{var i=n(14841),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var i=n(727561),o=n(513218),r=n(733448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):s.test(e)?NaN:+e}},479833:(e,t,n)=>{var i=n(880531);e.exports=function(e){return null==e?"":i(e)}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},620884:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/homefeed"]=function(){return n(54557).Z}},293125:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/index"]=function(){return n(54557).Z}},57223:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/notifications"]=function(){return n(54557).Z}},484898:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(737614),o=n(966427);const r={getBrowser:()=>(0,o.u)(i.Z.instance.browser_name||""),isSafari(){return this.getBrowser()===o.o.SAFARI},isChrome(){return this.getBrowser()===o.o.CHROME},isFirefox(){return this.getBrowser()===o.o.FIREFOX},isEdge(){return this.getBrowser()===o.o.EDGE}}},735588:(e,t,n)=>{n.d(t,{$Y:()=>r,X_:()=>s,vF:()=>a,h_:()=>l,x3:()=>d,As:()=>c,Ed:()=>u});var i=n(731164),o=n(549135);const r=(e,t)=>{const n=Boolean(t&&t.isAuth),o=Boolean(t&&t.unifiedSignup),r=t&&t.country;var s;t&&((s=t).source&&s.source.utmPartner&&"partneracquisition"===s.source.utmPartner)?i.Z.increment(e,1,{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:n,unified_signup:o}):i.Z.increment(e,1,{app_type:"web",is_auth:n,unified_signup:o,country:r})},s=e=>{e&&e.utm_campaign&&i.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},a=(e,t,n,r,s,a={})=>{((e,t)=>{const n=`client.partner.quick_promote_button.${e}`;i.Z.increment(n,1,{app_type:"web",location:t})})(e,t),((e,t,n,i={})=>{const r={component:t,element:10148,view:n,...i};(0,o.j)(e,r)})(n,r,s,a)},l=()=>{(0,o.j)(8217)},d=()=>{i.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},c=()=>{i.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},u=e=>{const t=`client.partner.biz_nux_v2.render.${e}`;i.Z.increment(t,1,{app_type:"web"})}},560133:(e,t,n)=>{n.d(t,{nn:()=>a,Gy:()=>l,i8:()=>d,RR:()=>c,qN:()=>u,SP:()=>p,Uz:()=>h,QY:()=>m,GT:()=>g,Zs:()=>f,Sn:()=>_,Kl:()=>y});var i=n(227361),o=n.n(i),r=n(589444),s=n(477342);const a=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},d=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},c=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,p=e=>e.is_stale_product,h=e=>u(e)||p(e),m=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},g=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function f(e,t={}){var n,i,o,a,l,d;const c=g(e),u={...t.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,s.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=(0,r.Z)({pin:e});var p;if(t)u.image_count=null===(p=t.carousel_slots)||void 0===p?void 0:p.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(a=e.rich_summary)&&void 0!==a&&null!==(l=a.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const h=e.aggregated_pin_data||{};return null!=h&&h.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function _(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const y=(e,t={})=>{if(e){return _(f(e,t))}return null}},295190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(296882),o=n(773432),r=n(737614),s=n(230457),a=n(674245),l=n(185062),d=n(478718),c=n.n(d),u=n(311866);const p={open(e){const t=c()(e,p._validParams),n=p._getDialogType(e),r=p.generateFbRef(),d=e.object_type&&e.object_id&&"feed"===n;let h=(0,i.Z)(e.path);const m=(0,l.Z)();if(m.ptrf&&(h=(0,o.Z)(h,{ptrf:m.ptrf})),d&&(h=(0,o.Z)(h,{fb_ref:r})),t.method=n,"feed"===t.method){const n=p.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+h;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=h:"share"===t.method&&(t.href=h),(0,a.default)((n=>{n.getLoginStatus((()=>{if("send"===t.method){n.ui(t);let i,o=10;const r=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(r),i&&p.executeMessengerCallback(i,e.callback)),o-=1}),1e3)}else"share"===t.method&&n.ui(t,(t=>{d&&t&&!t.error_message&&u.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),s.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.Z.instance.unauth_id+":"+e},_getDialogType:e=>p._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((o-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}},h=p},181821:(e,t,n)=>{n.d(t,{Z:()=>i});const i={get(e){const t="gplus";n.e(44232).then(n.bind(n,921539)).then((({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,(()=>{e(window.gapi)}))}))}}},580849:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(920349),o=n(737614),r=n(202923);let s=null;const a={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,countryFromHostName:e.country_from_hostname,countryFromIp:e.country_from_ip,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,requestIdentifier:e.request_identifier,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(s)return s;const e=a.fromDesktopContextProps({context:o.Z.instance,...(0,i.Z)(o.Z.instance)});var t;return t=o.Z.instance,0!==Object.keys(t).length&&(s=e),e},__private_static_provider_fallback_value:()=>({country:"US",countryFromHostName:"",countryFromIp:"",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.Z,advertiser:null,legacyAdvertiser:null,requestIdentifier:""})}},659048:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(295190),o=n(296882),r=n(773432),s=n(454690),a=n(447186);const l={};l.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),a.Z.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};const d=l,c={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s.Z.trackEvent("share_line","click");const t=c._getWindowUrl(e.share_path,e.share_text);d.open(t,c.DIALOG_WIDTH,c.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,o.Z)(e):void 0,text:t})},u=c,p={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s.Z.trackEvent("share_reddit","click");const t=p._getWindowUrl(e.share_path,e.share_text);d.open(t,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://www.reddit.com/submit?url=",{url:e?(0,o.Z)(e):void 0,title:t})},h=p;var m=n(311866);const g={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";s.Z.trackEvent(t,"click");const n=g._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,g.DIALOG_WIDTH,g.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,o.Z)(e):void 0,text:t||void 0})},f=g,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return m.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return m.ZP.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const o=e.object_id;return m.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e))),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&f.openDialog({tweet_path:i,tweet_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareRedditInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,i=t.invite_code;return n&&h.openDialog({share_path:n,share_text:e.description}),_._logShareInvite(e,i),Promise.resolve(t)}),(e=>Promise.reject(e))),shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r||(r=n.title),i&&u.openDialog({share_path:i,share_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e)))},y=_},525974:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(295190),o=n(311866),r=n(627578),s=n(230457),a=n(181821),l=n(282152),d=n(233495),c=n(928940),u=n(641483);function p(){}let h;Object.assign(p.prototype,{optionsForNetwork:{},connect(e,t,i){t=Object.assign({},{success(){},error(){},complete(){}},t),(0,u.ZP)(`auth_web.social_connect.${e}.${(0,l.Z)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((({default:e})=>{e((e=>{e.login((e=>{const n=e.authResponse;let i,o;n&&(i=n.grantedScopes,i=i?i.split(","):[],o=n.userID);const r=i.find((e=>"email"===e)),s={id:o};"connected"===e.status&&r?t.success(s):t.error(s),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),s.Z)})):"gplus"===e||"google"===e?a.Z.get((e=>{(0,d.Z)().then((()=>{e.auth2.getAuthInstance().grantOfflineAccess().then((e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((e=>{t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((({default:n})=>{const o=t.windowOptions||n.getWindowOptions(),s=window.open("/connect/"+e+"/","",o);if(!s)return r.Z.showError(i._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=c.Z.setInterval((()=>{s.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))}),1e3);this.optionsForNetwork=Object.assign(this.optionsForNetwork,{[e]:t})}))},complete(e){this.handleComplete(e)},handleComplete(e){const t=e.network;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){const n=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?n.error(e):n.success(e),n.complete()}}}),Object.assign(p,{instance:()=>(h||(h=new p),h)}),window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}));const m=p;var g=n(584489),f=n(447186),_=n(301314),y=n(912397);function x(){}Object.assign(x.prototype,{handleConnect(e,t,n,o){if(t&&!f.Z.isLimitedLogin()){const r={success:function(i){const o={network:e,data:i};this._internalConnectNetwork(t,o,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r,o)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){const e={user_id:f.Z.get("id"),username:f.Z.get("username"),field_set_key:"social_connect"};g.Z.instance.dispatch((0,_.jB)("UserResource",e));o.ZP.create("UserResource",e).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;f.Z.set(n)}))},_externalConnectNetwork(e,t,n,i){t?m.instance().connect(e,n,i):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.ZP.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((e=>{this.updateConnectStatus(),n.success&&n.success(e)}),(e=>{n.error&&e instanceof Object&&n.error(e)})).finally((()=>{n.complete&&n.complete()}))},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case y.vq:t="UserFacebookFriendsResource";break;case y.Ib:t="UserTwitterFriendsResource";break;case y.Tr:t="UserGmailFriendsResource";break;case y.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.ZP.create(i,n);r.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(r)}),(n=>{if(110===n.api_error_code)c.Z.setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}});let v=null;x.instance=function(){return v||(v=new x),v};const b=x},278891:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(773432),o=n(661966);const r={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},s=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},a={overview:()=>"/",reporting:e=>{const t=e.objectiveType||null;delete e.objectiveType;const n={...e,...s(t)};return(0,i.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{const{campaignId:t,objectiveType:n,showAllEntities:o,adGroupId:a,message:l}=e,d=a?{adGroupIds:[a]}:{},c={campaignIds:[t],...o?r:{},...s(n),...d,message:l};return(0,i.Z)("/reporting/adgroups/",c)},campaign:e=>{const{id:t,objectiveType:n}=e;return(0,i.Z)("/reporting/adgroups/",{campaignIds:[t],...s(n)})},editCampaign:e=>a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:t,objectiveType:n,showAllEntities:o,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,i.Z)("/reporting/productgroups/",{adGroupIds:[t],...s(n)});{const e=o?r:{},d=l?{campaignIds:[l]}:{},c=a?{pinPromotionIds:[a]}:{};return(0,i.Z)("/reporting/ads/",{adGroupIds:[t],...s(n),...e,...c,...d})}},editAdGroup:e=>a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:t,adFilter:n}=e,o=n?{adFilter:n}:{};return(0,i.Z)("/reporting/ads/",{pinPromotionIds:[t],...o})},editPinPromotion:e=>{const t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{const{id:t,name:n}=e;return(0,i.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),create:e=>{const{campaignId:t,objectiveType:n,partialCreate:o,catalogsFeedId:r}=e,s={};return t&&o&&(s.campaignId=t),n&&(s.objectiveType=n),"CATALOG_SALES"===n&&r&&(s.catalogsFeedId=r),(0,i.Z)("/ads/create/",s)},editV2:e=>(0,i.Z)("/ads/edit/",e),duplicateCampaign:e=>(0,i.Z)("/ads/duplicate/",e),audiences:()=>"/audiences/",billing:e=>{const{page:t,subSection:n,nextStepUrl:r}=e;switch(t){case o.kM.BILLING_HISTORY:return"/billing/history/";case o.kM.ORDER_LINES:return"/billing/order_lines/";case o.kM.PROMOTIONS:return"/billing/promotions/";case o.kM.DOCUMENTS:return"/billing/documents/";default:const e={};return n&&(e.section=n),r&&(e.next_step_link_url=r),(0,i.Z)("/billing/",e)}},bulk:e=>{const{subSection:t,page:n,jobStarted:r}=e||{};switch(n){case o.fm.UPLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/upload_template/",{section:t});case o.fm.DOWNLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/download_template/",{section:t});case o.fm.HISTORY:return(0,i.Z)("/bulk_editor/history/",{section:t,job_started:r});case o.fm.RESOURCES:return(0,i.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},history:e=>(0,i.Z)("/history/",e),shopping:e=>a.reporting(s("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:t,subSection:n,platform:r,tagId:s}=e;switch(t){case o.qp.PINTEREST_TAG:return(0,i.Z)("/conversions/tag/",{subPage:n,platform:r});case o.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case o.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case o.qp.PINTEREST_TAG_HISTORY:return(0,i.Z)("/conversions/tag-history/",s?{tagId:s}:{});case o.qp.CONVERSION_UPLOAD:return(0,i.Z)("/conversions/upload/",{subPage:n});case o.qp.UPLOAD_HISTORY:return(0,i.Z)("/conversions/history/",{subPage:n});case o.qp.PCA_UPLOAD_HISTORY:return(0,i.Z)("/conversions/pca_history/",{subPage:n});case o.qp.PCA_UPLOAD:return(0,i.Z)("/conversions/pca_upload/",{subPage:n});default:return"/conversions/tag/"}},"pin-builder":e=>(0,i.Z)("/pin-builder/",e),purchases:()=>a.reporting(s("PURCHASE")),awareness_reserved:()=>a.reporting(s("IMPRESSION")),engagement:()=>a.reporting(s("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(s("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(s("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(s("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(s("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,i.Z)("/reporting/preferences/",e),report_builder:e=>(0,i.Z)("/report-center/builder/",e),report_history:()=>"/report-center/history/",report_unsubscribe:e=>(0,i.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,i.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(s("AWARENESS")),traffic:()=>a.reporting(s("TRAFFIC")),app_installs:()=>a.reporting(s("APP_INSTALL")),catalog_sales:()=>a.reporting(s("CATALOG_SALES")),web_conversion:()=>a.reporting(s("WEB_CONVERSION")),video_view:()=>a.reporting(s("VIDEO_VIEW")),quick_promote:()=>"/quick-promote/",quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:()=>"/recommendations/"},l=a},895507:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(296882),o=n(542756),r=n(278891),s=n(584489),a=n(702925);const l={getAdvertiserId:function(e){let t=null;if(e&&(t=e.advertiserId||null),!t&&s.Z&&s.Z.instance){const e=s.Z.instance.getState();e.advertiser&&(t=e.advertiser.id)}return t},getSterlingURL:function(e,t){if(!r.Z[e])throw new Error(`unknown url key: ${e}`);t||(t={});let n=r.Z[e](t);const o=l.getAdvertiserId(t);return"string"==typeof o&&(n="/advertiser/"+o+n),!!t.absolutify&&(n=(0,i.Z)(n,void 0,a.Z.settings.ADS_DOMAIN)),n},micro_bid_to_display:function(e){return e/1e6},url_format:function(e,t){let n="";if(e&&(n=e,t)){const i=(0,o.Z)(e,!0),r="/advertiser/",{hostname:s}=i,{ADS_DOMAIN:l,ADS_SITE_URL:d}=a.Z.settings;null!==s&&s!==l||(e.startsWith(d)&&(e=e.replace(d,"")),n=e.startsWith(r)?e:r+t+e)}return n}},d=l},447186:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(85038),o=n(799881),r=n(737614),s=n(730762),a=n(241933),l=n(311866),d=n(233088),c=n(702925),u=n(804652),p=n(641483),h=n(858875);const m=new class{constructor(){var e,t,n;n={},(t="attributes")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}get(e){return e in this.attributes?this.attributes[e]:void 0}set(e,t){"object"==typeof e?Object.assign(this.attributes,e):this.attributes[e]=t}isAuthenticated(){return!!r.Z.instance.is_authenticated}isLimitedLogin(){return!!this.attributes.login_state&&2===this.attributes.login_state}attemptCrossDomainAutologin(){-1===c.Z.settings.CORS_HANDSHAKE_DOMAINS.indexOf(window.location.origin)||i.U2(h.x3)||n.e(12749).then(n.bind(n,697974)).then((({verifyLoggedInStatus:e})=>{e(r.Z.instance.unauth_id)}))}flushContextLogs(){a.Z.pause(),s.Z.getInstance().flushEvents(void 0,void 0)}logoutWithOptions(e,t,n){return(0,p.yl)(!0),this.flushContextLogs(),l.ZP.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{(0,p.tj)("logout",{tags:{app:7===r.Z.instance.app_type_detailed?"windows_desktop":"web_denzel",reason:"user_initiated",source:t}}),d.ZP.sessionStorage.clear(),d.ZP.localStorage.clear(),i.t8(h.e7,"True",720)})).then((()=>(0,u.D)("logoutWithOptions"))).then((()=>{if(n)for(const e in n)d.ZP.localStorage.setItem(e,n[e]);null!==e&&(0,o.Z)(e)}))}isWriteBanned(){if(this.attributes.nags&&Array.isArray(this.attributes.nags)){const e=this.attributes.nags;return e.length>0&&"write_banned"===e[0].type}return!1}}},635691:(e,t,n)=>{n.d(t,{d:()=>d,Z:()=>c});var i=n(85038),o=n(731164),r=n(311866),s=n(447186),a=n(858875);const l=function(){};Object.assign(l.prototype,{sendSubscriptionToServer(e,t,n){i.t8(a.L9.name,"allowed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let s=e.subscriptionId;if(!s){const t=e.endpoint.split("/");s=t[t.length-1]}return r.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{const n=t.resource_response.data;if(!(s in n)){const t={registration_id:s,subscription_endpoint:e.endpoint};return r.ZP.create("WebPushDeviceResource",t).callCreate()}}))},subscribe(e,t,n){return o.Z.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then((r=>{var s;null==r||null===(s=r.pushManager)||void 0===s||s.subscribe({userVisibleOnly:!0}).then((t=>this.sendSubscriptionToServer(t,e,n)),(r=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(a.L9.name,"dismissed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(i.t8(a.L9.name,"denied",8760,"/"),e&&e(),o.Z.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))}))})).catch((()=>{}))},initializeState(){if(s.Z.isLimitedLogin())i.t8(a.L9.name,"denied",8760,"/");else if(s.Z.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return this.sendSubscriptionToServer(e);throw i.t8(a.L9.name,"none",8760,"/"),new Error})).catch((e=>{}));i.t8(a.L9.name,"denied",8760,"/")}else i.t8(a.L9.name,"denied",8760,"/");else i.t8(a.L9.name,"denied",8760,"/");else i.t8(a.L9.name,"denied",8760,"/")}}),l.instance=function(){return l._instance||(l._instance=new l),l._instance},"undefined"!=typeof window&&window.addEventListener("load",(()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{l.instance().initializeState()})).catch((()=>{}))}));const d=()=>{if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}},c=l},627578:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(607187),o=n.n(i);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,n){const i=o()(e);return r.showHtmlError(i,t,n)},r.showHtmlError=function(e,t,n){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,n)};const s=r},750980:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(580849);const o={getInstance:()=>i.K.fromGlobalContext().experiments}},230457:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(447186);const o=()=>i.Z.isAuthenticated()&&!!i.Z.attributes.facebook_id&&!i.Z.isLimitedLogin()},282972:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(561077);const o=/\{\s*(\w+)\s*\}/g,r=(e,t)=>(0,i.Z)(o,e,t);function s({args:e,format:t}){const n=(e||[]).reduce(((e,t,n)=>({...e,[n]:t.text})),{});return r(t,n)}},454690:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(238402),o=n(185062);let r;void 0===r&&(r=n.g),r._gaq=r._gaq||[];let s=[];const a=function(e){if(s.length)for(let t=0;t<s.length;t+=1){const n=s[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},l=function(e){if(s=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},d=2,c=3,u={};u.init=function(e,t){l(e),a(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",d])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){l(e),t?(i?a(["_setCustomVar",1,"adminUser",i.toString(),c]):o&&o.id?a(["_setCustomVar",1,"viewingUser",o.id.toString(),c]):a(["_setCustomVar",1,"is_logged_in","logged in",c]),n&&n.id&&a(["_setCustomVar",3,"advertiserId",n.id,c])):a(["_setCustomVar",1,"is_logged_in","logged out",c])};const p=function(e,t){let n=e;const r=(0,o.Z)(t).q;return r&&(n+="?"+(0,i.Z)({q:r})),n};u.trackPageview=function(e){a(["_setCustomVar",2,"page_name",e,c]),a(["_trackPageview",p(r.location.pathname,r.location.search)]),a(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){a(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)};const h=u},755908:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(388279),o=n(585967),r=n(350758),s=n(785893);const a=e=>{const{requestIdentifier:t=""}=(0,o.B)();return(0,s.jsx)(r.C,{...e,timeSpentManager:i.Z,auxData:{app_instance_id:t.slice(0,8)}})}},896829:(e,t,n)=>{n.d(t,{Q:()=>l,Z:()=>d});var i=n(667294),o=n(737614),r=n(229423),s=n(730762),a=n(44062);function l(e,t){const{setViewContextData:n}=(0,a.s)();(0,i.useEffect)((()=>{if(e){var t;const i=r.Z.fromPlainObject(e);n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,object_id_str:e.object_id_str,aux_data:e.aux_data,clientTrackingParams:e.clientTrackingParams}),i.setEventType(13),i.setRequestIdentifier(o.Z.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),s.Z.getInstance().addEvent(i)}}),[t])}function d(e){const{children:t,log:n}=e;return l(n),t||null}},549135:(e,t,n)=>{n.d(t,{j:()=>l,E:()=>d});var i=n(229423),o=n(730762),r=n(439887),s=n(584489);const a=e=>{const{pins:t,location:n}=s.Z.instance.getState(),i=t&&e&&t[e];return i?(0,r.Z)(i,n)||`${i.tracking_params}~0`:void 0};function l(e,t={}){o.Z.getInstance().addEvent(((e,{element:t,eventData:n,component:o,objectId:r,view:s,viewParameter:l,viewData:d,durationNs:c,pairId:u,clientTrackingParams:p,...h})=>{const m=i.Z.fromEventType(e);return m.setElement(t),m.updateEventData(n),m.setComponent(o),r&&m.setObjectIdStr(r),m.setDurationNs(c),m.updateAuxData({...h}),m.setViewType(s),m.setViewParameter(l),m.setViewData(d),m.setPairId(u),m.setClientTrackingParams(p||a(r)),m})(e,t))}const d={flushContextEvents:e=>o.Z.getInstance().flushEvents(e),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:o,event_data:r,event_type:s,object_id_str:a,pair_id:d,view_data:c,view_parameter:u,view_type:p})=>{l(s,{...e,element:o,eventData:r,component:n,objectId:a,view:p,viewParameter:null!=u?u:void 0,viewData:c,durationNs:i,pairId:d,clientTrackingParams:t})},logImpression:({auxData:e,component:t,eventData:n,eventType:i,impressionType:o,objectIdStr:r,viewData:s,viewParameter:a,viewType:d})=>{l(i,{...e,component:t,eventData:{[o]:[n]},objectId:r,viewData:s,viewParameter:null!=a?a:void 0,view:d})}}},269935:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(973935),r=n(40142),s=n(589444),a=n(241933),l=n(549135);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",(()=>{try{this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),d(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:s,impressionAuxFields:a,impressionType:d,loggingId:u,objectIdStr:p,slotIndex:h,trackCarousel:m,viewData:g,viewParameter:f,viewType:_}=this.props,y=c[d],x=y.idType,v=e.forcedExit&&"removed"===e.forcedExit?0:void 0,b={endTime:e.endTime,[x]:u,slotIndex:h,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...a,forcedExit:v};if(m||(0,l.j)(y.eventType,{closeup_navigation_type:i,component:o,element:s,eventData:{[y.impressionType]:[b]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...r}),t&&m){const{carousel_slots:e,index:n=0,id:i}=t;(0,l.j)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...r})}})),this.impressionsFramework=e.impressionsFramework||a.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}const p=(0,r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:(0,s.Z)({pin:n})}}),(()=>({})))(u)},8759:(e,t,n)=>{n.d(t,{E3:()=>r,MQ:()=>s,A0:()=>a,$Y:()=>l,cV:()=>d});var i=n(227361),o=n.n(i);function r(e){return!!e&&0!==e.type}const s=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function a(e){return o()(e,["display_data","anchor"])}function l(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[a(t)]=t)}},312827:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(40142),r=n(708206),s=n(50351),a=n(8759),l=n(752430);function d(e){const t=(0,o.useDispatch)(),n=(0,o.useSelector)((e=>e.experiences.eligibleExperiences)),d=(0,o.useSelector)((e=>e.experiences.mountedPlacements));return{experienceForPlacement:e?(0,a.MQ)(n,d,e):null,...(0,i.useMemo)((()=>(0,r.bindActionCreators)({completeExperience:l.V_,dismissExperience:l.WG,fetchAllExperiences:l.JT,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacement:l.zN,triggerExperimentsForPlacement:l.qb,viewExperience:l.Uk},t)),[t])}}},778527:(e,t,n)=>{n.d(t,{ZP:()=>m});var i=n(667294),o=n(40142),r=n(618446),s=n.n(r),a=n(8759),l=n(752430),d=n(585967),c=n(708206),u=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},m=(e,t={},n)=>r=>{const m=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);n={...h,...n};const g=function(e,t,n=!0,o=!0,r=!1,d){var c,h;return h=c=class extends i.Component{constructor(e){super(e),p(this,"state",{extraContext:void 0}),p(this,"setExtraContextState",(e=>{s()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:o,experience:r}=this.props;let a=i.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(a=t(n,i.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!s()(a,d)&&o((0,l.zN)(e,d)),!r||n.experience&&r.id===n.experience.id||o((0,l.qb)(e,d))}componentWillUnmount(){const{dispatch:t}=this.props;t((0,l.jE)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=r&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n((0,l.Ky)(e,i,o))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:(0,a.E3)(e)?e:null};return(0,u.jsx)(d,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},p(c,"displayName",`withPlacement(${d.displayName||d.name||"Component"})`),h}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return(0,c.compose)(d.Mf,(0,o.connect)(m))(g)}},602033:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(535718),o=n(585967),r=n(221469);var s=n(855168);function a({checkExperiments:e,disableFetch:t,viewer:n}){const i=(0,s.TH)(),a=(0,s.$B)(),l=(0,o.B)(),d=function({location:{pathname:e,search:t},match:{params:n,path:i},viewer:o}){return{routeData:{matchPath:i,params:n,parsedSearch:(0,r.mB)(t),pathname:e,search:t},user:{country:o.country||void 0,id:o.id||void 0,isAuth:o.isAuth,isEmployee:!!o.isEmployee||!1,isPartner:!!o.isPartner||!1,username:o.username||void 0}}}({location:i,match:a,viewer:n}),c=!!t&&t(d),u=!(!c&&e)||e(l.experiments);return{args:d,fetchDisabled:c||!u}}var l=n(34411);function d({getOptions:e,checkExperiments:t,disableFetch:n,...o}){const r=function(){const e=(0,l.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}(),{args:s,fetchDisabled:d}=a({checkExperiments:t,disableFetch:n,viewer:r}),c=e?e(s):void 0;return(0,i.Z)({dangerouslyDisableFetch:d,options:c,...o})}},656301:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(730762),r=n(549135);const s=e=>{const t=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(Object.entries(e).length>0&&!t.current){const{view_type:n,view_parameter:i}=o.Z.getInstance().getViewFromContext();n&&((0,r.j)(13,{view:n,viewParameter:i,...e}),t.current=!0)}}))}},610062:(e,t,n)=>{n.d(t,{Z:()=>a,l:()=>l});var i=n(40142);const o=[1000069,1000075],r={};function s(e){return o.forEach((t=>{!e[t]||void 0!==r[t]&&r[t].id===e[t].id||(r[t]=e[t])})),r}function a(e){return(0,i.connect)((e=>({lfvExperiences:s(e.experiences.eligibleExperiences)})))(e)}function l(){return s((0,i.useSelector)((({experiences:e})=>e.eligibleExperiences)))}},686125:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o(e){const{resourceDependencies:t=(()=>[])}=e;return function(e){function n(t){return(0,i.jsx)(e,{...t})}return n.WrappedComponent=e,n.displayName="StaticRouteData",n.getResourceDependencies=t,n}}},688615:e=>{const t={inject:()=>{!function(e,t,n,i,o){function r(){var e=t.createElement("script");e.async=!0,e.src="//radar.cedexis.com/1/14290/radar.js",t.body.appendChild(e)}(function(){for(var e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(o,r,!1):(n=e.attachEvent)&&n("on"+o,r):r())}(window,document,"addEventListener",0,"load")}};e.exports=t},784655:(e,t,n)=>{n.d(t,{iR:()=>i,hy:()=>o,VX:()=>r,_Q:()=>s,jL:()=>a,_J:()=>l,c4:()=>d,i8:()=>c,sV:()=>u,DP:()=>p,X9:()=>h,B5:()=>m});const i=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,r=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},s=e=>!!e.promoted_is_lead_ad,a=e=>!!e.promoter&&!e.is_downstream_promotion,l=e=>!!e.video_status&&5!==e.video_status,d=e=>!!e.creator_class,c=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return!!o[e]&&!o[e].paused},u=e=>["email","messages","deep_linking"].includes(e),p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};for(const r in o){const{paused:t}=o[r];if(r!==e&&!t)return!1}return!0},h=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return o[e]&&o[e].currentTime},m=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},609304:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},39527:(e,t,n)=>{n.d(t,{t:()=>p,N:()=>u});var i=n(667294),o=n(925311),r=n(463080),s=n(205794),a=n(311866),l=n(762803),d=n(785893);const{Provider:c,useHook:u}=(0,l.ZP)("LinkedAccount");function p({children:e}){const[t,n]=(0,i.useState)(!1),[l,u]=(0,i.useState)([]),p=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:l})=>{n(!0);const d={business_name:e,third_party_apps:t};return a.ZP.create("BusinessOwnershipResource",d).callCreate({showError:!0}).then((()=>{i&&(o.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),n(!1),(e=>{(0,s.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n]),h=(0,i.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:u})),[p,t,u,l]);return(0,d.jsx)(c,{value:h,children:e})}},352483:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(667294),o=n(883119),r=n(785893);function s({isHorizontalDesign:e}){return e?(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var a=n(174523);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class c extends i.PureComponent{constructor(...e){super(...e),l(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),l(this,"getImageArray",(()=>{const{userPins:e}=this.props;let t=[];return e&&0!==e.length?(t=e.map((e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url})).filter(Boolean),t):t})),l(this,"getImage",((e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&(0,r.jsx)(o.Ee,{naturalHeight:1,src:e,fit:"cover",alt:this.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})})),l(this,"handleLoad",(e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})}))}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),(0,r.jsx)(o.xu,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:(0,r.jsxs)(o.xu,{width:"100%",position:"relative",flex:"grow",children:[(0,r.jsx)(s,{isHorizontalDesign:e}),n,(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:d,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}const u=function(e){const t=(0,a.ZP)();return(0,r.jsx)(c,{...e,i18n:t})};var p=n(151101),h=n(549135);const m=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:s,userFullName:a,viewParameter:l,viewType:d}=e,c=i?80:86;return(0,r.jsx)(o.xu,{zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0}},display:"flex",flex:"none",rounding:"circle",children:(0,r.jsx)(o.xu,{flex:"none",height:c,width:c,children:(0,r.jsx)(o.iP,{onTap:({event:e})=>{e.stopPropagation(),function(e,t){(0,h.j)(101,{view:e,viewParameter:t,component:13406,element:11373})}(d,l)},href:s,rounding:"circle",role:"link",children:(0,r.jsx)(p.Z,{name:a,src:t,verified:n})})})})};var g=n(537343);function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:s}){const a=s*t,l=(0,g.ZP)(e,a);return n?(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"bold",children:l}):(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:l})}function _({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const s=e||t,a={placeholder:{__style:{transition:"opacity 200ms",opacity:s?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:s?1:0}}};return(0,r.jsxs)(o.xu,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[(0,r.jsx)(o.xu,{height:18,width:"100%",children:(0,r.jsx)(o.xv,{align:n?"start":"center",lineClamp:1,size:n?"lg":"md",weight:"bold",children:i})}),(0,r.jsxs)(o.xu,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[(0,r.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:a.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),(0,r.jsx)(o.xu,{height:6,flex:"none"}),(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",marginTop:-1,children:(0,r.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",marginTop:2,children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!s&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:s})})]})]})}var y=n(40142),x=n(756169),v=n(946753);function b({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:s}){const l=(0,a.ZP)();return i?(0,v.nk)(l._("{{ followCount }} {{ followText }}"),{followCount:(0,r.jsx)(o.xu,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:s?void 0:.8,children:(0,r.jsx)(o.xv,{color:s?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:(0,r.jsx)(x.Z,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,r.jsx)(o.xu,{"data-test-id":"followText",display:"inlineBlock",children:(0,r.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):(0,r.jsx)(o.xu,{"data-test-id":"followText",children:(0,r.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var w=n(881220),S=n(475446),I=n(289605);const T=(0,y.connect)(((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}}),(e=>({follow:t=>e((0,I.ZN)(t)),unfollow:t=>e((0,I.fv)(t))})))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:s,follow:l,id:d,viewParameter:c,viewType:u,fullName:p,imageUrl:m,profileUrl:g}){const f=(0,a.ZP)(),{showOneToast:_}=(0,S.F9)(),y=s?f._("Following","User follow button","User follow button"):f._("Follow","User follow button","User follow button"),x=e=>(0,h.j)(e,{view:u,viewParameter:c,component:13406,element:11372});return(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:(0,r.jsx)(o.iP,{onTap:()=>{s?((0,I.fv)(d),x(46)):(l(d),x(45),_((({onHide:e})=>(0,r.jsx)(w.Z,{onHide:e,text:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.xv,{children:f._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,r.jsx)(o.xv,{weight:"bold",children:p})]}),href:g,imageUrl:m}))))},rounding:"pill",children:(0,r.jsx)(o.xu,{alignItems:"center",color:s?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:(0,r.jsx)(b,{followerCount:e,followText:y,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:s})})})})}));function C({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:s,isCreator:a,isHorizontalDesign:l,isVerified:d,userFullName:c,username:u,viewParameter:p,viewType:h}){const g=function(e){return`/${e}`}(u);return(0,r.jsxs)(o.xu,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%",children:[(0,r.jsx)(m,{avatarUrl:e,isHorizontalDesign:l,isVerified:d,url:g,userFullName:c,viewType:h,viewParameter:p}),l&&(0,r.jsxs)(o.xu,{position:"relative",width:"100%",children:[(0,r.jsx)(o.xu,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:(0,r.jsx)(T,{fullName:c,followerCount:i,id:s,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:a})}),(0,r.jsx)(o.xu,{width:"100%",display:"flex",left:!0,marginTop:1,children:(0,r.jsx)(_,{description:t,domainUrl:n,isHorizontalDesign:l,userFullName:c})})]}),!l&&(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(_,{userFullName:c,domainUrl:n,description:t,isHorizontalDesign:l}),(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,r.jsx)(T,{followerCount:i,fullName:c,id:s,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:a})})]})]})}var E=n(451190);const P=24;function j({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:s,top:a,width:l,height:d}=e.getBoundingClientRect(),c=s+window.pageXOffset,u=a+window.pageYOffset,p=c+l+i+12>window.innerWidth,h={left:p?c:c+l,top:u+d/2},m={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-i:12,top:-i/2-44},g={top:-12,left:-12,fill:"white"},f=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return(0,r.jsxs)(o.xu,{position:"absolute",zIndex:E.b,dangerouslySetInlineStyle:{__style:h},children:[(0,r.jsx)(o.xu,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:m},width:i,overflow:"hidden",children:t}),(0,r.jsx)(o.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsx)("svg",{width:P,height:P,children:(0,r.jsx)("path",{d:f})})})]})}var R=n(311866),k=n(51610),A=n(34411),O=n(585967);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends i.PureComponent{constructor(e){super(e),L(this,"anchorRef",(0,i.createRef)()),L(this,"loadUser",(()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(R.ZP.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((e=>{var n;t&&this.setState({detailedUser:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),R.ZP.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then((e=>{var n;t&&this.setState({userPins:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),t&&this.setState({isLoaded:!0}))})),L(this,"handleScroll",(()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())})),L(this,"timeoutDismiss",(()=>{this.dismissTimeout=setTimeout((()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))}),150)})),L(this,"handleDisplayCard",(()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:s}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:a}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(a)?s&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout((()=>{s&&this.setState({isVisible:!0})}),300))})),L(this,"handleHideCard",(()=>{this.timeoutDismiss()})),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:s,viewParameter:a,viewType:l}=this.props,{isVisible:d,user:c,userPins:p}=this.state,{about:h,domain_url:m,follower_count:g,full_name:f,id:_,image_medium_url:y,show_creator_profile:x,verified_identity:v}=c||{},b=s.isAuth&&s.id===_,w=Boolean(null==v?void 0:v.verified),{group:S}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),I="enabled2_horizontal"===S;return(0,r.jsxs)(o.xu,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[(0,r.jsxs)(o.xu,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[(0,r.jsx)(o.xu,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!b&&!!c&&!!i&&d&&(0,r.jsx)(o.xu,{children:(0,r.jsx)(k.Z,{children:(0,r.jsx)(o.mh,{children:(0,r.jsx)(j,{anchor:this.anchorRef.current,isHorizontalDesign:I,children:(0,r.jsx)(o.xu,{color:"white",zIndex:E.b,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(u,{isHorizontalDesign:I,userPins:p}),(0,r.jsx)(C,{avatarUrl:null!=y?y:"",description:null!=h?h:"",domainUrl:m,followerCount:null!=g?g:0,id:null!=_?_:"",isCreator:x,isHorizontalDesign:I,isVerified:null!=w&&w,userFullName:null!=f?f:"",username:i,viewParameter:a,viewType:l})]})})})})})})]})}}function N(e){const t=(0,O.B)(),n=(0,A.Z)();return(0,r.jsx)(D,{...e,requestContext:t,viewer:n})}},702403:(e,t,n)=>{n.d(t,{FC:()=>i,z9:()=>o,EC:()=>r,m9:()=>s,BS:()=>a,_5:()=>l,A6:()=>d});const i=424,o=800,r=508,s=424,a=278,l=640,d=508},138881:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(21755),o=n(300970),r=n(34411),s=n(59737),a=n(585967),l=n(785893);const d=(e,t,n)=>e.isAuth&&e.isPartner&&(0,o.Z)(null,e)&&"en"===t&&0===n;function c({children:e}){const t=(0,r.Z)(),{experiments:n,language:o}=(0,a.B)(),{site_type:c}=(0,s.u7)();return(0,l.jsx)(i.Z,{activate:!0,group:n.v2GetGroup("smb_growth_boost_text")||"",isEligible:d(t,o,c),name:"smb_growth_boost_text",children:e})}},418448:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(641483),o=n(549135);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:r,isUnauth:s,pinId:a,viewParameter:l,viewType:d}){return"undefined"==typeof window?Promise.resolve():((0,i.ZP)(`web.${s?"unauth":"auth"}.download.click.${r||"no_category"}`),(0,o.j)(82,{objectId:a,view:d||3,viewParameter:l||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},628402:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(40142),r=n(893945),s=n(174523),a=n(311866);var l=n(883119),d=n(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:n,onFavorite:c,onUnfavorite:u,pinId:p,size:h}){const m=(0,s.ZP)(),g=(0,o.useDispatch)(),[f,_]=(0,i.useState)(!1),[y,x]=(0,i.useState)(e),[v,b]=(0,i.useState)(null!=t?t:0),w=async()=>{var e;x(!y),_(!0),y?(b(v-1),await g((e=p,async t=>{await a.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),_(!1)):(b(v+1),await g(function(e){return async t=>{await a.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),_(!1))},S=v<10?v:m._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==t&&v>0&&(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:S}),(0,d.jsx)(r.Z,{isCloseupButton:n,isDisabled:f,isFavorited:y,onTap:()=>{w()},size:h})]})}},893945:(e,t,n)=>{n.d(t,{W:()=>a,Z:()=>l});var i=n(174523),o=n(883119),r=n(785893);const s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:n,onTap:l,size:d}){const c=(0,i.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:n?a:s,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:t,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:n?a:s,size:d})})}},801500:(e,t,n)=>{function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}n.d(t,{J:()=>i,E:()=>o})},965108:(e,t,n)=>{n.d(t,{Dt:()=>Se,ZP:()=>Te});var i=n(667294),o=n(40142),r=n(832290),s=n(643011),a=n(688615),l=n.n(a),d=n(504872),c=n(551687),u=n(544260),p=n(353996),h=n.n(p),m=n(528866),g=n.n(m),f=n(374847),_=n(116794),y=n(885106),x=n(300970),v=n(263116),b=n(731164),w=n(785705),S=n(476865),I=n(494353),T=n(301769),C=n(689859),E=n(18827),P=n(320383),j=n(275304),R=n(823493),k=n.n(R),A=n(755908),O=n(881220),L=n(535718),D=n(314267),N=n(34411),Z=n(690529),M=n(610062),B=n(538958),F=n(233949),U=n(557162),H=n(946753),z=n(233088),G=n(583704),V=n(980767),W=n(221469),q=n(189299),$=n(158276),Y=n(935580),K=n(312827),X=n(174523),J=n(446659),Q=n(585967),ee=n(712904),te=n(475446),ne=n(883119),ie=n(535258),oe=n(752430),re=n(855168),se=n(785893);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le=(0,i.lazy)((()=>n.e(4394).then(n.bind(n,991478)))),de=(0,i.lazy)((()=>n.e(18111).then(n.bind(n,193776)))),ce=(0,v.ZP)({resolved:{},chunkName:()=>"PinQuizStoryCard",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(90446).then(n.bind(n,187656)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 187656}}),ue=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,712904)))),pe=(0,i.lazy)((()=>n.e(92796).then(n.bind(n,292796)))),he=6e5,me="_favicon_last_shown_timestamp",ge=6e5,fe=1500,_e=(0,i.createRef)(),ye=e=>{const t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},xe=(e,t)=>(e||[]).slice(0,t).map((e=>e.id)),ve=(e,t)=>JSON.stringify(e)===JSON.stringify(t);class be extends i.Component{constructor(...e){super(...e),ae(this,"state",{boundingClientRectTop:0,hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),ae(this,"refreshData",((e="unknown")=>{const{homefeed:t}=this.props;this.setState({refreshReason:e,isRefreshing:!0},(()=>{t.refresh()}))})),ae(this,"handleScroll",k()((()=>{const{boundingClientRectTop:e,hasScrolled:t,hideTabs:n}=this.state,{experience:i}=this.props,o=this.scrollContainer&&this.scrollContainer.getBoundingClientRect(),r=o&&o.top;"number"==typeof r&&(r<J.O&&e>r?n||this.setState({hideTabs:!0}):n&&this.setState({hideTabs:!1}),this.setState({boundingClientRectTop:r})),i&&502535===i.experience_id&&!t&&this.setState({hasScrolled:!0})}),250)),ae(this,"onWindowFocus",(()=>{if(this.windowBlurStart>-1){Date.now()-this.windowBlurStart>he&&this.refreshData("MORE_THAN_10_MINUTES")}this.windowBlurStart=-1,this.clearFaviconNotification()})),ae(this,"onWindowBlur",(()=>{this.windowBlurStart=Date.now(),this.prepareForFaviconUpdate()})),ae(this,"onInstallPrompt",(e=>{this.installPromptEvent=e,this.setState({pwaUpsellBannerEligibility:this.getpwaUpsellBannerEligibility()})})),ae(this,"getTimeSpentSpinnerAuxData",(()=>({resource_fetch_count:this.resourceFetchCount,viewport_height:"undefined"!=typeof window?window.innerHeight:null,viewport_width:"undefined"!=typeof window?window.innerWidth:null}))),ae(this,"clearFaviconNotification",(()=>{this.faviconUpdateTimeout&&(clearTimeout(this.faviconUpdateTimeout),this.faviconUpdateTimeout=null),ye(h())})),ae(this,"prepareForFaviconUpdate",(()=>{this.faviconUpdateTimeout=setTimeout((()=>{const e=z.Xb.getItem(me);(!e||(new Date).getTime()-e>=V.F4)&&(ye(g()),z.Xb.setItem(me,(new Date).getTime()))}),ge)})),ae(this,"windowBlurStart",-1),ae(this,"faviconUpdateTimeout",null),ae(this,"loadItems",(()=>{const{homefeed:e,feedLimit:t}=this.props,n=e.data||[];t&&n.length>t?this.props.setFeedLoading&&this.props.setFeedLoading(!1):e.isFetching||(this.resourceFetchCount+=1,e.fetchMore())})),ae(this,"resourceFetchCount",0),ae(this,"installPromptEvent",null),ae(this,"getpwaUpsellBannerEligibility",(()=>{const{requestContext:e}=this.props,{pwaUpsellBannerEligibility:t}=this.state;if(!(0,B.CR)(window)&&e&&!t&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";if(this.installPromptEvent)return"chrome"}return"notEligible"})),ae(this,"handleInstallWindowsPWA",(e=>{e(),b.Z.increment("windows.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})})),ae(this,"handleInstallChromePWA",(e=>{e(),b.Z.increment("chrome.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})})),ae(this,"handleDismissChromePWAUpsell",(e=>{e(),b.Z.increment("chrome.web.upsell.dismissed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})})),ae(this,"loadingStateFirstShownTime",null),ae(this,"loadingStateFirstShownTimeout",null),ae(this,"insertPLPIntoHomefeed",(0,G.qe)((e=>{const{location:t,mostRecentPLP:n,requestContext:i}=this.props,o=t&&t.state&&t.state.completedNux;let r=!1;if(e.length>0&&n&&o){const{group:e}=i.experiments.getWithoutActivation("web_prompt_renux_on_plp");r="enabled_hf"===e}if(n&&r){const t=e.findIndex((e=>"pin"===e.type)),i=e[t].id===n.id;if(t>-1&&!i)return[...e.slice(0,t),n,...e.slice(t)]}return e}))),ae(this,"renderItem",(({data:e,itemIdx:t})=>{const{lfvExperiences:n}=this.props;if(!e||!e.type)return console.error("Invalid data received. ",t,e),null;switch(e.type){case"pin":const i=!!n&&!!(0,y.Z)(n);return(0,se.jsx)(S.default,{imageOnlyOption:i?"image-only":"default",pin:e,pinId:e.id,surface:"AuthHomefeed",trackingParameters:{slotIndex:t,viewParameter:92,viewType:1}});case"story":{const{story_type:n}=e;return b.Z.increment("web_story_card_type",1,{story_type:n||"unknown",surface:"homefeed"}),"BUBBLE_ONE_COL"===n?(0,se.jsx)(s.Z,{bubbles:e.objects,id:e.id,referringSource:e.referring_source,slotIndex:t,storyType:n,title:e.title,viewType:1,viewParameter:92}):"shop_brand_story"===n||"shop_brand_affinity_story"===n?(0,se.jsx)(E.Z,{story:e,slotIndex:t}):"pin_quiz_story"===n?(0,se.jsx)(ce,{refreshData:()=>this.refreshData("PIN_QUIZ_STORY_CARD")}):n===Y.m?(0,se.jsx)(Y.Z,{storyData:e,slotIndex:t}):"hf_signal_collection_story"===n?(0,se.jsx)(_.Z,{id:e.id,content:e.content,storyType:e.story_type,slotIndex:t,title:e.title.text,viewType:1,viewParameter:92}):(0,se.jsx)(j.Z,{story:e})}case"partnerProfile":return(0,se.jsx)(P.Z,{...e.data});default:return null}}))}componentDidMount(){const{experienceClient:e,history:t,location:n,mountWebRepinPlacement:i,toastManagerContext:o}=this.props;e.triggerExperimentsForPlacement(1000116),l().inject(),(0,W.mB)(n.search).show_error?o.showOneToast((({onHide:e})=>(0,se.jsx)(O.Z,{duration:5e3,onHide:e,text:this.props.i18n._("We cant find that idea! Try searching for one just like it.")}))):n.state&&"/pin-builder/"===n.state.from?n.state.boardName&&n.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,W.mB)(n.search).show_yip_modal&&(t.replace("/"),this.setState({showYipModal:!0})),window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),i()}componentDidUpdate(e){const{isPostRenux:t,homefeed:n}=this.props,{isPostRenux:i,homefeed:o}=e;if(!i&&t&&this.refreshData("POST_RENUX"),n.data&&o.data&&o.isFetching&&!n.isFetching&&n.data.length<=o.data.length){const e=xe(n.data,10),t=xe(o.data,10);this.logRefreshStats(this.state.refreshReason,ve(t,e)),this.setState({isRefreshing:!1,refreshReason:null})}}logRefreshStats(e,t){const{requestContext:n}=this.props,i={appType:"web",language:n.language||"unknown",locale:n.locale||"unknown",refreshReason:e};b.Z.increment("home_product.homefeed.refresh",1,i),t&&b.Z.increment("home_product.homefeed.refresh.no_change",1,i)}componentWillUnmount(){const{unmountWebRepinPlacement:e}=this.props;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),document.removeEventListener("scroll",this.handleScroll),e()}get isHomefeed(){const{location:e}=this.props,t=(0,W.mB)(e.search);return!(t&&"string"==typeof t.boardId&&t.boardId)}handlePinSuccessPinBuilder(){const{location:e,toastManagerContext:t}=this.props,n=(e.state||{}).boardName,i=(e.state||{}).imageUrl,o=(0,H.nk)(this.props.i18n._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:(0,se.jsx)(ne.xv,{inline:!0,size:"md",lineClamp:1,weight:"bold",children:n},n)});t.showOneToast((({onHide:e})=>(0,se.jsx)(O.Z,{onHide:e,duration:5e3,text:(0,se.jsx)(ne.xv,{children:o},`toast_${n}`),imageUrl:i})))}render(){const{hasScrolled:e,hideTabs:t,pwaUpsellBannerEligibility:n,isRefreshing:o,showYipModal:s}=this.state,{homefeed:a,moreIdeasTabsResource:l,moreIdeasTabsType:p,requestContext:h,viewer:m,location:g}=this.props,_=this.insertPLPIntoHomefeed(a.data||[]),y=!_||a.isFetching&&(0===_.length||!a.isLoaded)||o,x=!y,v=l&&l.data&&l.data.tabs.length>0&&!!p,b=p||"pills",S=g&&g.pathname.includes("news_hub");return(0,se.jsxs)(i.Fragment,{children:[(0,se.jsx)(u.Z,{placementId:11,experienceIds:[503859],children:e=>(0,se.jsx)(r.Z,{experience:e})}),"windows"===n&&(0,se.jsx)(u.Z,{placementId:11,experienceIds:[501123],children:({complete:e})=>(0,se.jsx)(Z.Z,{handleComplete:()=>this.handleInstallWindowsPWA(e),language:h.language||"",locale:h.locale||""})}),"chrome"===n&&(0,se.jsx)(u.Z,{placementId:11,experienceIds:[500999],children:({complete:e,dismiss:t})=>(0,se.jsx)(d.Z,{handleComplete:()=>this.handleInstallChromePWA(e),handleDismiss:()=>this.handleDismissChromePWAUpsell(t)})}),e&&(0,se.jsx)(u.Z,{placementId:11,experienceIds:[502535],children:({complete:e,dismiss:t})=>(0,se.jsx)(f.Z,{handleComplete:e,handleDismiss:t})}),s&&(0,se.jsx)(c.Z,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,se.jsx)(C.Z,{children:(0,se.jsx)(pe,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})})}),(0,se.jsx)(A.Z,{view:1,viewParameter:92,children:(0,se.jsxs)(i.Fragment,{children:[(v||m.isAuth&&m.isPartner)&&!S&&(0,se.jsx)(c.Z,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,se.jsx)(C.Z,{fallback:(0,se.jsx)(ee.MoreIdeasFallback,{}),children:(0,se.jsx)(U.c,{children:e=>(0,se.jsx)(ne.Le,{top:e,zIndex:new ne.Ry(this.isHomefeed?1:0),children:(0,se.jsx)(ne.xu,{"data-root-margin":"more-ideas-tabs",height:J.O,ref:e=>this.scrollContainer=e,children:(0,se.jsx)(ue,{nonFixed:!0,hideTabs:t,type:b||l&&p})})})})})}),this.isHomefeed&&(0,se.jsxs)(ne.xu,{"data-test-id":"homefeed-feed",dangerouslySetInlineStyle:{__style:{paddingBottom:ie.Us}},children:[x&&(0,se.jsx)(F.KS,{name:"web_masonry9_homepage",children:({anyEnabled:e})=>(0,se.jsx)(w.default,{cacheKey:"homefeed",columnWidth:ie.xf,comp:this.renderItem,items:_,pinData:_,loadItems:this.loadItems,isAtEnd:this.props.homefeed.isAtEnd,isFetching:this.props.homefeed.isFetching,isLoaded:this.props.homefeed.isLoaded,masonryRef:_e,virtualize:!0,includeBackgroundImages:!0,includeVideos:!0,useMasonry9:e,paddingStyle:"simplified"})}),(0,se.jsx)(c.Z,{name:"SafeSuspense_AuthHomefeed_ExperienceSurvey",children:(0,se.jsx)(C.Z,{children:(0,se.jsx)(le,{placementId:11})})}),(0,se.jsx)(c.Z,{name:"SafeSuspense_AuthHomefeed_PinQuiz",children:(0,se.jsx)(C.Z,{children:(0,se.jsx)(u.Z,{placementId:11,experienceIds:[501686,501819],children:({experience_id:e,complete:t,dismiss:n})=>{const i=501686===e?"web_homefeed_new_user_pin_quiz":"web_homefeed_all_user_pin_quiz";return(0,se.jsx)(F.KS,{name:i,children:({group:e})=>(0,se.jsx)(de,{type:e.includes("selection")?"selection":"rating",onComplete:t,onDismiss:n,refreshData:()=>this.refreshData("PIN_QUIZ_STORY_CARD")})})}})})}),(0,se.jsx)(A.Z,{auxData:this.getTimeSpentSpinnerAuxData(),component:13213,children:y?(0,se.jsxs)(ne.xu,{paddingY:6,position:"relative",children:[(0,se.jsx)(ne.$j,{accessibilityLabel:this.props.i18n._("Loading homefeed","spinner for loading homefeed","spinner for loading homefeed"),show:!0}),(0,se.jsx)(ne.kC,{alignItems:"stretch",justifyContent:"center",children:(0,se.jsx)(ne.xu,{marginTop:8,maxWidth:"432px",children:(0,se.jsx)(ne.X6,{size:"md",align:"center",children:this.props.i18n._("We're adding new ideas to your home feed!","loading message for home feed","loading message for home feed")})})})]}):(0,se.jsx)(ne.xu,{})})]})]})})]})}}function we(e){var t;const n=(0,X.ZP)(),i=(0,o.useDispatch)(),r=(0,re.TH)(),s=(0,N.Z)(),a=(0,o.useSelector)((({pins:e})=>e)),{plpPinId:l}=null!==(t=(0,o.useSelector)((({mostRecentPin:e})=>e)))&&void 0!==t?t:{},d=(0,te.F9)(),c=(0,L.Z)({name:"UserHomefeedResource",enabledRouteRefresh:!0,options:(0,D.Z)({viewerIsPartner:s.isAuth&&s.isPartner,inNux:(()=>{const e=s.isAuth&&s.firstHomeFeedRequestAfterNux;return e&&i((0,$.H5)(!1)),e})(),staticFeed:!(!r||!r.pathname.includes("pwt_testing")&&void 0===(0,W.mB)(r.search).pwt_testing),inNewsHub:!(!r||!r.pathname.includes("news_hub"))})}),u=c.data||[];if(!s.isPartner&&(0,x.Z)(null,s)&&u.length>0){const e=z.Xb.getItem("unauthDesktopSavePinId")||"",t=u.findIndex((e=>"pin"===e.type));u[t].id===e&&(z.Xb.removeItem("unauthDesktopSavePinId"),setTimeout((()=>{(0,T.Z)(u[t],n).then((e=>{const{id:n,url:o,name:r}=e;i((0,q.d)({boardId:n,url:o,title:r||"",pinId:u[t].id})),d.showToast((({onHide:n})=>(0,se.jsx)(I.Z,{boardName:e.name,boardUrl:e.url,onHide:n,pinImageUrl:u[t].images["236x"].url})))}))}),fe))}return(0,se.jsx)(be,{...e,experienceClient:(0,K.Z)(),history:(0,re.k6)(),homefeed:c,location:r,mostRecentPLP:l?a[l]:null,mountWebRepinPlacement:()=>i((0,oe.Ky)(1000294,{})),requestContext:(0,Q.B)(),toastManagerContext:(0,te.F9)(),unmountWebRepinPlacement:()=>i((0,oe.jE)(1000294)),viewer:s,i18n:n})}const Se=(0,M.Z)(we);function Ie(e){const t=(0,L.Z)({name:"MoreIdeasTabsResource",options:J.C});return(0,se.jsx)(Se,{...e,moreIdeasTabsResource:t})}function Te(e){return(0,se.jsx)(F.KS,{name:"use_cases_h1_hf_integration_parent",children:({group:t})=>["employees","story"].includes(t)?(0,se.jsx)(F.KS,{name:"more_ideas_homefeed_integration_web",activate:!1,children:({group:t})=>{let n;return t.includes("employees_pills")||t.includes("enabled_pills")?n="pills":(t.includes("enabled_lego_tabs")||t.includes("employees_lego"))&&(n="lego"),(0,se.jsx)(Ie,{...e,moreIdeasTabsType:n})}}):(0,se.jsx)(F.KS,{name:"use_cases_web_hf_integration_pwt",children:({anyEnabled:t})=>{const n=t?Ie:Se;return(0,se.jsx)(n,{...e})}})})}},712904:(e,t,n)=>{n.r(t),n.d(t,{MoreIdeasFallback:()=>H,MoreIdeasTabsNav:()=>z,default:()=>G});var i=n(667294),o=n(40142),r=n(390764),s=n(551687),a=n(689859),l=n(535718),d=n(785893);const c=(0,i.lazy)((()=>n.e(53282).then(n.bind(n,240703))));function u({hideHeader:e,tabId:t}){const{data:n}=(0,l.Z)({name:"BoardResource",options:{board_id:t}});return n?(0,d.jsx)(s.Z,{name:"SafeSuspense_HomefeedBoardMoreIdeasTabContent_BoardMoreIdeasTabContent",children:(0,d.jsx)(a.Z,{children:(0,d.jsx)(c,{collection:n,hideHeader:e,ideasReferrer:19,isHomefeed:!0,viewerIsOwnerOrCollaborator:!0})})}):null}var p=n(241933),h=n(585967),m=n(883119);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={Tabs:{display:"flex",paddingTop:"18px",paddingBottom:"18px",userSelect:"none"},SliderStyle:{backgroundColor:"#333",borderRadius:"10px",borderWidth:"0",height:"3px",marginTop:"-14.5px"}};class _ extends i.Component{constructor(...e){super(...e),g(this,"state",{focusedTabIndex:void 0,hoveredTabIndex:void 0,marginLeft:this.props.previousTabData&&this.props.previousTabData.marginLeft||0,width:this.props.previousTabData&&this.props.previousTabData.width||0}),g(this,"handleTabClick",((e,t)=>{const{onChange:n,sendRoutingData:i}=this.props;n({activeTabIndex:e,event:t}),i({activeTabIndex:e})})),g(this,"handleTabFocus",(e=>this.setState({focusedTabIndex:e}))),g(this,"handleTabBlur",(()=>this.setState({focusedTabIndex:void 0}))),g(this,"handleTabMouseEnter",(e=>this.setState({hoveredTabIndex:e}))),g(this,"handleTabMouseLeave",(()=>this.setState({hoveredTabIndex:void 0})))}componentDidMount(){const{activeTabIndex:e}=this.props,t=document.getElementsByClassName("hf_lego_tabs")[0];if(document.getElementById("lego_click_slider")){const n=[].slice.call(t.getElementsByTagName("li"),0,e+1);if(n.length>0){let t=0,i=0;n.forEach(((n,o)=>{i=o===e?n.offsetWidth:n.offsetWidth+16,0!==e&&o!==e&&(t+=i)})),this.setState({marginLeft:t,width:i})}}}get tabsJumped(){const{activeTabIndex:e,previousTabData:t}=this.props;return t?Math.abs(t.previousTabIndex-e):1}get tabsAnimationTime(){const e=.17*this.tabsJumped;return e<.2?.2:e>.35?.35:e}render(){const{activeTabIndex:e,requestContext:{isRTL:t,userAgent:{browserName:n}},tabs:i,type:o}=this.props,{focusedTabIndex:r,hoveredTabIndex:s,marginLeft:a,width:l}=this.state;return(0,d.jsxs)(m.xu,{children:[(0,d.jsx)("ul",{className:"hf_lego_tabs",style:f.Tabs,role:"tablist",children:i.map((({href:t,text:n},i)=>{const o=i===e,a=i===s,l=i===r;return(0,d.jsx)("li",{"data-test-id":`tab-${i}`,style:{marginLeft:0!==i?16:0},children:(0,d.jsx)("a",{"aria-selected":o,href:t,onClick:e=>this.handleTabClick(i,e),onFocus:()=>this.handleTabFocus(i),onBlur:this.handleTabBlur,onMouseEnter:()=>this.handleTabMouseEnter(i),onMouseLeave:this.handleTabMouseLeave,role:"tab",children:(0,d.jsx)(m.X6,{color:o||a||l?"darkGray":"gray",size:"sm",children:n})})},`${t}-${i}`)}))}),(0,d.jsx)("hr",{id:"lego_click_slider",style:{...f.SliderStyle,transition:"lego"===o?"":`all ${this.tabsAnimationTime}s ease-in-out`,marginLeft:a,marginRight:t?0===e?a:a-16:null,visibility:["IE","Edge"].includes(n)?"hidden":"visible",width:l,position:t?"absolute":null}})]})}}function y(e){return(0,d.jsx)(_,{...e,requestContext:(0,h.B)()})}const x={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function v({children:e,maxWidth:t}){return(0,d.jsx)(m.xu,{maxWidth:t,overflow:"hidden",dangerouslySetInlineStyle:x,children:e})}var b=n(159617),w=n(446659),S=n(549135),I=n(174523);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),T(this,"state",{tabAnchorExists:!1}),T(this,"onTooltipClickComplete",(e=>{const{navigate:t}=this.props;return t(e)})),T(this,"getTabElementType",(e=>{switch(e){case"homefeed":return 11081;case"today":return 11674;default:return 11082}})),T(this,"onTabChange",(({activeTabIndex:e,event:t})=>{const{navigate:n,tabs:i}=this.props;t.preventDefault();const o=this.getDefaultTabs().concat(i)[e];if(!o)return;const r=o.id||null;o.href||n(r),(0,S.j)(101,{component:13184,element:this.getTabElementType(r),index:e.toString(),view:1,viewParameter:3173})})),T(this,"renderTab",(e=>(0,d.jsx)(v,{maxWidth:250,children:e}))),T(this,"renderTooltip",(()=>{const{hideTabs:e,tabs:t}=this.props;return(0,d.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{opacity:e?0:1,transition:"opacity .2s ease-in-out"}},children:(0,d.jsx)(r.Z,{anchor:this.tabAnchor,experienceIds:[501033],idealDirection:"down",onClickComplete:()=>{const e=t[0],n=e&&e.id;n&&this.onTooltipClickComplete(n)},placementId:11})})})),T(this,"getDefaultTabs",(()=>{const{isPartner:e,isTodayTabEnabled:t}=this.props;return e?[{href:"/homefeed/",id:"homefeed",text:this.props.i18n._("For you","authHomefeed.moreIdeasNav.homefeed","Homefeed tab shown when user is a partner")},...t?[{href:"/today/",id:"today",text:this.props.i18n._("Today","authHomefeed.moreIdeasNav.today","Today tab shown when user is a partner")}]:[]]:[{href:"/homefeed/",id:"homefeed",text:this.props.i18n._("All","Homefeed tab","Homefeed tab")}]}))}componentDidMount(){this.props.headerShadowContext.setSubheaderShadow("moreIdeas");const e=this.element;e&&p.Z.addObstruction("top",e),this.tabAnchor&&this.setState({tabAnchorExists:!0})}componentWillUnmount(){this.props.headerShadowContext.setSubheaderShadow(null)}render(){const{currentTabId:e,headerShadowContext:t,hideHeader:n,hideTabs:i,isPartner:o,nonFixed:r,previousTabData:s,tabs:a,type:l}=this.props,{tabAnchorExists:c}=this.state;if(!a.length&&!o)return null;const p=[...this.getDefaultTabs(),...a.map((({id:e,name:t},n)=>({href:"",id:e,text:0===n?(0,d.jsx)(m.xu,{ref:e=>{this.tabAnchor=e},children:this.renderTab(t)}):this.renderTab(t)})))],h=p.findIndex((t=>t.id===e)),g=h>=0?p[h]:void 0;return(0,d.jsxs)(m.xu,{ref:e=>{this.element=e},children:[(0,d.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:{transform:i?"translate(0, -64px)":"translate(0, 0)",transition:"all .2s ease-in-out",zIndex:6,...t.isScrolled?b.Rz:{}}},position:r?"static":"fixed",width:"100%",color:"white",children:[(0,d.jsx)("div",{className:"pills"===l?"MoreIdeasTabsNavPills":"",children:(0,d.jsx)(m.xu,{color:"white",display:"flex",height:w.O,justifyContent:"center",paddingX:2,paddingY:"pills"===l?0:1,children:"pills"===l?(0,d.jsx)(m.xu,{children:(0,d.jsx)(m.mQ,{activeTabIndex:g?h:0,onChange:this.onTabChange,tabs:p})}):(0,d.jsx)(m.xu,{marginTop:-1,children:(0,d.jsx)(y,{activeTabIndex:g?h:0,onChange:this.onTabChange,tabs:p,previousTabData:s,sendRoutingData:()=>{},type:l})})})}),!g&&c&&this.renderTooltip()]}),g&&(0,d.jsx)(u,{tabId:e,hideHeader:n})]})}}function E(e){const t=(0,I.ZP)();return(0,d.jsx)(C,{...e,i18n:t})}var P=n(656301),j=n(34411),R=n(233949),k=n(221469),A=n(313949),O=n(341088),L=n(245221),D=n(280313),N=n(855168);const Z="following",M="/following/",B="homefeed",F="/homefeed/",U="today",H=()=>(0,d.jsx)(m.xu,{height:w.O});function z({hideTabs:e,nonFixed:t,tabs:n,type:o}){const r=(0,O.WQ)(),{setIsContentHeaderPresent:s}=(0,A.i)(),a=(0,N.k6)(),l=(0,N.TH)(),c=(0,h.B)(),u=(0,j.Z)(),p=!!u.isAuth&&u.isPartner,m=u.isAuth?u.country:c.country,g=(0,L.S)(),f=(0,D.Yj)(m,c.locale)&&g,_=f?{component:8,element:11674}:Object.freeze({});if((0,P.Z)(_),(0,i.useEffect)((()=>(s(!0),function(){s(!1)})),[]),!n||!n.length&&!p||!o||!l)return null;function y(e){const{pathname:t}=l;e?e===Z?a.push(M):e===U?a.push(D.z_):e===B?a.push(F):a.push(`/homefeed/?boardId=${encodeURIComponent(e)}`):a.push(`${t}`)}function x(){const{pathname:e,search:t}=l;if(p){if(e===M)return Z;if(e.includes(D.z_))return U;if(e===F&&""===t)return B}return(({search:e})=>e&&"string"==typeof(0,k.mB)(e).boardId&&(0,k.mB)(e).boardId||null)(l)}return(0,d.jsx)(R.KS,{name:"more_ideas_homefeed_integration_web",activate:!1,children:({group:i})=>{var s;let a=o;a=i.includes("animation")?"animateLego":o;const c=i.includes("scrollaway"),u=i.includes("employees_lego")||i.includes("persistent_one_click_save");return(0,d.jsx)(E,{tabs:n,currentTabId:x(),headerShadowContext:r,hideHeader:u,hideTabs:e&&c,isPartner:p,isTodayTabEnabled:f,navigate:y,nonFixed:t,previousTabData:(null===(s=l.state)||void 0===s?void 0:s.prevTabData)||void 0,type:a})}})}const G=(0,o.connect)((e=>({tabs:e.feeds.homefeedMoreIdeasTabs.hf||[]})),(()=>({})))(z)},935580:(e,t,n)=>{n.d(t,{m:()=>l,Z:()=>d});var i=n(667294),o=n(269935),r=n(476865),s=n(883119),a=n(785893);const l="homefeed_shopping_retargeted_products";function d({storyData:e,slotIndex:t}){const n=e.objects.length>0?e.objects[0]:null;if(!n)return null;const{id:l,story_type:d,title:{format:c}}=e,{id:u,image_signature:p}=n,h={story_id:l,story_type:d,content_ids:`pin:${u}`,image_signature:p};return(0,a.jsx)(o.Z,{componentType:200,contextLogData:h,impressionType:"Story",loggingId:l,slotIndex:t,viewParameter:92,viewType:1,children:(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.X6,{size:"md",children:c})}),(0,a.jsx)(r.default,{imageOnlyOption:"default",pin:n,pinId:u,surface:"ShoppingSquareGridHomefeedBoth",trackingParameters:{slotIndex:t,viewParameter:92,viewType:1}})]})})}},446659:(e,t,n)=>{n.d(t,{O:()=>i,C:()=>o});const i=64,o={redux_normalize_feed:!0}},314267:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({inNux:e,inNewsHub:t,staticFeed:n,viewerIsPartner:i})=>({field_set_key:i?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,prependPartner:i,static_feed:n})},557162:(e,t,n)=>{n.d(t,{c:()=>o,t:()=>r});var i=n(740060);function o({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},740060:(e,t,n)=>{n.d(t,{Z:()=>h,J:()=>d});var i=n(667294),o=n(39527),r=n(762803),s=n(159617),a=n(785893);const{Provider:l,useHook:d}=(0,r.ZP)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:s.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:h,showAccountMenuFlyout:m},g]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(s.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const f=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:h,showAccountMenuFlyout:m,updateHeaderState:g})),[g,n,r,d,h,m]);return(0,a.jsx)(l,{value:f,children:(0,a.jsx)(o.t,{children:e})})}},176082:(e,t,n)=>{n.d(t,{ZP:()=>d});var i=n(326149),o=n(883119),r=n(785893);const s="rgb(255,255,255)",a={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},l=({accessibilityLabel:e,active:t,children:n,color:i="darkGray",focused:l,hovered:d,icon:c,isSVG:u,iconOnly:p,shouldPad:h})=>{const m="darkGray"===i?{hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:a,iconOnly:{backgroundColor:s}}:{hovered:{backgroundColor:"rgba(255,255,255,0.4)"},active:{backgroundColor:s},focused:a,iconOnly:{backgroundColor:"rgba(255,255,255,0.0)"}},g=p?{...m.iconOnly}:{...d?m.hovered:Object.freeze({}),...t?m.active:Object.freeze({}),...l?m.focused:Object.freeze({})},f="white"===i&&t?"darkGray":i;return(0,r.jsx)(o.xu,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:n?"pill":"circle",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:p?30:48,minWidth:p?30:48}},paddingX:h?3:0,children:[u?(0,r.jsx)(o.JO,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:c},color:f,inline:!0,size:p?16:20}):(0,r.jsx)(o.JO,{accessibilityLabel:e,icon:c,color:f,inline:!0,size:p?16:20}),n]})})},d=e=>{const{accessibilityLabel:t,children:n,color:o="darkGray",onClick:s,icon:a,isSVG:d,shadowType:c,shouldPad:u,iconOnly:p}=e;return(0,r.jsx)(i.Z,{accessibilityLabel:t,className:c||"",dataTestId:"lego-button",onClick:s,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:i,focused:s})=>(0,r.jsx)(l,{active:e,accessibilityLabel:t,color:o,hovered:i,focused:s,icon:a,isSVG:d,iconOnly:p,shouldPad:u,children:n})})}},515743:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(281810),r=n(87398),s=n(155656),a=n(840667),l=n(883119),d=n(535258),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"masonryRef",(0,i.createRef)()),u(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return(0,c.jsx)("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2},children:(0,c.jsx)(t,{...e})})}))}componentDidUpdate(e){const{widthOffset:t,useMasonry9:n}=this.props;t!==e.widthOffset&&(n||this.masonryRef.current&&this.masonryRef.current.handleResize())}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t;return{gutterWidth:n?d.oX:e,paddingBottom:n?16:6}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:u,masonryRef:p,measurementStore:h,scrollContainer:m,serverRender:g,useMasonry9:f,virtualize:_,inScrollOptimizationExperiment:y,isGridCentered:x,minCols:v}=this.props,{gutterWidth:b}=this.getGutters();let w,S=null;return S=f?(0,c.jsx)(a.Z,{columnWidth:e+b,gutterWidth:0,comp:this.renderItem,minCols:v,ref:e=>{this.masonryRef.current=e,p&&(p.current=e)},items:n,flexible:t,loadItems:u,measurementStore:h,scrollContainer:m,virtualize:_}):(0,c.jsx)(l.Rk,{columnWidth:e+b,gutterWidth:0,comp:this.renderItem,minCols:v,ref:e=>{this.masonryRef.current=e,p&&(p.current=e)},items:n,flexible:t,layout:i||"basic",loadItems:u,measurementStore:h,_deferScrollPositionUpdate:!!y,scrollContainer:m,virtualize:_}),x&&(w="gridCentered"),(0,c.jsxs)("div",{className:w,children:[g&&(0,c.jsx)(s.Z,{unsafeCSS:t?(0,r.Z)((e||d.xf)+b,n.length||d.g5,v||d.yc):(0,o.Z)((e||d.xf)+b,n.length||d.g5,v||d.yc)}),(0,c.jsx)("div",{children:S})]})}}u(p,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:d.yc,paddingStyle:"simplified",useMasonry9:!1})},785705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(551687),r=n(255038),s=n(840667),a=n(883119);const l={},d=(e,t)=>{if(null!=e)return l[e]&&l[e].screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth,cache:t?s.Z.createMeasurementStore():a.Rk.createMeasurementStore()}),l[e].cache};var c=n(181307),u=n(666584),p=n(515743),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="undefined"!=typeof window?()=>window:void 0;class f extends i.Component{constructor(...e){super(...e),m(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,h.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:(0,h.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;e||t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:s,layout:a,masonryRef:l,minCols:c,paddingStyle:u,scrollContainer:m,serverRender:f,useMasonry9:_,virtualize:y,widthOffset:x}=this.props;return(0,h.jsx)(p.Z,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:s,layout:a,loadItems:this.loadItems,masonryRef:l,measurementStore:d(e,_),minCols:c,paddingStyle:u,scrollContainer:m||g,serverRender:f,useMasonry9:_,virtualize:y,widthOffset:x})}}function _({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,isAtEnd:s,isFetching:a,isGridCentered:l=!0,isLoaded:d,items:p,pinData:m,layout:_,loadItems:y,masonryRef:x,minCols:v,paddingStyle:b,scrollContainer:w,serverRender:S=!0,useMasonry9:I,virtualize:T,widthOffset:C,includeBackgroundImages:E,includeVideos:P}){const j=(0,u.N5)(),R=(0,c.tc)("scroll_gestalt_defer_pos_update");let k=!1;return null!=j&&j.isAuthenticated&&(k=R().anyEnabled),(0,h.jsx)(r.Z,{isAtEndOfFeed:s,pinData:m,itemCount:p.length,includeBackgroundImages:E,includeVideos:P,children:(0,h.jsx)(f,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,inScrollOptimizationExperiment:k,isFetching:a,isGridCentered:l,items:p,layout:_,loadItems:y,masonryRef:x,minCols:v,paddingStyle:b,scrollContainer:w||g,serverRender:S,useMasonry9:I,virtualize:T,widthOffset:C})})}},840667:(e,t,n)=>{n.d(t,{Z:()=>H});var i=n(667294);class o{constructor(e=[],t=(()=>null)){var n,i,o;o=[],(i="items")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.items=e,this.getItemLayoutInfo=t}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g}const a="resizeanim";class l{constructor(e,t){r(this,"_window",s()),r(this,"_elementsMap",new WeakMap),r(this,"_handleScroll",(e=>{const t=e.target;if(t.className&&"function"==typeof t.className.indexOf&&t.className.indexOf("contract-trigger")<0&&t.className.indexOf("expand-trigger")<0)return;const n=e.currentTarget,i=this._elementsMap.get(n);if(!i)throw new Error("No subscription on element.");this._resetTriggers(n,i.resizeTriggers),i.animationFrameId&&window.cancelAnimationFrame(i.animationFrameId),i.animationFrameId=window.requestAnimationFrame((()=>{(!i.previousDimensions||n.offsetWidth!==i.previousDimensions.width||n.offsetHeight!==i.previousDimensions.height)&&(i.previousDimensions={width:n.offsetWidth,height:n.offsetHeight},i.resizeHandlers.forEach((t=>{t.call(n,e)})))}))})),this._window=e,this._nonce=t}_resetTriggers(e,t){const n=t.firstElementChild,i=t.lastElementChild,o=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}_createStyles(e){if(!e.getElementById("ResizeListener")){const t=`${"@$keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } "}.resize-triggers { ${"animation: 1ms resizeanim; "} visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="ResizeListener",i.type="text/css",null!=this._nonce&&i.setAttribute("nonce",this._nonce),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n.appendChild(i)}}addResizeListener(e,t){if(e)if(e===window)window.addEventListener("resize",t,!1);else{if(!this._elementsMap.has(e)){const t=e.ownerDocument,n=this._window.getComputedStyle(e);n&&"static"===n.position&&(e.style.position="relative"),this._createStyles(t);const i=t.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),this._resetTriggers(e,i),e.addEventListener("scroll",this._handleScroll,!0);const o=t=>{t.animationName===a&&this._resetTriggers(e,i)};i.addEventListener("animationstart",o),this._elementsMap.set(e,{resizeTriggers:i,animationHandler:o,resizeHandlers:[]})}const n=this._elementsMap.get(e);n&&n.resizeHandlers.push(t)}}removeResizeListener(e,t){if(e)if(e===window)window.removeEventListener("resize",t,!1);else{const n=this._elementsMap.get(e);if(!n)return;n.resizeHandlers.splice(n.resizeHandlers.indexOf(t),1),0===n.resizeHandlers.length&&(e.removeEventListener("scroll",this._handleScroll,!0),n.resizeTriggers.removeEventListener("animationstart",n.animationHandler),e.removeChild(n.resizeTriggers),this._elementsMap.delete(e))}}}r(l,"sharedInstance",new l(s()));var d=n(785893);function c({children:e,defaultSize:t,disableWidth:n=!1,disableHeight:o=!1,onResize:r}){const[s,a]=(0,i.useState)({width:0,height:0}),c=(0,i.useRef)(),u=(0,i.useRef)(),p=(0,i.useCallback)((()=>{if(u.current){const e=u.current.offsetHeight||0,t=u.current.offsetWidth||0,i=window.getComputedStyle(u.current)||{},l=parseInt(i.paddingLeft,10)||0,d=parseInt(i.paddingRight,10)||0,c=e-(parseInt(i.paddingTop,10)||0)-(parseInt(i.paddingBottom,10)||0),p=t-l-d;(!o&&s.height!==c||!n&&s.width!==p)&&(a({width:p,height:c}),r({width:p,height:c}))}}),[s,o,n,r,u.current]);(0,i.useEffect)((()=>{var e,t;null!==(e=c.current)&&void 0!==e&&null!==(t=e.parentNode)&&void 0!==t&&t.ownerDocument.defaultView&&c.current.parentNode instanceof c.current.parentNode.ownerDocument.defaultView.HTMLElement&&(u.current=c.current.parentNode,p())}),[]),(0,i.useEffect)((()=>(u.current&&l.sharedInstance.addResizeListener(u.current,p),()=>{u.current&&l.sharedInstance.removeResizeListener(u.current,p)})),[u.current,p]);const h={overflow:"visible",margin:"auto",display:"flex",justifyContent:"center"};return o||(h.height=0),n||(h.width=0),(0,d.jsx)("div",{className:"AutoSizer",ref:c,style:h,children:e})}var u=n(294184),p=n.n(u),h=n(618446),m=n.n(h);class g extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="itemSizeCache",i=new WeakMap,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.componentDidRender()}shouldComponentUpdate(e){const{customSize:t,layout:n}=e,{customSize:i,layout:o}=this.props;if(!m()(i,t))return!0;if(n.items.length!==o.items.length)return!0;if(n.items.some(((e,t)=>e!==o.items[t])))return!0;const r=n.items.map(n.getItemLayoutInfo),s=o.items.map(o.getItemLayoutInfo);return!(!r.some(((e,t)=>e!==s[t]))||!r.some(((e,t)=>!m()(e,s[t]))))}componentDidUpdate(){this.componentDidRender()}componentDidRender(){const{onRenderedItems:e}=this.props;e&&e(this.itemSizeCache),this.itemSizeCache=new WeakMap}getElementHeight(e){return e&&(e.clientHeight||e.scrollHeight)||0}measureItem(e,t){t&&this.itemSizeCache.set(e,{width:t.clientWidth||t.scrollWidth||0,height:this.getElementHeight(t)||this.getElementHeight(t.children&&t.children[0])})}render(){const{renderItem:e,layout:t,customSize:n,itemsToMeasureLimit:i}=this.props,o=[],r=[];t.items.forEach(((n,s)=>{const a=t.getItemLayoutInfo(n);if(!a)return;const l="number"==typeof a.customIndex?a.customIndex:s,c=`item-${l}`;if(!a.size&&o.length<(i||1/0)){const t=e({item:n,index:l,isMeasuring:!0,constraints:a.constraints});o.push((0,d.jsx)("div",{className:"Collection-Item Collection-Item-Measuring",style:{pointerEvents:"none",position:"absolute",visibility:"hidden",top:-9999,left:-9999,...a.constraints},ref:e=>this.measureItem(n,e),children:t},c))}if(a.position){const t=e({item:n,index:l,isMeasuring:!1,constraints:a.constraints});if(!a.position)return;r.push((0,d.jsx)("div",{className:"Collection-Item",style:{position:"absolute",top:0,left:0,transform:`translate(${a.position.left}px, ${a.position.top}px)`,...a.size},children:t},c))}}));const s=n||t.size;return(0,d.jsxs)("div",{style:{position:"relative",...s},className:"Collection",children:[o,r]})}}const f=function({layout:e,overscan:t=200,scrollContainerSize:n,scrollPosition:i,children:r}){const s=i.top-t,a=i.top+n.height+t,l=i.left-t,d=i.left+n.width+t,c=e.items.filter((t=>{const n=e.getItemLayoutInfo(t);if(!n)return!1;const{size:i,position:o}=n;return!i||!o||o.top+i.height>=s&&o.top<=a&&o.left+i.width>=l&&o.left<=d})),u=new o(c,e.getItemLayoutInfo);return u.size=e.size,u.contentFilledSize=e.contentFilledSize,u.isMeasuring=e.isMeasuring,r(u,e.size?e.size:void 0)};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),_(this,"state",{layout:this.props.initialLayout||new o,initialItemCount:0,previousItems:[],previousContentContainerSize:this.props.contentContainerSize}),_(this,"contentContainerRef",(0,i.createRef)()),_(this,"handleItemsRendered",(e=>{this.handleItemsRenderedAnimationFrame||(this.handleItemsRenderedAnimationFrame=requestAnimationFrame((()=>{this.handleItemsRenderedAnimationFrame=null;const{getItemLayoutOptions:t,layoutEngine:n,onLayoutUpdated:i,items:r,contentContainerSize:s}=this.props,{layout:a}=this.state,l=((e,t)=>{const n=new WeakMap;let i=!1;return e.items.forEach((o=>{const r=e.getItemLayoutInfo(o),s=t.get(o);r&&s&&!m()(r.size,s)&&(n.set(o,{...r,size:s}),i=!0)})),i?new o(e.items,(t=>n.get(t)||e.getItemLayoutInfo(t))):e})(a,e);if(a===l)i&&i(a);else{const e=n.buildLayout({containerSize:s,items:r.filter(Boolean),getItemLayoutOptions:t,previousLayout:l});this.setState({layout:e})}})))})),_(this,"renderCollection",((e,t)=>{const{items:n,renderItem:i,layoutEngine:o,scrollContainerSize:r,contentContainerSize:s}=this.props,{initialItemCount:a}=this.state,l="function"==typeof o.itemsToMeasureLimit?o.itemsToMeasureLimit({initialLayout:n.length===a,layout:e,scrollContainerSize:r,contentContainerSize:s}):o.itemsToMeasureLimit||1/0;return(0,d.jsx)(g,{renderItem:i,layout:e,onRenderedItems:this.handleItemsRendered,customSize:t,itemsToMeasureLimit:l})}))}static getDerivedStateFromProps(e,t){const{items:n,getItemLayoutOptions:i,layoutEngine:o,contentContainerSize:r}=e,{previousItems:s,previousContentContainerSize:a,layout:l,initialItemCount:d}=t,c={initialItemCount:d||n.length,previousContentContainerSize:r,previousItems:n};if(!(u=s,p=n,(u===p||u.length===p.length&&u.every(((e,t)=>e===p[t])))&&m()(r,a))){return{layout:o.buildLayout({containerSize:r,items:n.filter(Boolean),getItemLayoutOptions:i,previousLayout:l}),contentContainerSize:r,...c}}var u,p;return c}componentDidMount(){const{onLayoutUpdated:e}=this.props,{layout:t}=this.state;e&&e(t)}componentWillUnmount(){this.handleItemsRenderedAnimationFrame&&cancelAnimationFrame(this.handleItemsRenderedAnimationFrame)}getLayout(){return this.state.layout}render(){const{virtualize:e,virtualOverscan:t,scrollPosition:n,scrollContainerSize:i,contentContainerSize:o}=this.props,{layout:r}=this.state;let s=null;if(e&&i&&n){const e="function"==typeof t?t({layout:r,scrollContainerSize:i,contentContainerSize:o}):t||0;s=(0,d.jsx)(f,{layout:r,scrollContainerSize:i,scrollPosition:n,overscan:e,children:this.renderCollection})}else s=this.renderCollection(r);return(0,d.jsx)("div",{className:"LayoutRenderer",children:s})}}function x(e){null!==e.id&&(window.cancelAnimationFrame(e.id),e.id=null)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_(y,"defaultProps",{virtualOverscan:function({scrollContainerSize:e}){return 2*Math.max(e.width,e.height)}});class b{constructor(){v(this,"_mountedInstances",[]),v(this,"_originalBodyPointerEvents",null),v(this,"_disablePointerEventsTimeoutId",null),v(this,"_enablePointerEventsAfterDelayCallback",(()=>{this._enablePointerEventsIfDisabled(),this._mountedInstances.forEach((({options:e})=>{e.resetIsScrolling&&e.resetIsScrolling()}))})),v(this,"_handleScroll",(e=>{e.currentTarget===window&&null==this._originalBodyPointerEvents&&document.body&&(this._originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),this._enablePointerEventsAfterDelay(),this._mountedInstances.forEach((({scrollElement:t,options:n})=>{t===e.currentTarget&&n.handleScroll()}))}))}_enablePointerEventsIfDisabled(){this._disablePointerEventsTimeoutId&&(this._disablePointerEventsTimeoutId=null,document.body&&null!=this._originalBodyPointerEvents&&(document.body.style.pointerEvents=this._originalBodyPointerEvents),this._originalBodyPointerEvents=null)}_enablePointerEventsAfterDelay(){this._disablePointerEventsTimeoutId&&x(this._disablePointerEventsTimeoutId);let e=0;this._mountedInstances.forEach((({options:t})=>{e=Math.max(e,t.scrollingResetTimeInterval)})),this._disablePointerEventsTimeoutId=function(e,t){let n;Promise.resolve().then((()=>{n=Date.now()}));const i={id:null},o=()=>{Date.now()-n>=t?e.call():i.id=window.requestAnimationFrame(o)};return i.id=window.requestAnimationFrame(o),i}(this._enablePointerEventsAfterDelayCallback,e)}registerScrollListener(e,t){this._mountedInstances.some((({scrollElement:t})=>t===e))||e.addEventListener("scroll",this._handleScroll),this._mountedInstances.push({scrollElement:e,options:t})}unregisterScrollListener(e){this._mountedInstances=this._mountedInstances.filter((({scrollElement:t})=>t!==e)),this._mountedInstances.length||(e.removeEventListener("scroll",this._handleScroll),this._disablePointerEventsTimeoutId&&(x(this._disablePointerEventsTimeoutId),this._enablePointerEventsIfDisabled()))}}v(b,"sharedInstance",new b);var w=n(823493),S=n.n(w);function I(e,t){const n=(0,i.useRef)(!0);(0,i.useEffect)(((...t)=>{if(!n.current)return e(...t);n.current=!1}),t)}const T=e=>"undefined"!=typeof window&&e===window;function C(e,t){if(e){if(T(e)){const{innerHeight:e,innerWidth:t}=window;return{height:"number"==typeof e?e:0,width:"number"==typeof t?t:0}}{const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}}return t}function E(e){return T(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}const P=()=>"undefined"!=typeof window?window:void 0;function j(e,t){return e&&t?function(e,t){if(T(t)&&document.documentElement){const t=document.documentElement,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}{const n=E(t),i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{top:i.top+n.top-o.top,left:i.left+n.left-o.left}}}(e,t):{top:0,left:0}}function R(e,t){const n=E(e);return{left:n.left-t.left,top:n.top-t.top}}const k={Masonry:{overflowAnchor:"none"}};function A({items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:r,initialLayout:s,virtualize:a,virtualOverscan:u,scrollContainer:h,scrollTracker:m}){const[g,f]=(0,i.useState)(),_=(0,i.useCallback)((e=>{e&&e!==g&&f(e)}),[g]),{scrollContainerSize:x,scrollPosition:v}=function({scrollContainer:e=P(),scrollChild:t,scrollingResetTimeInterval:n=150,serverSize:o={width:0,height:0}}){const[r,s]=(0,i.useState)((()=>j(t,e)));I((()=>{const n=j(t,e);s(n)}),[t,e]);const[a,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)((()=>C(e,o))),[p,h]=(0,i.useState)((()=>e?R(e,r):{left:0,top:0}));I((()=>{if(e){const t=R(e,r);h(t)}}),[e,r.top,r.left]),I((()=>{e&&u(C(e,o))}),[e,o.width,o.height]);const m=(0,i.useCallback)((()=>{u(C(e,o)),s(j(t,e))}),[t,e,o]);(0,i.useEffect)((()=>(l.sharedInstance.addResizeListener(e,m),()=>{e&&l.sharedInstance.removeResizeListener(e,m)})),[e,m]);const g=(0,i.useCallback)(S()(((e,t)=>{const n=j(e,t);r.top===n.top&&r.left===n.left||s(n)}),1e3),[j,s,r,1e3]),f=(0,i.useCallback)((()=>{e&&(g(t,e),h(R(e,r)),d(!0))}),[t,e,R,h,d,r,g]),_=(0,i.useCallback)((()=>d(!1)),[]);return(0,i.useEffect)((()=>(e&&b.sharedInstance.registerScrollListener(e,{scrollingResetTimeInterval:n,handleScroll:f,handleScrollEnded:_}),()=>{e&&b.sharedInstance.unregisterScrollListener(e)})),[e,n,f,_]),{scrollContainerSize:c,scrollPosition:p,isScrolling:a}}({scrollContainer:h,scrollChild:g});(0,i.useEffect)((()=>{m&&h&&x&&m.handleContainerResized(x)}),[x.width,x.height]),(0,i.useEffect)((()=>{m&&h&&v&&m.handleContainerScrolled(v)}),[v.top,v.left]);const[w,T]=(0,i.useState)({width:0,height:0});return(0,d.jsx)("div",{className:p()("Masonry",{"Masonry-Premount":!g}),style:k.Masonry,ref:_,children:(0,d.jsx)(c,{disableHeight:!0,onResize:T,children:(0,d.jsx)(y,{items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:e=>{r&&r(e),m&&h&&m.handleLayoutUpdated(e)},initialLayout:s,scrollContainerSize:x,scrollPosition:v,contentContainerSize:w,virtualize:a,virtualOverscan:u})})})}class O{constructor({minCols:e=2,colWidth:t=250,gutter:n=20,flexible:i=false}={}){this.minCols=e,this.colWidth=t,this.gutter=n,this.flexible=i}static getColumnIndex(e){let t=0;for(let n=0;n<e.length;n+=1)e[n]<e[t]&&(t=n);return t}getColumnInfo(e){const{gutter:t,minCols:n}=this;let i=0,o=0;if(this.flexible){if(t)throw new Error("Flexible grid layouts do not support gutters.");e.width&&(o=Math.max(Math.ceil(e.width/this.colWidth),n),i=Math.floor(e.width/o))}else i=this.colWidth,e.width&&(o=Math.max(Math.floor((e.width+t)/(i+t)),n));return{width:i,count:o}}buildLayout(e){throw new Error("Subclasses must implement")}itemsToMeasureLimit({initialLayout:e,contentContainerSize:t}){return e?1/0:this.getColumnInfo(t).count||1/0}}class L extends O{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),s=new Array(r).fill(0),a=new WeakMap;let l=!1;const d={width:0,height:0};t.forEach(((e,t)=>{const o=n?n.getItemLayoutInfo(e):void 0;if(r>0&&null!=o&&o.size){const n=o.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");const r=L.getColumnIndex(s),l=s[r],c=l+(0===l?0:this.gutter),u=r*(i+this.gutter);a.set(e,{...o,size:{...n,width:i},position:{left:u,top:c},customIndex:t}),s[r]=c+n.height,d.width<u+n.width&&(d.width=u+n.width),d.height<c+n.height&&(d.height=c+n.height)}else a.set(e,{constraints:{width:i||void 0}}),l=!0}));const c=new o(t,(e=>a.get(e)));return c.size=d,c.contentFilledSize={width:d.width,height:Math.min(...s)},c.isMeasuring=l,c}}class D extends O{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),s=new WeakMap;let a=0,l=[],d=0,c=0,u=!1;const p={width:0,height:0};let h=0;for(let o=0;o<t.length;o+=1){const e=t[o],p=n?n.getItemLayoutInfo(e):void 0;if(r>0&&p&&p.size){const n=p.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");if(l[d%r]={item:e,itemLayoutInfo:p},n.height>c&&(c=n.height),l.length===r||o===t.length-1){for(let e=0;e<l.length;e+=1){const t=l[e],{size:n,constraints:r}=t.itemLayoutInfo;if(!n||!r)throw new Error("Row entries must already have sizes and constraints.");s.set(t.item,{size:{width:i,height:n.height},position:{left:e*(i+this.gutter),top:a},constraints:r,customIndex:o})}l.length===r&&(h=a+c),a+=c+this.gutter,l=[],c=0}d+=1}else s.set(e,{constraints:{width:i}}),u=!0}const m=new o(t,(e=>s.get(e)));return m.size=p,m.contentFilledSize={width:p.width,height:h},m.isMeasuring=u,m}}var N=n(583704);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=({containerSize:e})=>2*e.height;class B{constructor(e,t=M){Z(this,"isMeasuring",!1),Z(this,"isFetching",!1),Z(this,"fetchMoreIfReady",S()((()=>{if(this.isMeasuring||this.isFetching)return;if(!this.scrollPosition||!this.containerSize||!this.layoutSize)return;const e="function"==typeof this.fetchOverscan?this.fetchOverscan({layoutSize:this.layoutSize,scrollPosition:this.scrollPosition,containerSize:this.containerSize}):this.fetchOverscan;this.layoutSize.height-this.scrollPosition.top-this.containerSize.height>=e||(this.isFetching=!0,this.fetchMore())}),100)),this.fetchMore=e,this.fetchOverscan=t}handleLayoutUpdated(e){(!this.items||this.items&&this.items.length!==e.items.length)&&(this.isFetching=!1),this.layoutSize=e.size,this.isMeasuring=!!e.isMeasuring,this.items=e.items,this.fetchMoreIfReady()}handleContainerResized(e){this.containerSize=e,this.fetchMoreIfReady()}handleContainerScrolled(e){this.scrollPosition=e,this.fetchMoreIfReady()}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=({scrollContainerSize:e})=>.7*e.height;class H extends i.Component{static getDerivedStateFromProps({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o}){return{layoutEngine:H.layoutOptionsToLayoutEngine({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})}}constructor(e){super(e),F(this,"fetchMore",(()=>new Promise((e=>{const{items:t,loadItems:n}=this.props;"function"==typeof n?setTimeout((()=>{n({from:t.length}),e(!0)})):e(!1)})))),F(this,"handleLayoutUpdated",(e=>{const{measurementStore:t}=this.state;t.layout=e})),F(this,"renderItem",(({item:e,index:t,isMeasuring:n,constraints:i})=>{const{comp:o}=this.props;return(0,d.jsx)(o,{data:e,itemIdx:t,isMeasuring:n,constraints:i})}));const{minCols:t,columnWidth:n,gutterWidth:i,flexible:r,layout:s,measurementStore:a,items:l,loadItems:c,fetchBoundsOffset:u}=e,p=a||H.createMeasurementStore(),h=H.layoutOptionsToLayoutEngine({layout:s,minCols:t,columnWidth:n,gutterWidth:i,flexible:r});p.layout=new o(l,p.layout.getItemLayoutInfo);const m="function"==typeof c?new B(this.fetchMore,(({containerSize:e})=>Math.max(0,2*e.height+u))):void 0;this.state={nonce:0,scrollTracker:m,layoutEngine:h,measurementStore:p}}updatePosition(){}reflow(){const{measurementStore:e}=this.state;e.layout=new o,this.setState((({nonce:e})=>({nonce:e+1})))}render(){const{getItemLayoutOptions:e,items:t,scrollContainer:n,virtualize:i}=this.props,{layoutEngine:o,measurementStore:r,nonce:s,scrollTracker:a}=this.state;return(0,d.jsx)(A,{items:t,renderItem:this.renderItem,getItemLayoutOptions:e,layoutEngine:o,scrollContainer:(l=n,l?"function"==typeof l?l():l:"undefined"!=typeof window?window:null),scrollTracker:a,onLayoutUpdated:this.handleLayoutUpdated,initialLayout:r.layout,virtualize:i,virtualOverscan:U},`Masonry-${s}`);var l}}F(H,"createMeasurementStore",(()=>({layout:new o}))),F(H,"defaultProps",{columnWidth:236,fetchBoundsOffset:0,layout:"default",minCols:3,virtualize:!1}),F(H,"layoutOptionsToLayoutEngine",(0,N.HP)((({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})=>new("uniformRow"===e?D:L)({minCols:t,colWidth:n,gutter:i,flexible:o}))))},281810:(e,t,n)=>{function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:o*e}px) and (max-width: ${(o+1)*e-1}px) {\n  .gridCentered {\n    width: ${o*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},87398:(e,t,n)=>{function i(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:(o-1)*e}px) and (max-width: ${o*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},591365:(e,t,n)=>{n.d(t,{Cj:()=>s,ln:()=>a,CN:()=>l});var i=n(895507),o=n(702925),r=n(549135);function s(e){(0,r.j)(101,{component:10039,element:e})}function a(e,t){return()=>{s(e),t&&t()}}function l({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:r,baseUrl:s,adsUrl:a,isQuickPromote:l,isShoppingCatalogs:d}){if(t&&!e&&!l)return"/";let c=s;return(t||n||r)&&!d?(a||(a=s),e?(c=i.Z.url_format(a,e.id),t||(c=o.Z.settings.ADS_SITE_URL+c)):c=t?a:o.Z.settings.ADS_SITE_URL+c):d?c=o.Z.settings.ADS_SITE_URL+i.Z.url_format(s,e?e.id:""):a||(c=o.Z.settings.ADS_SITE_URL+s),c}},864793:(e,t,n)=>{n.d(t,{rh:()=>p,ZP:()=>h,_E:()=>m,G7:()=>g,l6:()=>f});var i=n(631739),o=n(750980),r=n(517458),s=n(754999),a=n(946753),l=n(998035),d=n(883119),c=n(785893);const u=()=>["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function p(e,t){var n,s,a;if(!t.isAuth)return!1;const d=(0,l.Nc)(e)||(0,l.o)(e),c=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.Z.BoardPrivacy.PUBLIC,p=(null===(s=e.board)||void 0===s?void 0:s.privacy)===i.Z.BoardPrivacy.PROTECTED,h=(u()&&p||c)&&!e.is_repin&&(null===(a=e.pinner)||void 0===a?void 0:a.id)===t.id,{isStoryPin:m}=(0,r.Z)(e);return d&&(!p||u())||t.isPartner&&h||["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("web_ps4p"))&&m&&h}function h(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function m(e,t,n,i){const{isStoryPin:o,isVideo:s}=(0,r.Z)(e),u=(0,l.Nc)(e),p=(0,l.o)(e)&&(o||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),m=(new Date).getTime()-h.getTime(),g=Math.floor(m/36e5),f=p?p["24h_realtime"].is_realtime:null,_=p?p["24h_realtime"].timestamp:null;let y=null;p&&(y=o||s?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const x=y!==_,v=e=>(0,a.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),b={timeframe:"",lastUpdated:""};if(p)if(f){const e=p["24h_realtime"].impression>=(o||s?p.all_time_realtime.impression:p["30d_realtime"].impression);b.timeframe=e?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):o||s?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(x||g>48)if(o||s){const e=i(p.all_time_realtime.timestamp);b.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),b.lastUpdated=v(e)}else{const e=i(p["30d_realtime"].timestamp);b.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=v(e)}else{const e=i(p["24h_realtime"].timestamp);b.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),b.lastUpdated=v(e)}else b.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,c.jsxs)(d.xu,{alignItems:o||"lg"!==t?"center":void 0,display:o||"lg"!==t?"flex":void 0,children:[(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:b.lastUpdated}),(o||["md","sm"].includes(t))&&!!p&&(0,c.jsx)(d.xv,{color:"gray",inline:!0,size:"sm",children:" "}),(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:b.timeframe})]})}function g(e,t){return(0,s.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function f(e,t){return(0,s.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},777158:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function o(e){return e<160?"header-only":"none"}function r(e){const[t,n]=(0,i.useState)(e.current?o(e.current.clientHeight||0):"none");return function(e,t){const n=(0,i.useRef)();(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))})),n.current}(e,(({height:e})=>{const i=o(e);i!==t&&n(i)})),t}},250777:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(549135),r=n(626173);function s(e,t){const{componentType:n,contextLogData:s,viewParameter:a,viewType:l}=(0,r.E)();return(0,i.useCallback)((()=>{(0,o.j)(e,{component:n,view:l,viewParameter:a,...s,...t||{}})}),[t,n,s,e,a,l])}},335529:(e,t,n)=>{n.d(t,{X:()=>o,Z:()=>r});var i=n(667294);const o=120;function r(e,t=0,n=o){const[r,s]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)((()=>{if(!e){const e=setTimeout((()=>s("inactive")),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>s("active")),t);return()=>{clearTimeout(e)}}s("active")}),[e]),r}},818270:(e,t,n)=>{n.d(t,{B:()=>o,$:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("SurfaceContext",{surface:"Unknown"})},626173:(e,t,n)=>{n.d(t,{B:()=>o,E:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("trackingParametersContext")},752187:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(268648),o=n(560133),r=n(45815),s=n(233088),a=n(883119),l=n(549135),d=n(181307),c=n(626173),u=n(785893);function p({sizing:e="default",children:t,collageChipId:n,componentType:p,contextLogData:h,elementType:m,pin:g,viewParameter:f,viewType:_}){const y=(0,c.E)(),{group:x}=(0,d.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:v,id:b}=g;let w,S=`/pin/${n||b}/`;if(v){const{carousel_slots:e=[],id:t,index:n=0}=v;S=`/pin/${b}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}w={...w||{},...(0,o.Kl)(g,h)||{}};const I=(0,i.Z)({href:S,externalData:{auxData:w,pin:g}});return(0,u.jsx)(a.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if((0,l.j)(101,{...h,component:p||y.componentType,element:m,objectId:b,view:_||y.viewType,viewParameter:f||y.viewParameter,...(0,o.Kl)(g,h)||{}}),(0,l.j)(8948,{closeup_navigation_type:"click",view:_||y.viewType,viewParameter:f||y.viewParameter,component:p||y.componentType,element:m,objectId:b,...h,...(0,o.Kl)(g,h)||{}}),x){const e=Number(s.y7.getItem(r.J)||0);s.y7.setItem(r.J,e+1)}})(),I({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:S,role:"link",children:t})}},505812:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(752187),o=n(883119),r=n(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function a({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:a}=n||{},l=a&&a.length>=3?a.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:l.map((n=>{var a,l,d,c;const u=(null===(a=n.images)||void 0===a?void 0:a["750x"])||{},p=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,src:null!==(c=u.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,r.jsx)(i.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)}))})}},546352:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,additionalStyles:t={}}){return(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},452963:(e,t,n)=>{n.d(t,{F:()=>a,Z:()=>l});var i=n(185062),o=n(883119),r=n(785893);const s={impressed:{backgroundColor:"#adebad"}},a=()=>void 0!==(0,i.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"white",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},514560:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(881220),r=n(174523),s=n(883119),a=n(785893);function l(e){const t=(0,r.ZP)(),{onHide:n}=e,i=(0,a.jsx)(s.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,a.jsx)(o.Z,{onHide:n,text:i})}var d=n(311866),c=n(34411),u=n(475446);const p=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const p=(0,r.ZP)(),[h,m]=(0,i.useState)(0),g=(0,c.Z)(),{showOneToast:f}=(0,u.F9)();if(!g.isEmployee)return null;const _=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:y,icon_url:x,signal_id:v,signal_message:b}=o[h];return(0,a.jsx)(s.mh,{children:(0,a.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,a.jsxs)(s.xu,{padding:4,width:"100%",children:[o.length>1&&(0,a.jsx)(s.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,a.jsx)(s.mQ,{activeTabIndex:h,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),m(e)})({activeTabIndex:t,event:e})},tabs:_})}),(0,a.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,a.jsx)(s.X6,{size:"sm",children:p._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,a.jsx)(s.xu,{paddingY:3,children:(0,a.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,a.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:x?(0,a.jsx)(s.Ee,{alt:p._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:x}):(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:40,width:40})}),(0,a.jsx)(s.xv,{size:"md",children:b})]})}),(0,a.jsx)(s.xu,{marginBottom:3,children:(0,a.jsx)(s.xv,{size:"md",children:p._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,a.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,a.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:p._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:v,user:g.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),t(),f((({onHide:e})=>(0,a.jsx)(l,{onHide:e})))}}),(0,a.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:p._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})};var h=n(975151),m=n(907669),g=n(551687),f=n(689859);function _({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[l,d]=(0,i.useState)(!1),c=(0,i.useRef)();return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(g.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,a.jsx)(f.Z,{children:(0,a.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,a.jsx)(m.Z,{children:(0,a.jsx)(h.Z,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,a.jsx)(s.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,a.jsxs)(s.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,a.jsx)(s.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,a.jsx)(s.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,a.jsx)(s.xv,{color:"white",size:"md",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,a.jsx)(p,{anchor:c.current,onDismiss:()=>d(!1),pinId:t,signals:e})]})}function y({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:s}=e;return n?(0,a.jsx)(_,{pinId:t,signals:n}):i?(0,a.jsx)(_,{pinId:t,signals:i}):o?(0,a.jsx)(_,{pinId:t,signals:o}):r?(0,a.jsx)(_,{pinId:t,signals:r}):s?(0,a.jsx)(_,{pinId:t,signals:s}):null}},907669:(e,t,n)=>{n.d(t,{Z:()=>r,N:()=>s});var i=n(883119),o=n(785893);function r({children:e,fullWidth:t}){return(0,o.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function s({children:e,enabled:t}){return t?(0,o.jsx)(r,{children:e}):e}},7713:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(335529),r=n(785893);function s(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function a({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.X,visibility:a}){return"none"!==a&&e?(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:s(t,n)[a]},children:e}):null}},818026:(e,t,n)=>{n.d(t,{ZP:()=>f});var i=n(667294),o=n(546352),r=n(174523),s=n(365217),a=n(451875),l=n(549135),d=n(883119),c=n(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:a.Oc,filter:"blur(10px)",opacity:1}},p={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},h={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],g=["pfy","pfyBoard"];function f({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:f=!1}){var _;const y=(0,r.ZP)(),[x,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>v(!0)),[]);const S=()=>w(!0),{feedbackText:I,images:T,showFeedbackOverlay:C,undoAction:E,undoText:P}=n,j=T&&(null===(_=T["236x"])||void 0===_?void 0:_.url),{image:R,subTitle:k,title:A,unfollow:O}=null!=I?I:{},L=!m.includes(e),D=g.includes(e),N=()=>{(0,l.j)(101,{view:1,viewParameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[j&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...x?u.blurred:{},backgroundImage:`url("${j}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...p.base,...p.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...h.base,...!C&&x?h.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!f&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"white",size:"sm",children:A})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[R&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:R.width,height:R.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:k||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:R.url||""})})}),(0,c.jsx)(d.xv,{color:"white",overflow:"normal",children:k})]}),t?(0,c.jsxs)(i.Fragment,{children:[E&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:E,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:y._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!E&&!b&&O&&!D&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(O.action,O.actionOptions,S),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),L&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:N,text:y._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{children:L&&(0,c.jsx)(d.rU,{href:"/edit",onClick:N,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:y._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!E&&!b&&O&&!D&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(O.action,O.actionOptions,S),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),E&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:E,text:P||y._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},665035:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(40142),r=n(101161),s=n(519922),a=n(83742),l=n(537343),d=n(174523),c=n(250777),u=n(529110),p=n(698602),h=n(784655),m=n(626173),g=n(883119),f=n(785893);function _({feedbackData:e,feedbackType:t,pin:n,pinTitle:_,setForcePrimary:y,transparentBackground:x}){const v=(0,d.ZP)(),b=(0,o.useDispatch)(),{viewParameter:w,viewType:S}=(0,m.E)(),[I,T]=(0,i.useState)(!1),[C,E]=(0,i.useState)(),{ad_match_reason:P,show_ad_reasons:j,board:R,category:k,description:A,id:O="",images:L,is_promoted:D,pinner:N,promoter:Z,recommendation_reason:M,source_interest:B,videos:F}=n;var U;const H=(U=D?60:50,function(e){return(0,l.ZP)((e||"").trim(),U)})(null!=A?A:""),z=(0,s.Z)(L,"236x"),G=(0,h.iR)(F),V=(0,c.Z)(101,{component:0,element:981,feedback_type:t,objectId:O}),W=()=>{j||(y(!1),b((0,p.i0)(O)),T(!1))},q=(0,r.Z)({pin:n,viewParameter:w,viewType:S});return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.xu,{"data-test-id":"feedback-button",ref:E,children:(0,f.jsx)(g.hU,{accessibilityLabel:v._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:x?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{I?W():(y(!0),T(!0)),V()},size:"sm"})}),I&&(0,f.jsx)(g.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(a.Z,{anchor:C,ad_match_reason:P,bestPinImgSrc:(0,u.P0)(n),board:R,feedbackData:e,feedbackType:t,hideDownload:G,onLinkClick:()=>{I&&W()},onDismiss:W,onHide:W,onDownloadHideFlyout:()=>{y(!1),T(!1)},pinCategory:k,pinDescription:H,pinId:O,pinImgSrc:z,pinner:N,pinTitle:_,promoter:Z,recommendationReason:M,reportPin:q,sourceInterest:B,viewParameter:w,viewType:S})})]})}},83742:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),o=n(40142),r=n(549156),s=n(883119),a=n(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:o}){return(0,a.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(r.Z,{id:"ad-reason-icon",children:(0,a.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,a.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(s.xv,{children:o})}),i&&n&&(0,a.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(s.JO,{accessibilityLabel:n,color:"darkGray",icon:"arrow-forward"})})]})}var d=n(451190),c=n(702925),u=n(174523),p=n(946753),h=n(549135);const{ACCOUNT_SETTINGS:m,CANONICAL_MAIN_URL:g,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:_}=c.Z.settings;function y({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:y,isGeoPostalCodeMatched:x,isGeoRegionMatched:v,isShoppingTargetingRematched:b}){const w=(0,u.ZP)();return(0,a.jsx)(d.Z,{accessibilityModalLabel:w._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,a.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,a.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",left:!0,children:(0,a.jsx)(s.hU,{accessibilityLabel:w._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,a.jsx)(s.X6,{align:"center",size:"md",children:w._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,a.jsxs)(s.xu,{children:[(0,a.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,a.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{href:_,inline:!0,onClick:()=>{(0,h.j)(101,{component:13756,element:12057})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,a.jsx)(r.Z,{id:"ad-reasons",children:(0,a.jsxs)(s.kC,{direction:"column",flex:"none",gap:4,children:[x||v?(0,a.jsx)(s.iP,{role:"link",href:`${g}${m}`,onTap:()=>{(0,h.j)(101,{component:13756,element:12059})},target:"blank",children:(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:w._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(w._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,o&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(w._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),c&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:w._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),b&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(w._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),y&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(w._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),(0,a.jsx)(s.xu,{marginBottom:1,children:(0,a.jsx)(s.xv,{children:w._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,a.jsxs)(s.kC,{direction:"column",gap:1,children:[(0,a.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,a.jsx)(s.iz,{})}),(0,a.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,a.jsx)(s.X6,{size:"sm",children:w._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{inline:!0,href:f,onClick:()=>{(0,h.j)(101,{component:13756,element:12058})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var x=n(535718),v=n(34411),b=n(585967);function w({pinId:e,onDismiss:t}){var n,r,s,l;const{locale:d}=(0,b.B)(),{country:c=""}=(0,v.Z)(),u=(0,x.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),p=(0,x.Z)({name:"LocalesResource"}),m=(0,o.useSelector)((({pins:t})=>t[e]));(0,i.useEffect)((()=>{(0,h.j)(120,{component:13756})}),[]);const{ad_targeting_attribution:g,promoter:f}=null!=m?m:{},{is_age_matched:_=!1,is_behavior_targeting_matched:w=!1,is_customer_list_matched:S=!1,is_geo_postal_code_matched:I=!1,is_geo_region_matched:T=!1,is_shopping_retargeting_matched:C=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,n)=>({...t,[n]:e[n]})),{})}(g))&&void 0!==n?n:{},E=null!==(r=null==f?void 0:f.full_name)&&void 0!==r?r:"",P=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(s=u.data)&&void 0!==s?s:[],c),j=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(l=p.data)&&void 0!==l?l:[],d);return(0,a.jsx)(y,{brandName:E,country:P,language:j,isAgeMatched:_,isBehaviorTargetingMatched:w,isCustomerListMatched:S,isGeoPostalCodeMatched:I,isGeoRegionMatched:T,isShoppingTargetingRematched:C,onDismiss:t})}var S=n(595657),I=n(418448),T=n(539484),C=n(374284),E=n(538958),P=n(860179),j=n(266750),R=n(778423),k=n(454217),A=n(698602),O=n(365217),L=n(708206),D=n(855168);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z={color:"white",textDecorationColor:"white"};class M extends i.Component{constructor(e){super(e),N(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:s}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:s})})),N(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=i&&i.board&&i.board.url||e.url),o?(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,a.jsx)(s.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,a.jsx)(s.zd,{height:40,wash:!0,width:40,children:(0,a.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),N(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})})),N(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),N(this,"feedbackHelpers",(0,k.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:p.nk})),N(this,"makeNavigateLink",((e,t,n,i)=>{const o={display:"inline",...i?Z:{}};return(0,a.jsx)(s.rU,{onClick:this.props.onLinkClick,role:"link",href:t,inline:!0,children:(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:o},children:n})},e)})),N(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),N(this,"hidePinOption",(e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:s,actionOptions:a}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&R.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&(0,k.yl)(o),throughProperties:o&&(0,k.XZ)(o),clientTrackingParams:(0,S.Z)(i)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:s,actionOptions:a,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),N(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},s=r&&R.ReasonToChoose[r],a=i&&(0,k.yl)(i),l=i&&(0,k.XZ)(i),d="pfyBoard"===t,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:s,pinFeedbackType:d?2:4,throughId:a,throughProperties:l,clientTrackingParams:(0,S.Z)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,p.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,p.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),N(this,"unfollowBoardOption",(()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=(0,p.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}})),N(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,o=`/topics/${i}`,r=this.makeNavigateLink("topicUrl",o,n,!0),s=(0,p.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),a=(0,p.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:j.X},feedbackText:{title:"",subTitle:a},text:s,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),N(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o=`/${n}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,p.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),N(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),N(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),s=(o||"topic"===t)&&!r,a=this.hidePinOption(s),l=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[a,...s||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,p=[a,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:p};case"topic":const h=this.unfollowTopicOption(),m=[a,...s&&h?[h]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};case"pfy":case"pfyBoard":const g=[a,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:g};default:const f=[a,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}})),N(this,"pinHiddenFeedbackText",(e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,O.t)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:s,showPinFeedback:a,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u}=this.props;t&&n&&i?d(s,e,(0,k.EF)(n,i,s,u,c,o,h.j),this.getUndoText(i)):a(s,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),l(s))}makeStrongText(e,t){return(0,a.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;(0,h.j)(101,{...t,view:o,viewParameter:i,element:e,component:(0,k.nb)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:l}=r,d=[],c=l.length;for(let u=0;u<c;u+=1){const r=l[u],c=O.P.includes(r.action),p=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,c,r.actionOptions,r.action);if("downloadPin"!==r.action){const e=(0,T.Z)({url:r.link||""});let t="";Array.isArray(r.text)?t=r.text.join(""):"string"!=typeof r.text&&"number"!=typeof r.text||(t=r.text.toString()),d.push(r.link?(0,a.jsx)(s.Lt.Link,{href:r.link,isExternal:e,option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}):(0,a.jsx)(s.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,p),option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}))}else if(!e&&"undefined"!=typeof window&&"windows"!==(0,E.ZP)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:l,pinCategory:c}=this.props;d.push((0,a.jsx)(s.Lt.Item,{onSelect:()=>{(0,I.Z)({category:c,filename:r||l,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i})},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:n,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:h,viewParameter:m,viewType:g}=this.props,{description:f}=e,_=this.getRecommendationDescriptionImage();return(0,a.jsxs)(i.Fragment,{children:[t?(0,a.jsx)(C.Z,{anchor:n,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:p,viewParameter:m,viewType:g}):(0,a.jsx)(s.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:P.lI,headerContent:f&&(0,a.jsxs)(s.kC,{alignItems:"center",children:[(0,a.jsx)(s.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,a.jsx)(s.xv,{color:"darkGray",overflow:"normal",size:"md",children:f})}),_]}),children:this.renderButtons()}),h&&(0,a.jsx)(w,{onDismiss:()=>d(c),pinId:c})]})}}const B=(0,L.compose)((0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,A.I1)(t)),showPinFeedback:(t,n)=>e((0,A.ZP)(t,n)),showPinFeedbackOverlay:t=>e((0,A.Ib)(t)),showPinFeedbackUndo:(t,n,i,o)=>e((0,A.NA)(t,n,i,o)),showAdReasonsModal:t=>e((0,A.b9)(t)),hideAdReasonsModal:t=>e((0,A.yj)(t))}))),D.EN)((function(e){const t=(0,u.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:i=!1}=(0,o.useSelector)((({pins:t})=>t[e.pinId]));return(0,a.jsx)(M,{...e,showAdReasons:i,adTargetingAttribution:n,i18n:t})}))},374284:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(174523),o=n(365217),r=n(883119),s=n(860179),a=n(946753),l=n(778423),d=n(549135),c=n(454217),u=n(785893);function p({anchor:e,feedbackData:t,feedbackType:n,pinId:p,onDismiss:h,onHide:m,recommendationReason:g,viewParameter:f,viewType:_}){const y=(0,i.ZP)(),x=(0,c.ZP)({i18n:y,interpolateNamedTemplate:a.nk}),v=(e,i)=>{const r=g&&g.reason&&l.ReasonToChoose[g.reason],s=g&&(0,c.yl)(g),a=g&&(0,c.XZ)(g),{action:u,actionOptions:h}=x.getHidePinAction({feedbackData:t,feedbackType:n,pinId:p,recommendationReasonId:r,throughId:s,throughProperties:a,complaintReason:e});(e=>{(0,d.j)(101,{view:_,viewParameter:f,element:e,component:(0,c.nb)(n)})})(i),(0,o.t)(u,h),m()},b="promoted"===n?[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:y._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:h,zIndex:s.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:y._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:b.map((({text:e,reason:t,elementType:n})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>v(t,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},773788:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(294184),r=n.n(o),s=n(539484),a=n(204478),l=n(174523),d=n(883119),c=n(785893);class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:l,url:u}=this.props;if(o&&t)return null;const p="boardless"===l?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let h,m;if(!n||e||o){const e=o?(0,c.jsx)(d.xv,{color:"white",size:"lg",weight:"bold",children:p.length<=20?p:(0,a.Z)(p,20)}):(0,c.jsx)(d.X6,{color:"white",size:"sm",lineClamp:1,children:p}),t=(0,s.Z)({url:u})?"nofollow":"none";h=u?(0,c.jsx)(d.rU,{rel:t,href:u,children:e}):e}else h=(0,c.jsx)(d.xv,{color:"white",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(m=e?"board":"saved"),(0,c.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",m):r()("SavedAnimation",m),children:h})}}const p=function(e){const t=(0,l.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},488023:(e,t,n)=>{n.d(t,{Y:()=>a,Z:()=>u});var i=n(174523),o=n(549135),r=n(883119),s=n(785893);const a=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view:4,viewParameter:3106},d={view:5,viewParameter:3069},c={component:13668,view:4,viewParameter:3106};function u({pinId:e,surface:t}){const n=(0,i.ZP)(),u=()=>{const e=a.includes(t)?c:"BaseBoardPinGrid"===t?d:"UserProfilePinGrid"===t?l:{};(0,o.j)(101,{element:10573,...e})},p=n._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,s.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:a.includes(t)?(0,s.jsx)(r.zx,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(h=p,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,s.jsx)(r.hU,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var h}},577302:(e,t,n)=>{function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:()=>i})},398791:(e,t,n)=>{n.d(t,{Z:()=>J});var i=n(667294),o=n(40142),r=n(963232),s=n(517458),a=n(515528);function l({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:o,rich_summary:r,title:l}=t,{isOwnPin:d,isPromoted:c}=(0,s.Z)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(c){if(a.ZF.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return l||t||o||""}return o||""}var d=n(784655);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n(746857),p=n(864793);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m({attributionOption:e,board:t,contentType:n,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:a,isOwnBoard:d,pin:c,showImageOnly:m,showNativeReactions:g,showPromotedShoppingPrice:f,surface:_,viewer:y,isORBACProfileManager:x,inMsgPinCardUpdateExp:v=!1}){var b;const{isPromoted:w,isSponsored:S}=(0,s.Z)(c),{promoter:I,pin_note:T}=c,C=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:s=!1}){const{is_downstream_promotion:a,native_creator:l,promoter:d,sponsorship:c}=i;if("promoted"===t||d&&!a||c)return"default";if((!s||"ConversationView"!==r)&&h.includes(r))return"none";if(n)return"none";let u="default";return e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?u:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":u}({attributionOption:e,feedbackType:o,isGroupBoard:a,pin:c,showImageOnly:m,surface:_,inMsgPinCardUpdateExp:v}),E=m?"":l({isGroupBoard:a,pin:c,surface:_}),P=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(_)&&!w&&!m&&Boolean((0,u.Z)(c,_)),j="ShoppingList"===_,R="BaseBoardPinGrid"===_&&T?null===(b=T.text)||void 0===b?void 0:b.trim():null,k=w,A="shopping"===n,O=/ShoppingSquareGridRelatedProducts/.test(_);let L=2;w?L=3:(P||"none"!==C)&&(L=A||O?2:1);let D,N,Z,M;if(A||(w&&O||f)){var B,F;const e=null===(B=c.rich_summary)||void 0===B||null===(F=B.products)||void 0===F?void 0:F[0],{offer_summary:t}=e||{};D=t?t.standard_price:void 0,N=t?t.price||t.max_price:void 0}if(A&&!w){var U,H,z;const{rating_count:e,rating_value:t,review_count:n}=(null===(U=c.rich_summary)||void 0===U?void 0:U.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(Z={count:e||n,rating:t}),M=null===(H=c.rich_metadata)||void 0===H||null===(z=H.products)||void 0===z?void 0:z[0].shipping_info}const G=(0,p.rh)(c,y),V="CreatorProfileStoryPinGrid"!==_&&"CreatorProfileActivityPinGrid"!==_,W=a&&!S;return{attributionType:C,board:t,contentType:n,feedbackData:i,feedbackType:o,isDarkPromoter:!w&&!!I,pinNoteText:R,pinTitle:E,productCurrentPrice:N,productOriginalPrice:D,productRating:Z,productShipping:M,showCarouselEllipsis:r,showFavoriteButton:!x&&("BaseBoardPinGrid"===_&&d||Boolean(null==t?void 0:t.should_show_board_activity)),showGroupBoardAvatar:W,showNativeReactions:g,showOverflowMenu:k,showPinStats:G,showSource:P,showTextContent:V,showVisitSiteButton:j,titleLines:L}}var g=n(631739),f=n(30494),_=n(233088),y=n(702403),x=n(344886);const v=["ShoppingCatalogsProductsMetadata"];var b=n(577302),w=n(551687),S=n(586840);const I={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var T=n(789875),C=n(601750),E=n(300970),P=n(215484),j=n(609304),R=n(593482);var k=n(689859),A=n(174523),O=n(767523),L=n(383722),D=n(34411),N=(n(883119),n(488023)),Z=n(438280),M=n(159276),B=n(818270),F=n(626173),U=n(345513),H=n(452963),z=n(181307),G=n(382745),V=n(855168),W=n(785893);const q=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(19509),n.e(92982)]).then(n.bind(n,969810)))),$=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Y=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],K=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"],X=["BaseBoardPinGrid","UserProfilePinGrid",...N.Y];const J=(0,o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,s=r.board&&r.board.id,a=(s?t[`${s}`]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:a,isSocialSeasonalBoard:e,reduxPin:r}}),(()=>({})))((function({blockClickEvents:e,attributionOption:t,board:n,debugImpressionState:u,feedbackOptions:h,imageOnlyOption:N="default",isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,reduxPin:te,resolution:ne="default",saveButtonOptions:ie,shouldShowFooter:oe=!0,surface:re,trackingParameters:se,...ae}){var le;const de=(0,A.ZP)(),{collaborated_by_me:ce,collaborator_count:ue,is_collaborative:pe}=n||{},{pinner:he,showFeedback:me,sponsorship:ge}=te,fe=(0,j.Z)(te),_e=(0,D.Z)(),ye=(0,O.Z)(),xe=(0,V.TH)(),{slotIndex:ve,viewParameter:be}=se,{anyEnabled:we}=(0,z.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(re)),Se=(0,o.useSelector)((({ui:e})=>e.views)),Ie=(0,o.useSelector)((({ui:e})=>e)),Te=Ie.app?Ie.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},Ce=(0,d.i8)(te.id,Te),Ee=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Pe=(0,P.Z)(te),je=(0,C.Z)(te),Re=_e.isAuth&&_e.isEmployee,ke=_e.isAuth&&((0,E.Z)(null,_e)||(0,R.Z)(null,_e))&&!_e.isPartner;let Ae=ke;"TodayArticleFeed"===re&&(Ae=!1),"default"!==N&&(Ae="image-only"===N),function(e){return a.zI.includes(e)}(re)&&(Ae=!1),"ShoppingSquareGridDomainNoMetadata"===re&&(Ae=!0);let Oe=t;ke&&!Oe&&(Oe="image-only");const Le=(0,T.Z)({feedbackOptions:h,pin:te,viewParameter:be},de),{data:De}=h||{},Ne="number"==typeof ue&&ue>0||pe,Ze=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=I[t];return!!n&&"dense"===e[n]}(Se,re),Me=Boolean(Ne&&"BaseBoardPinGrid"===re),Be=(0,L.Z)(),Fe=(0,o.useSelector)((({users:e})=>{var t,n,i,o;return e&&e[null!==(t=null===(n=Be.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?e[null!==(i=null===(o=Be.data)||void 0===o?void 0:o.id)&&void 0!==i?i:""]:Be.data})),Ue=(0,b.Z)(_e,n);let He=!1;if(!!(0,V.LX)(xe.pathname,{path:"/:username/_created/",exact:!0}))He=(0,M.q6)(_e,null==Fe?void 0:Fe.id,ye);else if((0,G.am)(xe)||(0,G.OJ)(xe)){const e=n&&n.owner&&n.owner.id||"";He=(0,M.q6)(_e,e,ye)}const ze=Boolean(_e.isAuth&&he&&he.id===_e.id),Ge=Boolean(ce||Ne&&Ue),Ve=_e.isAuth&&_e.isPartner,We=te.is_quick_promotable&&!["ShoppingSquareGridHomefeedBoth","ShoppingListGrid"].includes(re),qe=(0,i.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:p}){const h=u.isAuth?u.boardCount:void 0;let m=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);return s?m={type:"promote"}:(p||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&"BoardlessPins"!==c&&(m={type:"classic"}),i&&(m={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||v.includes(c)||r)&&(m={type:"none"}),{board:e,derivedSaveButtonOptions:m,showLikeButton:p&&n&&a.UP.includes(c),supportsReactionBar:!t}}({board:n,isInlineBetterSave:we,isDenseView:Ze,isGroupBoard:Me,isOwnBoard:Ue,isOwnPin:ze,isORBACProfileManager:He,isQuickPromotable:We,isRemovable:fe,saveButtonOptions:ie,surface:re,viewer:_e,viewerIsCollaborator:Ge})),[n,we,Ze,Me,Ue,ze,He,We,fe,ie,re,_e,Ge]),{isPromoted:$e}=(0,s.Z)(te),{anyEnabled:Ye}=(0,z.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let Ke;["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed","ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(re)&&!$e&&(Ke="white");const Xe=(0,i.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:a.Wv.includes(n),shoppingLabelColor:t}}({allowProductCarousel:Pe,shoppingLabelColor:Ke,surface:re})),[Pe,Ke,re]),Je=je,Qe=(0,i.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:a,isORBACProfileManager:u,pin:p,surface:h,viewer:m}){var g;const{isOwnPin:f,isPromoted:_}=(0,s.Z)(p),y=l({isGroupBoard:o,pin:p,surface:h}),x=e&&(0,r.Z)({action:4,board:e,viewer:m})||f,v=p.savedInfo&&p.savedInfo.localPinId,b=Boolean(a&&!o||"UserProfilePinGrid"===h&&x||v),w=o&&x||b||u&&!(0,d.hy)(p),S=Boolean((null==e?void 0:e.is_collaborative)||b),I=!(_||a||o||c.includes(h)||u),T="CloseupRelatedProducts"!==h&&!u,{tracked_link:C,link:E}=p,P=!(null===(g=null!=C?C:E)||void 0===g||!g);let j=o&&i?"equally-spaced":"default",R="default";return i&&(R=o?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(R="icon-only",j="equally-spaced"),{actionBarEditBeforeShare:S,feedbackData:t,feedbackType:n,layout:j,pinTitle:y,showEditButton:w,showOverflowMenu:I,showShareButton:T,showSourceLinkButton:P,sourceLinkStyle:R}}({board:n,feedbackData:De,feedbackType:Le,isDenseView:Ze,isGroupBoard:Me,isOwnBoard:Ue,isORBACProfileManager:He,pin:te,surface:re,viewer:_e})),[n,De,Le,Ze,Me,Ue,He,te,re,_e]),et=!He&&(0,p.rh)(te,_e)&&X.includes(re),tt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(re),nt=!$e&&tt?"shopping":"standard",it=(0,Z.J6)(te),ot=(0,z.tc)("web_ag_msg_pin_card_update"),rt="ConversationView"===re&&ot({dangerouslySkipActivation:!0}).anyEnabled,st=(0,i.useMemo)((()=>m({attributionOption:Oe,board:n,contentType:nt,feedbackData:De,feedbackType:Le,hasCarouselData:je,isGroupBoard:Me,isOwnBoard:Ue,isORBACProfileManager:He,pin:te,showImageOnly:Ae,showNativeReactions:it,showPromotedShoppingPrice:Ye&&$e&&tt,surface:re,viewer:_e,inMsgPinCardUpdateExp:rt})),[Oe,n,nt,De,Le,je,Me,Ue,He,$e,tt,te,Ye,Ae,it,re,_e,rt]),at=Boolean(st.pinTitle)||st.contentType||st.userNote||st.showSource||"none"!==st.attributionType||st.showNativeReactions||st.productCurrentPrice||st.productOriginalPrice||st.showPinStats;let lt=oe&&(at||Me);"BaseBoardPinGrid"===re&&Ue&&Ve||ge?lt=!0:$.includes(re)||Ze&&(Ue||ce)||J?lt=!1:ze||"CreatorProfileStoryPinGrid"!==re&&"CreatorProfileActivityPinGrid"!==re||(lt=!1);const dt=Boolean(me),ct=(0,z.tc)("web_others_board_feed_ads_border"),ut={showNoPinBorderRadius:"TopicBestPinNarrow"===re||"TopicBestPinWide"===re||rt&&"ConversationView"===re,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===re&&$e&&ct().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:pt}=(0,z.aq)("hfp_homefeed_control_cta_variants"),ht={feedbackType:Le,isHomefeedTunerVariantExp:pt},{anyEnabled:mt}=(0,z.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),gt=(0,i.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:s,showPromotedVideos:a,surface:l}){let d="backend";"CloseupRelatedProducts"===l?d={height:x.GZ,width:x.OE}:"TopicBestPinWide"===l?d={height:y.m9,width:y.BS}:"TopicBestPinNarrow"===l?d={height:y._5,width:y.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l)?d={height:x.zX,width:x.zX}:o&&(d=o);const c=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l);let u="none",p=null!=s?s:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingSquareGridCrop"===l&&n||"ShoppingDynamicHeightGrid"===l&&!r||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",p="high-res"));const h=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",m=(0,f.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===_.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:p,rootMargin:m,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:a}}({hasCarouselData:je,isDenseView:Ze,isPromoted:$e,isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,resolution:ne,showPromotedVideos:mt,surface:re})),[je,Ze,$e,J,Q,ee,ne,mt,re]),ft=Re&&(0,H.F)(),_t=(0,i.useMemo)((()=>({debugImpressionState:u,slotIndex:ve})),[u,ve]);return(0,W.jsx)(w.Z,{name:"PinRepConfiguration",children:(0,W.jsx)(F.B,{value:se,children:(0,W.jsxs)(B.B,{value:{surface:re},children:[(0,W.jsx)(U.Z,{actionBarProps:Qe,blockClickEvents:e,currentlyPlayingVideo:Ce,footerProps:st,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(re)||"BoardMoreIdeasTabContent"===re,impressionsDebuggerProps:_t,obscuredPinOverlayProps:ht,pin:te,pinVisualProps:gt,presentationProps:ut,primaryContentProps:qe,secondaryContentProps:Xe,showAccessoryContent:Je,showActionBar:!K.includes(re),showFooter:lt,showImpressionsDebugger:ft,showObscuredPinOverlay:dt,showPrimaryAndSecondaryContent:!Y.includes(re),showSeeStatsButton:et,showSignalDebugger:Re,surface:re,...(0,S.Z)(ae,["pinId"])}),Ee.shouldOpenModal&&Ee.newPin&&(null===(le=Ee.originalPin)||void 0===le?void 0:le.id)===te.id&&(0,W.jsx)(w.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,W.jsx)(k.Z,{children:(0,W.jsx)(q,{experience:Ee.experience,newPin:Ee.newPin})})})]})})})}))},345513:(e,t,n)=>{n.d(t,{J:()=>Vt,Z:()=>Wt});var i=n(667294),o=n(907669),r=n(551687),s=n(517458),a=n(689859),l=n(174523),d=n(585967),c=n(626173),u=n(100001),p=n(439887),h=n(542756);function m(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&(0,h.Z)(o).hostname||""}(n,t)),o.replace("www.","")}var g=n(268648),f=n(250777),_=n(560133),y=n(855168),x=n(883119),v=n(785893);const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function w({pin:e,sourceLinkStyle:t,surface:n,url:o}){const r=(0,l.ZP)(),[s,a]=(0,i.useState)(!1),{id:d}=e,h=m(e),w=(0,y.TH)(),S=(0,_.Kl)(e)||{},{slotIndex:I}=(0,c.E)(),T=(0,p.Z)(e,w),C=(0,f.Z)(12,{grid_index:I,objectId:d,clientTrackingParams:T,...(0,_.Kl)(e)||{}}),E=(0,f.Z)(101,{element:162,objectId:d,clientTrackingParams:T,...(0,_.Kl)(e)||{}}),P=(0,f.Z)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:I,objectId:d,clientTrackingParams:T,...(0,_.Kl)(e)||{}}),j=()=>{C(),E(),P()},R=(0,g.Z)({href:o,target:"blank",externalData:{auxData:S,pin:e,surface:n}});return"icon-only"===t?(0,v.jsx)(x.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),R({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{...b.container,...s?b.containerHovered:Object.freeze({}),..."truncated-text"===t?b.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),position:"relative",children:(0,v.jsx)(u.Z,{hovered:s,pin:e,slotIndex:I,viewType:1,children:(0,v.jsx)(x.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),R({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,v.jsxs)(x.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between",children:[(0,v.jsx)(x.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,v.jsx)(x.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,v.jsx)(x.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,v.jsx)(x.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:h})})]})})})})}const S=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(48035)]).then(n.bind(n,395553)))),I=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,665035)))),T=(0,i.lazy)((()=>n.e(5035).then(n.bind(n,806841))));const C=(0,i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:u,onToggleFlyout:p,pin:h,pinTitle:m,setForcePrimary:g,showEditButton:f,showOverflowMenu:_,showShareButton:y,showSourceLinkButton:b,sourceLinkStyle:C,surface:E}){var P;const j=(0,l.ZP)(),R=(0,x.JZ)(),{isRTL:k}=(0,d.B)(),{viewParameter:A,viewType:O}=(0,c.E)(),{carousel_data:L,id:D,savedInfo:N,tracked_link:Z,link:M}=h,B=null!==(P=null!=Z?Z:M)&&void 0!==P?P:"",{isLeadPin:F}=(0,s.Z)(h),[U,H]=(0,i.useState)(f),[z,G]=(0,i.useState)(f),[V,W]=(0,i.useState)(f),q={...k?{marginLeft:f&&_?-44:0}:{marginRight:f&&_?-44:0},transition:k?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},$={opacity:V?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},Y={...k?{marginRight:z?4:0}:{marginLeft:z?4:0},transition:k?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,i.useEffect)((()=>{let e;return f&&_?(G(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{H(!0),requestAnimationFrame((()=>{W(!0)}))}))}),800)):(G(f),H(f),requestAnimationFrame((()=>{W(f)}))),()=>{clearTimeout(e)}}),[f,_]);let K=null;b&&(K=(0,v.jsx)(o.Z,{children:F?(0,v.jsx)(x.zx,{role:"button",accessibilityLabel:j._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:j._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,v.jsx)(w,{pin:h,sourceLinkStyle:C,surface:E,url:B})}));const X=y&&(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"send-share-link",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(T,{pin:h,setForcePrimary:g})})})})}),J=Boolean(null==N?void 0:N.localPinId)?null==N?void 0:N.localPinId:D,Q=U&&(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:R?void 0:{__style:$},children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(S,{carouselSlotCurrentIndex:L&&L.index,component:0,onToggleModal:p,pinId:J,style:{size:"sm"},view:O,viewParameter:A,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,v.jsxs)(x.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:K}),e?Q:X,e?X:Q]}):(0,v.jsxs)(x.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,v.jsx)(x.xu,{flex:"shrink",children:K}),(0,v.jsx)(x.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:R?void 0:{__style:q},children:(0,v.jsxs)(x.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?Q:X,e?X:Q,_&&(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:R?void 0:{__style:Y},children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(I,{feedbackData:t,feedbackType:n,pin:h,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var E=n(40142),P=n(224982),j=n(589444),R=n(549135);function k({direction:e,swipeHandler:t}){const n=(0,l.ZP)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,v.jsx)(x.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,v.jsx)(x.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,v.jsx)(x.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,v.jsx)(x.JO,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const A=(0,E.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e((0,P.Z)(t,n))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=(0,c.E)(),s=(0,j.Z)({pin:e});if(!s)return null;const{id:a=""}=e,{carousel_slots:l=[],index:d=0,id:u}=s;function p(o){return()=>{const s="left"===o?d-1:d+1;t(a,s),((t=0,o)=>{(0,R.j)(108,{objectId:a,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...(0,_.Kl)(e)||{}})})(d,s)}}return(0,v.jsxs)(x.xu,{height:"100%",position:"relative",width:"100%",children:[d>0&&(0,v.jsx)(o.Z,{children:(0,v.jsx)(k,{direction:"left",swipeHandler:p("left")})}),d<l.length-1&&(0,v.jsx)(o.Z,{children:(0,v.jsx)(k,{direction:"right",swipeHandler:p("right")})})]})}));var O=n(514560),L=n(151101);function D({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o,size:r=32,outline:s=!1}){const a=(0,v.jsx)(x.xu,{"data-test-id":"attribution-avatar",height:r,width:r,children:(0,v.jsx)(L.Z,{name:n,src:e,accessibilityLabel:o,outline:s})});return t?(0,v.jsx)(x.iP,{role:"link",href:t,onTap:i,children:a}):a}var N=n(181307);function Z({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:o}){const{anyEnabled:r}=(0,N.aq)("web_disable_ads_blocker",!t);return(0,v.jsx)(x.xu,{children:(0,v.jsx)(x.xv,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:t?(0,v.jsx)(x.rU,{onClick:i,href:t,children:n}):r?(0,v.jsx)("span",{children:n}):n})})}function M({isHover:e,link:t,onClick:n,title:i,weight:o}){return i?(0,v.jsx)(x.xv,{inline:!0,underline:e,size:"md",weight:o,children:t?(0,v.jsx)(x.rU,{onClick:n,href:t,children:i}):i}):null}var B=n(352483),F=n(234070),U=n(550242);const H=(0,E.connect)(null,(function(e){return{setMostRecentPin:t=>{e((0,U.K)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,display:o="default",isDarkPromoter:r,isPromotedByPinCreator:a,pin:l,name:d,setMostRecentPin:u,url:p,verifiedIdentity:h,isVerifiedMerchant:m}){const{viewParameter:g,viewType:_}=(0,c.E)(),[y,b]=(0,i.useState)(!1),{id:w,pinner:S,sponsorship:I,story_pin_data_id:T}=l,{isPromoted:C}=(0,s.Z)(l),E=S||l.promoter,{creator:P}=I||{},{id:j}=P||{},R=!!T,k=(0,f.Z)(101,{view:3,element:C?283:27,objectId:w,component:R?230:void 0,...j?{creator_id:j,pin_id:w}:{}}),A=()=>{u(w),k()},O=()=>{b((e=>!e))},L=p&&!e,N="overlay"===o,U=(0,v.jsxs)(x.xu,{alignItems:"center",display:N?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,v.jsx)(x.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:N?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:N?{__style:{marginTop:-45}}:void 0,children:(0,v.jsx)(B.Z,{avatarSize:N?64:32,isDarkPromoter:r,pinId:w,user:E,username:E&&E.username,viewParameter:g,viewType:_,children:(0,v.jsx)(D,{attributionNameLink:e,avatarUrl:n,name:d,onClick:()=>A(),accessibilityLabel:"",size:N?64:32,outline:N})})})}),(0,v.jsxs)(x.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:N?"flex":void 0,justifyContent:"center",marginTop:N?2:void 0,children:[(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,v.jsxs)(x.kC,{gap:1,children:[(0,v.jsx)(Z,{attributionNameLink:e,name:d,onClick:()=>A(),regularWeight:!(C&&!I||a),isHover:y}),(0,v.jsx)(F.Z,{size:"sm",hasVerifiedIdentity:h,isVerifiedMerchant:m})]})}),(0,v.jsx)(M,{isHover:y,title:t,weight:"normal"})]})]});return L?(0,v.jsx)(x.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),A()},href:p,onMouseEnter:O,onMouseLeave:O,children:U}):U}));var z=n(479996),G=n(577302),V=n(390764),W=n(628402),q=n(411221),$=n(34411),Y=n(801500),K=n(816670),X=n(613330),J=n(648381);function Q({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=(0,E.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:a,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=(0,J.s)(),h=(0,i.useRef)(null),m=(0,$.Z)(),g=(0,G.Z)(m,e),f=a===K.Ac&&(!t||1===t),_=(0,Y.E)(l,K.Ac),y=e=>{(0,R.j)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(x.xu,{ref:h,children:(0,v.jsx)(W.Z,{favorited:n,favoriteCount:t,onFavorite:()=>{y(!0),_&&d(),p&&p(!0)},onUnfavorite:()=>{y(!1),e&&f&&r((0,q.Z)({feedId:u||e.id,feedType:u?X.DV.SECTION_PINS:X.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!n&&!u&&0===s&&(0,v.jsx)(x.mh,{children:(0,v.jsx)(V.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ee=n(468966),te=n.n(ee),ne=n(529084),ie=n.n(ne),oe=n(893870),re=n.n(oe),se=n(756169),ae=n(664507),le=n.n(ae),de=n(369765),ce=n.n(de),ue=n(438280);const pe={goodIdea:te(),love:re(),thanks:le(),wow:ce(),haha:ie()},he={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},me=["CreatorProfileStoryPinGrid"];const ge=function({alignment:e="start",pinId:t,pinner:n,reactionCounts:i,surface:o}){const r=(0,$.Z)(),s=i?(0,ue.At)(i):null,a=i?(0,ue.Ud)(i):0,l=Boolean(r.isAuth&&(null==n?void 0:n.id)===r.id),d=!!s&&s.length>0&&s.map(((e,t)=>{const n=pe[he[e]];return(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,v.jsx)(x.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),c=!!d&&(0,v.jsx)(x.iP,{role:"link",href:`/pin/${t}/`,children:(0,v.jsxs)(x.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,v.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,v.jsx)(x.xu,{paddingX:1,children:(0,v.jsx)(x.xv,{size:"md",children:(0,v.jsx)(se.Z,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&me.includes(o)&&(0,v.jsx)(x.xu,{height:24});return c||u};var fe=n(752187),_e=n(660310);function ye({feedbackType:e,pin:t}){const n=(0,l.ZP)(),{pinner:i,source_interest:o}=t,{full_name:r,username:s}=i||{},{name:a}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${s}/`,p=(0,_e.NO)(a),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,m=d?h:u,g={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(c||d){const e=0===g.indexOf("{"),t=d?a:r,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,v.jsxs)(x.xu,{children:[(0,v.jsx)(x.rU,{inline:!0,href:m,children:(0,v.jsx)(x.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})}),(0,v.jsx)(x.xv,{inline:!0,size:"md",children:n})]}):(0,v.jsxs)(x.xu,{children:[(0,v.jsx)(x.xv,{inline:!0,size:"md",children:n}),(0,v.jsx)(x.rU,{inline:!0,href:m,children:(0,v.jsx)(x.xv,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})})]})}return(0,v.jsx)(x.xu,{children:(0,v.jsx)(fe.Z,{pin:t,children:(0,v.jsx)(x.xv,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var xe=n(665035),ve=n(708206),be=n(958795),we=n(215828);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ie extends i.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"spamCheckExperimentGroup",null),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:n,url:i}=this.props;i&&t&&(0,we.$3)({location:e,pin:t,surface:n})&&(0,we.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})})),Se(this,"handleClick",(e=>{const{auxData:t,location:n,onClick:i,pin:o,pinId:r,url:s}=this.props;(0,we.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),i&&i(e),s&&(0,be.h)({href:s,pinId:r,pin:o,location:n,auxData:t}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:t}=this.props;return(0,v.jsx)("a",{href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Te=(0,ve.compose)((0,E.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),(()=>({}))),y.EN)(Ie);var Ce=n(730762);function Ee(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Pe=n(549156);function je({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:s}){const a=(0,c.E)(),{ad_destination_url:l,carousel_data:d,id:u,link:p,tracked_link:h}=i;let m,g=l||h||p||"",f="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(g=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},f+="-carousel"}return(0,v.jsx)(x.xu,{"data-test-id":"otpp",children:(0,v.jsx)(Pe.Z,{id:f,children:(0,v.jsx)(Te,{auxData:m,onClick:()=>{const e=Ce.Z.getInstance(),i=e.getViewFromContext();(0,R.j)(12,{...n,view:s||a.viewType,viewParameter:r||a.viewParameter,component:t||a.componentType,objectId:u,grid_index:a.slotIndex,pin_id:u,prefetch_percentage_complete:Ee(p||"")}),(0,R.j)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:s||a.viewType,viewParameter:r||a.viewParameter,...n,component:t||a.componentType,objectId:u,grid_index:a.slotIndex,pin_id:u,prefetch_percentage_complete:Ee(p||"")}),(0,R.j)(13,{closeup_navigation_type:"web_closeup",objectId:u,component:t||a.componentType,view:3,...a.contextLogData,...n}),e.addViewToContext(i)},pinId:u,surface:o,url:g,children:e})})})}var Re=n(586840);function ke(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r,isLeadPin:a}=(0,s.Z)(t),l=(0,N.tc)("web_no_tap_tap"),d=!a&&(i||o&&r&&l().anyEnabled)?je:fe.Z;return(0,v.jsx)(d,{surface:i?n:void 0,...(0,Re.Z)(e,["surface"])})}function Ae({pin:e,pinNoteText:t}){return(0,v.jsx)(ke,{pin:e,children:(0,v.jsx)(x.xv,{lineClamp:1,overflow:"normal",size:"md",children:t})})}var Oe=n(864793),Le=n(965035);function De({value:e,valueFormat:t}){const n=(0,l.ZP)();return e||0===e?"TIME"===t?(0,Le.Z)(e):(0,v.jsx)(se.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,v.jsx)(x.u,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:""})}function Ne({pin:e}){const t=(0,l.ZP)(),{isStoryPin:n,isVideo:i}=(0,s.Z)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=(0,s.Z)(e);return!n||!o&&i?i:n}(e),r=(0,Oe.ZP)(i,n,t),a=i||n?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return(0,v.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",children:r.map((({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:r})=>(0,v.jsxs)(x.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,v.jsx)(x.xu,{display:"inlineBlock",marginEnd:1,children:(0,v.jsx)(x.JO,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),(0,v.jsx)(x.xv,{inline:!0,size:"md",children:(0,v.jsx)(De,{value:null==a?void 0:a[n],valueFormat:r})})]},n)))})}function Ze({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return(0,v.jsx)(ke,{pin:n,surface:i,children:(0,v.jsxs)(x.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,v.jsx)(x.xv,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,v.jsx)(x.xv,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Me=n(537343),Be=n(746857);function Fe({pin:e,surface:t}){return(0,v.jsx)(ke,{pin:e,surface:t,children:(0,v.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",children:(0,v.jsx)(x.xv,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,Be.Z)(e,t)})})})}var Ue=n(11200);function He({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return(0,v.jsx)(x.xv,{color:"darkGray",lineClamp:e,size:"md",weight:"bold",children:(0,v.jsx)(ke,{pin:t,surface:i,children:n})})}var ze=n(335529);const Ge={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${ze.X}ms ease`},visible:{opacity:1}}};function Ve({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:r,hasTitleOrSource:a,hoverTransitionState:d,isDarkPromoter:c,pin:u,pinNoteText:p,pinTitle:h,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:_,showCarouselEllipsis:y,showFavoriteButton:b,showGroupBoardAvatar:w,showNativeReactions:S,showOverflowMenu:I,showPinStats:T,showSource:C,showTextContent:P,surface:j,titleLines:R}){var k,A,O,L;const Z=(0,l.ZP)(),B=(0,E.useDispatch)(),{favorited_by_me:F,favorite_user_count:U,id:G,pinner:V,reaction_counts:W,sponsorship:q,story_pin_data:$}=u,{has_affiliate_products:Y}=$||{},K=function(e,t,n){var i,o,r,a;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:p}=e,{sponsor:h}=u||{},{isPromoted:m}=(0,s.Z)(e),{official_user:g}=d||{},f=m&&!!u&&(null==p?void 0:p.id)!==(null==c?void 0:c.id),_=e.pinner||{};let y="",x="",v="",b="",w="",S="",I=!1,T=!1;var C,E,P,j,R,k;if(f)y=null!==(C=null!==(E=null==p?void 0:p.image_medium_url)&&void 0!==E?E:null==p?void 0:p.image_small_url)&&void 0!==C?C:"",x=`/${null!==(P=null==p?void 0:p.username)&&void 0!==P?P:""}/`,v=null==c?void 0:c.full_name,b=null==p?void 0:p.full_name,S=`/${null!==(j=null==p?void 0:p.username)&&void 0!==j?j:""}/`,w=`/${null!==(R=null==c?void 0:c.username)&&void 0!==R?R:""}/`,I=null==p||null===(k=p.verified_identity)||void 0===k?void 0:k.verified,T=null==p?void 0:p.is_verified_merchant;else if(m&&c)y=c.image_medium_url||c.image_small_url,v=c.full_name,b=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),S=`/${c.username}/`;else if(u&&null!=h&&h.username){var A,O,L,D,N,Z;y=null!==(A=null!==(O=null!==(L=null==p?void 0:p.image_large_url)&&void 0!==L?L:null==p?void 0:p.image_medium_url)&&void 0!==O?O:null==p?void 0:p.image_small_url)&&void 0!==A?A:"",x=`/${null!==(D=null==p?void 0:p.username)&&void 0!==D?D:""}/`,v=h.full_name,b=null==p?void 0:p.full_name,S=`/${null!==(N=null==p?void 0:p.username)&&void 0!==N?N:""}/`,w=`/${h.username}/`,I=null==p||null===(Z=p.verified_identity)||void 0===Z?void 0:Z.verified,T=null==p?void 0:p.is_verified_merchant}else if(p){var M,B,F,U,H;y=null!==(M=null!==(B=null!==(F=p.image_large_url)&&void 0!==F?F:p.image_medium_url)&&void 0!==B?B:p.image_small_url)&&void 0!==M?M:"",b=p.full_name,S=`/${null!==(U=p.username)&&void 0!==U?U:""}/`,I=null===(H=p.verified_identity)||void 0===H?void 0:H.verified,T=p.is_verified_merchant}else if("show-for-claimed-content"===t){var z,G,V,W;null!=g&&g.is_primary_website_verified&&g.username&&(y=null!==(z=null!==(G=null!==(V=g.image_large_url)&&void 0!==V?V:g.image_medium_url)&&void 0!==G?G:g.image_small_url)&&void 0!==z?z:"",b=g.full_name,S=`/${g.username}/`,I=null===(W=g.verified_identity)||void 0===W?void 0:W.verified,T=g.is_verified_merchant)}else{var q,$,Y,K;y=null!==(q=null!==($=null!==(Y=_.image_large_url)&&void 0!==Y?Y:_.image_medium_url)&&void 0!==$?$:_.image_small_url)&&void 0!==q?q:"",x=`/${_.username}/`,b=_.full_name,S=l?l.url:"",I=null===(K=_.verified_identity)||void 0===K?void 0:K.verified,T=_.is_verified_merchant}return{avatarUrl:null!==(i=y)&&void 0!==i?i:"",attributionNameLink:x,attributionTitle:null!==(o=v)&&void 0!==o?o:"",name:null!==(r=b)&&void 0!==r?r:"",sponsorUrl:w,url:null!==(a=S)&&void 0!==a?a:"",verifiedIdentity:!!I,isVerifiedMerchant:!!T}}(u,e,Z),{avatarUrl:X,attributionNameLink:J,attributionTitle:ee,name:te,sponsorUrl:ne,url:ie,verifiedIdentity:oe,isVerifiedMerchant:re}=K,se=!!u.promoter&&!u.is_downstream_promotion,ae=se&&(null===(k=u.native_creator)||void 0===k?void 0:k.id)===(null===(A=u.promoter)||void 0===A?void 0:A.id),le=(0,f.Z)(101,{view:3,element:27,pin_id:G,objectId:G,component:u.story_pin_data_id?230:void 0,...null!=q&&null!==(O=q.creator)&&void 0!==O&&O.id&&null!==(L=q.sponsor)&&void 0!==L&&L.id?{creator_id:q.creator.id,sponsor_id:q.sponsor.id}:{}}),de=e=>B(de(e)),ce=(0,N.tc)("web_search_ideapin_module"),ue=!!u.story_pin_data_id&&"SearchItem"===j&&ce().anyEnabled,pe=(0,N.tc)("web_ag_msg_pin_card_update"),he="ConversationView"===j&&pe({dangerouslySkipActivation:!0}).anyEnabled,me=!ae&&q?(0,v.jsx)(M,{link:ne||ie,onClick:()=>(de(G),void le()),title:(0,Me.ZP)(ee,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,fe="ConversationView"===j&&he?{padding:"8px"}:Ge.container;return(0,v.jsxs)(x.xu,{dangerouslySetInlineStyle:{__style:fe},children:[y&&(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:a||w||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,v.jsx)(z.default,{pinId:G})}),T&&(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,v.jsx)(Ne,{pin:u})}),(0,v.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",children:(0,v.jsxs)(x.xu,{flex:"grow",children:[(!!q||Y&&!se)&&!ae&&(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(x.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(Ue.Z,{hasAffiliateProducts:Y,isPromoted:se,sponsorName:me,sponsorshipStatus:null==q?void 0:q.status})})}),(P&&r||b)&&(0,v.jsxs)(x.xu,{marginBottom:1,children:[(g||m)&&(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(Ze,{currentPrice:m,originalPrice:g,pin:u,surface:j})}),b?(0,v.jsxs)(x.kC,{alignItems:"start",children:[(0,v.jsx)(x.kC,{flex:"grow",children:(0,v.jsx)(He,{numberOfLines:R,pin:u,pinTitle:h,surface:j})}),(0,v.jsx)(x.xu,{marginStart:3,children:(0,v.jsx)(Q,{board:t,favorited:!!F,favoriteCount:null!=t&&t.should_show_board_activity?null!=U?U:0:void 0,pinId:G})})]}):!ue&&(0,v.jsx)(He,{numberOfLines:R,pin:u,pinTitle:h,surface:j}),C&&(0,v.jsx)(x.xu,{marginBottom:2,children:(0,v.jsx)(Fe,{pin:u,surface:j})})]}),(0,v.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(x.xu,{flex:"grow",children:(()=>{const t=(0,v.jsx)(H,{attributionNameLink:J,attributionTitle:se&&!q||ae?ee:"",avatarUrl:X,isDarkPromoter:!!c,isPromotedByPinCreator:!!ae,verifiedIdentity:ue&&oe,isVerifiedMerchant:ue&&re,name:te,pin:u,url:ie,display:ue?"overlay":"default"});if(ue)return t;switch(e){case"none":return null;case"image-only-credit":return(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:Ge.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,v.jsx)(ye,{pin:u,feedbackType:o})});default:return Object.values(K).some((e=>Boolean(e)))?t:null}})()}),I&&(0,v.jsx)(x.xu,{flex:"none",children:(0,v.jsx)(xe.default,{feedbackData:n,feedbackType:o,pin:u,pinTitle:h,setForcePrimary:_,transparentBackground:!0})})]}),S&&!!W&&(0,v.jsx)(x.xu,{marginTop:"ConversationView"===j&&he?2:void 0,children:(0,v.jsx)(ge,{pinId:G,pinner:V,reactionCounts:W,surface:j,alignment:ue?"center":void 0})}),p&&(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(Ae,{pin:u,pinNoteText:p})}),w&&!b&&(0,v.jsx)(x.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!b&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(D,{attributionNameLink:J,avatarUrl:X,name:te}),(0,v.jsx)(x.xu,{marginStart:2,flex:"grow",children:(0,v.jsx)(x.xv,{size:"md",children:te})})]})})]})})]})}var We=n(539484),qe=n(278646);const $e=(0,i.lazy)((()=>n.e(33168).then(n.bind(n,950057)))),Ye=(0,i.lazy)((()=>n.e(69221).then(n.bind(n,379575))));function Ke({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:s,productOriginalPrice:d,productRating:c,productShipping:u,showSource:p,showVisitSiteButton:h,surface:m,titleLines:g}){var f;const y=(0,l.ZP)(),b=(0,N.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:w,group:S}=b({dangerouslySkipActivation:!0}),I=null===(f=n.rich_summary)||void 0===f?void 0:f.url;"shopping"!==e||S.includes("pwt")||b();const T=(0,We.Z)({url:I})?"nofollow":"none";return(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:Ge.productContainer},height:"100%",children:(0,v.jsx)(x.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(x.xu,{children:[(d||s)&&(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(Ze,{currentPrice:s,originalPrice:d,pin:n,surface:m})}),(0,_.qN)(n)&&(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)($e,{})})})}),(0,_.SP)(n)&&(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(Ye,{})})})}),(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(He,{numberOfLines:g,pin:n,pinTitle:o,surface:m})}),p&&(0,v.jsx)(Fe,{pin:n,surface:m}),"shopping"===e&&w&&(c||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,v.jsx)(qe.L,{count:null==c?void 0:c.count,countFormat:"number",ratingValue:null==c?void 0:c.rating,shippingInfo:u})]}),h&&I?(0,v.jsx)(x.xu,{marginTop:2,children:(0,v.jsx)(x.zx,{role:"link",fullWidth:!0,href:I,rel:T,onClick:()=>{(0,R.j)(12,{view:1,viewParameter:3563})},target:"blank",text:y._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const Xe=(0,i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:r,feedbackType:s,hoverTransitionState:a,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,productRating:m,productShipping:g,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:b,showNativeReactions:w,showOverflowMenu:S,showPinStats:I,showSource:T,showTextContent:C,showVisitSiteButton:E,surface:P,titleLines:j}){const R=u||T,k="shopping"===i?(0,v.jsx)(Ke,{contentType:i,hasTextContent:!!R,pin:d,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,productRating:m,productShipping:g,showSource:T,showVisitSiteButton:E,surface:P,titleLines:j}):(0,v.jsx)(Ve,{attributionType:e,board:n,feedbackData:r,feedbackType:s,hasTextContent:!!R,hasTitleOrSource:!!R,hoverTransitionState:a,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:b,showNativeReactions:w,showOverflowMenu:S,showPinStats:I,showSource:T,showTextContent:C,surface:P,titleLines:j});return t?(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:k}):(0,v.jsx)(x.kC,{flex:"grow",children:(0,v.jsx)(o.Z,{fullWidth:!0,children:k})})}));var Je=n(773788),Qe=n(269307);const et=(0,i.lazy)((()=>n.e(34979).then(n.bind(n,479818)))),tt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(43473)]).then(n.bind(n,845680)))),nt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(51555),n.e(22347)]).then(n.bind(n,912836)))),it=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(51555),n.e(22538)]).then(n.bind(n,23945)))),ot=(0,i.lazy)((()=>n.e(1593).then(n.bind(n,34399))));function rt({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:s,onToggleModal:l,pin:d}){const{id:u,savedInfo:p}=d,h=(0,i.useRef)(!!p),m=(0,E.useSelector)((({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:g}=(0,Qe.tY)(n);void 0!==g&&["classic","controlled","inline"].includes(e.type)&&(e=g);const{viewParameter:_,viewType:y}=(0,c.E)(),b=(0,f.Z)(101,{element:0,objectId:u});let w=null;const S={onToggleModal:s,view:y,viewParameter:_,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(m||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;w=(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(it,{experience:m||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:_})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;w=(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(tt,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!p&&(0,v.jsx)(o.Z,{children:(0,v.jsx)(Je.Z,{isNewlySaved:!h.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:_})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;w=(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"better-save",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(nt,{initialSelection:n,onSave:i,onToggleFlyout:s,onToggleModal:l,pin:t,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,v.jsx)(o.Z,{children:(0,v.jsx)(Je.Z,{isNewlySaved:!h.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:_,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?w=(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"persistent-one-click-save",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(et,{...S,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(w=(0,v.jsx)(x.kC,{alignItems:"stretch",justifyContent:"end",children:(0,v.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,v.jsx)(a.Z,{children:(0,v.jsx)(x.xu,{"data-test-id":"pin-promote-button",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(ot,{pin:d})})})})})}));return(0,v.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,v.jsx)(x.xu,{display:"flex",margin:3,children:w&&(0,v.jsx)(x.xu,{marginStart:"auto",flex:"grow",children:w})})})}var st=n(299485),at=n(505812),lt=n(329485),dt=n(771400),ct=n(273202);const ut={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function pt({isSelected:e}){const t=(0,l.ZP)();return(0,v.jsx)(x.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?ut:{},children:(0,v.jsx)(x.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,v.jsx)(x.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,v.jsx)(x.JO,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var ht=n(639387),mt=n(925854),gt=n(80078),ft=n(580849),_t=n(711874),yt=n(852474),xt=n(731164);const vt={},bt=e=>{xt.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,h.Z)(e);return new Promise(((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(xt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(xt.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(vt[e]&&(vt[e].loaded=!0),xt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(xt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},vt[e]||(o.send(),vt[e]={added:!0,xhr:o},xt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},wt={},St=(e,t)=>{const n="string"==typeof e?e:e.url;if(t&&n){const e="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",e)}return n};function It(e,t){return(St("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Tt(e){const{id:t}=e;t&&wt[t]&&wt[t].length>0&&wt[t].forEach((e=>{(e=>{vt[e]&&vt[e].xhr&&!vt[e].loaded&&(xt.Z.increment("web_prefetch_abort_xhr",1),vt[e].xhr.abort(),vt[e].aborted=!0)})(e)}))}function Ct({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:a=!1,onError:l,onLoad:d,pin:p,pinImageCrop:h,resolution:m="default",rootMargin:g,selectionState:f,showCarousel:_,showPromotedVideos:y,surface:b}){const{contextLogData:w,slotIndex:S,viewParameter:I,viewType:T}=(0,c.E)(),{group:C}=(0,N.aq)("web_prefetch_video_in_feed"),{id:E="",aggregated_pin_data:P,image_signature:j,story_pin_data:R}=p,{pin_tags_chips:k}=P||{},{isOneTap:A,isVideo:O,isPromoted:L,isGif:D}=(0,s.Z)(p),{cropHeight:Z,cropWidth:M}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let B=null;if(e||!O||!y&&L)if(_)B=(0,v.jsx)(x.xu,{"data-test-id":"pinrep-carousel",children:(0,v.jsx)(lt.Z,{cropHeight:Z,cropWidth:M,onError:l,onLoad:d,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:E,showCarouselBadge:!1,pin:p})});else{const e="backend"===h?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0}px`}}return{}}(p):{};B=(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,v.jsx)(dt.Z,{animateGif:D&&a,cropHeight:Z,cropWidth:M,fallbackColor:n,imageFit:o,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:d,onError:l,pin:p})})}else B=(0,v.jsx)(x.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:Z||void 0,justifyContent:"center",children:(0,v.jsx)(ct.Z,{cropHeight:Z,rootMargin:g,inAdsDesktopVideoExperiment:O&&y,pin:p,surface:b,onLoad:d,viewType:T,viewParameter:I,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:l,isExperimentalPinRep:!0})});const F=(0,v.jsx)(x.zd,{wash:!0,children:(0,v.jsx)(u.Z,{hovered:r,pin:p,slotIndex:S,viewType:1,children:B})}),U=["selected-image-only","deselected-image-only"].includes(f),H="selected-image-only"===f,z=(0,i.useRef)(!0),G=(0,i.useRef)(!1),V=(0,i.useRef)(!1),W=(0,N.aq)("web_video_quic").group;if((0,i.useEffect)((()=>{z.current||!r||A||t||G.current?r||!G.current||V.current||(Tt(R||p),V.current=!0):R?(!function(e,t){var n;const{id:i,pages:o,pages_preview:r}=e;if(!r&&!o)return;const s=r?r[0]:null==o?void 0:o[0],a=null==s||null===(n=s.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(a&&a.video){const{hlsv3:e,mp4:n}=(0,yt.Z)(a.video)||{},o=n||e;if(o&&i){var l;const e=null!==(l=St(o,t))&&void 0!==l?l:"";wt[i]=wt[i]?wt[i].concat(e):[e],bt(e)}}}(R,W),G.current=!0):(!function(e,t){const{id:n,videos:i}=e,{video_list:o}=i||{},r=(0,ht.Z)({pin:e}),{video:s}=(0,mt.Z)(r)||{},{hls:a,hlsv3:l,mp4:d}=s||{};if(o){const e=(0,yt.t)(o)||{},i=l||a||{},r=ft.K.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",s=i.duration||(null==d?void 0:d.duration)||null;if(s&&(0,_t.F)(r,s)&&r.startsWith("enabled")&&e.url){var c;const i=null!==(c=St(e.url,t))&&void 0!==c?c:"";bt(i),wt[n]=wt[n]?wt[n].concat(i):[i]}else if(i.url){var u;const e=null!==(u=St(i.url,t))&&void 0!==u?u:"";wt[n]=wt[n]?wt[n].concat(e):[e],bt(e).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[gt.VS]){const e=It(i[gt.VS],t);return wt[n]=wt[n].concat(e),bt(null!=e?e:"")}return null})).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const e=It(i[0],t);return wt[n]=wt[n].concat(e),bt(null!=e?e:"")}return null}))}}}(p,W),G.current=!0),z.current=!1}),[t,r,A,R,p,C,W]),t)return(0,v.jsxs)(i.Fragment,{children:[F,U&&(0,v.jsx)(pt,{isSelected:H}),k&&(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,v.jsx)(at.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:q}=w||{},$=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(b);return(0,v.jsxs)(ke,{contextLogData:{grid_index:S,image_signature:j,commerce_data:$?q:void 0},elementType:35,pin:p,surface:b,children:[F,k&&(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,v.jsx)(at.Z,{pin:p,enableCloseupLink:!1})})]})}var Et=n(488023),Pt=n(255539),jt=n(998864);const Rt=Pt.Z.makeSendShareButton((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,l.ZP)(),n=(0,jt.Z)();return(0,v.jsx)(x.zx,{fullWidth:!0,onClick:n((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));var kt=n(777158);var At=n(452963),Ot=n(818026),Lt=n(546352),Dt=n(7713),Nt=n(451875);const Zt="#000000",Mt="#ffffff";function Bt({selected:e=!1}){const t=(0,l.ZP)(),{isRTL:n}=(0,d.B)();return(0,v.jsx)(x.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new x.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Zt:Mt,borderRadius:Nt.Oc,boxShadow:"inset 0 0 0 3px #fff"}},children:e?(0,v.jsx)(x.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,v.jsx)(x.JO,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,v.jsx)(x.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,v.jsx)(x.JO,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Ft={wrapper:{borderRadius:Nt.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Nt.Dv.VISUAL},savedOverlay:{backgroundColor:Nt.Dv.SAVED},legoWashOverlay:{backgroundColor:Nt.Dv.LEGO_WASH}};function Ut({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:i,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:s="none",secondaryContent:a,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:f,signalDebuggerContent:_,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:b="none",obscuredPinOverlay:w,showNoPinBorderRadius:S,showPromotedPinBorderTreatment:I,shouldUseLegoWash:T}){return(0,v.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:I?Ft.promotedPinBorderTreatment:{}},height:"100%",children:(0,v.jsxs)(x.xu,{dangerouslySetInlineStyle:{__style:S?{}:Ft.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,v.jsx)(Bt,{selected:"selected"===g}),(0,v.jsxs)(x.xu,{dangerouslySetInlineStyle:{__style:S?{}:Ft.wrapper},overflow:"hidden",position:"relative",onFocus:i,onBlur:o,onMouseEnter:i,onMouseLeave:o,children:[e,(0,v.jsx)(Dt.Z,{visibility:n,children:(0,v.jsx)(Lt.Z,{additionalStyles:T?Ft.legoWashOverlay:Ft.visualOverlay})}),(0,v.jsx)(Dt.Z,{visibility:t,children:(0,v.jsx)(Lt.Z,{additionalStyles:T?Ft.legoWashOverlay:Ft.savedOverlay})}),d&&(0,v.jsx)(Dt.Z,{visibility:c,children:(0,v.jsx)(Lt.Z,{children:d})}),a&&(0,v.jsx)(Dt.Z,{visibility:l,children:(0,v.jsx)(Lt.Z,{children:a})}),r&&(0,v.jsx)(Dt.Z,{visibility:s,children:(0,v.jsx)(Lt.Z,{children:r})}),y&&(0,v.jsx)(Dt.Z,{visibility:b,children:(0,v.jsx)(Lt.Z,{children:(0,v.jsx)(x.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),u&&(0,v.jsx)(Dt.Z,{visibility:p,children:(0,v.jsx)(Lt.Z,{children:(0,v.jsx)(x.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),h&&(0,v.jsx)(Lt.Z,{children:(0,v.jsx)(x.xu,{position:"absolute",left:!0,bottom:!0,children:h})}),f&&(0,v.jsx)(Lt.Z,{children:f}),_]}),m,w&&(0,v.jsx)(x.xu,{children:w})]})})}var Ht=n(515528);function zt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Gt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Vt=228;const Wt=(0,i.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:n,currentlyPlayingVideo:s,disableHover:a=!1,footerProps:l,forcePrimaryContentVisibility:d,impressionsDebuggerProps:u,onError:p,onLoad:h,obscuredPinOverlayProps:m,pin:g,pinVisualProps:f,presentationProps:_,primaryContentProps:y,rounding:b,selectionState:w,secondaryContentProps:S,showAccessoryContent:I,showActionBar:T,showFooter:E,showImpressionsDebugger:P,showSeeStatsButton:j,showSignalDebugger:R,showObscuredPinOverlay:k,showPrimaryAndSecondaryContent:L,surface:D}){const{savedInfo:Z}=g,{viewType:M}=(0,c.E)(),{showEnabledSaveBehavior:B}=(0,Qe.Yh)(Ht.ZF.includes(D)||Ht.zI.includes(D)),[F,U]=(0,i.useState)(!1),H=(0,ze.Z)(F);let{isHovering:z,hoverTransitionState:G,handleMouseOver:V,handleMouseLeave:W}=function(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,hoverTransitionState:(0,ze.Z)(e,0,ze.X),handleMouseOver:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}();a&&(z=!1,G="inactive");const q=(0,ze.Z)(!!Z),$=zt(q),Y=zt(G),K=zt(G),X=zt(H),J=zt(q),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(D),ee="visible"!==$||Q?$:"none",te={primaryContentVisibility:Gt(K,X,"visible"===J?"none":J),secondaryContentVisibility:(ne=Gt(K,X,J),"none"===ne?"visible":"visible"===ne?"none":"hidden"),actionBarVisibility:Gt(K,X),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ne;const ie=e=>U(e),oe=e=>U(e),re=e=>{U(e),e||W()};let se=null;d&&(te.primaryContentVisibility="visible"),"none"!==te.primaryContentVisibility&&L&&(se=(0,v.jsx)(rt,{forcePrimaryContent:ie,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:re,pin:g,...y}));let ae=null;const le=(0,i.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,s]=(0,i.useState)(!n||t),a=(0,i.useRef)(o),l=(0,i.useRef)(null);if(n){const e=a.current;a.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),s(!0),l.current=setTimeout((()=>{s(!1),l.current=null}),4e3))}return(0,i.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(g,de),ue=zt((0,ze.Z)(ce));te.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(te.secondaryContentVisibility,ue),ae=(S.allowShoppingPriceIndicator||S.shoppingLabelColor||"none"!==te.secondaryContentVisibility)&&L&&!s&&(0,v.jsx)(x.xu,{margin:2,children:(0,v.jsx)(st.Z,{pin:g,...S})});let pe=null;I&&(pe=(0,v.jsx)(A,{pin:g}),te.accessoryContentVisibility=zt(G)),f.isSocialSeasonalBoard&&(e.showShareButton=!1);let he=null;j&&(e.showSourceLinkButton=!1,he=(0,v.jsx)(o.Z,{children:(0,v.jsx)(Et.Z,{pinId:g.id,surface:D})}));const me=T?(0,v.jsx)(C,{onToggleFlyout:oe,pin:g,setForcePrimary:U,surface:D,...e}):null;let ge=null;E&&(ge=(0,v.jsx)(Xe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?G:null,pin:g,setForcePrimary:U,surface:D,...l})),f.isSocialSeasonalBoard&&(ge=(0,v.jsx)(x.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,v.jsx)(x.xu,{margin:"auto",width:Vt,children:(0,v.jsx)(Rt,{isFlyoutOpen:F,onFlyoutDismiss:()=>oe(!F),onToggleFlyout:()=>oe(!F),pinId:g.id,sendType:"pin",shownWithinMasonry:!0,viewType:M})})}));const fe=P&&(0,v.jsx)(At.Z,{...u}),_e=R&&g.debug_info_html&&(0,v.jsx)(x.xu,{paddingY:1,children:(0,v.jsx)("pre",{children:g.debug_info_html})}),ye=(0,v.jsx)(O.Z,{pin:g}),xe=(0,i.useRef)();"header-only"===(0,kt.Z)(xe)&&(te.actionBarVisibility="none",te.accessoryContentVisibility="none");const ve=k?(0,v.jsx)(Ot.ZP,{pin:g,...m}):null,be="ShoppingList"===D?{height:"100%"}:{},we=(0,N.tc)("web_ag_msg_pin_card_update"),Se="ConversationView"===D&&we({dangerouslySkipActivation:!0}).anyEnabled,Ie=(0,N.tc)("web_creator_attr_hover_overlay"),Te=E&&"default"===l.attributionType&&Ht.ZF.includes(D),Ce=!g.is_promoted&&!a&&Te,Ee=Ce&&Ie({dangerouslySkipActivation:!0}).anyEnabled;return Ce&&(ge=(0,v.jsx)(x.xu,{onMouseEnter:Ie,onFocus:Ie,children:ge})),(0,v.jsx)(r.Z,{name:"PinRepContainer",children:(0,v.jsx)(x.xu,{"data-test-id":"pin","data-test-pin-id":g.id,onFocus:Ee?()=>{}:V,onBlur:Ee?()=>{}:W,onMouseEnter:Ee?()=>{}:V,onMouseLeave:Ee?()=>{}:W,dangerouslySetInlineStyle:{__style:be},rounding:Se&&"ConversationView"===D?b:void 0,borderStyle:Se&&"ConversationView"===D?n:"none",overflow:Se&&"ConversationView"===D?"hidden":"visible",children:(0,v.jsx)(Ut,{visualOverlayVisibility:Y,savedOverlayVisibility:ee,handleMouseOverPinContent:Ee?V:()=>{},handleMouseLeavePinContent:Ee?W:()=>{},primaryContent:se,primaryContentVisibility:te.primaryContentVisibility,secondaryContent:ae,secondaryContentVisibility:te.secondaryContentVisibility,accessoryContent:pe,accessoryContentVisibility:te.accessoryContentVisibility,actionBar:me,actionBarVisibility:te.actionBarVisibility,seeStatsButton:he,footer:ge,selectionState:w,debugContent:fe,signalDebuggerV2Content:ye,signalDebuggerV2ContentVisibility:te.signalDebuggerV2ContentVisibility,signalDebuggerContent:_e,obscuredPinOverlay:ve,..._,children:(0,v.jsx)(x.xu,{height:"100%",ref:xe,children:(0,v.jsx)(Ct,{blockClickEvents:t,isHovering:z,onError:p,onLoad:h,pin:g,surface:D,selectionState:w,...f})})})})})}))},476865:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),o=n(40142),r=n(269935),s=n(439887),a=n(28745),l=n(538958),d=n(432921),c=n(904126),u=n(883119),p=n(785893);const h={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,o,r;const{pin:{id:s,images:a,title:l,videos:m,video_status_message:g}}=e,f=g||{},_=a&&a["236x"],y=m&&(null===(t=m.video_list)||void 0===t?void 0:t[c.K.V_HLSV4]),{duration:x}=y||{};return(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(u.Zb,{children:(0,p.jsxs)(u.iP,{role:"link",href:`/pin/${s}`,rounding:2,children:[(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[_&&(0,p.jsx)(u.Ee,{alt:l||"",color:"lightGray",naturalHeight:null!==(n=_.height)&&void 0!==n?n:1,naturalWidth:null!==(o=_.width)&&void 0!==o?o:1,src:null!==(r=_.url)&&void 0!==r?r:""}),!!x&&(0,p.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,p.jsx)(d.Z,{duration:x})}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),(0,p.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,p.jsx)(u.X6,{color:"white",overflow:"normal",size:"sm",children:f.title}),(0,p.jsx)(u.xu,{marginTop:4,children:(0,p.jsx)(u.xv,{color:"white",size:"md",overflow:"normal",children:f.subtitle})})]})]}),(0,p.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,p.jsx)(u.xu,{flex:"grow",children:l&&(0,p.jsx)(u.xu,{paddingY:1,children:(0,p.jsx)(u.xv,{inline:!0,size:"md",weight:"bold",children:l})})})})]})})})}var g=n(784655),f=n(855168),_=n(398791),y=n(560133);function x({trackingParameters:e,pin:t,pinId:n,...d}){var c,u,h;const x=(0,f.TH)(),v=(0,o.useSelector)((({pins:e})=>e[n]))||t,b=(0,s.Z)(v,x),w=(0,a.Z)(v),S=!!(w&&w.url&&w.height&&w.width)||void 0,I=w&&v.videos?v.videos.id:void 0,[T,C]=(0,i.useState)(!1),E=(0,i.useCallback)((()=>C(!0)),[]),P=(0,i.useCallback)((()=>C(!1)),[]),{componentType:j,contextLogData:R,impressionAuxFields:k,slotIndex:A,viewData:O,viewParameter:L,viewType:D}=e;return(0,p.jsx)(r.Z,{componentType:j,contextLogData:{..."undefined"!=typeof window?{pwa_type:(0,l.ZP)(window)}:{},...R,...(0,y.Kl)(v,R)},impressionAuxFields:{...k||{},isNativeVideoAndWatchable:S,videoIdStr:I,clientTrackingParams:b||`${v.tracking_params||""}-0`,imageURL:null!==(c=null===(u=v.images)||void 0===u||null===(h=u["236x"])||void 0===h?void 0:h.url)&&void 0!==c?c:"",richTypes:(0,y.GT)(v)},impressionType:"Pin",isPaused:!T,loggingId:v.id,slotIndex:A,viewData:O,viewParameter:L,viewType:D,children:(0,g._J)(v)?(0,p.jsx)(m,{pin:v}):(0,p.jsx)(_.Z,{...d,debugImpressionState:T?"started":"paused",onError:P,onLoad:E,pin:v,pinId:n,trackingParameters:{componentType:j,contextLogData:R,slotIndex:A,viewParameter:L,viewType:D}})})}},451875:(e,t,n)=>{n.d(t,{Oc:()=>i,mv:()=>o,Dv:()=>r});const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},789875:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(454217),o=n(946753);function r({feedbackOptions:e,pin:t,viewParameter:n},r){const{board:s,pinner:a}=t,{getFeedbackType:l}=(0,i.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:s,feedback:e,pin:t,pinner:a,viewParameter:n})}},519922:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},746857:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(517458),o=n(560133);function r(e,t){const{isProduct:n}=(0,i.Z)(e);return(n||"ShoppingList"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},438280:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,{At:()=>i,Ud:()=>o,J6:()=>r})},585967:(e,t,n)=>{n.d(t,{P2:()=>s,Mf:()=>a,LC:()=>l,fH:()=>d,B:()=>c});var i=n(667294),o=n(785893);const r=(0,i.createContext)(),s=r.Provider;function a(e){function t(t){const n=(0,i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},904126:(e,t,n)=>{n.d(t,{K:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},255539:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(415339),r=n(204891),s=n(451190),a=n(237574),l=n(549135),d=n(998864),c=n(883119),u=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new c.Ry(1),m=({children:e})=>e((0,d.Z)({shouldStopEventPropagation:!1}));class g extends i.Component{constructor(...e){super(...e),p(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),p(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),p(this,"flyoutProps",(()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:s,board:l,sendType:d,url:c,fullName:p,profileUrl:h,viewParameter:m,viewType:g,onExternalSend:f,showCaret:_,todayArticle:y}=this.props;let x={description:e,id:i,imageUrl:n,name:"",type:a.d.PIN,url:`/pin/${i}/`},v=a.d.PIN;switch(d){case"user":x={description:e,id:s,imageUrl:n,name:p,type:a.d.PINNER,url:h},v=a.d.USER;break;case"board":x=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:a.d.BOARD,url:l.url},v=a.d.BOARD;break;case"today_article":x=y&&{description:y.subtitle||"",id:y.id,imageUrl:n,name:y.title,type:a.d.TODAY_ARTICLE,url:(0,r.bz)(y)},v=a.d.TODAY_ARTICLE;break;case"search":x={...x,type:a.d.SEARCH,url:c},v=a.d.SEARCH}const b={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:v,sharedObject:x,viewParameter:m,viewType:g};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:_,children:(0,u.jsx)(o.default,{...b})}}))}static makeSendShareButton(e){return t=>(0,u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i}=this.props;"user"===n&&(0,l.j)(101,{component:13675,element:1079,objectId:i,view:4,viewParameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:o}=this.props,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,children:p}=this.flyoutProps();return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,u.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,u.jsx)(m,{children:t=>(0,u.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),n&&(i||o?(0,u.jsx)(c.mh,{zIndex:o?h:void 0,children:(0,u.jsx)(c.xu,{zIndex:t?s.b:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,u.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,size:"xl",positionRelativeToAnchor:!1,children:p})})}):(0,u.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,size:"xl",children:p}))]})}}p(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},11200:(e,t,n)=>{n.d(t,{j:()=>l,Z:()=>d});var i=n(174523),o=n(883119),r=n(181307),s=n(946753),a=n(785893);const l=[0,2,3];function d({hasAffiliateProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textWeight:c}){const u=(0,i.ZP)(),p=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let h;t?h=(0,s.nk)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):d||0===d?h=n&&!l.includes(d)?(0,s.nk)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(h=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const m=p&&!t?"Ad  ":"";return(0,a.jsxs)(o.xv,{inline:!0,size:"md",weight:c,children:[m,h]})}},421962:(e,t,n)=>{n.d(t,{e:()=>p,Z:()=>g});var i=n(667294),o=n(263116),r=n(312827),s=n(174523),a=n(396893),l=n(798918),d=n(883119),c=n(785893);const u=(0,o.ZP)({resolved:{},chunkName:()=>"video-VideoWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,748455)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 748455}}),p=Object.freeze({white:"white",black:"darkGray"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:n}){const i=(0,s.ZP)();return(0,c.jsx)(u,{fallback:(0,c.jsx)(d.Ee,{alt:e||"",color:"rgb(111, 91, 77)",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail,fit:"cover"}),accessibilityMaximizeLabel:i._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:i._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:i._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:i._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:i._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:i._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:l.q4,captions:"",controls:!1,loop:!0,isAutoPlay:!0,playing:!0,playsInline:!0,poster:n||t.metadata.thumbnail,src:t.url,volume:0})}function g({buttonAction:e,buttonCustomization:t,buttonText:n,experienceId:o,hideCompleteButton:s,imageAlt:u,imageUrl:p,placementId:g,storyType:f,titleColor:_,titleText:y,titleTextCustomization:x,videoPin:v,videoPlaceholderImage:b}){const[w,S]=(0,i.useState)(!1),I=(0,r.Z)();(0,i.useEffect)((()=>{"number"==typeof o&&"number"==typeof g&&I.viewExperience(g,o,!0)}),[]);const T=()=>{"number"==typeof o&&"number"==typeof g&&I.completeExperience(g,o,!1,!0)},C=()=>{S(!0)},E=()=>{S(!1)},P="feed_card_video"===f?354:315,j=(0,l.zn)(f),R=j?a.f8:a.hm,k=j?a.sH:a.HI,A=!j,{color:O,fontSize:L,fontStyle:D,fontWeight:N,horizontalAlignment:Z}=(0,l.Mf)(x||{},"web"),{button_background_color:M,button_text_color:B}=t||{};return(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.xu,{onMouseEnter:C,onMouseLeave:E,children:(0,c.jsxs)(d.rU,{accessibilityLabel:y,href:e,onClick:T,onFocus:C,onBlur:E,hoverStyle:"none",children:[(0,c.jsxs)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:4,children:[(0,c.jsx)(d.xu,{height:P,width:236,rounding:4,children:"feed_card_video"===f&&v?(0,c.jsx)(m,{titleText:y,videoPin:v,videoPlaceholderImage:b}):p&&(0,c.jsx)(d.Ee,{alt:u||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:p,fit:"cover"})}),A&&(0,c.jsx)(d.xu,{height:P,width:236,dangerouslySetInlineStyle:{__style:w?h.hoverOverlay:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(R,{children:(0,c.jsx)(d.xv,{align:Z,color:_,italic:"italics"===D,weight:N,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!=O?O:void 0,fontSize:L}},children:y})})})]}),!s&&j&&(0,c.jsx)(k,{children:(0,c.jsx)(d.xu,{display:"flex",rounding:"pill",color:"white",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(d.xv,{weight:"bold",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:B}},children:n})})})})]})}),!j&&(0,c.jsx)(k,{children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:n,color:"gray",fullWidth:!0,href:e,onClick:T,size:"lg",text:n})})]})}},275304:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(855356),o=n(667294),r=n(312827),s=n(549135),a=n(855168),l=n(883119),d=n(785893);function c({experienceId:e,copy:{buttonText:t,subtitleText:n,titleText:i},path:c,pins:u,placementId:p}){const h=(0,r.Z)(),m=(0,a.k6)();(0,o.useEffect)((()=>{(0,s.j)(13,{view:1,viewParameter:92,component:200,element:10551}),h.viewExperience(p,e)}),[]);return(0,d.jsxs)(l.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,d.jsx)(l.xu,{paddingY:1,children:(0,d.jsx)(l.X6,{align:"center",size:"sm",children:i})}),(0,d.jsx)(l.xu,{paddingY:1,children:(0,d.jsx)(l.xv,{align:"center",children:n})}),(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:1,paddingY:2,children:u&&u.map(((e,t)=>((e,t)=>{const{height:n,url:i,width:o}=e.images.orig,r=0===t?0:2;return(0,d.jsx)(l.xu,{marginStart:r,children:(0,d.jsx)(l.zd,{height:72,rounding:2,width:48,children:(0,d.jsx)(l.Ee,{alt:"",color:"",fit:"cover",naturalHeight:n,naturalWidth:o,src:i})})},e.id)})(e,t)))}),(0,d.jsx)(l.xu,{alignSelf:"center",paddingY:2,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:()=>{h.completeExperience(p,e,!1,!0),(0,s.j)(101,{view:1,viewParameter:92,component:200,element:10551}),m.push(c)},size:"lg",text:t})})]})}var u=n(354783),p=n(421962);function h(e){const{story:t}=e;if(41===t.container_type){const e=t,{copy:n,custom_properties:o,experience:r,objects:s}=e;return(0,d.jsx)("div",{className:"Module",children:(0,d.jsx)(c,{copy:(0,i.Z)(u.Z)(n),experienceId:r.experience_id,path:o.path,pins:s,placementId:r.placement_id})})}if(66===t.container_type){const e=t,{action:n,custom_properties:i,display_options:o,experience:r,story_type:s,title:a}=e;return(0,d.jsx)("div",{className:"Module",children:(0,d.jsx)(p.Z,{buttonAction:n.url,buttonCustomization:i.button_customization,buttonText:n.text,experienceId:null==r?void 0:r.experience_id,hideCompleteButton:i.hide_complete_button,imageAlt:i.image_alt,imageUrl:i.image,placementId:null==r?void 0:r.placement_id,storyType:s,titleColor:p.e[o.title_text_color],titleText:a.format,titleTextCustomization:i.title_text_customization,videoPin:i.video_pin,videoPlaceholderImage:i.video_placeholder_image})})}return null}},245221:(e,t,n)=>{n.d(t,{i:()=>o,S:()=>r});var i=n(181307);const o="web_today_tab_v1";function r(){return(0,i.tc)(o)().anyEnabled}},533127:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(176082),o=n(785893);function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,isSVG:s,iconOnly:a}){return(0,o.jsx)(i.ZP,{accessibilityLabel:e,color:r,onClick:t,icon:n,isSVG:s,iconOnly:a})}},773808:(e,t,n)=>{n.d(t,{Z:()=>r});const i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},o=({isPadded:e,isRTL:t})=>e?"16px":t?"0 32px 32px 0":"32px 0 0 32px";function r({isSideBySide:e,isPadded:t,isRTL:n}){return e?{...i,borderRadius:o({isPadded:t,isRTL:n})}:{...i,borderRadius:t?"16px":"32px 32px 0 0"}}},79267:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({children:e})=>(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:e})},711874:(e,t,n)=>{n.d(t,{Z:()=>L,F:()=>A});var i=n(667294),o=n(40142),r=n(877039),s=n(233949),a=n(647560),l=n(32529),d=n(784655),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(0,r.Z)(a.Z);class h extends i.Component{constructor(...e){super(...e),u(this,"handleVisibilityChanged",(e=>{const{pinId:t,isPromoted:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r,videoStartTime:s}=this.props,a=(0,d.i8)(t,r);e&&!a?i({pinId:t,isPromoted:!!n,currentTime:s}):!e&&a&&o({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})})),u(this,"handleVideoTimeChange",(e=>{const{pinId:t,videosAutoplaying:n}=this.props;(0,d.i8)(t,n)&&(this.currentVideoCurrentTime=e.time)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,pauseAutoplay:i,pinId:o,isPromoted:r,setCurrentVideo:s,videosAutoplaying:a}=this.props,l=(0,d.i8)(o,a),c=(0,d.X9)(o,a);this.currentVideoCurrentTime=null!=c?c:this.currentVideoCurrentTime,n!==t&&!n&&l?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){const{pinId:e,isPromoted:t,pauseAutoplay:n}=this.props;n({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){const{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:n,videosAutoplaying:i,...o}=this.props;return(0,c.jsx)(s.KS,{name:"ads_desktop_video_ads",activate:!1,children:({anyEnabled:e})=>(0,c.jsx)(p,{inAdsDesktopVideoExperiment:e,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!e,...o})})}}const m=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:s}=o,a=i?s[n]:r[n];return{appInFocus:e.ui.app.appInFocus,videosAutoplaying:o,videoStartTime:a?a.currentTime:null}}),((e,t)=>({pauseAutoplay:t=>e((0,l.Dm)(t)),setCurrentVideo:t=>e((0,l.jt)(t))})))(h);var g=n(631739),f=n(907669),_=n(551687),y=n(865791),x=n(96975),v=n(639387),b=n(925854),w=n(79267),S=n(211194),I=n(689859),T=n(883119),C=n(852474),E=n(857354),P=n(233088),j=n(181307),R=n(35764);const k=(0,i.lazy)((()=>n.e(87122).then(n.bind(n,674327)))),A=(e,t)=>!!(e.includes("below_15")&&t>=0&&t<=15e3)||(!!(e.includes("15_to_30")&&t>15e3&&t<=3e4)||(!!(e.includes("30_to_45")&&t>3e4&&t<=45e3)||(!!(e.includes("45_to_60")&&t>45e3&&t<=6e4)||!!(e.includes("above_60")&&t>6e4)))),O=({children:e,name:t})=>(0,c.jsx)(T.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),L=({closeupIsFirstPageInHistoryStack:e,imageContainerRef:t,isWideVideo:n,pin:i,shouldPadImage:o,flyoutShareProps:r})=>{const s=(0,v.Z)({pin:i}),{embed:a}=(0,y.Z)(s)||{},{video:l}=(0,b.Z)(s)||{},{hls:d={},hlsv3:u={},mp4:p={}}=l||{},h=d.duration||u.duration||p.duration||null,{group:L}=(0,j.tc)("web_mp4_video_closeup")({dangerouslySkipActivation:!0}),D=!!h&&A(L,h),N=(0,j.tc)("web_mp4_video_closeup"),Z=D&&N().anyEnabled,{videos:M}=i,{video_list:B={}}=M||{};if(Z){const e=(0,C.t)(B);e&&(l.mp4=e)}const F=a&&"gif"===a.type,{image564x:U={}}=(0,E.Ip)((0,x.Z)(s))||{},H=F?a.src:U.url,z=!!i.promoter&&!i.is_downstream_promotion,G=z&&!i.is_eligible_for_web_closeup,{access:V}=i||{},W=!!V&&V.includes("tag"),q=R.Gg-R.d2,$=o?{maxWidth:{maxWidth:q},minWidth:{minWidth:q},height:{},borderRadius:16}:{},Y="undefined"!=typeof window&&0===P.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),K=(0,c.jsxs)(S.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:o,styleOverrides:$,variant:"default",children:[(0,c.jsx)(T.xu,{width:"100%",ref:t,children:(0,c.jsx)(m,{autoplay:!Y,customThumbnail:H,flyoutShareProps:r,isPromoted:z,loop:G,muted:e,preferMp4:Z,pinId:i.id,video:l,variant:"default"})}),W&&(0,c.jsx)(O,{name:"tag-button",children:(0,c.jsx)(_.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(f.Z,{children:(0,c.jsx)(k,{pin:i})})})})})]});return o?(0,c.jsx)(w.Z,{children:K}):K}},998035:(e,t,n)=>{n.d(t,{SR:()=>r,Nc:()=>s,o:()=>a,dZ:()=>l,$l:()=>d,nU:()=>c,Lb:()=>u,bm:()=>p,IS:()=>h,NE:()=>m});var i=n(616240),o=n(784655);function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function s(e){var t,n;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function a(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function c(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const p=({viewer:e,pin:t})=>(0,i.su)(e)&&t.is_quick_promotable_by_pinner;function h(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function m({carouselInfo:e,closePanelWidth:t,isWideVideo:n,isShortImage:i,naturalWidth:o,showCloseupContentRight:r}){return!(n||!r)&&(!!i||!e&&o<t)}},558892:(e,t,n)=>{n.d(t,{YO:()=>s,Nb:()=>a,Of:()=>l,x4:()=>c,ZP:()=>u});var i=n(667294),o=n(583704),r=n(35764);const s=({showPdp:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?r.Uj:r.zT:1,a=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,i.createContext)(l);function c(){const e=(0,i.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},136686:(e,t,n)=>{n.d(t,{zc:()=>i,Bu:()=>o,Mg:()=>r,_z:()=>s,pM:()=>a});const i="story_pin",o="closefakemodal",r="button",s="video",a="image"},35764:(e,t,n)=>{n.d(t,{Gg:()=>i,u6:()=>o,CI:()=>r,Kn:()=>s,Ch:()=>a,Gb:()=>l,Uj:()=>d,zT:()=>c,d2:()=>u,Ie:()=>p,KP:()=>h,JV:()=>m,bx:()=>g,g9:()=>f,CC:()=>_,a7:()=>y,iB:()=>x});const i=508,o=2*i,r=488,s=992,a=672,l=1176,d=.6,c=.84,u=40,p=72,h=740,m=60,g=912,f=32,_=60,y=40,x={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},211194:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(773808),o=n(883119),r=n(558892),s=n(585967),a=n(35764),l=n(785893);function d({children:e,isVideo:t=!1,isWideVideo:n,shouldPadImage:d,styleOverrides:c={},variant:u}){var p,h,m;const{showCloseupContentRight:g,showPdp:f,viewportSize:_,paneWidth:{pdp:y,regular:x}}=(0,r.x4)(),v=(0,s.B)(),b="default"===u;if(!(g&&"lg"===_||b||n))return(0,l.jsx)(o.xu,{children:e});const w=f?y:x,S=(0,i.Z)({isSideBySide:g&&!n,isPadded:d,isRTL:v.isRTL}),I=n?a.KP:w,T=n?0:6,C=n?a.KP:496,E=(null===(p=c.height)||void 0===p?void 0:p.height)||"100%",P=(null===(h=c.maxWidth)||void 0===h?void 0:h.maxWidth)||I,j=(null===(m=c.minWidth)||void 0===m?void 0:m.minWidth)||w;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:c.borderRadius||S.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...d&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:b?"flex":void 0,flex:b&&n?"grow":void 0,height:b?E:void 0,justifyContent:b?"center":void 0,marginBottom:b?void 0:6,marginEnd:b?void 0:T,maxWidth:b?P:C,minWidth:b?j:344,rounding:b?void 0:2,children:e})}},595657:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(439887),o=n(584489);function r(e,t){const n=o.Z.instance;let r;if(n){const o=n.getState();if(o.pins&&e){const n=o.pins[e],s=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));n&&(r=t?e[t]:e.PinResource)}else n&&(r=(0,i.Z)(n,s))}}return r}},279224:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},132718:(e,t,n)=>{function i(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}n.d(t,{Z:()=>i})},865791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:o}=t||{};return i?{...e,embed:{type:n,src:i,subtype:o}}:null}))},639387:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},925854:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(279224),o=n(979593);const r=(0,i.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:s,V_HLSV3_MOBILE:a}=i,l=(0,o.V)(s),d=(0,o.V)(a),c=(0,o.V)(r),u=c||l||d;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},857354:(e,t,n)=>{n.d(t,{eR:()=>r,Ip:()=>s,d9:()=>a});var i=n(279224);const o=e=>t=>{const{images:n}=t,i=n[e],{url:o,width:r,height:s}=i||{};return o&&r&&s?{url:o,width:r,height:s}:null},r=(0,i.Z)((e=>{const t=o("236x")(e);return t&&{...e,image236x:t}})),s=(0,i.Z)((e=>{const t=o("564x")(e);return t&&{...e,image564x:t}})),a=(0,i.Z)((e=>{const t=o("736x")(e);return t&&{...e,image736x:t}}))},96975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:o,width:r,height:s}=i;return e&&o&&r&&s?{...e,[t]:{url:o,width:r,height:s}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},860179:(e,t,n)=>{n.d(t,{bI:()=>o,Fk:()=>r,lJ:()=>s,lI:()=>a,qW:()=>l,mS:()=>d,gw:()=>c,Uo:()=>u,j1:()=>p,fS:()=>h,Cq:()=>m,km:()=>g,Dk:()=>f});var i=n(883119);const o=new i.Ry(0),r=new i.Ry(1),s=2,a=new i.Ry(s),l=2,d=new i.Ry(l),c=new i.Ry(3),u=new i.Ry(1),p=new i.Ry(3),h=3,m=4,g=new i.Ry(5),f=new i.Ry(100)},479996:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(40142),o=n(224982),r=n(589444),s=n(560133),a=n(549135),l=n(558892),d=n(883119),c=n(785893);function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:h,isEditMode:m,pinId:g,viewParameter:f,viewType:_,variant:y}){const x=(0,i.useSelector)((({pins:e})=>e[g]),i.shallowEqual),v=e||(0,r.Z)({pin:x}),b=(0,i.useDispatch)();if(!v)return null;const w=(e,t,i)=>{m||void 0===o.Z||(e.preventDefault(),e.stopPropagation(),b((0,o.Z)(String(g),i))),void 0!==p&&p(i),((e,t,n=0,i,o,r,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:p}=o;(0,a.j)(108,{...c,objectId:t,component:d,view:l,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...(0,s.Kl)(e)||{}})}})(x,g,t,i,v,f,_,n,u,m)},{carousel_slots:S=[],index:I}=v,T=void 0!==t?t:I,C="default"===y,E=C?"white":"#555",P=C?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:m?1:0,children:[...Array(S.length).keys()].map((e=>{var t;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(t=S[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>w(t,T,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===T?E:P}},rounding:"circle"})})},g+e)}))})})}},100001:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(595657),r=n(132718),s=n(639387),a=n(831251),l=n(560133),d=n(784655),c=n(549135),u=n(785893);function p({children:e,hovered:t,pin:n,slotIndex:p,trafficSource:h,viewType:m}){const[g,f]=(0,i.useState)(),[_,y]=(0,i.useState)(),{id:x,tracked_link:v,link:b}=n,w=v||b||"",S=()=>{f(!0)},I=(0,r.Z)((0,s.Z)({pin:n})),T=(0,i.useCallback)((()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:(0,o.Z)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:x,...p||{},...(0,l.Kl)(e)||{}})};return(0,a.Z)(i)})(n,w,!1).callGet({showError:!1}).then((e=>{e&&((0,c.j)(12,{clickthrough_type:"rightClick",objectId:x,view:m,viewParameter:I,...p||{},...(0,l.Kl)(n)||{}}),(0,c.j)(8948,{click_type:"clickthrough",closeup_navigation_type:h&&(0,d.sV)(h)?"deeplink":"click",clickthrough_type:"rightClick",view:m,objectId:x,viewParameter:I,...p||{},...(0,l.Kl)(n)||{}}))}))})),C=e=>{var t;g&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(T(),f(!1)),window.removeEventListener(_,C,!1))};return(0,i.useEffect)((()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?y("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?y("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&y("webkitvisibilitychange")}),[]),(0,i.useEffect)((()=>(g&&window&&window.addEventListener(_,C,!1),()=>window.removeEventListener(_,C))),[g,_]),(0,i.useEffect)((()=>(t&&window.addEventListener("contextmenu",S),()=>{window.removeEventListener("contextmenu",S)})),[t]),(0,u.jsx)(i.Fragment,{children:e})}},494353:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(881220),o=n(174523),r=n(946753),s=n(883119),a=n(785893);function l({boardName:e,boardUrl:t,isBoardlessPin:n,isFromPinBuilder:l,newPin:d,onChangeButtonClick:c,onVisitButtonClick:u=(()=>{}),onHide:p,onUndo:h,pinImageUrl:m}){const g=(0,o.ZP)(),f=(0,a.jsx)(s.xu,{color:"lightGray",display:"flex",height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.xu,{padding:3,children:(0,a.jsx)(s.JO,{accessibilityLabel:g._("Saved to profile thumbnail","PostSavedPinToast.thumbnail.accessibilityLabel","Thumbnail for saved to profile."),color:"darkGray",icon:"history",size:24})})}),_=(!!c||!!h)&&(0,a.jsx)(s.zx,{text:d&&n&&c?g._("Change","PostSavedPinToast.ChangeButton","Change saved pin to a different destination"):g._("Undo","PostSavedPinToast.UndoButton","Undo Saved Pin"),size:"lg",onClick:d&&n&&c?()=>c(d):h},"button-key"),y=(0,a.jsx)(s.zx,{text:g._("Visit","PostSavedPinToast.VisitButton","Visit Pin saved from PinBuilder"),size:"lg",onClick:u});return(0,a.jsx)(i.Z,{button:l?y:_,duration:n?6e3:3e3,iconThumbnail:n?f:void 0,imageUrl:m,onHide:p,text:(0,a.jsx)(s.xv,{size:"md",overflow:"normal",children:(0,r.nk)(g._("Saved to {{ destination }}","PostSavedPinToast.SavedToBoardLabel","Saved to label for better save"),{destination:(0,a.jsx)(s.rU,{href:n?"/me/":null!=t?t:"",children:(0,a.jsx)(s.xv,{size:"md",weight:"bold",lineClamp:1,children:e},"PostSavedPinToastBoardName")})})})})}},234070:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(702925),r=n(174523),s=n(883119),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,r.ZP)();return(0,a.jsx)(s.u,{link:(0,a.jsx)(s.rU,{href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,a.jsx)(s.xv,{color:"white",size:"sm",weight:"bold",children:t._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:t._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:c}){const u=(0,r.ZP)(),p=(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(s.JO,{accessibilityLabel:u._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[c]}),o&&(0,a.jsx)(s.xu,{marginStart:2,children:(0,a.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:u._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return(0,a.jsxs)(i.Fragment,{children:[n&&!t&&(0,a.jsx)(d,{children:p}),n&&t&&p,e&&!n&&(0,a.jsx)(s.JO,{accessibilityLabel:u._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[c]})]})}},325946:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(21755),o=n(585967),r=n(785893);function s({activate:e,children:t,isEligible:n,name:s}){return(0,r.jsx)(o.LC,{children:o=>(0,r.jsx)(i.Z,{activate:e,group:o.experiments.v2GetGroup(s)||"",isEligible:n,name:s,children:t})})}},233949:(e,t,n)=>{n.d(t,{KS:()=>i.Z});var i=n(325946)},799092:(e,t,n)=>{n.d(t,{Z:()=>C,Y:()=>T});var i=n(667294),o=n(151101),r=n(313243),s=n(269935),a=n(238402),l=n(40142),d=n(160277),c=n(451190),u=n(6582);const p=({id:e,viewParameter:t,viewType:n})=>(0,u.c)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"});var h=n(311866),m=n(881220),g=n(174523),f=n(475446),_=n(883119),y=n(785893);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.PureComponent{constructor(...e){var t;super(...e),t=this,x(this,"state",{showModal:!1,reportType:null}),x(this,"handleDismiss",(()=>this.setState({showModal:!1}))),x(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),x(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await h.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),x(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({onHide:e})=>(0,y.jsx)(m.Z,{onHide:e,text:this.props.i18n._("Thanksforyourreport!ThiswillbereviewedbyourTrustandSafetyTeam","ReportingFlag.Toast.text","Toastafterreportingasearch suggestion")}))),this.handleDismiss())})),x(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,y.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,y.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,y.jsx)(c.Z,{accessibilityModalLabel:this.props.i18n._("Reportsearchterm","ReportingFlag.Modal.accessibilityModalLabel","accessiblelabelforreportsuggestion modal"),heading:this.props.i18n._("Reportsearchterm","ReportingFlag.Modal.heading","Headingforreportsuggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:(0,y.jsxs)(_.xu,{children:[(0,y.jsx)(_.xu,{padding:5,children:(0,y.jsx)(_.xv,{children:this.props.i18n._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","Whatwillhappenwhenyoureportasuggestion")})}),(0,y.jsxs)(_.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,y.jsxs)(_.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,y.jsx)(_.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,y.jsx)(_.xu,{flex:"grow",children:(0,y.jsx)(_.__,{htmlFor:"textType",children:(0,y.jsx)(_.xu,{paddingX:2,children:(0,y.jsx)(_.xv,{children:"Report search text"})})})})]}),(0,y.jsxs)(_.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,y.jsx)(_.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,y.jsx)(_.xu,{flex:"grow",children:(0,y.jsx)(_.__,{htmlFor:"imageType",children:(0,y.jsx)(_.xu,{paddingX:2,children:(0,y.jsx)(_.xv,{children:"Report search image"})})})})]})]}),(0,y.jsx)(_.iz,{}),(0,y.jsxs)(_.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,y.jsx)(_.xu,{margin:2,children:(0,y.jsx)(_.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._("Cancel","ReportingFlag.Box.Button.text.cancel","Textforcancelbuttonwhen reporting search suggestion")})}),(0,y.jsx)(_.xu,{margin:2,children:(0,y.jsx)(_.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._("Report","ReportingFlag.Box.Button.text.report","Buttonlabeltoreportsearch suggestion"),disabled:!this.state.reportType})})]})]})})]})}}const b=(0,l.connect)(null,((e,t)=>({reportImage:n=>e(p({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))})))((0,f.Cl)((function(e){const t=(0,g.ZP)();return(0,y.jsx)(v,{...e,i18n:t})})));var w=n(754999),S=n(34411),I=n(565121);const T=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:o})=>{const r=[0,24,21,26].includes(e),s=(0,a.Z)({q:t,rs:n||void 0,b_id:i,source_id:o});return r?`/discover/article/${i}`:"/search/pins/"+(s?"?"+s:"")};function C({bubble:e,height:t,storyId:n,width:a,onClick:l,referringSource:d,contextLogData:c,viewType:u,viewParameter:p,slotIndex:h,handleReport:m,showFlag:f,imgSignature:x,onMouseEnter:v,onMouseLeave:C,isHovered:E,disableTabIndex:P}){const j=(0,g.ZP)(),R=(0,S.Z)(),{id:k,action:A,cover_images:O,dominant_colors:L,identifier_icon_type:D,title:N,story_category:Z,curator:M}=e,B=O&&O[0]?O[0]["280x280"]||O[0]["236x"]:void 0,F=(0,w.Z)(N&&N.format||"",N&&N.args||{}),U=L&&L.length?L[0]:"gray",H=(null==A?void 0:A.url)||T({storyCategory:Z,query:F,referringSource:d,bubbleId:k,storyId:n});return(0,y.jsx)(s.Z,{impressionAuxFields:{storyCategory:Z,storyIdStr:n},impressionType:"Article",loggingId:k,viewType:u,viewParameter:p,slotIndex:h,contextLogData:{story_id:n,...c},children:(0,y.jsx)(r.Z,{backgroundColor:U,coverImage:B,height:t,id:k,isHovered:E,onClick:l,onMouseEnter:v,onMouseLeave:C,url:H,width:a,disableTabIndex:P,children:({isHovered:e})=>(0,y.jsxs)(i.Fragment,{children:[M&&26!==Z&&(0,y.jsx)(_.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,y.jsx)(o.Z,{outline:!0,size:"xs",src:M.image_small_url,name:M.full_name})}),D&&D!==I.J&&(0,y.jsx)(_.xu,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,y.jsx)(_.JO,{icon:(0,I.H)(D),accessibilityLabel:j._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),(0,y.jsx)(_.xu,{display:"flex",height:t,width:a||"100%",position:"absolute",top:!0,padding:3,alignItems:26===Z?"end":"center",justifyContent:"center",children:(0,y.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,y.jsx)(_.X6,{size:"md",align:"center",color:"white",children:F}):(0,y.jsx)(_.xv,{align:"center",color:"white",weight:"bold",children:F}),M&&26===Z&&(0,y.jsxs)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,y.jsx)(_.xu,{marginEnd:2,children:(0,y.jsx)(o.Z,{outline:!0,size:"xs",src:M.image_small_url,name:M.full_name})}),(0,y.jsx)(_.xv,{size:"sm",color:"white",children:M.full_name})]})]})}),R.isAuth&&R.isEmployee&&f?(0,y.jsx)(_.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,y.jsx)(b,{handleReport:m,viewType:u,viewParameter:p,imgSignature:x||"",isVisible:e})}):null]})})})}},313243:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);const s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function a({backgroundColor:e,children:t,coverImage:n,height:a,id:l,isHovered:d,onMouseEnter:c,onMouseLeave:u,onClick:p,url:h,width:m,disableTabIndex:g}){var f,_;const[y,x]=(0,i.useState)(!1),v=()=>{c?c():x(!0)},b=()=>{u?u():x(!1)},w=d||y;return(0,r.jsx)(o.iP,{role:"link",href:h,onBlur:b,onMouseLeave:b,onFocus:v,onMouseEnter:v,onTap:()=>{null==p||p(l)},rounding:4,tabIndex:g?-1:void 0,children:(0,r.jsx)(o.zd,{rounding:4,width:m||"100%",height:a,children:null!=n&&n.url?(0,r.jsxs)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(f=n.height)&&void 0!==f?f:1,naturalWidth:null!==(_=n.width)&&void 0!==_?_:1,role:"presentation",src:n.url,children:[(0,r.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:w?s.hoverOverlay:s.bubbleOverlay}}),"function"==typeof t?t({isHovered:w}):t]}):(0,r.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},643011:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(799092),o=n(269935),r=n(282972),s=n(535258),a=n(549135),l=n(565121),d=n(883119),c=n(785893);const u=s.xf;function p({contextLogData:e,bubbles:t,id:n,referringSource:s,slotIndex:p,storyType:h,title:m,titleIcon:g,viewType:f,viewParameter:_}){const y=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,c.jsx)(o.Z,{viewType:f,componentType:200,viewParameter:_,loggingId:n,contextLogData:{story_type:h,objectId:n,content_ids:y,...e},impressionType:"Story",slotIndex:p,children:(0,c.jsxs)(d.xu,{children:[m&&(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==l.J&&(0,c.jsx)(d.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,c.jsx)(d.JO,{accessibilityLabel:"",color:"darkGray",icon:(0,l.H)(g),size:14})}),(0,c.jsx)(d.xv,{weight:"bold",children:(0,r.Z)(m)})]}),t.map(((e,t)=>(0,c.jsx)(d.xu,{paddingY:1,flex:"none",children:(0,c.jsx)(i.Z,{bubble:e,onClick:e=>{(0,a.j)(101,{objectId:e,view:f,viewParameter:_,component:200})},referringSource:s,height:103,width:u,storyId:n,viewType:f,viewParameter:_,slotIndex:t,contextLogData:{content_ids:y,story_type:h}})},`bubble-${e.id}`)))]})})}},160277:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294);const o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},s={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t}=this.props,n={height:e,width:e},i={border:0,display:"block",background:"transparent",cursor:"pointer",...a},c={...s,...o,...this.state.hovered?r:{}};return(0,d.jsx)("button",{type:"button",style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:{...n,...c},children:(0,d.jsx)(l.xu,{rounding:"circle",children:(0,d.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}const p=u},45815:(e,t,n)=>{n.d(t,{J:()=>i,o:()=>o});const i="numSearchCloseups",o=20},527082:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:r,user:s}){const a=[o,n,e,s,r,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function o({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:o=null,rs:r="direct_navigation",scope:s="pins",selectedPinImgSig:a=null,sourceId:l=null,user:d}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:a?"personalize":null,customized_rerank_type:a?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:o,query_pin_sigs:a,redux_normalize_feed:!0,rs:r,scope:s,source_id:l,user:d}}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:r,query:s,rs:a,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:s,rs:a,scope:l,selectedPinImgSig:r,bubbleId:d,user:c})}}n.d(t,{Tb:()=>i,dM:()=>o,Ht:()=>r})},317461:(e,t,n)=>{n.d(t,{GY:()=>a,PY:()=>l,r$:()=>d,LM:()=>c});var i=n(730762),o=n(281996),r=n(549135);const s=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function a({query:e,scope:t}){return`${e}-${t}`}function l({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map((e=>null!=e?e:"")).join("-")}function d({query:e,rs:t,scope:n}){const s=i.Z.getInstance().getPreviousViewFromContext();if(!(!s.view_type&&!s.view_parameter)){const{view_type:i,view_parameter:a}=s;(0,r.j)((0,o.wF)(n),{view:i,viewParameter:a,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,r.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,r.j)(101,{component:0,element:10349,view:142})}const c=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&s.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},565121:(e,t,n)=>{n.d(t,{J:()=>i,H:()=>o});const i=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},544260:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(551687),r=n(312827),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>null;class d extends i.Component{constructor(...e){super(...e),a(this,"view",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)})),a(this,"complete",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)})),a(this,"dismiss",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)}))}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return(0,s.jsx)(o.Z,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:Object.freeze({})}):e})}return(0,s.jsx)(l,{})}}const c=(0,i.forwardRef)(((e,t)=>{const n=(0,r.Z)(e.placementId);return(0,s.jsx)(d,{...e,experienceClient:n,ref:t})}))},87657:(e,t,n)=>{n.d(t,{Z:()=>g});var i,o,r,s=n(667294),a=n(40142),l=n(855356),d=n(514319),c=n(883119),u=n(785893);class p extends s.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return(0,u.jsx)(d.Z,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:r,confirmButtonText:s,mainText:a,idealDirection:l="down"}=n,d=r&&i&&s&&o;return(0,u.jsx)(c.J2,{anchor:e,color:"blue",idealDirection:l,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,u.jsxs)(c.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,u.jsx)(c.xv,{color:"white",overflow:t,weight:"bold",children:a}),d?(0,u.jsxs)(c.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,u.jsx)(c.xu,{column:6,marginEnd:1,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(r)})}),(0,u.jsx)(c.xu,{column:6,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"white",size:"md",text:String(s),onClick:o})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}r={overflow:"breakWord"},(o="defaultProps")in(i=p)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r;var h=n(354783),m=n(312827);const g=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:o,isHidden:r,onCompleteClick:d,overflow:g,zIndex:f})=>{var _;const y=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:(0,a.useSelector)((({experiences:e})=>null==e?void 0:e.anchorExperiences)),passedExperience:o}),x=(0,m.Z)(null==y?void 0:y.placement_id),v=(null==y||null===(_=y.display_data)||void 0===_?void 0:_.delay)||0,[b,w]=(0,s.useState)(!!v);if((0,s.useEffect)((()=>{if(v>0&&b){const e=setTimeout((()=>{w(!1)}));return()=>clearTimeout(e)}return()=>{}}),[v,b]),(0,s.useEffect)((()=>{!b&&y&&x.viewExperience(y.placement_id,y.experience_id)}),[b,y]),!y||b||r)return s.Children.only(n);const S=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,l.Z)(h.Z,!0)(t)})(y),I=()=>{var e;null!==(e=y.display_data)&&void 0!==e&&e.complete_on_hover&&x.completeExperience(y.placement_id,y.experience_id)};return(0,u.jsxs)(c.xu,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[(0,u.jsx)(c.iP,{onMouseEnter:I,onTap:()=>{d&&d(),S.skipComplete||x.completeExperience(y.placement_id,y.experience_id)},children:s.Children.only(n)}),(0,u.jsx)(p,{anchor:t||null,handlePulsarCompleteOnHover:I,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),x.dismissExperience(y.placement_id,y.experience_id)},overflow:g,pulserOnly:!!S.pulserOnly,tooltip:S.tooltip,tooltipOnly:!!S.tooltipOnly,zIndex:f})]})}},390764:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(544260),r=n(514319),s=n(883119),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return(0,a.jsx)(s.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(s.xv,{color:"darkGray",weight:"bold",children:t})}),(0,a.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,a.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(s.zd,{rounding:2,height:60,children:(0,a.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{paused:!1}),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:c,fontSize:u,idealDirection:p,useMasonryFlyout:h,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:_,positionRelativeToAnchor:y,shouldTimeoutDismiss:x,showCaret:v,textAlign:b,textOverflow:w,textOverrideFn:S,textWeight:I,customizedComplete:T,pulsarZIndex:C}=this.props,E=t||(({children:e})=>h?(0,a.jsx)(s.mh,{children:e}):e),P="blue";return(0,a.jsx)(o.Z,{experienceIds:n,placementId:_,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(x&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),o.disappearTime)),(0,a.jsxs)(i.Fragment,{children:[o.has_pulsar&&(0,a.jsx)(r.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:C&&C.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?(0,a.jsx)(d,{anchor:e,dismiss:n,idealDirection:p||"down",text:o.text,thumbnails:o.thumbnail_urls}):(0,a.jsx)(E,{children:(0,a.jsx)(s.J2,{anchor:e,color:P,idealDirection:p||"down",onDismiss:m?()=>{}:n,positionRelativeToAnchor:!h&&y,shouldFocus:!1,showCaret:v,size:c,children:(0,a.jsxs)(s.xu,{column:12,padding:3,children:[(0,a.jsx)(s.xv,{align:"right"===b?"end":b,color:"white",overflow:w,size:u,weight:I||"bold",children:this.getText(o,l,S)}),o.sub_text&&(0,a.jsx)(s.xu,{paddingY:2,children:(0,a.jsx)(s.xv,{color:"white",size:u,children:o.sub_text})}),o.complete_button_cta_url&&(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{align:"right"===b?"end":b,color:"white",size:u,children:(0,a.jsx)(s.rU,{href:o.complete_button_cta_url,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:o.complete_button_text})})}),!o.complete_button_cta_url&&(o.dismiss_button_text||o.complete_button_text)&&(0,a.jsxs)(s.xu,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&(0,a.jsx)(s.xu,{marginEnd:1,column:6,children:(0,a.jsx)(s.zx,{fullWidth:!0,color:P,onClick:()=>{f&&f(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&(0,a.jsx)(s.xu,{column:o.dismiss_button_text?6:12,children:T?(0,a.jsx)(s.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,a.jsx)(s.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(s.xv,{color:"blue",weight:"bold",children:o.complete_button_text})})}):(0,a.jsx)(s.zx,{fullWidth:!0,color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),g&&g()}})})]})]})})}))]})):(t(),null))})}}c(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},924325:(e,t,n)=>{n.d(t,{L7:()=>i,Qc:()=>o,W1:()=>r,UV:()=>s,vF:()=>a,ZW:()=>l,UF:()=>d,EC:()=>c,am:()=>u});const i=1,o=2,r="female",s="male",a="unspecified",l="en-US",d="US",c=520,u={is_renux:!0,is_simple_renux:!0,steps:[{moduleName:"NuxPicker"},{moduleName:"NuxEducationLoader"}],can_exit:!0,relaunchPlacement:!1,sub_type:"modal"}},116794:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(269935),r=n(311866),s=n(549135),a=n(174523),l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"handleClick",(e=>{const{viewType:t,storyType:n}=this.props;(0,s.j)(101,{view:t,viewParameter:3535,story_type:n,objectId:e.id,component:200,element:179}),r.ZP.create("ContinuousSignalsInterestPinsResource",{interestId:e.id}).callGet({showError:!1,retries:1}).then((e=>{e.resource_response&&e.resource_response.data}))})),c(this,"renderInterest",(e=>{const t=e.best_pins_images||[],n=Math.min(3,t.length);return(0,d.jsxs)(l.xu,{width:"100%",paddingY:2,children:[n>0&&(0,d.jsx)(l.zd,{rounding:4,children:(0,d.jsx)(l.xu,{display:"flex",position:"relative",width:"100%",height:120,dangerouslySetInlineStyle:{__style:{margin:"-1px"}},children:(0,d.jsx)(l.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,n).map(((t,i)=>{var o;return(0,d.jsx)(l.xu,{width:100/n+"%",dangerouslySetInlineStyle:{__style:{margin:"1px"}},children:(0,d.jsx)(l.Ee,{alt:e.name,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(o=t.url)&&void 0!==o?o:""},i)})}))})})}),(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"between",paddingY:2,children:[(0,d.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,d.jsx)(l.xv,{align:"center",size:"lg",weight:"bold",children:e.name})}),(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:()=>this.handleClick(e),disabled:false,text:this.props.i18n._("See more","homefeed.interestStory.seeMoreButton","Button that will add more pins to Homefeed of a certain topic")})})]})]},e.id)}))}componentDidMount(){const{content:e,viewType:t,storyType:n}=this.props;(0,s.j)(13,{view:t,viewParameter:3535,story_type:n,component:200,objectId:e.featured_ids.join(",")})}render(){const{content:e,id:t,title:n,viewType:i,viewParameter:r,slotIndex:s,storyType:a}=this.props;return(0,d.jsx)(o.Z,{viewType:i,componentType:200,viewParameter:r,loggingId:t,contextLogData:{story_type:a,objectId:t,content_ids:e.featured_ids.join(",")},impressionType:"Story",slotIndex:s,children:(0,d.jsxs)(l.kC,{alignItems:"stretch",direction:"column",children:[(0,d.jsx)(l.X6,{align:"center",size:"sm",children:n}),(0,d.jsx)(l.xu,{display:"flex",direction:"column",marginTop:2,children:e.objects&&e.objects.map((e=>this.renderInterest(e)))})]})})}}function p(e){const t=(0,a.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}},504872:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(569716),o=n(174523),r=n(785893);function s(e){const t=(0,o.ZP)(),{handleComplete:n,handleDismiss:s}=e;return(0,r.jsx)(i.Z,{message:t._("Get our Chrome app for faster searching and saving","Text for banner to install Chrome PWA","Text for banner to install Chrome PWA"),dismissButtonText:t._("Not now","Dismiss button for Chrome PWA upsell banner","Dismiss button for Chrome PWA upsell banner"),completeButtonText:t._("Get the app","Confirm button to install Chrome PWA","Confirm button to install Chrome PWA"),onDismiss:s,onComplete:n,color:"darkGray"})}},374847:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(451190),o=n(174523),r=n(883119),s=n(785893);function a(e){const t=(0,o.ZP)(),{handleComplete:n,handleDismiss:a}=e,l=(0,s.jsxs)(r.xu,{flex:"grow",position:"relative",display:"flex",direction:"column",width:"100%",children:[(0,s.jsx)(r.xu,{marginBottom:-12,children:(0,s.jsx)(r.Ee,{alt:t._("Stylized Pin grid image","helpUpsellModal.headerImage.altText","Alt text for Pin grid image in help upsell modal"),naturalHeight:232,naturalWidth:804,src:"https://s.pinimg.com/help_upsell_modal_header.png"})}),(0,s.jsxs)(r.xu,{marginTop:-12,children:[(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,s.jsx)(r.JO,{accessibilityLabel:t._("Pinterest logo icon","helpUpsellModal.pinterestIcon","Accessibility label for Pinterest logo icon"),color:"red",icon:"pinterest",size:48})}),(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,s.jsxs)(r.xu,{maxWidth:522,children:[(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",paddingX:12,paddingY:4,children:(0,s.jsx)(r.X6,{align:"center",size:"lg",children:t._("Learn how to make Pinterest work for you","helpUpsellModal.heading",'Heading for modal to upsell help guides (subheading is "Check out our guide to the basics of saving Pins, sharing ideas and customizing your home feed.")')})}),(0,s.jsx)(r.xu,{paddingX:12,children:(0,s.jsx)(r.X6,{align:"center",size:"sm",children:t._("Check out our guide to the basics of saving Pins, sharing ideas and customizing your home feed.","helpUpsellModal.subHeading",'Subheading for modal to upsell help guides (heading is "Learn how to make Pinterest work for you")')})}),(0,s.jsxs)(r.xu,{display:"flex",direction:"row",justifyContent:"center",marginBottom:4,paddingY:12,children:[(0,s.jsx)(r.xu,{display:"flex",direction:"row",paddingX:1,children:(0,s.jsx)(r.zx,{accessibilityLabel:t._("Dismiss modal","helpUpsellModal.dismissButton.accessibilityLabel","Accessibility label for help upsell modal dismiss button"),onClick:a,size:"lg",text:t._("Maybe later","helpUpsellModal.dismissButton.buttonText","Accessibility label for help upsell modal confirm button")})}),(0,s.jsx)(r.xu,{display:"flex",direction:"row",paddingX:1,children:(0,s.jsx)(r.zx,{role:"link",href:"/welcome/",accessibilityLabel:t._("Continue to new user welcome guides","helpUpsellModal.confirmButton.accessibilityLabel","Accessibility label for help upsell modal confirm button"),color:"red",onClick:n,size:"lg",text:t._("Let's go","helpUpsellModal.confirmButton.buttonText","Confirm button for Chrome PWA upsell modal")})})]})]})})]})]});return(0,s.jsx)(i.Z,{accessibilityModalLabel:t._("Learn how to make Pinterest work for you","helpUpsellModal.accessibilityModalLabel","Accessible label for help upsell modal"),heading:l,onDismiss:a,size:"lg"})}},690529:(e,t,n)=>{n.d(t,{Z:()=>pe});var i=n(192845),o=n.n(i),r=n(237350),s=n.n(r),a=n(819334),l=n.n(a),d=n(372252),c=n.n(d),u=n(747401),p=n.n(u),h=n(508203),m=n.n(h),g=n(228316),f=n.n(g),_=n(153847),y=n.n(_),x=n(350635),v=n.n(x),b=n(813735),w=n.n(b),S=n(403164),I=n.n(S),T=n(792125),C=n.n(T),E=n(281043),P=n.n(E),j=n(287020),R=n.n(j),k=n(449885),A=n.n(k),O=n(485426),L=n.n(O),D=n(319124),N=n.n(D),Z=n(975481),M=n.n(Z),B=n(630419),F=n.n(B),U=n(30694),H=n.n(U),z=n(804780),G=n.n(z),V=n(614865),W=n.n(V),q=n(342913),$=n.n(q),Y=n(401712),K=n.n(Y),X=n(48287),J=n.n(X),Q=n(705242),ee=n.n(Q),te=n(856099),ne=n.n(te),ie=n(300649),oe=n.n(ie),re=n(826919),se=n.n(re),ae=n(174523),le=n(883119),de=n(785893);const ce="ms-windows-store://pdp/?productid=9PFHDSF91B9R&cid=experience_501123",ue={CS:o(),DA:s(),DE:l(),EL:c(),EN:p(),ES:m(),FI:f(),FR:y(),HU:v(),ID:w(),IT:I(),JA:C(),KO:P(),MS:R(),NB:A(),NL:L(),PL:N(),"PT-BR":M(),"PT-PT":F(),RO:H(),RU:G(),SK:W(),SV:$(),TH:K(),TR:J(),UK:ee(),VI:ne(),"ZH-CN":oe(),"ZH-TW":se()};function pe(e){const t=(0,ae.ZP)(),{handleComplete:n,language:i,locale:o}=e;let r;r=i.startsWith("zh")||i.startsWith("pt")?o.toUpperCase():i.toUpperCase();let s=ue.EN;return r in ue&&(s=ue[r]),(0,de.jsx)(le.xu,{position:"relative",paddingX:4,children:(0,de.jsx)(le.xu,{minHeight:76,rounding:4,dangerouslySetInlineStyle:{__style:{display:"grid"}},children:(0,de.jsxs)(le.xu,{display:"flex",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,de.jsxs)(le.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,de.jsx)(le.xv,{color:"darkGray",inline:!0,weight:"bold",children:t._("Want the best Pinterest? ","Text for banner to install Microsoft PWA","Text for banner to install Microsoft PWA")}),(0,de.jsx)(le.xu,{display:"inlineBlock",marginStart:1,children:(0,de.jsxs)(le.iP,{rel:"nofollow",role:"link",href:ce,onTap:n,children:[(0,de.jsx)(le.xv,{color:"darkGray",inline:!0,weight:"bold",children:t._("Get the free Pinterest desktop app","CTA for banner to install Microsoft PWA","CTA for banner to install Microsoft PWA")}),(0,de.jsx)(le.xu,{display:"inlineBlock",marginStart:2,children:(0,de.jsx)(le.JO,{accessibilityLabel:t._("Install the Pinterest desktop app on Windows","Arrow icon to go to the Windows store","Arrow icon to go to the Windows store"),icon:"arrow-circle-forward",color:"darkGray",size:20,inline:!0})})]})})]}),(0,de.jsx)(le.xu,{children:(0,de.jsx)(le.iP,{role:"link",rel:"nofollow",href:ce,onTap:n,children:(0,de.jsx)("img",{src:s,display:"inline-block",height:"36px",outline:"none",width:"135px",alt:t._("Install the Pinterest desktop app on Windows","Windows store icon alt text","Windows store icon alt text")})})})]})})})}},832290:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(174523),o=n(946753),r=n(883119),s=n(785893);function a(e){const t=(0,i.ZP)(),{experience:n}=e,{complete:a,dismiss:l}=n,d=(0,s.jsx)(r.zx,{role:"link",color:"red",size:"lg",href:"/settings/privacy",onClick:a,text:t._("Go to Settings","Complete button for aadc privacy banner","Complete button for aadc privacy banner")}),c=(0,s.jsx)(r.xu,{mdPaddingX:2,children:(0,s.jsx)(r.zx,{color:"gray",size:"lg",onClick:l,text:t._("Not now","Dismiss button for aadc privacy banner","Dismiss button for aadc privacy banner")})});return(0,s.jsxs)(r.xu,{display:"flex",direction:"column",smDirection:"row",borderStyle:"shadow",marginStart:6,marginEnd:6,alignItems:"center",justifyContent:"between",rounding:4,children:[(0,s.jsxs)(r.xu,{paddingY:7,paddingX:8,children:[(0,s.jsx)(r.xu,{column:12,smColumn:11,paddingY:1,children:(0,s.jsx)(r.X6,{size:"sm",children:t._("Your privacy matters","Header for aadc privacy banner","Header for aadc privacy banner")})}),(0,s.jsx)(r.sg,{span:12,children:(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,s.jsx)(r.xv,{inline:!0,size:"lg",children:(0,o.nk)(t._("Review your privacy and data settings and make changes anytime. Your choices give you more control over your data. {{ helpCenter }}","Body text for aadc privacy banner","Body text for aadc privacy banner"),{helpCenter:(0,s.jsx)(r.xv,{inline:!0,size:"lg",weight:"bold",children:(0,s.jsx)(r.rU,{inline:!0,href:"https://help.pinterest.com/article/your-privacy-and-data-settings",onClick:l,children:t._("Visit the Help Center to learn more","Link text for aadc privacy banner","Link text for aadc privacy banner")})})})})})})]}),(0,s.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:"end",paddingX:8,children:[c,d]})]})}},282152:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(737614);function o(){const e=i.Z.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},529110:(e,t,n)=>{n.d(t,{Js:()=>a,w9:()=>d,bh:()=>c,ax:()=>p,Hx:()=>h,P0:()=>m,j:()=>g});var i=n(41743),o=n(395047),r=n(535258),s=n(227340);const a=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=2;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return(e=>"ja"===e?23:19)(t)*n}return 0},d=e=>(0,s.eK)(e),c=(e,t=!1)=>e&&e.length>0&&!t,u=(e,t,n,i)=>{let r=0;const{description:s,vaseAnnotations:a}=d(e),l={seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2};if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!c(t)&&t&&t.length>0;return!1})(0,a,e)&&(r+=l.seeMoreButtonHeight,r+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(r+=l.productSiteTitle,r+=l.productSiteTitleTopMargin),c(a,i)&&(r+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=(0,o.Z)(e);const n=35,i=2;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(s);r+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(r+=28),r},p=(e,t,n,i=!1,o,r)=>{const a=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=(0,s.fs)(e);return l(n,t)+10})(e,t):0,d=i?0:u(e,0,0,o);return a||d?d+a+10:0},h=(e,t="orig")=>(0,i.Z)(e.images,t);function m(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map((t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)}));t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const s=h(e,"orig");if(s){var a,l;const e=Math.floor((null!==(a=s.height)&&void 0!==a?a:1)*r.xf/(null!==(l=s.width)&&void 0!==l?l:1));i=e>o?o:e}return i}},233495:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702925),o=n(641483);const r={scope:"profile email",client_id:i.Z.settings.GPLUS_CLIENT_ID,app_package_name:i.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},s=e=>((0,o.ZP)("unauth_web.gapi_auth2_load.success"),e()),a=e=>{(0,o.ZP)(`unauth_web.init_google.sdk.${e}`)},l=(e=r)=>new Promise(((t,n)=>{a("start"),window.gapi.auth2?(a("exists"),window.gapi.auth2.init(e).then((()=>s(t)))):(a("load"),window.gapi.load("auth2",{callback:()=>{a("load_success"),window.gapi.auth2.init(e).then((()=>s(t)))},onerror:()=>{a("load_error"),n()},timeout:15e3,ontimeout:()=>{a("load_timeout"),n()}}))}))},419015:(e,t,n)=>{n.d(t,{lt:()=>i,Bx:()=>o,oM:()=>r,N4:()=>s,is:()=>a});const i=e=>e._("You're almost there! Log in to access all of Pinterest","loginModal.limitedLogin.subheader","Subheader text on personalized login modal/flyout to remind users to log in"),o=e=>e._("Log in to save this Pin","limitedLogin.modalHeader.repin","Title on mobile web limited login modal to prompt users to login after they clicked save button."),r=e=>e._("Log in to edit this Pin","limitedLogin.modalHeader.editPin","Title on mobile web limited login modal to prompt users to login after they clicked edit button."),s=({i18n:e,toFollow:t})=>t?e._("Log in to follow","limitedLogin.modalHeader.follow","Title on mobile web limited login modal to prompt users to login to follow a user or board."):e._("Log in to unfollow","limitedLogin.modalHeader.unfollow","Title on mobile web limited login modal to prompt users to login to unfollow a user or board."),a=e=>e._("Log in to create a Pin or board","limitedLogin.modalHeader.create","Title on mobile web limited login modal to prompt users to login to create a Pin or board.")},998864:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(419015),r=n(848101);const s=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n,limitedLoginModalSubheader:s}=(0,r.B$)(),{shouldStopEventPropagation:a}=e,l="AUTH"===n.type,d=(0,i.ZP)();return l?e=>e:(e,n)=>e=>{let i=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?i=e:e.event&&(i=e.event)),a&&i&&i.stopPropagation&&i.stopPropagation(),t&&t.setVisible(!0),s&&(n?s.setText(n):s.setText((0,o.lt)(d)))}}},320383:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(151101),r=n(537343),s=n(138881),a=n(735588),l=n(174523),d=n(883119),c=n(785893);const u={__style:{borderRadius:"22px"}};class p extends i.Component{componentDidMount(){(0,a.vF)("render","snapshot_profile_card",120,13057)}render(){const{handlePromoteClick:e}=this.props;return(0,c.jsx)(d.xu,{"data-test-id":"createCampaignBox",dangerouslySetInlineStyle:u,overflow:"hidden",width:152,children:(0,c.jsx)(s.Z,{children:({anyEnabled:t})=>(0,c.jsx)(d.zx,{fullWidth:!0,text:t?this.props.i18n._("Boost","[m10n] button leading to create campaign","[m10n] button leading to create campaign"):this.props.i18n._("Promote","[m10n] button leading to create campaign","[m10n] button leading to create campaign"),color:"red",onClick:e,size:"sm"})})})}}function h(e){const t=(0,l.ZP)();return(0,c.jsx)(p,{...e,i18n:t})}var m=n(895507),g=n(702925),f=n(34411),_=n(616240),y=n(591365),x=n(946753),v=n(549135),b=n(302199),w=n(585967),S=n(855168);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={shortform:!0,shortform_maximum_fraction_digits:1},C={__style:{borderRadius:"22px"}};class E extends i.Component{constructor(...e){super(...e),I(this,"handlePromoteClick",(()=>{(0,a.vF)("click","snapshot_profile_card",101,13057);const{history:e,requestContext:{isManagedAdvertiser:t}}=this.props,n=(0,y.CN)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:m.Z.getSterlingURL("create"),adsUrl:null,isQuickPromote:!0});t?((0,a.h_)(),window.location.assign(n)):e.push(m.Z.getSterlingURL("quick_promote_on_www"))})),I(this,"formatMonthlyCounts",((e,t)=>e<=0?this.props.i18n._("0","homefeed.snapshotProfileCard.noMonthlyViews","text for when user has 0 monthly views"):e>=1e7?this.props.i18n._("10m+","text for number of more than 10 millions","text for number of more than 10 millions"):this.props.prettyNumberFormat(t,e,T)))}render(){const{profileCardData:{full_name:e,image_large_url:t,pin_count:n=0,profile_views:i=0},history:s,viewer:a,requestContext:l,requestContext:{locale:u}}=this.props,{username:p,domainUrl:m,domainVerified:f}=a.isAuth?a:{},y=((e,t)=>!(!e||!e.isAuth)&&(0,_.Fl)(e.country))(a);let b,w;m&&!f?b=!0:y&&n>2&&(w=!0);let S;S=e.length<=20?e:e.indexOf(" ")>=0?(0,r.ZP)(e,20):e.substr(0,20)+"...";const I=this.formatMonthlyCounts(i,u);return(0,c.jsxs)(d.xu,{wrap:!0,"data-test-id":"profileCard",display:"flex",justifyContent:"center",children:[(0,c.jsxs)(d.xu,{width:152,children:[(0,c.jsx)(d.xu,{marginBottom:0,children:(0,c.jsx)(d.Zb,{children:(0,c.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,c.jsx)(d.xu,{height:118,width:118,"aria-hidden":!0,children:(0,c.jsx)(d.iP,{rounding:"circle",fullWidth:!1,role:"link",href:`/${p}/`,onTap:()=>{(0,v.j)(101,{component:13057,element:1343})},tabIndex:-1,children:(0,c.jsx)(o.Z,{name:e,src:t})})}),(0,c.jsx)(d.xu,{"data-test-id":"businessName",flex:"grow",children:(0,c.jsx)(d.rU,{hoverStyle:"none",href:`/${p}/`,onClick:()=>{(0,v.j)(101,{component:13057,element:1342})},children:(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.X6,{size:"sm",children:S})})})})]})})}),(0,c.jsx)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",marginBottom:2,marginTop:2,children:(0,c.jsx)(d.xu,{"data-test-id":"monthlyViewsBox",flex:"grow",alignItems:"center",direction:"column",display:"flex",children:(0,c.jsx)(d.Zb,{children:(0,c.jsx)(d.rU,{inline:!0,href:g.Z.settings.ANALYTICS_MONTHLY_VIEWERS_URL,onClick:()=>{(0,v.j)(101,{component:13057,element:1347})},hoverStyle:"none",children:(0,c.jsx)(d.xv,{color:"darkGray",size:"md",inline:!0,children:(0,x.Wc)(this.props.i18n._("{{formattedMonthlyViewers}} Monthly views","homefeed.viewerCount.monthlyViewsLabel","Label for count of monthly views of a partner profile"),{formattedMonthlyViewers:I})})})})})})]}),(0,c.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[w&&(0,c.jsx)(h,{handlePromoteClick:this.handlePromoteClick}),b&&(0,c.jsx)(d.xu,{"data-test-id":"createClaimBox",dangerouslySetInlineStyle:C,overflow:"hidden",width:152,children:(0,c.jsx)(d.zx,{href:"/settings/claim",onClick:()=>{(0,v.j)(101,{component:13057,element:10733})},role:"link",fullWidth:!0,size:"sm",text:this.props.i18n._("Claim Website","button leading to claim wesbite","button leading to claim wesbite"),color:"red"})}),(0,c.jsx)(d.xu,{marginBottom:2,marginTop:2,"data-test-id":"createPinBox",dangerouslySetInlineStyle:C,overflow:"hidden",width:152,children:(0,c.jsx)(d.zx,{fullWidth:!0,size:"sm",color:w||b?"gray":"red",text:this.props.i18n._("Create Pin","Button leading to create a pin","Button leading to create a pin"),onClick:()=>{(0,v.j)(101,{component:13057,element:7143}),s.push("/pin-builder/")}})})]})]})}}function P(e){const t=(0,l.ZP)(),n=(0,f.Z)(),i=(0,S.k6)(),o=(0,w.B)(),r=(0,b.Z)();return(0,c.jsx)(E,{...e,history:i,requestContext:o,viewer:n,i18n:t,prettyNumberFormat:r})}function j({profileCardData:e}){return!!e&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(P,{profileCardData:e})})}},269307:(e,t,n)=>{n.d(t,{ZP:()=>d,Yh:()=>c,tY:()=>u});var i=n(40142),o=n(535718),r=n(34411),s=n(153155);const a=0,l=1;function d(e){var t;const n=(0,r.Z)(),i=n.isAuth&&n.id===e,s=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||i});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=s.data)||void 0===t||!t.has_quicksave_board)}}function c(e){var t;const n=(0,i.useDispatch)(),a=(0,r.Z)(),l=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,d=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id},dangerouslyDisableFetch:!l||!e});return a.isAuth&&void 0===a.save_behavior&&d&&null!==(t=d.data)&&void 0!==t&&t.id&&n((0,s.W)(d.data.save_behavior)),{showEnabledSaveBehavior:l}}function u(e){const t=(0,r.Z)();let n;return e&&(t.save_behavior===a?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},383722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(535718),o=n(855168);function r(){const{username:e}=(0,o.UO)();return(0,i.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},301769:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(311866);async function o(e,t){const{resource_response:{data:n}}=await(async()=>{const e={name:t._("Quick Saves","quickSave.defaultBoardName","Name of the auto-created board for quicksave experience saves."),layout:"quick_saves",privacy:"public",return_existing:!0};return i.ZP.create("BoardResource",e).callCreate()})();return await(async t=>i.ZP.create("RepinResource",{board_id:t,clientTrackingParams:"",description:e.description||"",is_buyable_pin:!1,is_removable:e.promoted_is_removable,link:e.link,pin_id:e.id||"",title:e.title||""}).callCreate({showError:!1}))(n.id),n}},648381:(e,t,n)=>{n.d(t,{k:()=>r,s:()=>s});var i=n(667294);const o=(0,i.createContext)(Object.freeze({})),r=o.Provider;function s(){return(0,i.useContext)(o)}},816670:(e,t,n)=>{n.d(t,{cg:()=>i,c7:()=>o,Ac:()=>r});const i=-1,o=5,r=6},963232:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(577302),o=n(129826);function r({action:e,board:t,viewer:n}){var r;return(0,i.Z)(n,t)||(0,o.Z)({board:t,viewer:n})&&!(null===(r=t.collaborator_permissions)||void 0===r||!r.includes(e))}},129826:(e,t,n)=>{function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,{Z:()=>i})},686723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(667294),o=n(294386),r=n(845555),s=n(504534),a=n(881220),l=n(174523),d=n(475446),c=n(659048),u=n(883119),p=n(785893);function h({iconColor:e,iconSize:t,backgroundColor:n,marginEnd:h,isCloseupActionBar:m,sharedObject:g}){const f=(0,l.ZP)(),_=(0,d.F9)(),[y,x]=(0,i.useState)(""),[v,b]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),I=f._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),T=e=>{m?navigator.clipboard.writeText(e).then((()=>{var e;e=f._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),_.showToast((({onHide:t})=>(0,p.jsx)(u.xu,{top:!0,children:(0,p.jsx)(a.Z,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{S(!0),setTimeout((()=>{S(!1)}),3e3)}))},C=async()=>{if(y)return void T(y);b(!0);const e={invite_category:3,invite_channel:12,object_type:g.type,object_id:g.id,name:g.name,description:g.description||"",path:g.url,picture:g.imageUrl};c.Z.createShareInviteData(e).then((t=>{const{invite_url:n}=t;b(!1),n&&(x(n),c.Z.logShareInvite(e,t),T(n))}))};return(0,p.jsxs)(s.Z,{iconSize:t,marginEnd:h||!1,children:[(0,p.jsx)(u.xu,{alignItems:m?"center":"stretch",display:m?"flex":"block",width:m?"100%":"auto",children:(0,p.jsx)(u.iP,{disabled:v,onTap:()=>{C()},children:(0,p.jsx)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,p.jsx)(o.Z,{backgroundColor:n,iconColor:e,size:t})})})}),!m&&(0,p.jsx)(r.Z,{text:w?I:f._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},134507:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);const r=e=>{const{size:t,name:n,textLayout:r}=e,s=`calc(${Math.sin((a=45,a*(Math.PI/180)))} * (${t}) / 2)`;var a;const l=(0,o.jsx)(i.qE,{name:n?[...n][0].toUpperCase():""});switch(r){case"bottomLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:s,paddingRight:s}},children:l});case"topLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:s,paddingRight:s}},children:l});default:return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:l})}};function s(e){const{collaborators:t,outline:n=!1,size:s="fit"}=e,{colorGray0:a,colorGray100:l}=(0,i.tv)(),d="fit"===s?"100%":32,c="fit"===s?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,d).map(((e,n)=>[e,t[n]]));return(0,o.jsxs)(i.xu,{color:"white",overflow:"hidden",rounding:"circle",width:d,height:c,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:`0 0 0 2px ${a}`}:{},willChange:"transform"}},children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map((([e,t={name:"",src:void 0}],n)=>{const{width:s,height:a,top:d,left:c,textLayout:u}=e,{name:p,src:h}=t;return(0,o.jsxs)(i.xu,{position:"absolute",width:s,height:a,dangerouslySetInlineStyle:{__style:{top:d,left:c}},children:[null!=h?(0,o.jsx)(i.Ee,{alt:p,color:l,src:h,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,o.jsx)(r,{name:p,textLayout:u,size:a}),(0,o.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)}))]})}},373600:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),s=n(549135),a=n(883119),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onUndoHide:d,isGroupChat:c}=e,u=async()=>{const t=o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n});await t.callDelete(),d(),(()=>{const{component:t,element:n}=e;(0,s.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(a.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(a.xv,{inline:!0,color:"gray",children:c?t._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):t._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,l.jsx)(a.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(a.zx,{onClick:({event:e})=>{e.stopPropagation(),u()},text:t._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),s=n(883119),a=n(549135),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onHide:d}=e,c=()=>{o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n}).callCreate().then((()=>{d(),(()=>{const{component:t,element:n}=e;(0,a.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.hide",1,{surface:t})})()}))};return(0,l.jsx)(s.hU,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),c()},accessibilityLabel:t._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),s=n||"#EFEFEF";return(0,i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{id:"Oval",fill:s,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),s=n||"#EFEFEF";return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:(0,i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:s,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},237574:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},415339:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Se});var i=n(667294),o=n(151101),r=n(134507),s=n(34411),a=n(237574),l=n(174523),d=n(883119),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{textValue:this.props.initialTextValue||""}),u(this,"handleSendMessage",(()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)})),u(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},s="conversation_share_suggestion"===i.type,a=s?(i.users||[]).filter((e=>e.id!==n)):[];return(0,c.jsxs)(d.xu,{paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,c.jsx)(d.xu,{height:48,paddingX:1,width:56,children:s?(0,c.jsx)(r.Z,{collaborators:a.map((e=>({name:e.full_name||e.first_name,src:e.image_large_url})))}):(0,c.jsx)(o.Z,{name:i.full_name||i.email||" ",src:i.image_large_url})}),(0,c.jsxs)(d.xu,{flex:"grow",marginStart:1,children:[(0,c.jsx)(d.xv,{weight:"bold",children:s?a.map((e=>e.first_name||e.full_name)).join(", "):i.full_name||i.email}),(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:s||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,c.jsx)(d.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function h(e){const t=(0,l.ZP)(),n=(0,s.Z)();return(0,c.jsx)(p,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var m=n(760620);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),g(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),g(this,"handleSendEmail",((e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}})),g(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),g(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return(0,c.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,c.jsx)(d.xu,{flex:"grow",children:(0,c.jsx)(d.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,c.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,c.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,c.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,m.Z)(this.state.emailValue)})})]})]})}}function _(e){const t=(0,l.ZP)();return(0,c.jsx)(f,{...e,i18n:t})}var y=n(40142),x=n(946753);function v({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=(0,l.ZP)(),s=t?r._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):r._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),a=i?(0,x.nk)(r._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):(0,x.nk)(r._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return(0,c.jsx)(d.xu,{marginBottom:4,children:(0,c.jsx)(d.iP,{onTap:()=>{t&&n()},children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:(0,c.jsx)(o.Z,{name:e})}),(0,c.jsxs)(d.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,c.jsx)(d.xv,{weight:"bold",size:"lg",children:a}),(0,c.jsx)(d.xv,{size:"sm",color:"gray",children:s})]})]})})})}var b=n(94236),w=n(373600),S=n(617629),I=n(549156);function T(e){const t=(0,l.ZP)(),{shouldShowViewChat:n,isSent:i,onClickSend:o,onViewConversation:r}=e;return(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,c.jsx)(d.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,c.jsx)(d.xu,{marginStart:1,children:(0,c.jsx)(d.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,c.jsx)(I.Z,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,c.jsx)(d.zx,{color:i?"gray":"red",disabled:i,onClick:o,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var C=n(549135);function E(e){var t,n,a;const{item:l,textFieldValue:u,onSendMessage:p,onShowSendDraft:h,onViewConversation:m,sentHistory:g}=e,[f,_]=(0,i.useState)(!1),[y,x]=(0,i.useState)(!1),[v,I]=(0,i.useState)(!1),E=l.id||"string"==typeof l.email&&l.email||"",P=E in g,j=""!==u,R=null!==(t=g[E])&&void 0!==t?t:"",k=(0,s.Z)().id||"",A="conversation_share_suggestion"===l.type,O=A?(l.users||[]).filter((e=>e.id!==k)):[],L=l.debug_reason&&l.debug_reason.readable_reason;let D="";"string"!=typeof l.full_name||l.full_name.match(/^\s*$/)?"string"!=typeof l.email||l.email.match(/^\s*$/)||(D=l.email):D=l.full_name;return f?(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,c.jsx)(w.Z,{identifier:null!==(n=l.id)&&void 0!==n?n:l.email,onUndoHide:()=>_(!1),component:13029,element:11918,isGroupChat:O.length>1})}):(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(l)},children:(0,c.jsx)(d.Zb,{onMouseEnter:()=>{x(!(j||v&&P))},onMouseLeave:()=>x(!1),children:(0,c.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:A?(0,c.jsx)(r.Z,{collaborators:O.map((e=>({name:e.full_name||e.first_name,src:e.image_medium_url})))}):(0,c.jsx)(o.Z,{accessibilityLabel:"",name:D,src:l.image_medium_url})}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,c.jsx)(d.xu,{marginBottom:1,children:(0,c.jsx)(d.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:A?O.map((e=>e.first_name||e.full_name)).join(", "):D})}),j&&L?(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:L}):"string"==typeof l.username&&(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:l.username})]}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[y&&(0,c.jsx)(d.xu,{display:"flex",marginEnd:2,children:(0,c.jsx)(S.Z,{identifier:null!==(a=l.id)&&void 0!==a?a:l.email,onHide:()=>_(!0),component:13029,element:11917})}),(0,c.jsx)(T,{shouldShowViewChat:P,isSent:v,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=u?1044:1039;(0,C.j)(101,{component:13029,element:i,entered_query:u,result_index:n+1,rs:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})})(),I(!0),p(l),x(!1)},onViewConversation:()=>m(R)})]})]})]})})}),(0,c.jsx)(b.Z.Consumer,{children:e=>{var t;return e?(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,c.jsx)(d.X6,{color:"blue",size:"sm",children:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var P=n(535718),j=n(192830);function R(e){const t=(0,l.ZP)(),{onChange:n,onSendMessage:o,onShowSendDraft:r,onShowImportContacts:s,sentHistory:a,value:u,paddingX:p}=e,{isLoaded:h}=(0,P.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{isLoaded:g}=(0,P.Z)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:u||"default"},noCache:!0}),f=(0,y.useSelector)((e=>e.social.shareSuggestions[u]||[]));(0,i.useEffect)((()=>{if(!u&&h){const e=f.length>0?7511:7512;(0,C.j)(e,{component:56,view:70,viewParameter:256})}}),[h]);const{dropdownOpen:_,conversationOpen:x}=(0,j.Z5)(),b=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),x(t),_()},w=f.map(((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:o,onShowSendDraft:r,onViewConversation:b,sentHistory:a,textFieldValue:u};return(0,c.jsx)(E,{...i},n)})),S=0===f.length&&(""===u&&!h||""!==u&&!g);return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{display:"flex",paddingX:p,position:"relative",children:(0,c.jsx)(d.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,c.jsx)(d.Um,{accessibilityLabel:t._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:n,placeholder:t._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),(0,c.jsx)(d.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new d.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,c.jsxs)(d.xu,{paddingX:p,children:[(0,c.jsx)(d.xu,{paddingY:S?2:0,children:(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:S})}),(0,c.jsxs)(d.xu,{children:[w,u&&(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.Zb,{children:(0,c.jsx)(v,{email:u,isValid:(0,m.Z)(u),onClick:()=>r({email:u,full_name:u}),showSendEmailText:!1})}),!S&&(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsx)(d.Zb,{children:(0,c.jsx)(d.iP,{onTap:s,children:(0,c.jsxs)(d.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,c.jsx)(d.xu,{paddingX:3,children:(0,c.jsx)(d.xv,{weight:"bold",children:t._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var k=n(296882),A=n(686723),O=n(252688),L=n(230457),D=n(674245);function N({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const o=t||(i?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,c.jsx)("circle",{fill:r,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,c.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:o,children:[(0,c.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,c.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,c.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,c.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var Z=n(845555),M=n(504534);function B({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:o}){const r=(0,l.ZP)(),u=(0,s.Z)();return t&&[a.d.BOARD,a.d.PINNER,a.d.USER].includes(e.type)&&u.isAuth&&(e.id===u.id||u.isEmployee)?(0,c.jsxs)(M.Z,{iconSize:i,marginEnd:!0,children:[(0,c.jsx)(d.iP,{fullWidth:!1,onTap:t,children:(0,c.jsx)(N,{backgroundColor:o,iconColor:n,size:i})}),(0,c.jsx)(Z.Z,{text:r._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var F=n(447186),U=n(855168),H=n(659048);const z="#EFEFEF",G="#333333";function V({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?z:"#1877f2";return(0,c.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[(0,c.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function W({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?z:"#0DC2FF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function q({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?z:"#25d366";return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function $({size:e=48,grayscale:t=!1}){const n=t?G:"#fff",i=t?z:"#00b900";return(0,c.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,c.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function Y({size:e=48,grayscale:t=!1}){const n=t?G:"#fff";return(0,c.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,children:[(0,c.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var K=n(181307),X=n(475446),J=n(382745);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=48,te="#111111",ne="#EFEFEF",ie={backgroundColor:"#ffffff",border:"none",padding:0},oe=new Set(["JP","TW","TH"]),re=new Set(["US","UK","CA","AU","DE"]),se=e=>{(0,D.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),L.Z)};class ae extends i.Component{constructor(...e){super(...e),Q(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Q(this,"mounted",!1),Q(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(H.Z.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))})),Q(this,"selectText",(e=>{e.target.select()}))}componentDidMount(){this.mounted=!0,this.getWhatsAppURL()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===a.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case a.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case a.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case a.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);H.Z.createShareInviteData(e).then((e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,k.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!F.Z.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),(0,C.j)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){se((()=>{H.Z.shareFacebookInvite(this.getShareOptions(5))}))}openFbMessengerDialog(){se((()=>{H.Z.shareFbMessengerInvite(this.getShareOptions(6))}))}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(H.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){H.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){H.Z.shareLineInvite(this.getShareOptions(8))}openRedditDialog(){H.Z.shareRedditInvite(this.getShareOptions(29))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n,showRedditPinShare:o,activateWebRedditPinShareExp:r,showRedditBoardShare:s,activateWebRedditBoardShareExp:a,i18n:l}=this.props;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"around",children:[n&&(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:ie,children:(0,c.jsx)($,{size:48})}),(0,c.jsx)(Z.Z,{text:l._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ie,tabIndex:"-1",children:(0,c.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,c.jsx)(q,{size:ee})})}),(0,c.jsx)(Z.Z,{text:l._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ie,children:(0,c.jsx)(V,{size:ee})}),(0,c.jsx)(Z.Z,{text:l._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!n,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ie,"data-test-id":"twitter-share-icon",children:(0,c.jsx)(W,{size:ee})}),(0,c.jsx)(Z.Z,{text:l._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&(0,c.jsx)(M.Z,{iconSize:ee,marginEnd:!1,children:this.renderEmail()})]}),(0,c.jsxs)(d.xu,{display:"flex",paddingY:4,children:[(o&&r().anyEnabled||s&&a().anyEnabled)&&(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:()=>this.handleSocialShareClick("reddit"),style:ie,children:(0,c.jsx)(Y,{size:ee})}),(0,c.jsx)(Z.Z,{text:l._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,c.jsx)(B,{backgroundColor:ne,iconColor:te,iconSize:ee,onCreatePincodeClick:t,sharedObject:e}),(0,c.jsx)(A.default,{sharedObject:e,backgroundColor:ne,iconColor:te,iconSize:ee,marginEnd:n,isCloseupActionBar:!1},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return(0,c.jsxs)(M.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:ie,children:(0,c.jsx)(O.Z,{backgroundColor:ne,iconColor:te,size:ee})})}),(0,c.jsx)(Z.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return(0,c.jsxs)(d.xu,{paddingX:t,children:[(0,c.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,c.jsx)(d.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),(0,c.jsx)(d.xu,{paddingX:2,children:this.renderShareOptions()})]})}}function le(e){const t=(0,l.ZP)(),n=(0,s.Z)(),i=(0,U.TH)(),o=n.isAuth&&oe.has(n.country),r=n.isAuth&&re.has(n.country),a=r&&(0,J.uM)(i),d=(0,K.tc)("web_auth_pin_reddit_share"),u=r&&(0,J.am)(i),p=(0,K.tc)("web_auth_board_reddit_share");return(0,c.jsx)(ae,{...e,toastManagerContext:(0,X.F9)(),viewer:(0,s.Z)(),showLineShare:o,i18n:t,showRedditPinShare:a,showRedditBoardShare:u,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:p})}var de=n(731164),ce=n(311866),ue=n(881220);function pe(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var he=n(818270);const me=(e,t)=>{const n={};return e.forEach((e=>{n[e]=t})),n};function ge(e){const t=(0,l.ZP)(),[n,o]=(0,i.useState)(!1),[r,u]=(0,i.useState)(null),[p,m]=(0,i.useState)({}),[g,f]=(0,i.useState)(""),[y]=(0,i.useState)(((e,t)=>"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType,t)),{showOneToast:x}=(0,X.F9)(),{surface:v}=(0,he.$)(),b=(0,s.Z)(),{conversationCreate:w}=(0,j.Z5)(),S=(0,j.NG)(),I=(t,n)=>{o(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,o=i.id;de.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),(0,C.j)(180,{element:276,objectId:o,conversation_id:t,pin_id:n})})(t,n)},T=e=>{de.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&x((({onHide:e})=>(0,c.jsx)(ue.Z,{variant:"error",duration:5e3,onHide:e,text:t})))},E=async(t,n,i)=>{const{sharedObject:o,sendType:r}=e,s=o.id,a={emails:n,user_ids:t,text:i,source:pe(v)};a[r]=s;const l=ce.ZP.create("ConversationsResource",a);try{const e=await l.callCreate(),i=e&&e.resource_response.data;w(i),I(i.id,"pin"===r?s:null),t.length>0?m({...p,...me(t,i.id)}):m({...p,...me(n,i.id)})}catch(d){T(d)}},P=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sharedObject:o,sendType:r}=e;let s;switch(r){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const a=s?S(t,{text:n,[s]:o.id,source:pe(v)},void 0,b):void 0;a&&a.then((()=>{I(t,"pin"===r?o.id:null),m({...p,[t]:t})})).catch((e=>{T(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?E([],[t.email],n):E([t.id],[],n),(0,C.j)(101,{component:56,element:276})},k=(t,n)=>{e.sendType!==a.d.SEARCH||n?P(t,n):ce.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const n=e.message;P(t,n)}))},A=()=>{o(!1),u(null)},{onCreatePincodeClick:O,onShowImport:L,sendType:D,sharedObject:N,isFlyout:Z,onHide:M,onExternalSend:B}=e,F="email"===r?(0,c.jsx)(_,{initialTextValue:y,isFlyout:Z,objectId:N.id,objectType:D,onCancelDraft:A,onHide:M,onSendMessage:k}):(0,c.jsx)(h,{initialTextValue:y,isFlyout:Z,objectId:N.id,objectType:D,onCancelDraft:A,onHide:M,onSendMessage:k,recipient:"object"==typeof r?r:void 0});return n?F:(0,c.jsxs)(d.xu,{color:"white",children:[(0,c.jsx)(le,{onCreatePincodeClick:O,onEmailIconClick:()=>{o(!0),u("email")},onExternalSend:B,onHide:M,paddingX:4,sharedObject:N}),(0,c.jsx)(d.xu,{children:(0,c.jsx)(R,{isFlyout:Z,onChange:({value:e})=>{f(e),(0,C.j)(4113,{component:13029,element:1043})},onHide:M,onSendMessage:k,onShowImportContacts:L,onShowSendDraft:e=>{o(!0),u(e),f("")},paddingX:4,sentHistory:p,value:g})})]})}var fe=n(294184),_e=n.n(fe),ye=n(525974);const xe=["facebook","google"];function ve(e,t){return"facebook"===e?t._("Facebook"):"twitter"===e?t._("Twitter"):"google"===e?t._("Google"):t._("Other")}function be(e){const t=(0,l.ZP)(),n=_e()("sendShare",e.network),i=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return(0,c.jsx)("a",{onClick:e.onClick,role:"button",children:(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("em",{className:"icon"}),(0,c.jsxs)("div",{className:"networkInfo",children:[(0,c.jsx)("h4",{className:"title",children:ve(e.network,t)}),i?(0,c.jsx)("div",{className:"subtitle",children:i}):null]})]})})}function we({onBack:e}){const t=(0,l.ZP)(),n=(0,s.Z)(),i=n.isAuth?n.email:null,o=xe.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected));return(0,c.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[(0,c.jsxs)("div",{className:"header",children:[(0,c.jsx)("div",{className:"backNav",children:(0,c.jsxs)("a",{onClick:e,role:"button",children:[(0,c.jsx)("span",{className:"icon"}),(0,c.jsx)("span",{className:"label",children:t._("Back")})]})}),(0,c.jsx)("div",{className:"prompt",children:t._("Upload contacts from...")})]}),(0,c.jsx)("ul",{className:"socialConnectOptions",children:o.map((e=>(0,c.jsx)("li",{style:{borderLeft:"none"},children:(0,c.jsx)(be,{email:i,network:e,onClick:()=>function(e,t){ye.Z.instance().handleConnect(e,!0,{},t)}(e,t)})},e)))})]})}function Se({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:o,onHide:r,sendType:s,sharedObject:a,viewType:l,viewParameter:u}){const[p,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>((0,C.j)(7120,{objectId:a.id,view:l,viewParameter:u}),()=>{(0,C.j)(7121,{objectId:a.id,view:l,viewParameter:u});const e=m?7493:7492;(0,C.j)(e,{view:l,viewParameter:u})})),[]);const f=()=>{h(!0)},_=()=>{h(!1)},y=()=>{g(!0)};return p?(()=>{const e=t?"SendObjectBase sendShare":"";return(0,c.jsx)("div",{className:e,children:(0,c.jsx)(we,{onBack:_})})})():(0,c.jsx)(d.xu,{overflow:"hidden",children:(0,c.jsx)(ge,{isFlyout:t,onCreatePincodeClick:n,onHide:r,onShowImport:f,onMessageSent:y,onExternalSend:o,sendType:s,sharedObject:a})})}},845555:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(988089),o=n(883119),r=n(785893);const s=({text:e})=>(0,r.jsx)(o.xv,{align:"center",size:"sm",children:(0,r.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},504534:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({iconSize:e,marginEnd:t,children:n})=>(0,o.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n})},278646:(e,t,n)=>{n.d(t,{L:()=>g,t:()=>f});var i=n(904192),o=n(73697),r=n(549156),s=n(174523),a=n(302199),l=n(946753),d=n(585967),c=n(883119),u=n(785893);function p({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function h({count:e,countFormat:t,textSize:n}){const{locale:i}=(0,d.B)(),o=(0,s.ZP)(),p=(0,a.Z)();return(0,u.jsx)(c.xv,{size:n,children:(0,u.jsx)(r.Z,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?(0,l.nk)(o.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):p(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function m({count:e,countFormat:t,ratingTextSize:n,ratingValue:r,shippingInfo:s,showDot:a}){const l=p({count:e,ratingValue:r}),{free_shipping_price:d,free_shipping_value:c}=s||{},m=l&&!!r&&(0,u.jsx)(i.Z,{rating:r,width:12});return{rating:m&&l&&!!e&&(0,u.jsx)(h,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(c)&&(0,u.jsx)(o.ZP,{freeShippingPrice:d,freeShippingValue:c,dot:a?" ":""}),stars:m}}function g({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:s}=m({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return(0,u.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,u.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[s,o&&(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&(0,u.jsx)(c.xu,{marginTop:s?1:0,children:(0,u.jsx)(c.xv,{color:"gray",size:"md",children:r})})]})}function f({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=p({count:e,ratingValue:n}),{rating:r,shipping:s,stars:a}=m({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return(0,u.jsxs)(c.xu,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[a,r,s&&(0,u.jsx)(c.xu,{marginStart:a?1:0,children:(0,u.jsx)(c.xv,{color:"darkGray",size:"lg",children:s})})]})}},344886:(e,t,n)=>{n.d(t,{Z0:()=>i,qA:()=>o,_z:()=>r,fM:()=>s,$O:()=>a,Xv:()=>l,GZ:()=>d,OE:()=>c,zX:()=>u});const i=40,o=4,r=106,s=133,a=.1,l=10,d=246,c=197,u=236},18827:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(151101),r=n(546352),s=n(269935),a=n(7713),l=n(539484),d=n(451875),c=n(549135),u=n(883119),p=n(785893);const h={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function m({productPin:e,isTopRow:t,disablePrice:n}){var i,o,r,s;if(!e)return null;const{title:a,description:l,images:d}=e||{},c=null===(i=e.rich_summary)||void 0===i?void 0:i.products,m=c&&c[0]||null,g=((null==m?void 0:m.offer_summary)||{}).price,f=d["474x"]||{};return(0,p.jsxs)(u.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,p.jsx)(u.Ee,{alt:a||l,fit:"cover",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(r=f.width)&&void 0!==r?r:1,src:null!==(s=f.url)&&void 0!==s?s:""}),!!g&&!n&&(0,p.jsx)(u.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...h}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:g})]})}const g={container:{borderRadius:`${d.Oc}px ${d.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:d}){const{action:h,id:f,objects:_,story_type:y,subtitle:x}=n,{text:v,url:b}=h,[w,S]=(0,i.useState)(!1),I=(0,i.useCallback)((()=>S(!0)),[S]),T=(0,i.useCallback)((()=>S(!1)),[S]),C=["related_domain_collage","related_products_collage"].includes(y)?1:0,E=_[0].domain;let P,j;const R={};R.story_type=y,["search_product_collage_story","shop_article_story"].includes(y)?(P=2,j=43,R.story_id=f,R.entered_query=t):"shop_brand_story"===y||"shop_brand_affinity_story"===y?(P=1,j=92,E&&(R.commerce_data=JSON.stringify({domain:E}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(y)?(P=72,j=3050):"related_domain_collage"===y?(P=72,j=3455):"related_products_collage"===y&&(P=1,j=3177);const k=x?4:2;let A,O;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(y)){const e=h.user;A=e&&(e.image_medium_url||e.image_large_url),O=e&&e.full_name}const L=e||b,D=(0,l.Z)({url:L})?"nofollow":"none";return(0,p.jsx)(s.Z,{componentType:200,contextLogData:R||{},impressionType:"Story",loggingId:y,slotIndex:d,viewParameter:j,viewType:P,children:(0,p.jsx)(u.iP,{role:"link",rel:D,href:L,onTap:()=>(0,c.j)(101,{element:372,component:200,view:P,viewParameter:j,story_type:y,...R||{}}),children:(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",onMouseEnter:I,onMouseLeave:T,dangerouslySetInlineStyle:{__style:g.container},children:[(0,p.jsxs)(u.xu,{overflow:"hidden",rounding:4,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:g.content},children:(0,p.jsx)(m,{productPin:_[C],isTopRow:!0})}),(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,p.jsx)(m,{productPin:_[C+1]}),(0,p.jsx)(m,{productPin:_[C+2]})]})]}),(0,p.jsx)(u.xu,{color:"lightGray",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:k,rounding:"pill",children:(0,p.jsxs)(u.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[x?(0,p.jsx)(u.xu,{marginBottom:1,children:(0,p.jsx)(u.xv,{align:"start",color:"gray",children:x.format})}):null,(0,p.jsx)(u.xv,{align:"start",weight:"bold",children:v})]})}),O&&A&&(0,p.jsx)(u.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,p.jsx)(o.Z,{name:O,size:"md",src:A,outline:!0})}),(0,p.jsx)(a.Z,{visibility:w?"visible":"none",children:(0,p.jsx)(r.Z,{additionalStyles:g.visualOverlay})})]})})})}},94236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)(!1)},172738:(e,t,n)=>{n.r(t),n.d(t,{SendButton:()=>u,default:()=>p});var i=n(533127),o=n(975151),r=n(883119),s=n(785893);const a={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:l}){return(0,s.jsx)(o.Z,{children:({active:o,focused:d,hovered:c,onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:f})=>{let _={borderRadius:24};if(c){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";_={..._,backgroundColor:e}}if(o){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";_={..._,backgroundColor:e}}return d&&(_={..._,...a}),(0,s.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:f,onClick:i,children:(0,s.jsx)(r.xu,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:_},children:(0,s.jsxs)(r.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&(0,s.jsxs)(r.xu,{children:[(0,s.jsx)(r.JO,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),(0,s.jsx)(r.xu,{paddingX:3})]}),(0,s.jsx)(r.xv,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var d=n(174523),c=n(255539);const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:o,isSVG:r,iconOnly:a})=>{const c=(0,d.ZP)(),u="icon"===e,p=r&&o?o:"share",h={accessibilityLabel:c._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:p};return u?(0,s.jsx)(i.Z,{...h,isSVG:r,iconOnly:a,iconColor:t}):(0,s.jsx)(l,{...h,buttonColor:"lightGray",buttonText:c._("Send","Text for button to send this pin","Text for button to send this pin")})},p=c.Z.makeSendShareButton(u)},101161:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(584489),o=n(6582),r=n(784655);const s=({pin:e,viewParameter:t,viewType:n})=>{const{id:s,videos:a}=e,l=(0,r.VX)(e),d=(0,r.jL)(e);let c;if((0,r.iR)(a)&&a){const{video_list:e={}}=a,t=e[Object.keys(e)[0]];c=t&&t.duration}return()=>{i.Z.instance.dispatch((0,o.c)({id:s,isProduct:l,isPromoted:d,videoDuration:c,viewParameter:t,viewType:n,type:"pin"}))}}},432921:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(965035),o=n(174523),r=n(883119),s=n(785893);function a({duration:e}){const t=(0,o.ZP)();return(0,s.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(r.JO,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.xv,{color:"white",size:"sm",lineClamp:1,children:(0,i.Z)(e)})})]})}},727407:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(23279),r=n.n(o),s=n(102156);var a=n(30494),l=n(80078),d=n(549135),c=n(748455),u=n(883119),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",_={rootMargin:f,threshold:g},y={rootMargin:f,threshold:l.iM},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function v(){return(new Date).getTime()}function b(e){return!!e.volume&&e.volume>0}class w extends i.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,i.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,o=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const o of i){const i=o*n;if(e<=i&&t>i)return o}return null}(this.videoTime,i,this.currentInterval.videoDuration,m);if("number"==typeof o&&this.props.playing&&!t&&n){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],o=t[n+1];if(null==o)return i;if(i<=e&&e<o)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:x.PAUSED}):this.startNewInterval({viewability:i}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=v();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:b(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};b(e)&&!b(this.props)?n.isAudible=!1:!b(e)&&b(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:o,windowHeight:r,windowWidth:s,viewability:a,...l}=t;if(null!=i&&null!=o&&null!=r&&null!=s&&null!=a){const t={...l,height:i,width:o,windowHeight:r,windowWidth:s,viewability:a};(0,d.j)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:o,videoEndTime:r,isAudible:s,height:a,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},...g}=e;return{...g,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:o,endVideoTime:r,isAudible:s,height:a,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=v();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:h,controls:m,cropHeight:g,hlsConfig:f,inAdsDesktopVideoExperiment:x,isAutoPlay:v,loop:b,objectFit:w,onLoadedChange:S,onPause:I,onPlay:T,onSeek:C,onVolumeChange:E,playbackRate:P,playing:j,playsInline:R,poster:k,preload:A,rootMargin:O,src:L,surface:D,videoStartTime:N,volume:Z}=this.props,{seeking:M}=this.state,B=x?y:_;return void 0!==O&&(B.rootMargin=D?(0,a.e)(D):O),(0,p.jsx)(s.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(u.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,p.jsx)(c.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:h,controls:m,hlsConfig:f,isAutoPlay:v,loop:b,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:S,onLoop:this.handleLoop,onPause:I,onPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:C,onTimeChange:this.handleTimeChange,onVolumeChange:E,playbackRate:P,playing:!M&&j,playsInline:R,poster:k,preload:A,src:L,videoStartTime:N,visible:this.visible,volume:Z})})})}}h(w,"defaultProps",u.nk.defaultProps)},647560:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(40142),r=n(484898),s=n(727407),a=n(974780),l=n(80078),d=n(81260),c=n(731164),u=n(172738),p=n(549135),h=(n(255539),n(174523)),m=n(883119),g=n(785893);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},y={overlay:{__style:{backgroundColor:"#000"}}};class x extends i.PureComponent{constructor(...e){super(...e),f(this,"setSendButton",(e=>{this.sendButton=e})),f(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),c.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),f(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),(0,p.j)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})})),f(this,"handleExternalSend",(()=>{c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),f(this,"renderReplayButton",(()=>(0,g.jsx)(m.iP,{onTap:this.handleRestartVideo,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})}))),f(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(u.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.iP,{onTap:this.handleShareVideo,rounding:2,children:(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})}))}componentDidMount(){const{pinId:e}=this.props;c.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),(0,p.j)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:y.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,g.jsxs)(m.xu,{position:"absolute",children:[(0,g.jsx)(m.xu,{children:this.renderShareButton()}),(0,g.jsx)(m.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function v(e){const t=(0,h.ZP)();return(0,g.jsx)(x,{...e,i18n:t})}const b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=(0,h.ZP)();return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:y.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,g.jsx)(m.xu,{children:(0,g.jsx)(m.iP,{onTap:i,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:r._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:r._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})};var w=n(136686),S=n(226806),I=n(552443),T=n(428568),C=n(32529);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),E(this,"state",{controls:"always"===this.props.showControls,duration:0,fullscreen:!1,playing:!r.Z.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),E(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!a.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:a.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(w._z),i.addSubspan("perceived_video_load",null,a.Z.now()),i.metricId.segment===w.zc&&i.removeConstraint(w.pM))})),E(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:r}=n&&i||o||{},s=(a=e||r)&&document.querySelector(`video[poster="${a}"]`)||null;var a;4===(null==s?void 0:s.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),E(this,"componentDidUpdate",((e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&"hover"===this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1})})),E(this,"handleTouch",(()=>{const{seeking:e}=this.state;e||this.setState((e=>({playing:!e.playing})))})),E(this,"handleShowControls",(()=>this.setState({controls:!0}))),E(this,"handleHideControls",(()=>this.setState({controls:!1}))),E(this,"handleReady",(()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})})),E(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:o,onEnded:r}=this.props;var s;e.stopPropagation(),o||(this.setState({playing:!1}),(s=t)&&s.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()})),E(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),E(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),E(this,"handleDurationChange",(({duration:e})=>{this.setState({duration:e})})),E(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),E(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),E(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),E(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),E(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),E(this,"handleVolumeChange",(({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})})),E(this,"exitFullscreen",(()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),E(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:s}=this.props,a={gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:""};return i?(0,g.jsx)(b,{...r}):(0,g.jsx)(v,{...a,...o})}))}render(){const{autoplay:e,contextLogData:t={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:n,isPromoted:i,loop:o,onTimeChange:a,objectFit:c,preferMp4:u,preload:p,storyPinContext:h,showControls:f,variant:_,video:y,videoStartTime:x}=this.props;t.is_closeup_video=!0;const{controls:v,fullscreen:b,playing:w,showEndCard:S,volume:I}=this.state,T=r.Z.isSafari(),C=y.hlsv3||y.hls||null,{ideaPinSessionId:E}=h||{};if(!C&&!y.mp4)return null;const P=y.mp4,j=u&&P&&P.url||C&&[{type:"video/m3u8",src:C.url}]||void 0,{height:R,thumbnail:k,width:A}=u&&P||C||{},O=n||k;let L;return L="default"===_?0:"storyPin"===_?d.yR:2,(0,g.jsx)(m.zd,{willChangeTransform:!(T&&b),rounding:L,wash:!0,children:S?this.renderCloseupVideoEndCard(null!=O?O:"",null!=R?R:1,null!=A?A:1,i):(0,g.jsx)(m.iP,{onMouseEnter:"hover"===f?this.handleShowControls:void 0,onMouseLeave:"hover"===f?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,g.jsx)(s.Z,{contextLogData:{...t,...E&&{idea_pin_session_id:E},video_id:this.props.video.id,video_play_type:"video"},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=A?A:1)/(null!=R?R:1),captions:"",controls:v,hlsConfig:{startLevel:l.VS},isAutoPlay:!!e,objectFit:c,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:a,onVolumeChange:this.handleVolumeChange,preferMp4:u,playing:w,preload:p,poster:O,src:j,videoStartTime:x,volume:I,loop:o})})})}}E(P,"defaultProps",{loop:!1,showControls:"hover"});const j=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:s}=o;let a=null;return a=i?s[n]:r[n],{videoStartTime:a?a.currentTime:null,isPlaying:!a||!a.paused}}),((e,t)=>({setCurrentVideo:t=>e((0,C.jt)(t))})))((function(e){const t=(0,h.ZP)(),n=(0,T.g)(),i=(0,S.EV)(),o=(0,I.c)();return(0,g.jsx)(P,{...e,i18n:t,pwtSurfaceContext:i,storyPinContext:o,storyPinStepStopwatch:n})}))},852474:(e,t,n)=>{n.d(t,{t:()=>o,Z:()=>r});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},28745:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},30494:(e,t,n)=>{n.d(t,{e:()=>i});const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const o=document.querySelector('[data-root-margin="search-one-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},756169:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(302199),o=n(585967),r=n(785893);const s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:s,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:d,value:c})=>{const u=(0,i.Z)();return(0,r.jsx)(o.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:s,shortform_maximum_fraction_digits:a,style:l,uplimit:d})})}},569716:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(454690),o=n(155656),r=n(418190),s=n(174523),a=n(635691),l=n(883119),d=n(785893);function c({color:e,completeButtonText:t,completeUrl:n,dismissButtonText:c,experienceId:u,external:p,message:h,onComplete:m,onDismiss:g,onRender:f}){const _=(0,s.ZP)();f&&f();const y=({event:e})=>{10202===u&&a.Z.instance().subscribe(),m&&m(e)},x=({event:e})=>{i.Z.trackEvent("nag","click_close"),g&&g(e)},v=h&&!t,b=500735===u,w=t&&(!n||b)&&(0,d.jsx)(l.zx,{color:"white",onClick:y,text:t}),S=t&&n&&(0,d.jsx)(r.Z,{accessibilityLabel:t,rounding:6,url:n,onClick:e=>y({event:e}),external:p,children:(0,d.jsx)(l.xu,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:(0,d.jsx)(l.xv,{align:"center",color:e,weight:"bold",children:t})})},"naglink"),I=c&&g&&(0,d.jsx)(l.xu,{mdPaddingX:2,children:(0,d.jsx)(l.zx,{color:e&&"darkGray"!==e?"transparent":"gray",onClick:x,text:c})}),T=v&&!b&&g&&(0,d.jsx)(l.hU,{accessibilityLabel:_._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:x,icon:"cancel"});return(0,d.jsxs)(l.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{column:12,smColumn:v?11:8,children:(0,d.jsxs)(l.xv,{color:"white",weight:b?"normal":"bold",children:[(0,d.jsx)(o.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,d.jsx)("div",{className:"Banner--message",children:(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"end",children:[I,w||S,T]})]})}},326149:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(975151),o=n(785893);const r=e=>{const{accessibilityLabel:t,children:n,className:r,dataTestId:s,onClick:a,onMouseEnter:l,onMouseLeave:d,style:c}=e;return(0,o.jsx)(i.Z,{children:({active:e,focused:i,hovered:u,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:f,onMouseUp:_})=>(0,o.jsx)("button",{"data-test-id":s,"aria-label":t,style:c,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:e=>{g(),l&&l(e)},onMouseLeave:e=>{f(),d&&d(e)},onMouseUp:_,onClick:a,className:r,children:n({active:e,focused:i,hovered:u})})})}},313949:(e,t,n)=>{n.d(t,{i:()=>a,Z:()=>l});var i=n(667294),o=n(762803),r=n(785893);const{Provider:s,useHook:a}=(0,o.ZP)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1);return(0,r.jsx)(s,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},975151:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(8742);function o({children:e}){return e((0,i.Z)())}},475446:(e,t,n)=>{n.d(t,{Zo:()=>o,F9:()=>r,Cl:()=>s});var i=n(762803);const{Provider:o,useHook:r,HOC:s}=(0,i._D)("toastManagerContext")},59737:(e,t,n)=>{n.d(t,{EP:()=>o,u7:()=>r,RQ:()=>s});var i=n(762803);const{Provider:o,useHook:r,HOC:s}=(0,i._D)("legacyServerContext")},418190:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(87657),r=n(736342),s=n(268648),a=n(215828),l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,d.jsx)(o.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t;class p extends i.Component{constructor(...e){super(...e),c(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),c(this,"anchorElementRef",(0,i.createRef)()),c(this,"handleBlur",(()=>this.setState({focused:!1}))),c(this,"handleFocus",(()=>this.setState({focused:!0}))),c(this,"handleMouseDown",(()=>this.setState({active:!0}))),c(this,"handleMouseEnter",(()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})})),c(this,"handleMouseLeave",(()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})})),c(this,"handleMouseUp",(()=>this.setState({active:!1})))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:n,children:i,onClick:o,onNavigationHandler:s,rounding:a="pill",tabIndex:c=0,url:p}=this.props,{active:h,focused:m,hovered:g}=this.state,f="pill"===a?2:1,_="circle"===a?48:"";return(0,d.jsx)(u,{anchorElementRef:this.anchorElementRef,experienceAnchor:t,children:(0,d.jsx)(l.iP,{accessibilityLabel:e,href:p,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==o||o(e),s({event:e})},rel:n?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:a,tabIndex:c,children:(0,d.jsx)(r.Z,{active:h,focused:m,justBgFocused:!0,hovered:g,rounding:a,children:(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",direction:"pill"===a?void 0:"column",height:_,justifyContent:"center",padding:f,position:"relative",rounding:a,width:_,children:i})})})})}}function h(e){const t=(0,s.Z)({href:e.url,onHistoryChange:a.Jd});return(0,d.jsx)(p,{...e,onNavigationHandler:t})}},736342:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);function r(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function s(e){const{active:t=!1,borderRadius:n,children:s,focused:a=!1,justBgFocused:l=!1,hovered:d=!1,rounding:c,hoverBgColor:u,bgColor:p="transparent",size:h="lg"}=e,m=t?{backgroundColor:"transparent"===p?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,g=!d||a||t?null:{backgroundColor:r(u,p)},f=a?{backgroundColor:r(u,p),outline:"0",...l?{}:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)"}}:null;let _;if("circle"===c)switch(h){case"xs":_=24;break;case"sm":_=32;break;case"md":_=40;break;case"lg":_=48;break;case"xl":_=56;break;default:_=48}const y=_,x={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[p],...g,...m,...f,...n?{borderRadius:n}:{}};return(0,o.jsx)(i.xu,{rounding:c,dangerouslySetInlineStyle:{__style:x},height:_,width:y,children:s})}},32529:(e,t,n)=>{n.d(t,{LX:()=>i,jt:()=>o,D8:()=>r,Dm:()=>s,_L:()=>a,Sg:()=>l,Sp:()=>d});const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function s(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function a(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function d(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},752430:(e,t,n)=>{function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function s(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function a(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function l(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function d(e,t,n=!1,i=!1,o={},r=!1,s){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:s}}}function c(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function u(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function p(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function h(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function m(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,{JT:()=>i,Yh:()=>o,zN:()=>r,vr:()=>s,qb:()=>a,Uk:()=>l,V_:()=>d,WG:()=>c,ru:()=>u,Ky:()=>p,jE:()=>h,$8:()=>m})},411221:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:()=>i})},158276:(e,t,n)=>{n.d(t,{Nq:()=>r,H5:()=>s,Q_:()=>a,bJ:()=>l,HL:()=>d});var i=n(311866),o=n(924325);function r(e){const{updateUserData:t}=e,n={};let r=null;if(t.gender&&[o.W1,o.UV].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.customGender=t.custom_gender,n.gender=o.vF),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){const{account_type:e,advertising_intent:n,business_name:i,business_goals:o,enable_profile_message:s,enable_profile_address:a,selected_ecommerce_platforms:l}=t;r={...n?{advertising_intent:n}:{},...e?{account_type:e}:{},...i?{business_name:i}:{},...o?{business_goals:o}:{},...s?{enable_profile_message:s}:{},...a?{enable_profile_address:a}:{},...l?{selected_ecommerce_platforms:l}:{}}}r&&(n.partner=r,r.business_name&&(n.firstName=r.business_name));const s=i.ZP.create("UserSettingsResource",t).callUpdate();return function(e,t){return s.then((t=>(e({type:"UPDATE_USER_SET",payload:n}),t)))}}function s(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:{firstHomeFeedRequestAfterNux:e}}}function a(e,t){return n=>{i.ZP.create("UserStateResource",{state:e,value:t}).callCreate()}}function l(e,t=""){return n=>i.ZP.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}function d(e){return t=>i.ZP.create("OrientationContextResource",e).callCreate()}},224982:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,{Z:()=>i})},698602:(e,t,n)=>{function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{NA:()=>i,I1:()=>o,ZP:()=>r,Ib:()=>s,i0:()=>a,b9:()=>l,yj:()=>d})},189299:(e,t,n)=>{function i(e){return{type:"PIN_QUICK_SAVE",payload:e}}function o(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{d:()=>i,X:()=>o})},6582:(e,t,n)=>{function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:s}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:s}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,{c:()=>i,O:()=>o})},153155:(e,t,n)=>{n.d(t,{W:()=>o,Y:()=>r});var i=n(311866);function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))}))}},920763:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});const i={USER_FOLLOW:"USER_FOLLOW"},o={USER_BLOCK:"USER_BLOCK"}},289605:(e,t,n)=>{n.d(t,{ZN:()=>a,yA:()=>l,fv:()=>d,KF:()=>c});var i=n(311866),o=n(920763);function r(e,t){return i.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function s(e,t){return{type:o.F.USER_FOLLOW,payload:{id:e,value:t}}}function a(e,t=null){return n=>{r(e,t).callCreate().catch((()=>n(s(e,!1)))),n(s(e,!0))}}function l(e,t=null){return async n=>{n(s(e,!0)),await r(e,t).callCreate().catch((t=>{throw n(s(e,!1)),t}))}}function d(e,t=null){return n=>{r(e,t).callDelete().catch((()=>n(s(e,!0)))),n(s(e,!1))}}function c(e,t=null){return async n=>{n(s(e,!1)),await r(e,t).callDelete().catch((t=>{throw n(s(e,!0)),t}))}}},613330:(e,t,n)=>{n.d(t,{DV:()=>a,zX:()=>c,ZP:()=>u});var i=n(317461),o=n(527082),r=n(881219),s=n(451104);const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},l={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:a.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:(0,r.OV)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:s,query:l,user:d},response:c})=>{var u;return{type:a.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:l,selectedPinImgSig:s,scope:n,user:d}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,i.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({response:e})=>{var t;return{type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(t=e.resource_response.data)||void 0===t?void 0:t.tabs)||[]}},RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},d={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function c(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}const u=(e=d,t)=>{switch(t.type){case s.zP:case s.aW:{var n;const{payload:i}=t,o=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const r=l[i.resource](i);if(r){const{type:n,id:i,items:l,reversed:d}=r;let c=(l||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));d&&(c=c.reverse());const u=e[n][i];if(u||t.type!==s.aW){const o=u||[];let r=c;return t.type===s.aW&&(r=d?c.concat(o):o.concat(c)),{...e,[n]:{...e[n],[i]:r}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:s}}=t,l=e[n]||{},d=l[i]||[];let u=-1,p=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex((e=>e.type===o&&e.id===s)),p=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[n]:{...l,[i]:c(d,u,p)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:r,itemIds:s=[]}}=t,l=e[n]||{},d=l[i];if(d&&d.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))})),a=!!t.find((e=>"pin"===e.type));return{...e,[n]:{...l,[i]:a?t:[]}}}if(d&&d.length>0&&n===a.BOARD_SECTIONS){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}if(d&&d.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:r=[],prepend:s}}=t,l=e[n]||{},d=l[i];if(d&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=r.map((e=>({id:e,type:o})));let s=0;"story"===(d[0]||{}).type&&(s=1),"story"===(d[1]||{}).type&&(s=2);const a=[...d.slice(0,s),...t,...d.slice(s)];return{...e,[n]:{...l,[i]:a}}}if(d&&n===a.BOARD_SECTIONS){const t=[...r].reverse().map((e=>({id:e,type:"board_section"}))),o=d?[...t,...d]:[...t];return{...e,[n]:{...l,[i]:o}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=r.map((e=>({id:e,type:o}))),a=d?[...s?t:d,...s?d:t]:t;return{...e,[n]:{...l,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=r.map((e=>({id:e,type:o}))),s=d?[...t,...d]:t;return{...e,[n]:{...e[n],[i]:s}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=e[n]||{};if(o[i])return{...e,[n]:{...o,[i]:null}};break}}return e}},881219:(e,t,n)=>{n.d(t,{OV:()=>i,M0:()=>o,$k:()=>r});const i=(e,t)=>`${e}:${t||""}`,o=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],r=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},604213:(e,t,n)=>{n.d(t,{Z:()=>o});const i=e=>e.startsWith("enabled")||e.startsWith("employee");class o{constructor(e={},t={},n=!1){var i,o,r;r=!1,(o="useBatching")in(i=this)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},202923:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(604213);class o extends i.Z{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},74339:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(177979),o=n(311866),r=n(604213);class s extends r.Z{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,r){const s={add_to_experiment:!!t,experiment_name:e};if(r&&(s.override_group=r),n&&(s.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new i.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(s);else{o.ZP.create("ActivateExperimentResource",s).callCreate({showError:!1})}}}},920349:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(164215);function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.Z(t,n,o)}}},164215:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(74339).Z},155656:(e,t,n)=>{n.d(t,{Z:()=>r});n(441143);var i=n(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...r}=e,s=String(t||"")||n||"";return!!s?(0,i.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(o.factory(s))}}):null}},549156:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{children:t,display:n,id:r}=e;return(0,o.jsx)(i.xu,{"data-test-id":r,display:n,children:t})}},966427:(e,t,n)=>{n.d(t,{o:()=>i,u:()=>o});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}}},799881:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(296882),o=n(641483);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,o.ZP)("setting_new_window_location")}),0),window.location.href=t,window}}},205794:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(799881),o=n(508841),r=n(641483);const s=e=>{(0,o.Z)(e)||(e="/",(0,r.ZP)("url_reset")),(0,i.Z)(e,!1)}},463080:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},925311:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class o{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):o.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):o.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):o.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):o.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=o.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportGoogleConversion(i.id,i.label,i.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,s,a;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(s=n.createElement(i)).async=!0,s.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,a)),window.fbq("init",e),window.fbq("track","PageView");const l=o.queuedFacebookConversions;for(let d=0;d<l.length;d+=1){const t=l[d];t.id===e&&(t.isCustomEvent?o.reportCustomFacebookConversion(e,t.event,t.data):o.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,o,r,s;t=window,n=document,i="script",t.twq||((o=t.twq=function(){o.exe?o.exe.apply(o,arguments):o.queue.push(arguments)}).version="1.1",o.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,s)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportPinterestConversion(e,i.event,i.data)}}}i(o,"queuedGoogleConversions",[]),i(o,"queuedFacebookConversions",[]),i(o,"queuedPinterestConversions",[]),i(o,"queuedTwitterConversions",[]);const r=o},616240:(e,t,n)=>{n.d(t,{dl:()=>d,Fl:()=>u,IC:()=>p,GG:()=>h,tW:()=>m,Pw:()=>g,k3:()=>f,su:()=>_});var i=n(300970),o=n(593482),r=n(221469),s=n(580849);const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],l=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],d=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],c=["US","CA"],u=e=>{if(l.includes(e.toUpperCase())){const e=s.K.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return a.includes(e.toUpperCase())},p=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach((e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}})),i},h=e=>!!e&&c.includes(e.toUpperCase()),m=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),g=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=(0,r.ru)("/business/convert",{next:t});e.push(n)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(n))},f=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},_=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,i.Z)(null,e)},589444:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(657121),o=n(444488);function r({pin:e,shouldUnifyImageSizes:t,additionalImages:n}){const r=(0,i.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return r&&n&&n.length>0?(0,o.Z)(null,n,e.carousel_data&&e.carousel_data.index,t,r.id):r&&r.additional_images&&r.additional_images.length>0?(0,o.Z)(e.images,r.additional_images,e.carousel_data&&e.carousel_data.index,t,r.id):e&&e.carousel_data}},215484:(e,t,n)=>{function i(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:()=>i})},444488:(e,t,n)=>{n.d(t,{Z:()=>r});const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function r(e,t,n,i,r){const s=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...s]:s;return{carousel_slots:i?o(a):a,index:n||0,id:r}}},457175:(e,t,n)=>{n.d(t,{B:()=>o,v:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ContextLogger")},304966:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(457175);const o=()=>(0,i.v)().logContextEvent},44062:(e,t,n)=>{n.d(t,{I:()=>l,s:()=>a});var i=n(667294),o=n(762803),r=n(785893);const{Provider:s,useHook:a}=(0,o.ZP)("View");function l({children:e,initialState:t={}}){const[n,o]=(0,i.useState)(t),a=(0,i.useCallback)((()=>o({})),[]);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(s,{value:{...n,clearViewContextData:a,setViewContextData:o},children:e})})}},980767:(e,t,n)=>{n.d(t,{DH:()=>i,FS:()=>o,UK:()=>r,F4:()=>s,VL:()=>a,N9:()=>l,v6:()=>d,N1:()=>c});const i=1e3,o=60*i,r=60*o,s=24*r,a=7*s,l=30*s,d=31*s,c=365*s},848101:(e,t,n)=>{n.d(t,{I7:()=>l,B$:()=>d,Cw:()=>s,c4:()=>a});var i=n(667294),o=n(762803);const r=(0,i.createContext)(null),s=()=>(0,i.useContext)(r),a=r.Provider,{Provider:l,useHook:d}=(0,o.ZP)("DesktopCoreLogin")},292900:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(731164),r=n(372833);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,n=this.props.type||"secondary";(0,r.B)({errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},551687:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(292900).Z},396893:(e,t,n)=>{n.d(t,{sH:()=>r,HI:()=>s,hm:()=>a,f8:()=>l});var i=n(883119),o=n(785893);const r=({children:e})=>(0,o.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),s=({children:e})=>(0,o.jsx)(i.xu,{padding:2,children:e}),a=({children:e})=>(0,o.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,o.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},798918:(e,t,n)=>{n.d(t,{zn:()=>i,q4:()=>o,Mf:()=>x});const i=e=>["feed_card_default","feed_card_video"].includes(e),o=2/3,{LEFT:r,CENTER:s,RIGHT:a}={LEFT:0,CENTER:1,RIGHT:2},l={[r]:"start",[s]:"center",[a]:"end"},{SMALL:d,MEDIUM:c,LARGE:u}={SMALL:0,MEDIUM:1,LARGE:2,EXTRA_LARGE:3},p={web:{[d]:"16",[c]:"20",[u]:"24"},mweb:{[d]:"12",[c]:"16",[u]:"18"}},{ITALICS:h,NORMAL:m}={NORMAL:0,ITALICS:1},g={[h]:"italics",[m]:"normal"},{BOLD:f,NORMAL:_}={NORMAL:0,BOLD:1},y={[f]:"bold",[_]:"normal"},x=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:o},r)=>({color:e,fontStyle:g[null!=t?t:0],fontWeight:y[null!=n?n:1],horizontalAlignment:l[null!=i?i:0],fontSize:p[r][null!=o?o:0]+"px"})},944163:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>o,mR:()=>r,_4:()=>s,iY:()=>a,Ib:()=>l});const i="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE",l="EXPERIENCE_RESOURCE_UPDATED"},50351:(e,t,n)=>{n.d(t,{xW:()=>r,NW:()=>s,Yb:()=>a,OD:()=>l,cL:()=>d,fQ:()=>c});var i=n(311866),o=n(944163);const r=(e,t,n)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:n}}),s=e=>t=>i.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n})),a=(e,t,n)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:o._4,payload:{experiences:e}}),d=e=>({type:o.mR,payload:{experiences:e}}),c=e=>({type:o.Ib,payload:{placementId:e}})},514319:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);function s({anchor:e,children:t,zIndex:n}){const s=(0,i.useRef)(null),[a,l]=(0,i.useState)(0),[d,c]=(0,i.useState)(0),{height:u,width:p}=e.getBoundingClientRect();return(0,i.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(u,p,e,n);l(i),c(o)}}),[u,p,s.current]),(0,r.jsx)(o.xu,{position:"absolute",zIndex:n?new o.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:d}},ref:s,children:t})}const a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:a,size:l,zIndex:d}=e;return t?(0,r.jsx)(s,{anchor:t,zIndex:d,children:(0,r.jsx)(o.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:(0,r.jsx)(o.o3,{paused:a,size:l})})}):null}},151101:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function s({accessibilityLabel:e,name:t,outline:n,size:s,src:a,verified:l}){return(0,o.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:s,src:r(a,t)?void 0:a,verified:l})}},451190:(e,t,n)=>{n.d(t,{b:()=>l,Z:()=>d});var i=n(667294),o=n(241933),r=n(51610),s=n(883119),a=n(785893);const l=new s.Ry(1e3);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:f,role:_,size:y,subHeading:x}){(0,i.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,a.jsx)(s.mh,{zIndex:l,children:(0,a.jsx)(r.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,a.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{o.Z.resume(),f()},role:_,size:y,subHeading:x,children:p})})})}},881220:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(500953),r=n(16539),s=n(883119),a=n(785893);function l({button:e,dataTestId:t,duration:n=2e3,href:l,iconThumbnail:d,imageUrl:c,onClick:u,onHide:p,openNewPage:h,text:m,thumbnailShape:g="square",variant:f="default"}){const[_,y]=(0,i.useState)(!1),[x,v]=(0,i.useState)(!1),b=(0,i.useRef)(),w=()=>{y(!0),b.current=setTimeout(p,r.V)},S=()=>{b.current&&clearTimeout(b.current)},I=()=>{b.current=setTimeout(w,n)};(0,o.Z)((()=>(setTimeout((()=>v(!0)),100),I(),S)));const T="string"==typeof m?m:`${m[0]} ${m[1]}`,C=c?(0,a.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.Ee,{alt:T,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,E=(0,a.jsx)(s.FN,{button:e,text:m,thumbnail:null!=d?d:C,thumbnailShape:g,variant:f});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,r.Z)(x,_)},"data-test-id":null!=t?t:"toast",onMouseEnter:S,onMouseLeave:I,children:l?(0,a.jsx)(s.iP,{role:"link",href:l,onTap:({event:e})=>null==u?void 0:u(e),target:h?"blank":null,rounding:"pill",children:E}):E})}},16539:(e,t,n)=>{n.d(t,{V:()=>i,Z:()=>o});const i=200,o=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},174523:(e,t,n)=>{n.d(t,{oz:()=>r,q6:()=>o,ZP:()=>a});var i=n(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.ZP)("i18n"),a=s},302199:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523);const o=(e,t)=>{const n=t||0,i=10**n,o=+(n?e*i:e).toFixed(8),r=Math.floor(o),s=o-r,a=s>.5-1e-8&&s<.5+1e-8?r%2==0?r:r+1:Math.round(o);return n?a/i:a},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,i.ZP)();return(t,n,i)=>{let s=0,a=0;const l=i&&i.style||void 0,d=i&&i.shortform||!1,c=i&&i.uplimit||void 0,u=i&&i.currency||void 0,p=!!c&&n>=c,h=c&&p?c:n;if("currency"===l?(s=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(s=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),d&&h>999&&(s=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),s<a)return String(h);let m=h,g="";const f=[{"100M":{value:1e8,localeKey:e._("","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],_=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],y=/^zh|ja|ko/.test(t);if(d&&h>999){const e=y?f:_;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){m=o(h/i*Math.pow(10,s))/Math.pow(10,s),g=e[t][n].localeKey;break}}}if(null==m)return"";return m.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...o,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:s,minimumFractionDigits:a,currency:u,style:l}))+g+(p?"+":"")}}},300970:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;let n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);const i=new Date(n);return i.setDate(i.getDate()+28),(new Date).getTime()<i.getTime()}},946753:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{nk:()=>r,Wc:()=>s,bF:()=>l});const o=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return i(e,t,o)}function s(e,t){return i(e,t,o).join("")}const a=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,a)}},885106:(e,t,n)=>{function i(e){return e&&e[1000069]&&500417===e[1000069].experience_id}n.d(t,{Z:()=>i})},593482:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=i?new Date(i):o;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},588527:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},855356:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(968630),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach((s=>{const a=e(n[s],s);o()(n[s])||t&&Array.isArray(n[s])?i[a]=r(e,t)(n[s]):i[a]=n[s]})),i}}function s(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}},586840:(e,t,n)=>{function i(e={},t=[]){return Object.keys(e).reduce(((n,i)=>t.includes(i)?n:{...n,[i]:e[i]}),{})}n.d(t,{Z:()=>i})},239540:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>s});const o=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},r=e=>{if(e.isHidden){const{reason:t}=e;o.onPauseListeners.forEach((e=>e(t)))}else o.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const s=o},365217:(e,t,n)=>{n.d(t,{P:()=>s,t:()=>a});var i=n(311866);const o=()=>{};const r={complaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},s=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function a(e,t,n=o){const i=r[e];return i?i(t,n):n()}},454217:(e,t,n)=>{n.d(t,{ZP:()=>a,yl:()=>l,XZ:()=>d,nb:()=>c,EF:()=>u});var i=n(702925),o=n(365217),r=n(266750);const s=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:a,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:h,url_name:m}=c,g=r("topicUrl",`/topics/${m}`,h);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const f=`/${a.username}`,_=r("boardUrl",i.url,s(i.name)),y=r("pinnerUrl",f,s(a.full_name));return a.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:y}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:_});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          youd be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:s}){const a=t&&t.type;return i&&!o?"promoted":a||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||s&&s.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:s,throughProperties:a,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:d,...s?{through_id:s}:{},...a?{through_properties:a}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:s,sourceInterest:a})=>{if("topic"===i){if(a){const{id:n,name:i,url_name:s}=a,l=o("topicUrl",`/topics/${s}`,i,!0),d=t(e._("Well show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===i&&n&&s){const{id:i,name:r,url:a}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=s,u=`/${c}`,p=o("boardUrl",a,r,!0),h=o("pinnerUrl",u,d,!0);let m=l?t(e._("Youve unfollowed {{ formattedPinner }}s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:h,formattedBoard:p}):t(e._("Youve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return m=l?t(e._("You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:h}):t(e._("You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}const u=(e,t,n,i,r,s,a)=>()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.t)(d,l),s(n),a(101,{component:0,element:11181,view:i,viewParameter:r})}},41743:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["orig","736x","564x","474x","236x","170x"],o=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},227340:(e,t,n)=>{n.d(t,{RC:()=>s,EU:()=>a,fs:()=>l,eK:()=>d,Ly:()=>c,hP:()=>u});var i=n(395047),o=n(537343);const r=e=>"string"==typeof e?e:"",s=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=s(e),r=a(t,200);return r||(n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},d=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],r=n.map((e=>(t.annotations_with_links||{})[e]||{name:e,url:""}));let s="";const a=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=a.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?s=l:a&&a.length>3&&c!==d&&(s=a),s&&(s=(0,i.Z)((0,o.ZP)(s,496)).trim()),{description:s,vaseAnnotations:n,annotationsWithLinks:r}},c=(e,t,n)=>{const i=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return l(e)||o(t)||o(i)||e.title},u=(e,t,n)=>{const i=r(e);let o=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),s=r(t);n!==i.toLowerCase()&&n!==s.trim().toLowerCase()&&(o=e)}let s=n.visual_annotation;s&&(s=s.join(", "),o&&(o+=" "),o+=s)}return o}},912397:(e,t,n)=>{n.d(t,{h5:()=>i,n$:()=>o,W7:()=>r,hC:()=>s,vI:()=>a,YC:()=>l,s7:()=>d,BX:()=>c,a7:()=>u,JT:()=>p,a2:()=>h,X6:()=>m,PF:()=>g,I6:()=>f,oo:()=>_,vq:()=>y,Ib:()=>x,Tr:()=>v,jq:()=>b,lA:()=>w,u2:()=>S});const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",d="closeup",c="flashlight_grid",u="google_one_tap_modal",p="inspired_banner",h="hybrid_clickthrough",m="hybrid_banner",g="pin_image",f="response_flyout",_="unauth_header",y="facebook",x="twitter",v="google",b="gplus",w="microsoft",S="yahoo"},674245:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(384832),o=n(311866),r=n(702925),s=n(658551);let a=!1;const l=(e,t,n="en-US")=>{(0,s.c5)((0,i.Z)(n),s.Jg.FACEBOOK).then((()=>{const n=window.FB;n&&(a||(n.init({appId:r.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{t()&&l((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){o.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),a=!0,window.fb_init=2),e(n))})),window.fb_init=1},d=l},384832:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},266750:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},21755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(551687),r=n(181307),s=n(785893);const a=(0,i.memo)((({activate:e=!0,isEligible:t=!0,name:n,group:a,children:l})=>{const d=(0,r.tc)(n);(0,i.useEffect)((()=>{e&&t&&d&&d()}),[]);const c=a,u=`Experiment(${n}:${c})`,p=t&&c&&(c.startsWith("enabled")||c.startsWith("employee"))||!1,h={group:t?c:"",anyEnabled:p,customActivate:t&&!e?d:null};return(0,s.jsx)(o.Z,{name:u,children:l(h)})}))},197801:(e,t,n)=>{n.d(t,{u:()=>o,Y:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ExperimentContext")},181307:(e,t,n)=>{n.d(t,{tc:()=>r,aq:()=>s});var i=n(667294),o=n(197801);function r(e){const t=(0,o.Y)(),n=t.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),s=(e=>{const t=(0,i.useRef)(!1),n=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{t.current=!0,n.current&&e()}),[]),()=>{t.current?e():n.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:n,anyEnabled:r})}function s(e,t=!0){const n=r(e);return t?n():{group:"",anyEnabled:!1}}},73697:(e,t,n)=>{n.d(t,{ZP:()=>l});var i=n(174523),o=n(946753),r=n(785893);function s({dot:e}){const t=(0,i.ZP)();return(0,o.nk)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function a({dot:e,freeShippingPrice:t}){const n=(0,i.ZP)();return(0,o.nk)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function l({freeShippingPrice:e,freeShippingValue:t,dot:n}){return 0===t?(0,r.jsx)(s,{dot:n||""}):e?(0,r.jsx)(a,{dot:n||"",freeShippingPrice:e}):null}},32539:(e,t,n)=>{n.d(t,{Z:()=>W});var i=n(667294),o=n(954321),r=n(139585),s=n(576618);const a=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,s.jh)("constraint_",e),...(0,s.jh)("mark_",(0,r.gQ)()),...(0,s.jh)("browser_",{...t?(0,s.D3)(t):{},...(0,s.rX)()})});var l=n(590606),d=n(842310),c=n(641239);const u=(e,t)=>{const{firstInputDelay:n}=(0,c.v2)();return[...e.map((e=>(0,d.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,l.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var p=n(133769),h=n(940094),m=n(26382);const g=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:r,imageTimings:s,metricId:l,pwtStaticContext:d,startTime:c,traceId:g,spans:f})=>{const _=(0,p.Cg)();let y;"initial_app_load"===l.navigationType&&(y=(0,o.Z)());const x=s.map((({name:e})=>e)),v=_.map((e=>(0,h.p)(e,x))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:c,endTime:r})));return{type:"COMPLETE",traceId:g,startTime:c,endTime:r,spans:u(v,g).concat(f),annotationMap:a({constraintMap:i,initialNavTiming:y,annotations:t}),binaryAnnotationMap:(0,m.r)({annotateExperiments:e,binaryAnnotations:n,entries:_,metricId:l,performanceResources:v,pwtEndTime:r,pwtStaticContext:d})}};var f=n(939606);let _=!1;const y=(e,t)=>e&&t?_?((0,f.H)("duplicated_initial_app_load_surface_pwt"),(0,l.Z)()):(_=!0,t):(0,l.Z)();var x=n(883119),v=n(409352),b=n(785893);function w({children:e,heading:t}){return(0,b.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:(0,b.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,b.jsx)(x.xv,{weight:"bold",align:"center",children:t})})})}),(0,b.jsx)("tbody",{children:e})]})}function S({name:e,children:t}){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)(x.xv,{weight:"bold",children:e})}),(0,b.jsx)("td",{children:"string"==typeof t?(0,b.jsx)(x.xv,{children:t}):t})]})}function I({result:e}){return"ABORT"===e.type?(0,b.jsx)(S,{name:"Abort Reason",children:e.reason}):(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(S,{name:"PWT (ms)",children:(0,b.jsx)(x.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,b.jsx)(S,{name:"PinTrace",children:(0,b.jsx)(x.xv,{italic:!0,children:(0,b.jsx)(x.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:"Open in a new tab"})})})]})}function T({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:o,result:r}=e;return(0,b.jsxs)(x.xu,{children:[(0,b.jsxs)(w,{heading:(0,v.KJ)(t),children:[(0,b.jsx)(S,{name:"Thrift Id",children:String((0,v.Rp)(t))}),(0,b.jsx)(S,{name:"Surface",children:t.surface}),(0,b.jsx)(S,{name:"Navigation Type",children:t.navigationType}),(0,b.jsx)(S,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,b.jsx)(w,{heading:"Constraints",children:n.map((e=>(0,b.jsx)(S,{name:e,children:(0,b.jsx)(x.xv,{align:"end",children:i[e]?Math.round(i[e]-o):"pending..."})},`constraint_${e}`)))}),(0,b.jsx)(w,{heading:"Result",children:r?(0,b.jsx)(I,{result:r}):(0,b.jsx)(S,{name:"result",children:(0,b.jsx)(x.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var C=n(51610);const E=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function P({data:e}){const[t,n]=(0,i.useState)(!1);return(0,b.jsx)(C.Z,{children:(0,b.jsxs)(x.mh,{children:[(0,b.jsx)(x.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,b.jsx)(x.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:E(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&(0,b.jsx)(x.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,b.jsx)(x.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:(0,b.jsx)(x.xu,{padding:6,children:(0,b.jsx)(T,{data:e})})})})]})})}var j=n(299962);const R=(e,t)=>{const n=(0,i.useRef)(e);(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useRef)(t);(0,i.useEffect)((()=>{o.current=t}),[t]),(0,i.useEffect)((()=>()=>o.current(n.current)),[])},k=(e,t)=>{const[n,o]=(0,i.useState)(t);return{state:n,dispatch:t=>o((n=>e(n,t)))}};var A=n(974780),O=n(840059),L=n(182513),D=n(239540),N=n(226806),Z=n(666584);const M=["initial_app_load","client_route_push"],B=(0,L.X)("PwtSurface"),F="NavigationComplete",U="VisuallyComplete",H=(e,t)=>{e.isSampled&&(0,j.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},z=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:o,annotateExperiments:r},annotations:s,binaryAnnotations:a,constraintMap:l,startTime:d,imageTimings:c,isSampled:u,spans:p}=e,h=y("initial_app_load"===i.navigationType,null===(n=o.serverData)||void 0===n?void 0:n.trace_id),m=g({annotateExperiments:r,annotations:s,binaryAnnotations:a,constraintMap:l,endTime:t,imageTimings:c,metricId:i,pwtStaticContext:o,startTime:d,traceId:h,spans:p});return u&&(0,j.Z)({metricId:i,pwtStaticContext:o,result:m}),{...e,result:m,status:"DONE"}})(e,t)}return e},G=(e,t)=>{const{constraint:n,time:i}=t,o=(0,v.KJ)(e.metricConfig.metricId);return A.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(B(`constraint "${n}" is already complete.`),(0,f.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(B(`marking constraint "${n}" as complete`),z({...e,constraintMap:{...e.constraintMap,[n]:i||A.Z.now()}})):(B(`marked constraint "${n}" is not a required constraint.`),e):((0,f.H)("missing_window_performance",{action:o}),e)},V=(e,t)=>{if(B("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:o}=t;if("TIMING"===e.status&&i!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,v.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,f.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?(0,f.A9)(`TIMING.${r}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(a=s.navigator)||void 0===a?void 0:a.userAgent}}):(0,f.A9)(`TIMING.${r}`),G({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:F}));var s,a})(e,t.payload);if("TIMING"!==e.status)return B(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":H(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!A.Z)return e;const o=A.Z.now();return B(`adding annotation {${i}: ${o}}`),{...e,annotations:{...e.annotations,[i]:o}};case"BINARY_ANNOTATE":const{name:r,value:s,annotationType:a}=t.payload;return B(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:a}}};case"MARK_CONSTRAINT_COMPLETE":return G(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!A.Z){const t=(0,v.KJ)(e.metricConfig.metricId);(0,f.H)("missing_window_performance",{action:t})}B(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...o}=e.constraintMap;return z({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!A.Z){const t=(0,v.KJ)(e.metricConfig.metricId);(0,f.H)("missing_window_performance",{action:t})}B(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return G({...e,imageTimings:n},{constraint:U,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:c,startTime:u,endTime:p,annotations:h,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,l.Z)(),startTime:u||d,endTime:p,annotationMap:{...h},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,l.Z)(),startTime:A.Z?A.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const _=e.spans.findIndex((e=>e.name===t.payload.name));return _>-1?(e.spans[_].endTime=A.Z?A.Z.now():0,t.payload.annotations&&(e.spans[_].annotationMap={...e.spans[_].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[_].binaryAnnotationMap={...e.spans[_].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,f.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,v.KJ)(e.metricConfig.metricId);return(0,f.H)("invalid_pwt_surface_action",{action:y}),e}};function W({children:e,...t}){const n=(0,Z.fM)(),o={...t,navigationInfo:{navigationType:(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),clientNavigation:n}},{state:r,context:s}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:a,navigationType:l},sampleRate:d})=>{const c=(0,i.useRef)("NOT_SET"),u=(0,Z.N5)(),{state:p,dispatch:h}=k(V,{status:"DISABLED",metricConfig:null});if(c.current!==a&&(c.current=a,u)){const{isAuthenticated:i}=u,c=s||M,p=e&&l&&c.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[F,...t||[],...o?[U]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:a?a.time:0,isSampled:!d||Math.random()<d}})}if((0,i.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};D.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{D.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),R(p,(e=>{B("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")})),"TIMING"!==p.status||!p.constraintMap.NavigationComplete)return{state:p,context:null};const{startTime:m,metricConfig:g}=p;return{state:p,context:{id:m,metricId:g.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:g.constraints.includes(U)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:A.Z?A.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},o={},r=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r}}),startSubspan:(e,t={},n={},i=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(o);return(()=>{const e=(0,N.EV)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,v.KJ)(e.metricId):null;(0,f.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(N.Sb,{value:s,children:e}),O.DQ&&"DISABLED"!==r.status&&(0,b.jsx)(P,{data:{metricId:r.metricConfig.metricId,constraints:r.metricConfig.constraints,constraintMap:r.constraintMap,startTime:r.startTime,result:"DONE"===r.status?r.result:null}})]})}},255038:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(164485),o=n(667294),r=n(226806),s=n(139585);function a({children:e,isAtEndOfFeed:t,pinData:n,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,r.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(a),e}},169039:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(762803),r=n(666584),s=n(46509),a=n(954321),l=n(403369),d=n(590606),c=n(299962),u=n(842310),p=n(974780),h=n(182513),m=n(940094),g=n(26382),f=n(576618),_=n(939606);const y=(0,h.X)("PwtStopwatch"),x=(e,t)=>{if(p.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:o}=t;return(0,_.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:p.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return y("ignoring action - stopwatch is not actively timing",t),(0,_.A9)(`WARN.${n}.noTiming.${t.type}`),e}y("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=p.Z.now();return y(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return y(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return y(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){y(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&y(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&y(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:y(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;y(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&y(`WARNING: starting duplicate subspan name {${t.name}}`);const i=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===i))&&y(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);const o=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||o,startTime:p.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(y(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>(n.name===t.name&&e.push(n),e)),[]).length>1&&(0,_.H)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=p.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,_.H)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:o,annotations:r,binaryAnnotations:l,isSampled:h,spans:_,traceId:y}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),h){const e=t.stopTime||p.Z.now(),h=[..._.map((t=>(t.endTime===1/0&&(t.endTime=e),t)))];if(t.manualAndResourceSpans||0===_.length){const i=(0,d.Z)();h.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((e=>(0,u.Z)((0,m.p)(e,[]),i))).filter(Boolean))}const x="initial_app_load"===i.navigationType&&(0,a.Z)(),v={type:"COMPLETE",traceId:y,startTime:n,endTime:e,spans:h,annotationMap:{...(0,s.Z)(r),...(0,f.jh)("browser_",x?(0,f.D3)(x):{})},binaryAnnotationMap:(0,g.n)({metricId:i,pwtStaticContext:o,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,c.Z)({metricId:i,pwtStaticContext:o,result:v})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,_.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,o=t.reason||"";return(0,c.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:o}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}}return e},v=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:o=!1})=>{const s=(0,r.N5)(),a=(0,i.useRef)([]),c=(0,i.useRef)(null),[u,p]=(0,i.useReducer)(x,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()});return s?{isTiming:u.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;a.current=[],c.current=(0,l.Z)({entryTypes:["resource"]},(t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))}))}const o={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:s,isSampled:!t||Math.random()<t};return p(o)},stop:e=>p({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:a.current,manualAndResourceSpans:o}),error:e=>{p({type:"error",stopwatchPerformanceObserver:c.current,error:e})},abort:e=>p({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t,n=!1)=>p({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,o=!1)=>p({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:o}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o=!1})=>p({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:o={},parentId:r=null,id:s=null,bypassIsTimingCheck:a=!1})=>p({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:s,bypassIsTimingCheck:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:o=null,id:r=null,bypassIsTimingCheck:s=!1})=>p({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:o,id:r,bypassIsTimingCheck:s}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r=!1})=>p({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r}),getSpans:(e,t)=>u.spans.filter((n=>n[e]===t)),getTraceId:()=>u.traceId}:null};var b=n(785893);const w=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:s=!0,navigationType:a,manualAndResourceSpans:l=!1})=>{const{Provider:d,useHook:c}=(0,o.js)(`Stopwatch_${e}`);return{Provider:function({children:t}){const o=v({name:e,sampleRate:n,navigationType:a,manualAndResourceSpans:l}),c=(0,r.fM)(),u=c?c.time:0,p=(0,i.useRef)(!1),h=null==o?void 0:o.isTiming,m=t=>{p.current?(p.current=!1,null==o||o.abort(t)):(0,_.A9)(`WARN.${e}.noTiming.abort`)};return(0,i.useEffect)((()=>()=>{s&&m("unloadOrClientNavigation")}),[u]),(0,b.jsx)(d,{value:{isTiming:h,abort:m,addAnnotation:(e,t)=>{null==o||o.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==o||o.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})=>{null==o||o.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:s,id:a,bypassIsTimingCheck:l})=>{null==o||o.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:s,id:a,bypassIsTimingCheck:l})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:s,bypassIsTimingCheck:a})=>{null==o||o.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:s,bypassIsTimingCheck:a})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:s})=>{null==o||o.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:s})},getSpans:(e,t)=>o?o.getSpans(e,t):[],getTraceId:()=>o?o.getTraceId():0,error:t=>{p.current?(p.current=!1,null==o||o.error(t)):(0,_.A9)(`WARN.${e}.noTiming.error`)},start:e=>{p.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),p.current=!0,null==o||o.start(e)},stop:t=>{p.current?(p.current=!1,null==o||o.stop(t)):(0,_.A9)(`WARN.${e}.noTiming.stop`)}},children:t})},useHook:c}}},428568:(e,t,n)=>{n.d(t,{T:()=>s,g:()=>a});var i=n(169039);const{Provider:o,useHook:r}=(0,i.Z)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),s=o,a=r},46509:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,i)=>{const o=i?`${e}_${i+1}`:e;n={...n,[o]:t}}))})),n}},904192:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(498913),r=n.n(o),s=n(883119),a=n(785893);const l=({fill:e,width:t,color:n})=>{const o="half"===e?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.xu,{position:"absolute",children:(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:n,color:o}){const s=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>s.push((0,a.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?s.push((0,a.jsx)(l,{color:o,fill:"full",width:n},s.length)):u>=.25&&s.push((0,a.jsx)(l,{color:o,fill:"half",width:n},s.length)),r()(5-s.length,(()=>s.push((0,a.jsx)(l,{color:o,fill:"empty",width:n},s.length)))),(0,a.jsx)(i.Fragment,{children:s})}},139848:(e,t,n)=>{n.d(t,{e:()=>r,Z:()=>s});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!i.has(e)&&!e.startsWith("__track__"),r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(o).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):"",s=r},886550:(e,t,n)=>{n.d(t,{UZ:()=>d,Z8:()=>c});var i=n(667294),o=(n(40142),n(311866)),r=n(762803),s=n(785893);const{Provider:a,useHook:l}=(0,r.ZP)("ResourceContext");function d({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{var n;switch(t.type){case"addListener":const i=[...null!==(n=e[t.payload.name])&&void 0!==n?n:[],t.payload.handler];return{...e,[t.payload.name]:i};case"removeListener":if(!e[t.payload.name])return e;const o=e[t.payload.name].filter((e=>e!==t.payload.handler));return{...e,[t.payload.name]:o};default:return e}}),{});o.ZP.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:o,refresh:r,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:r,normalizedResponse:o,options:n,schema:s,resource:e,response:i})))};const r=(0,i.useMemo)((()=>({listenerDispatch:n})),[]);return(0,s.jsx)(a,{value:r,children:e})}function c(e,t){const{listenerDispatch:n}=l();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}},357846:(e,t,n)=>{n.d(t,{U2:()=>l,bi:()=>d,v_:()=>c});var i=n(139848),o=n(311866),r=n(301314),s=n(678929);function a({fetchOptions:e,resource:t,retry:n}){return(l,d)=>{var c,u,p;const{bookmark:h,headers:m,options:g,refresh:f,schema:_}=e,y=(0,i.Z)(g);if(null!==(c=d().resources)&&void 0!==c&&null!==(u=c[t])&&void 0!==u&&null!==(p=u[y])&&void 0!==p&&p.fetching&&!n)return Promise.resolve();const x=n?n.bookmark:h,v=x?{...g,bookmarks:[x]}:g;return l((0,r.LQ)(t,g,!0)),o.ZP.create(t,v).callGet(void 0,m).then((i=>{var d,c,u;const p=null===(d=i.resource_response)||void 0===d?void 0:d.data,[m]=i.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==s.q){const i=n?n.count:0;if(!(i>=s.s))return l(a({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}null===(c=o.ZP.customDataManipulations)||void 0===c||c.call(o.ZP,t,p,g);const{normalizedResponse:y,resourceSchema:x}=(null===(u=o.ZP.normalizeResponse)||void 0===u?void 0:u.call(o.ZP,{data:p,opts:{bookmark:h,options:g,schema:_},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?l((0,r.Dm)(t,g,i,y,x)):(l((0,r.Sr)(t,g,i,y,f,x)),o.ZP.fetchCompleteCallback&&o.ZP.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:y,refresh:f,resourceSchema:x})),Promise.resolve()}),(e=>{l((0,r.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:n,options:i,schema:o})=>a({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:o}}),d=(e,{headers:t,options:n,schema:i})=>a({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}});function c(e,t,n){return i=>{const{options:s}=t;return o.ZP.create(e,s).callCreate().then((t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const o=t.resource_response.data,a=(null==n?void 0:n(o))||null;i((0,r.XM)(e,s,t,a))}return t}),(t=>(i((0,r.Tl)(e,s,t)),t)))}}},678929:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>o});const i="-end-",o=10},451104:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>o,cR:()=>r,zP:()=>s,aW:()=>a,se:()=>l});const i="CREATE_COMPLETE",o="FETCHING",r="FETCH_ERROR",s="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},301314:(e,t,n)=>{n.d(t,{XM:()=>o,LQ:()=>r,Tl:()=>s,Sr:()=>a,Dm:()=>l,jB:()=>d});var i=n(451104);function o(e,t,n,o){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function r(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const s=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function a(e,t,n,o,r,s){return{type:i.zP,payload:{isRefresh:r,normalizedResponse:o,options:t,resource:e,response:n,schema:s}}}function l(e,t,n,o,r){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:r}}}function d(e,t={}){return{type:i.se,payload:{resource:e,options:t}}}},535718:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(40142),r=n(139848),s=n(678929),a=n(855168),l=n(585967),d=n(357846);const c={};function u({enabledRouteRefresh:e,dangerouslyDisableFetch:t,headers:n,name:u,noCache:p,options:h,schema:m}){const g=(0,o.useDispatch)(),f=(0,r.e)(h),_=(0,i.useRef)(),y=(0,a.k6)(),x=y&&"POP"!==y.action,v=e=>(e[u]||c)[f]||c,b=(0,o.useSelector)((({resources:e})=>v(e).nextBookmark)),w=(0,o.useSelector)((({resources:e})=>v(e).data)),S=(0,o.useSelector)((({resources:e})=>v(e).auxData)),I=(0,o.useSelector)((({resources:e})=>v(e).error)),T=(0,o.useSelector)((({resources:e})=>Boolean(v(e).fetching))),C=Boolean(I)||void 0!==w,E=C&&!T&&b===s.q,P=Boolean(C&&e&&x&&!t),[j,R]=(0,i.useState)(P),k=(0,i.useCallback)((e=>g((0,d.U2)(u,{options:h,schema:m,bookmark:e,headers:n}))),[g,u,f,m,n]),A=()=>g((0,d.bi)(u,{options:h,schema:m,headers:n})),{isBot:O}=(0,l.B)();(0,i.useEffect)((()=>{if(!t&&_.current!==f){const e=void 0===_.current;_.current=f,!C&&!T||e&&I&&(({httpStatus:e})=>!e||e>=500)(I)?k():(!O&&p||P)&&A()}}));const L=(0,i.useCallback)((()=>{t||(A(),R(!0))}),[t,d.bi,u,f,n,R]),D=(0,i.useCallback)((()=>{!b||E||T||t||k(b)}),[t,k,b,E,T]),N=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:D,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:L}),Z={auxData:S,data:w,error:I,fetchMore:D,isAtEnd:E,isFetching:T,isLoaded:C,isRefreshing:j,nextBookmark:b,refresh:L};return(0,o.shallowEqual)(Z,N.current)||(!j||!N.current.data&&P||(0,o.shallowEqual)(Z.data,N.current.data)||(Z.isRefreshing=!1,R(!1)),N.current=Z),N.current}},979593:(e,t,n)=>{n.d(t,{V:()=>i});const i=e=>{const{thumbnail:t,url:n,width:i,height:o,duration:r}=e||{};return t&&n&&i&&o&&{thumbnail:t,url:n,width:i,height:o,duration:r}||void 0}},620813:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const r=t||null;return(0,o.jsx)(i.Suspense,{fallback:r,children:e})}},689859:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(620813).Z},658551:(e,t,n)=>{n.d(t,{Jg:()=>r,ZP:()=>s,c5:()=>a});var i=n(731164);const o=.01,r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function s(e){return new Promise(((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)}))}function a(e,t=r.OTHER,n=!1){const s=n?"web":"mweb";return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===r.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval((()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gplus_one.tries_${e}`,o))}),100)}else if(t===r.FACEBOOK)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.facebook.tries_${e}`,o))}),100)}else if(t===r.GSI)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gsi.tries_${e}`,o))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},660310:(e,t,n)=>{n.d(t,{R3:()=>r,NO:()=>s,Jc:()=>a,th:()=>l,ge:()=>c});var i=n(238402);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,i.Z)({term_meta:e.map((e=>a(e)))})}function d(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>o.includes(e.toLowerCase())))?[e]:t}return[]}function c({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return d(t).map((t=>({index:n,term:t,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return d(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},281996:(e,t,n)=>{n.d(t,{lw:()=>i,_R:()=>o,wF:()=>r});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},r=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},657121:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},51610:(e,t,n)=>{n.d(t,{U:()=>s,Z:()=>a});var i=n(588527),o=n(785893);const r=()=>{},s=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:a,children:l}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||s(e)}(e,t);return(0,o.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:r,onCanPlay:n?r:s,onCanPlayThrough:s,onChange:s,onClick:e?r:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:r,onInput:s,onInvalid:s,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:e?r:s,onMouseOut:s,onMouseOver:s,onMouseUp:e?r:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:a?r:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:e?r:s,onTouchMove:e?r:s,onTouchStart:e?r:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:l})}},552443:(e,t,n)=>{n.d(t,{o:()=>s,c:()=>a});var i=n(667294),o=n(785893);const r=(0,i.createContext)(null);function s({children:e,closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:s,loadFonts:a,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:h}){const m={closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:s,loadFonts:a,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:h};return(0,o.jsx)(r.Provider,{value:m,children:e})}const a=()=>(0,i.useContext)(r)},81260:(e,t,n)=>{n.d(t,{RR:()=>i,YB:()=>o,yR:()=>r,YL:()=>s,pE:()=>a,h8:()=>l,Cc:()=>d});const i="0.8.0",o=9/16,r=8,s=10;function a(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const l={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},925265:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(561077);const o=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,i.Z)(o,e,t)},730060:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},760620:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>i.test(e)},204478:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},561077:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},395047:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/\s\s+/g,o=e=>e.replace(i," ")},754999:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(925265),o=n(730060);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},537343:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},354783:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},280313:(e,t,n)=>{n.d(t,{z_:()=>i,Yq:()=>o,T7:()=>r,Yj:()=>l,pe:()=>d,xt:()=>c,E5:()=>u});n(883119);const i="/today/",o=(e,t=0)=>({num_days:3,referrer:t,...e?{}:{redux_normalize_feed:!0}});function r(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},a={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=a[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>s[e],c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},988089:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);class s extends i.Component{constructor(e){var t,n,o;super(e),o={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",r=i[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,s={maxWidth:e,maxHeight:t},a=n?{display:"inline",...s}:{...s};return i?(0,r.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,children:this.props.children}):(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},children:this.props.children})}}const a=s},500953:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=e=>{(0,i.useEffect)(e,[])}},8742:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=()=>{const[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}}},34411:(e,t,n)=>{n.d(t,{$:()=>o,Z:()=>s});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("viewer"),s=r},477342:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>o})},526947:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>x,useRoleBasedAccessControlContext:()=>y});var i=n(667294),o=n(616627),r=n(535718),s=n(34411),a=n(181307),l=n(354783);const d=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,l.Z)(n)]=e[n]:t[(0,l.Z)(n)]=d(e[n]));return t},c=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...d(e[r])});const i=n.sort((({user:{businessName:e}},{user:{businesName:t}})=>e.localeCompare(t))),o=new Map;for(const r of i)o.set(r.id,r);return o};var u=n(652382);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,n]=(0,i.useReducer)(h,p),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:s}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})}),[t,e,r]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!s})}),[t,e,s])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:s}=t;(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacVisibility",s)}),[s]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:o,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:c(e,t)})}),[n])}};var g=n(762803),f=n(785893);const{Provider:_,useHook:y}=(0,g.js)("RoleBasedAccessControlContext"),x=({children:e})=>{const t=(0,a.tc)("web_m10n_business_access_orbac_www"),n=(0,s.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(l),{activeProfile:p,headerVisible:h,profiles:g=[]}=d,y=g?Array.from(g.values()):[],x=(0,o.Z)(y),v=!!(n.isAuth&&y.length>0)&&x,b=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:C}=c;(0,i.useEffect)((()=>{l&&("string"!=typeof x?p||S(b):S(x))}),[x,b,l,S,p]),(0,i.useEffect)((()=>{l&&(v&&!h&&C(!0),!v&&h&&C(!1))}),[C,v,l,h,g]);const{data:E}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),P=null==E?void 0:E.profiles;let j;n&&n.isAuth&&d.activeProfile===n.id?j={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(j=d.profiles.get(p)),(0,i.useEffect)((()=>{P&&u(P,b)}),[u,P,b]);const R=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(_,{value:{profiles:R,headerVisible:d.headerVisible,activeProfile:j,changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:C},children:e})}},767523:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181307),o=n(526947);const r=()=>{const e=(0,i.tc)("web_m10n_business_access_orbac_www"),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},616627:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(40142),o=n(34411),r=n(382745),s=n(855168);const a=e=>{var t;const n=(0,s.TH)(),a=(0,o.Z)(),l=(0,s.$B)("/:username"),d=null==l||null===(t=l.params)||void 0===t?void 0:t.username,c=(0,s.$B)("/pin/:id"),u=(0,i.useSelector)((e=>{var t,n,i,o;return!(null==c||null===(t=c.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[c.params.id])||void 0===i||null===(o=i.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(n))return!1;if((0,r.RU)(n))return!0;const p=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&d||u&&n)&&(i===d||u===n)}));return!!p&&p.id}},159276:(e,t,n)=>{n.d(t,{Ms:()=>i,lJ:()=>o,q6:()=>r,D3:()=>s,KY:()=>a,N1:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),s=(e,t,n)=>!!(r(e,t,n)||e&&e.isAuth&&t===e.id),a=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return s(e,i,n)};function l(e,t,n){const i=t?t.id:"";return s(e,i,n)}},192830:(e,t,n)=>{n.d(t,{i5:()=>v,sX:()=>w,Z5:()=>x,NG:()=>b,MT:()=>S});var i=n(667294),o=n(40142),r=n(311866),s=n(682492),a=n.n(s);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function d(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const o=t(i);return n[o]?(a()(n[o],i),e):(n[o]=i,e.concat([i]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,n){let i=l(e,t).concat(n);return i=d(i,(e=>e.id)),c(i)}const p={conversationsUnseenCount:0,data:{},open:null,showConversationsDropdown:!1,ui:{},unread:0};function h(e=p,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:o}=t.payload,r=o.resource_response.data;if("ConversationMessagesResource"===i){const t=r||[],i=(null==n?void 0:n.conversation_id)||"",o=u(e,i,t),s=o[o.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:o,unread:0,last_message:s}}}}if("ConversationsResource"===i){const t=r||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:o,board:r,emails:s,unread:a,users:l,last_message:d}=e,c=u(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:o,board:r,emails:s||[],unread:a||0,users:l||[],last_message:d,messages:c}})),n}if("ConversationResource"===i){const t=r||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(r){const t=r.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;if(e.data[n]){const t=u(e,n,[i]);return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:t,last_message:i}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:n,messageId:i,newMessageId:o}=t.payload;if(e.data[n]){const t=l(e,n).find((e=>e.id===i));if(t){const r={...t,id:o};let s=l(e,n).filter((e=>e.id!==i)).concat([r]);return s=d(s,(e=>e.id)),s=c(s),{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:s}}}}}return e}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var m=n(762803),g=n(886550),f=n(785893);const _=(()=>{let e=0;return()=>e++})(),{Provider:y,useHook:x}=(0,m.ZP)("Conversations");function v({children:e}){const[t,n]=(0,i.useReducer)(h,p),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,g.Z8)("ConversationMessagesResource",o),(0,g.Z8)("ConversationsResource",o),(0,g.Z8)("ConversationResource",o),(0,g.Z8)("NewsHubBadgeResource",o);const s=(0,i.useMemo)((()=>({conversations:t,conversationOpen:(e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),conversationClose:(e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),conversationCreate:e=>n({type:"CONVERSATION_CREATE",payload:e}),conversationDelete:e=>n({type:"CONVERSATION_DELETE",payload:{id:e}}),conversationGet:(e,t,i)=>{r.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))},dropdownClose:()=>{n({type:"CLOSE_DROPDOWN"})},dropdownOpen:()=>{n({type:"OPEN_DROPDOWN"})},pendingMessageSend:(e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),pendingMessageClear:(e,t,i)=>n({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:i}}),updateUnreadCount:e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})})),[t]);return(0,f.jsx)(y,{value:s,children:e})}function b(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageClear:i}=x(),s=(0,o.useSelector)((({pins:e})=>e));return(o,a,l,d)=>new Promise(((c,u)=>{const{text:p,pinId:h,boardId:m,userId:g,didItId:f}=a;function y(){const e=r.ZP.create("ConversationMessagesResource",{conversation_id:o,text:p,pin:h,board:m,user:g,user_did_it_data:f,source:l}),t=`${_()}`;n(o,{text:p,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:h?s[h]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{i(o,t,e.resource_response.data.id),c()})).catch(u)}e.data[o]?y():r.ZP.create("ConversationResource",{conversation_id:o}).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;t(n),y()}))}))}function w(e){const{conversations:t}=x();return t.data[e]}function S(e){const{conversations:t}=x();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},159617:(e,t,n)=>{n.d(t,{hu:()=>i,cI:()=>o,L1:()=>r,WZ:()=>s,fe:()=>a,Rz:()=>l});const i=64,o=80,r=22,s="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},341088:(e,t,n)=>{n.d(t,{Hv:()=>c,WQ:()=>d});var i=n(667294),o=n(823493),r=n.n(o),s=n(762803),a=n(785893);const{Provider:l,useHook:d}=(0,s.ZP)("HeaderShadow");function c({children:e}){const[t,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,p]=(0,i.useState)(null),h=r()((()=>{t&&(s(window.scrollY>0),c(window.scrollY))}),50);return(0,i.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,i.useEffect)((()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)})),[t]),(0,a.jsx)(l,{value:{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:p,subheaderShadow:u},children:e})}},54557:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(667294),o=n(965108),r=n(551687),s=n(32539),a=n(689859),l=n(314267),d=n(602033),c=n(34411),u=n(778527),p=n(883119),h=n(538958),m=n(708206),g=n(635691),f=n(652382),_=n(221469),y=n(181307),x=n(192830),v=n(896829),b=n(686125),w=n(855168),S=n(785893);const I=(0,i.lazy)((()=>n.e(89870).then(n.bind(n,6302)))),T=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(94817)]).then(n.bind(n,194916)))),C=(0,i.lazy)((()=>n.e(82310).then(n.bind(n,336461)))),E=(0,i.lazy)((()=>n.e(6094).then(n.bind(n,259470)))),P=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(15071),n.e(50017),n.e(69548),n.e(18195)]).then(n.bind(n,369373))));function j({experience:e,isPostRenux:t,location:s,match:{params:l}}){const{conversationOpen:u,dropdownOpen:h}=(0,x.Z5)();(0,v.Q)({view_type:1,view_parameter:92});const{conversation_id:m,tab:g}=(0,_.mB)(s.search),f=l.conversation_id||m;(0,i.useEffect)((()=>{f&&u(f)}),[f]),(0,i.useEffect)((()=>{"inbox"===g&&h()}),[g]),(0,i.useEffect)((()=>{const e=document.getElementById("rum-config");null!==e&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e(4442).then(n.bind(n,766923)).then((e=>{e.default()})))}),[]);const b=(0,c.Z)(),w=b.isAuth?b.email:"",j=(0,y.tc)("m10n_measurement_pinterest_tag_us")().anyEnabled;(0,i.useEffect)((()=>{j&&window.pintrk("track","pagevisit",{lead_type:"Pinterest homefeed",em:w})}),[j,w]),(0,d.Z)({name:"MoreIdeasTabsResource",checkExperiments:e=>{const{group:t}=e.getWithActivation("use_cases_h1_hf_integration_parent");if("story"!==t&&"employees"!==t)return!1;const{anyEnabled:n}=e.getWithActivation("use_cases_h1_hf_integration_parent");return n},getOptions:()=>({redux_normalize_feed:!0})});const R=null==e?void 0:e.experience_id,k=10105===R,A=501735===R,O=500278===R;return[500787,500894].includes(R)?(0,S.jsx)(r.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,S.jsx)(a.Z,{children:(0,S.jsx)(T,{fromBizHub:!0,placementId:11,experienceId:500787})})}):A?(0,S.jsx)(r.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxPicker",children:(0,S.jsx)(a.Z,{children:(0,S.jsx)(C,{placementId:11})})}):(0,S.jsxs)(p.xu,{children:[(0,S.jsx)(r.Z,{name:"SafeSuspense_AuthHomePage_ExperiencesBeforeHomefeed",children:(0,S.jsx)(a.Z,{children:(0,S.jsx)(P,{experience:e,isNux:k})})}),k||O?(0,S.jsx)(r.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,S.jsx)(a.Z,{children:(0,S.jsx)(I,{inNux:k,inRenux:!k,isFlexible:!0})})}):(0,S.jsx)(o.ZP,{experience:e,isPostRenux:t}),(0,S.jsx)(r.Z,{name:"SafeSuspense_AuthHomePage_ExperiencesAfterHomefeed",children:(0,S.jsx)(a.Z,{children:(0,S.jsx)(E,{})})})]})}const R=(0,m.compose)((0,b.Z)({resourceDependencies:(e,t)=>[{name:"UserHomefeedResource",options:(0,l.Z)({viewerIsPartner:e.user.is_partner,staticFeed:Object.prototype.hasOwnProperty.call(t,"pwt_testing"),inNewsHub:!1})}]}),w.EN,(0,u.ZP)(11,((e,t)=>({using_pwa:(0,h.CR)(window),completed_mini_renux:"true"===(0,f.qn)("completedMiniRenux"),chrome_push_subscription:(0,g.d)()}))))((function(e){const{experience:t}=e,n=null==t?void 0:t.experience_id,o=10105===n,r=[500787,500894].includes(n),a=501735===n,l=500278===n,d=(e=>{const t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t.current=e})),Boolean(t.current&&!e)})(l);return o||r||a||l?(0,S.jsx)(j,{...e,isPostRenux:d}):(0,S.jsx)(s.Z,{surface:"homefeed",measureGridVisuallyComplete:!0,children:(0,S.jsx)(j,{...e,isPostRenux:d})})}))},372833:(e,t,n)=>{n.d(t,{B:()=>r,Z:()=>s});var i=n(704170);const o=[];function r(e){let t;try{t=JSON.stringify({errorObj:e})}catch(a){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"5b9eecc"}),report_data:t},Object.keys(r).map((e=>e+"="+encodeURIComponent(r[e]))).join("&"));var r;const s=window.btoa(n);if(-1===o.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/report/error/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,i.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}("csrftoken")),e.send(n),o.push(s)}o.length>100&&o.shift()}function s(){window.addEventListener("error",(e=>{const t=e.error||{};r({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,o,s;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);r({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(n=null!==(i=null==a?void 0:a.lineno)&&void 0!==i?i:null==a?void 0:a.line)&&void 0!==n?n:null==a?void 0:a.lineNumber,column:null!==(o=null!==(s=null==a?void 0:a.column)&&void 0!==s?s:null==a?void 0:a.colno)&&void 0!==o?o:null==a?void 0:a.columnNumber})}))}}},e=>{e.O(0,[50011],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[50011],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[50011],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,85486,21779,93653,26623,22777,39752,9136,66584,48455,48339,68648],(()=>(t(293125),t(620884),t(57223))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/index-authdesktop-e8bd457c54ccc007.mjs.map