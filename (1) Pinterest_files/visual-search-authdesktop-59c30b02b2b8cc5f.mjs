(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33293,51798,50157,1256,39395,61116,38989,36811,76865,40667,73098,15071],{294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=o.apply(null,n);s&&e.push(s)}else if("object"===r)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},468966:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},529084:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},893870:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},664507:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},369765:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},829932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},121078:(e,t,n)=>{var i=n(862488),o=n(137285);e.exports=function e(t,n,r,s,a){var l=-1,d=t.length;for(r||(r=o),a||(a=[]);++l<d;){var c=t[l];n>0&&r(c)?n>1?e(c,n-1,r,s,a):i(a,c):s||(a[a.length]=c)}return a}},297786:(e,t,n)=>{var i=n(671811),o=n(240327);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},325970:(e,t,n)=>{var i=n(863012),o=n(379095);e.exports=function(e,t){return i(e,t,(function(t,n){return o(e,n)}))}},863012:(e,t,n)=>{var i=n(297786),o=n(10611),r=n(671811);e.exports=function(e,t,n){for(var s=-1,a=t.length,l={};++s<a;){var d=t[s],c=i(e,d);n(c,d)&&o(l,r(d,e),c)}return l}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},10611:(e,t,n)=>{var i=n(234865),o=n(671811),r=n(565776),s=n(513218),a=n(240327);e.exports=function(e,t,n,l){if(!s(e))return e;for(var d=-1,c=(t=o(t,e)).length,u=c-1,p=e;null!=p&&++d<c;){var h=a(t[d]),m=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(d!=u){var g=p[h];void 0===(m=l?l(g,h,p):void 0)&&(m=s(g)?g:r(t[d+1])?[]:{})}i(p,h,m),p=p[h]}return e}},880531:(e,t,n)=>{var i=n(562705),o=n(829932),r=n(701469),s=n(733448),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},727561:(e,t,n)=>{var i=n(567990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},671811:(e,t,n)=>{var i=n(701469),o=n(115403),r=n(555514),s=n(479833);e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(s(e))}},889464:(e,t,n)=>{var i=n(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},499021:(e,t,n)=>{var i=n(385564),o=n(545357),r=n(430061);e.exports=function(e){return r(o(e,void 0,i),e+"")}},900222:(e,t,n)=>{var i=n(671811),o=n(135694),r=n(701469),s=n(565776),a=n(541780),l=n(240327);e.exports=function(e,t,n){for(var d=-1,c=(t=i(t,e)).length,u=!1;++d<c;){var p=l(t[d]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++d!=c?u:!!(c=null==e?0:e.length)&&a(c)&&s(p,c)&&(r(e)||o(e))}},137285:(e,t,n)=>{var i=n(562705),o=n(135694),r=n(701469),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(s&&e&&e[s])}},115403:(e,t,n)=>{var i=n(701469),o=n(733448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},624523:(e,t,n)=>{var i=n(288306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},555514:(e,t,n)=>{var i=n(624523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=s},240327:(e,t,n)=>{var i=n(733448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(513218),o=n(707771),r=n(14841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,d,c,u,p,h,m=0,g=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=d;return l=d=void 0,m=t,u=e.apply(i,n)}function v(e){return m=e,p=setTimeout(b,t),g?y(e):u}function x(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=c}function b(){var e=o();if(x(e))return w(e);p=setTimeout(b,function(e){var n=t-(e-h);return f?a(n,c-(e-m)):n}(e))}function w(e){return p=void 0,_&&l?y(e):(l=d=void 0,u)}function S(){var e=o(),n=x(e);if(l=arguments,d=this,h=e,n){if(void 0===p)return v(h);if(f)return clearTimeout(p),p=setTimeout(b,t),y(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=r(t)||0,i(n)&&(g=!!n.leading,c=(f="maxWait"in n)?s(r(n.maxWait)||0,t):c,_="trailing"in n?!!n.trailing:_),S.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=d=p=void 0},S.flush=function(){return void 0===p?u:w(o())},S}},607187:(e,t,n)=>{var i=n(889464),o=n(479833),r=/[&<>"']/g,s=RegExp(r.source);e.exports=function(e){return(e=o(e))&&s.test(e)?e.replace(r,i):e}},385564:(e,t,n)=>{var i=n(121078);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},227361:(e,t,n)=>{var i=n(297786);e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},379095:(e,t,n)=>{var i=n(200013),o=n(900222);e.exports=function(e,t){return null!=e&&o(e,t,i)}},733448:(e,t,n)=>{var i=n(644239),o=n(637005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},288306:(e,t,n)=>{var i=n(883369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},478718:(e,t,n)=>{var i=n(325970),o=n(499021)((function(e,t){return null==e?{}:i(e,t)}));e.exports=o},823493:(e,t,n)=>{var i=n(23279),o=n(513218);e.exports=function(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}},498913:(e,t,n)=>{var i=n(422545),o=n(554290),r=n(640554),s=4294967295,a=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=s,l=a(e,s);t=o(t),e-=s;for(var d=i(l,t);++n<e;)t(n);return d}},418601:(e,t,n)=>{var i=n(14841),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var i=n(727561),o=n(513218),r=n(733448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):s.test(e)?NaN:+e}},479833:(e,t,n)=>{var i=n(880531);e.exports=function(e){return null==e?"":i(e)}},615071:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(654337),o=n(773949),r=n(486186);n(45697);function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var a=n(667294),l=n(973935);const d=!1;var c=n(500220),u="unmounted",p="exited",h="entering",m="entered",g="exiting",f=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=p,i.appearStatus=h):o=m:o=t.unmountOnExit||t.mountOnEnter?u:p,i.state={status:o},i.nextCallback=null,i}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==m&&(t=h):n!==h&&n!==m||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[l.findDOMNode(this),i],r=o[0],s=o[1],a=this.getTimeouts(),c=i?a.appear:a.enter;!e&&!n||d?this.safeSetState({status:m},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,s),this.safeSetState({status:h},(function(){t.props.onEntering(r,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(r,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!d?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],s=o[1];this.props.addEndListener(r,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,i):a.cloneElement(a.Children.only(n),i))},t}(a.Component);function _(){}f.contextType=c.Z,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},f.UNMOUNTED=u,f.EXITED=p,f.ENTERING=h,f.ENTERED=m,f.EXITING=g;const y=f;var v=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=s(n.className,i):n.setAttribute("class",s(n.className&&n.className.baseVal||"",i)));var n,i}))},x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1];t.removeClasses(o,"exit"),t.addClass(o,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.addClass(o,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),o=i[0],r=i[1]?"appear":"enter";t.removeClasses(o,r),t.addClass(o,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,o=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:i?o+"-active":n[e+"Active"],doneClassName:i?o+"-done":n[e+"Done"]}},t}(0,r.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,o=n.active,r=n.done;this.appliedClasses[t]={},i&&v(e,i),o&&v(e,o),r&&v(e,r)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return a.createElement(y,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(667294).createContext(null)},654337:(e,t,n)=>{function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,{Z:()=>i})},486186:(e,t,n)=>{function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{Z:()=>i})},773949:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>i})},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},196819:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return n(27509).Z}},889127:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search/products"]=function(){return n(27509).Z}},484898:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(737614),o=n(966427);const r={getBrowser:()=>(0,o.u)(i.Z.instance.browser_name||""),isSafari(){return this.getBrowser()===o.o.SAFARI},isChrome(){return this.getBrowser()===o.o.CHROME},isFirefox(){return this.getBrowser()===o.o.FIREFOX},isEdge(){return this.getBrowser()===o.o.EDGE}}},560133:(e,t,n)=>{n.d(t,{nn:()=>a,Gy:()=>l,i8:()=>d,RR:()=>c,qN:()=>u,SP:()=>p,Uz:()=>h,QY:()=>m,GT:()=>g,Zs:()=>f,Sn:()=>_,Kl:()=>y});var i=n(227361),o=n.n(i),r=n(589444),s=n(477342);const a=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},d=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},c=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,p=e=>e.is_stale_product,h=e=>u(e)||p(e),m=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},g=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function f(e,t={}){var n,i,o,a,l,d;const c=g(e),u={...t.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,s.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=(0,r.Z)({pin:e});var p;if(t)u.image_count=null===(p=t.carousel_slots)||void 0===p?void 0:p.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(a=e.rich_summary)&&void 0!==a&&null!==(l=a.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const h=e.aggregated_pin_data||{};return null!=h&&h.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function _(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const y=(e,t={})=>{if(e){return _(f(e,t))}return null}},295190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(296882),o=n(773432),r=n(737614),s=n(230457),a=n(674245),l=n(185062),d=n(478718),c=n.n(d),u=n(311866);const p={open(e){const t=c()(e,p._validParams),n=p._getDialogType(e),r=p.generateFbRef(),d=e.object_type&&e.object_id&&"feed"===n;let h=(0,i.Z)(e.path);const m=(0,l.Z)();if(m.ptrf&&(h=(0,o.Z)(h,{ptrf:m.ptrf})),d&&(h=(0,o.Z)(h,{fb_ref:r})),t.method=n,"feed"===t.method){const n=p.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+h;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=h:"share"===t.method&&(t.href=h),(0,a.default)((n=>{n.getLoginStatus((()=>{if("send"===t.method){n.ui(t);let i,o=10;const r=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(r),i&&p.executeMessengerCallback(i,e.callback)),o-=1}),1e3)}else"share"===t.method&&n.ui(t,(t=>{d&&t&&!t.error_message&&u.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),s.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.Z.instance.unauth_id+":"+e},_getDialogType:e=>p._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((o-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}},h=p},181821:(e,t,n)=>{n.d(t,{Z:()=>i});const i={get(e){const t="gplus";n.e(44232).then(n.bind(n,921539)).then((({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,(()=>{e(window.gapi)}))}))}}},580849:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(920349),o=n(737614),r=n(202923);let s=null;const a={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,countryFromHostName:e.country_from_hostname,countryFromIp:e.country_from_ip,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,requestIdentifier:e.request_identifier,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(s)return s;const e=a.fromDesktopContextProps({context:o.Z.instance,...(0,i.Z)(o.Z.instance)});var t;return t=o.Z.instance,0!==Object.keys(t).length&&(s=e),e},__private_static_provider_fallback_value:()=>({country:"US",countryFromHostName:"",countryFromIp:"",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.Z,advertiser:null,legacyAdvertiser:null,requestIdentifier:""})}},659048:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(295190),o=n(296882),r=n(773432),s=n(454690),a=n(447186);const l={};l.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),a.Z.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};const d=l,c={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s.Z.trackEvent("share_line","click");const t=c._getWindowUrl(e.share_path,e.share_text);d.open(t,c.DIALOG_WIDTH,c.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,o.Z)(e):void 0,text:t})},u=c,p={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s.Z.trackEvent("share_reddit","click");const t=p._getWindowUrl(e.share_path,e.share_text);d.open(t,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://www.reddit.com/submit?url=",{url:e?(0,o.Z)(e):void 0,title:t})},h=p;var m=n(311866);const g={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";s.Z.trackEvent(t,"click");const n=g._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,g.DIALOG_WIDTH,g.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,o.Z)(e):void 0,text:t||void 0})},f=g,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return m.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return m.ZP.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const o=e.object_id;return m.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e))),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&f.openDialog({tweet_path:i,tweet_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareRedditInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,i=t.invite_code;return n&&h.openDialog({share_path:n,share_text:e.description}),_._logShareInvite(e,i),Promise.resolve(t)}),(e=>Promise.reject(e))),shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r||(r=n.title),i&&u.openDialog({share_path:i,share_text:r}),_._logShareInvite(e,o),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:e=>_.createShareInviteData(e).then((t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&_._logShareInvite(e,o)}}),Promise.resolve(t)}),(e=>Promise.reject(e)))},y=_},525974:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(295190),o=n(311866),r=n(627578),s=n(230457),a=n(181821),l=n(282152),d=n(233495),c=n(928940),u=n(641483);function p(){}let h;Object.assign(p.prototype,{optionsForNetwork:{},connect(e,t,i){t=Object.assign({},{success(){},error(){},complete(){}},t),(0,u.ZP)(`auth_web.social_connect.${e}.${(0,l.Z)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((({default:e})=>{e((e=>{e.login((e=>{const n=e.authResponse;let i,o;n&&(i=n.grantedScopes,i=i?i.split(","):[],o=n.userID);const r=i.find((e=>"email"===e)),s={id:o};"connected"===e.status&&r?t.success(s):t.error(s),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),s.Z)})):"gplus"===e||"google"===e?a.Z.get((e=>{(0,d.Z)().then((()=>{e.auth2.getAuthInstance().grantOfflineAccess().then((e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((e=>{t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((({default:n})=>{const o=t.windowOptions||n.getWindowOptions(),s=window.open("/connect/"+e+"/","",o);if(!s)return r.Z.showError(i._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=c.Z.setInterval((()=>{s.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))}),1e3);this.optionsForNetwork=Object.assign(this.optionsForNetwork,{[e]:t})}))},complete(e){this.handleComplete(e)},handleComplete(e){const t=e.network;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){const n=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?n.error(e):n.success(e),n.complete()}}}),Object.assign(p,{instance:()=>(h||(h=new p),h)}),window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}));const m=p;var g=n(584489),f=n(447186),_=n(301314),y=n(912397);function v(){}Object.assign(v.prototype,{handleConnect(e,t,n,o){if(t&&!f.Z.isLimitedLogin()){const r={success:function(i){const o={network:e,data:i};this._internalConnectNetwork(t,o,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r,o)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){const e={user_id:f.Z.get("id"),username:f.Z.get("username"),field_set_key:"social_connect"};g.Z.instance.dispatch((0,_.jB)("UserResource",e));o.ZP.create("UserResource",e).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;f.Z.set(n)}))},_externalConnectNetwork(e,t,n,i){t?m.instance().connect(e,n,i):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.ZP.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((e=>{this.updateConnectStatus(),n.success&&n.success(e)}),(e=>{n.error&&e instanceof Object&&n.error(e)})).finally((()=>{n.complete&&n.complete()}))},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case y.vq:t="UserFacebookFriendsResource";break;case y.Ib:t="UserTwitterFriendsResource";break;case y.Tr:t="UserGmailFriendsResource";break;case y.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.ZP.create(i,n);r.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(r)}),(n=>{if(110===n.api_error_code)c.Z.setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}});let x=null;v.instance=function(){return x||(x=new v),x};const b=v},447186:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(85038),o=n(799881),r=n(737614),s=n(730762),a=n(241933),l=n(311866),d=n(233088),c=n(702925),u=n(804652),p=n(641483),h=n(858875);const m=new class{constructor(){var e,t,n;n={},(t="attributes")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}get(e){return e in this.attributes?this.attributes[e]:void 0}set(e,t){"object"==typeof e?Object.assign(this.attributes,e):this.attributes[e]=t}isAuthenticated(){return!!r.Z.instance.is_authenticated}isLimitedLogin(){return!!this.attributes.login_state&&2===this.attributes.login_state}attemptCrossDomainAutologin(){-1===c.Z.settings.CORS_HANDSHAKE_DOMAINS.indexOf(window.location.origin)||i.U2(h.x3)||n.e(12749).then(n.bind(n,697974)).then((({verifyLoggedInStatus:e})=>{e(r.Z.instance.unauth_id)}))}flushContextLogs(){a.Z.pause(),s.Z.getInstance().flushEvents(void 0,void 0)}logoutWithOptions(e,t,n){return(0,p.yl)(!0),this.flushContextLogs(),l.ZP.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{(0,p.tj)("logout",{tags:{app:7===r.Z.instance.app_type_detailed?"windows_desktop":"web_denzel",reason:"user_initiated",source:t}}),d.ZP.sessionStorage.clear(),d.ZP.localStorage.clear(),i.t8(h.e7,"True",720)})).then((()=>(0,u.D)("logoutWithOptions"))).then((()=>{if(n)for(const e in n)d.ZP.localStorage.setItem(e,n[e]);null!==e&&(0,o.Z)(e)}))}isWriteBanned(){if(this.attributes.nags&&Array.isArray(this.attributes.nags)){const e=this.attributes.nags;return e.length>0&&"write_banned"===e[0].type}return!1}}},627578:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(607187),o=n.n(i);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,n){const i=o()(e);return r.showHtmlError(i,t,n)},r.showHtmlError=function(e,t,n){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,n)};const s=r},750980:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(580849);const o={getInstance:()=>i.K.fromGlobalContext().experiments}},230457:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(447186);const o=()=>i.Z.isAuthenticated()&&!!i.Z.attributes.facebook_id&&!i.Z.isLimitedLogin()},454690:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(238402),o=n(185062);let r;void 0===r&&(r=n.g),r._gaq=r._gaq||[];let s=[];const a=function(e){if(s.length)for(let t=0;t<s.length;t+=1){const n=s[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},l=function(e){if(s=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},d=2,c=3,u={};u.init=function(e,t){l(e),a(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",d])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){l(e),t?(i?a(["_setCustomVar",1,"adminUser",i.toString(),c]):o&&o.id?a(["_setCustomVar",1,"viewingUser",o.id.toString(),c]):a(["_setCustomVar",1,"is_logged_in","logged in",c]),n&&n.id&&a(["_setCustomVar",3,"advertiserId",n.id,c])):a(["_setCustomVar",1,"is_logged_in","logged out",c])};const p=function(e,t){let n=e;const r=(0,o.Z)(t).q;return r&&(n+="?"+(0,i.Z)({q:r})),n};u.trackPageview=function(e){a(["_setCustomVar",2,"page_name",e,c]),a(["_trackPageview",p(r.location.pathname,r.location.search)]),a(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){a(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)};const h=u},755908:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(388279),o=n(585967),r=n(350758),s=n(785893);const a=e=>{const{requestIdentifier:t=""}=(0,o.B)();return(0,s.jsx)(r.C,{...e,timeSpentManager:i.Z,auxData:{app_instance_id:t.slice(0,8)}})}},549135:(e,t,n)=>{n.d(t,{j:()=>l,E:()=>d});var i=n(229423),o=n(730762),r=n(439887),s=n(584489);const a=e=>{const{pins:t,location:n}=s.Z.instance.getState(),i=t&&e&&t[e];return i?(0,r.Z)(i,n)||`${i.tracking_params}~0`:void 0};function l(e,t={}){o.Z.getInstance().addEvent(((e,{element:t,eventData:n,component:o,objectId:r,view:s,viewParameter:l,viewData:d,durationNs:c,pairId:u,clientTrackingParams:p,...h})=>{const m=i.Z.fromEventType(e);return m.setElement(t),m.updateEventData(n),m.setComponent(o),r&&m.setObjectIdStr(r),m.setDurationNs(c),m.updateAuxData({...h}),m.setViewType(s),m.setViewParameter(l),m.setViewData(d),m.setPairId(u),m.setClientTrackingParams(p||a(r)),m})(e,t))}const d={flushContextEvents:e=>o.Z.getInstance().flushEvents(e),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:o,event_data:r,event_type:s,object_id_str:a,pair_id:d,view_data:c,view_parameter:u,view_type:p})=>{l(s,{...e,element:o,eventData:r,component:n,objectId:a,view:p,viewParameter:null!=u?u:void 0,viewData:c,durationNs:i,pairId:d,clientTrackingParams:t})},logImpression:({auxData:e,component:t,eventData:n,eventType:i,impressionType:o,objectIdStr:r,viewData:s,viewParameter:a,viewType:d})=>{l(i,{...e,component:t,eventData:{[o]:[n]},objectId:r,viewData:s,viewParameter:null!=a?a:void 0,view:d})}}},269935:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(973935),r=n(40142),s=n(589444),a=n(241933),l=n(549135);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",(()=>{try{this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),d(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:s,impressionAuxFields:a,impressionType:d,loggingId:u,objectIdStr:p,slotIndex:h,trackCarousel:m,viewData:g,viewParameter:f,viewType:_}=this.props,y=c[d],v=y.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0,b={endTime:e.endTime,[v]:u,slotIndex:h,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...a,forcedExit:x};if(m||(0,l.j)(y.eventType,{closeup_navigation_type:i,component:o,element:s,eventData:{[y.impressionType]:[b]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...r}),t&&m){const{carousel_slots:e,index:n=0,id:i}=t;(0,l.j)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...r})}})),this.impressionsFramework=e.impressionsFramework||a.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}const p=(0,r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:(0,s.Z)({pin:n})}}),(()=>({})))(u)},8759:(e,t,n)=>{n.d(t,{E3:()=>r,MQ:()=>s,A0:()=>a,$Y:()=>l,cV:()=>d});var i=n(227361),o=n.n(i);function r(e){return!!e&&0!==e.type}const s=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function a(e){return o()(e,["display_data","anchor"])}function l(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[a(t)]=t)}},312827:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(40142),r=n(708206),s=n(50351),a=n(8759),l=n(752430);function d(e){const t=(0,o.useDispatch)(),n=(0,o.useSelector)((e=>e.experiences.eligibleExperiences)),d=(0,o.useSelector)((e=>e.experiences.mountedPlacements));return{experienceForPlacement:e?(0,a.MQ)(n,d,e):null,...(0,i.useMemo)((()=>(0,r.bindActionCreators)({completeExperience:l.V_,dismissExperience:l.WG,fetchAllExperiences:l.JT,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacement:l.zN,triggerExperimentsForPlacement:l.qb,viewExperience:l.Uk},t)),[t])}}},686125:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o(e){const{resourceDependencies:t=(()=>[])}=e;return function(e){function n(t){return(0,i.jsx)(e,{...t})}return n.WrappedComponent=e,n.displayName="StaticRouteData",n.getResourceDependencies=t,n}}},784655:(e,t,n)=>{n.d(t,{iR:()=>i,hy:()=>o,VX:()=>r,_Q:()=>s,jL:()=>a,_J:()=>l,c4:()=>d,i8:()=>c,sV:()=>u,DP:()=>p,X9:()=>h,B5:()=>m});const i=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,r=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},s=e=>!!e.promoted_is_lead_ad,a=e=>!!e.promoter&&!e.is_downstream_promotion,l=e=>!!e.video_status&&5!==e.video_status,d=e=>!!e.creator_class,c=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return!!o[e]&&!o[e].paused},u=e=>["email","messages","deep_linking"].includes(e),p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};for(const r in o){const{paused:t}=o[r];if(r!==e&&!t)return!1}return!0},h=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,o={...n,...i};return o[e]&&o[e].currentTime},m=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},609304:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},39527:(e,t,n)=>{n.d(t,{t:()=>p,N:()=>u});var i=n(667294),o=n(925311),r=n(463080),s=n(205794),a=n(311866),l=n(762803),d=n(785893);const{Provider:c,useHook:u}=(0,l.ZP)("LinkedAccount");function p({children:e}){const[t,n]=(0,i.useState)(!1),[l,u]=(0,i.useState)([]),p=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:l})=>{n(!0);const d={business_name:e,third_party_apps:t};return a.ZP.create("BusinessOwnershipResource",d).callCreate({showError:!0}).then((()=>{i&&(o.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),n(!1),(e=>{(0,s.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n]),h=(0,i.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:u})),[p,t,u,l]);return(0,d.jsx)(c,{value:h,children:e})}},352483:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(667294),o=n(883119),r=n(785893);function s({isHorizontalDesign:e}){return e?(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):(0,r.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var a=n(174523);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class c extends i.PureComponent{constructor(...e){super(...e),l(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),l(this,"getImageArray",(()=>{const{userPins:e}=this.props;let t=[];return e&&0!==e.length?(t=e.map((e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url})).filter(Boolean),t):t})),l(this,"getImage",((e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&(0,r.jsx)(o.Ee,{naturalHeight:1,src:e,fit:"cover",alt:this.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})})),l(this,"handleLoad",(e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})}))}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),(0,r.jsx)(o.xu,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,r.jsx)(o.xu,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),(0,r.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),(0,r.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,r.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),(0,r.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:(0,r.jsxs)(o.xu,{width:"100%",position:"relative",flex:"grow",children:[(0,r.jsx)(s,{isHorizontalDesign:e}),n,(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:d,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}const u=function(e){const t=(0,a.ZP)();return(0,r.jsx)(c,{...e,i18n:t})};var p=n(151101),h=n(549135);const m=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:s,userFullName:a,viewParameter:l,viewType:d}=e,c=i?80:86;return(0,r.jsx)(o.xu,{zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0}},display:"flex",flex:"none",rounding:"circle",children:(0,r.jsx)(o.xu,{flex:"none",height:c,width:c,children:(0,r.jsx)(o.iP,{onTap:({event:e})=>{e.stopPropagation(),function(e,t){(0,h.j)(101,{view:e,viewParameter:t,component:13406,element:11373})}(d,l)},href:s,rounding:"circle",role:"link",children:(0,r.jsx)(p.Z,{name:a,src:t,verified:n})})})})};var g=n(537343);function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:s}){const a=s*t,l=(0,g.ZP)(e,a);return n?(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"bold",children:l}):(0,r.jsx)(o.xv,{align:i?"start":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:l})}function _({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const s=e||t,a={placeholder:{__style:{transition:"opacity 200ms",opacity:s?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:s?1:0}}};return(0,r.jsxs)(o.xu,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[(0,r.jsx)(o.xu,{height:18,width:"100%",children:(0,r.jsx)(o.xv,{align:n?"start":"center",lineClamp:1,size:n?"lg":"md",weight:"bold",children:i})}),(0,r.jsxs)(o.xu,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[(0,r.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:a.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),(0,r.jsx)(o.xu,{height:6,flex:"none"}),(0,r.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",marginTop:-1,children:(0,r.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",marginTop:2,children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!s&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:a.subtitle,width:"100%",height:"100%",children:(0,r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:s})})]})]})}var y=n(40142),v=n(756169),x=n(946753);function b({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:s}){const l=(0,a.ZP)();return i?(0,x.nk)(l._("{{ followCount }} {{ followText }}"),{followCount:(0,r.jsx)(o.xu,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:s?void 0:.8,children:(0,r.jsx)(o.xv,{color:s?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:(0,r.jsx)(v.Z,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,r.jsx)(o.xu,{"data-test-id":"followText",display:"inlineBlock",children:(0,r.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):(0,r.jsx)(o.xu,{"data-test-id":"followText",children:(0,r.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var w=n(881220),S=n(475446),I=n(289605);const C=(0,y.connect)(((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}}),(e=>({follow:t=>e((0,I.ZN)(t)),unfollow:t=>e((0,I.fv)(t))})))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:s,follow:l,id:d,viewParameter:c,viewType:u,fullName:p,imageUrl:m,profileUrl:g}){const f=(0,a.ZP)(),{showOneToast:_}=(0,S.F9)(),y=s?f._("Following","User follow button","User follow button"):f._("Follow","User follow button","User follow button"),v=e=>(0,h.j)(e,{view:u,viewParameter:c,component:13406,element:11372});return(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:(0,r.jsx)(o.iP,{onTap:()=>{s?((0,I.fv)(d),v(46)):(l(d),v(45),_((({onHide:e})=>(0,r.jsx)(w.Z,{onHide:e,text:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.xv,{children:f._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,r.jsx)(o.xv,{weight:"bold",children:p})]}),href:g,imageUrl:m}))))},rounding:"pill",children:(0,r.jsx)(o.xu,{alignItems:"center",color:s?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:(0,r.jsx)(b,{followerCount:e,followText:y,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:s})})})})}));function E({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:s,isCreator:a,isHorizontalDesign:l,isVerified:d,userFullName:c,username:u,viewParameter:p,viewType:h}){const g=function(e){return`/${e}`}(u);return(0,r.jsxs)(o.xu,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%",children:[(0,r.jsx)(m,{avatarUrl:e,isHorizontalDesign:l,isVerified:d,url:g,userFullName:c,viewType:h,viewParameter:p}),l&&(0,r.jsxs)(o.xu,{position:"relative",width:"100%",children:[(0,r.jsx)(o.xu,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:(0,r.jsx)(C,{fullName:c,followerCount:i,id:s,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:a})}),(0,r.jsx)(o.xu,{width:"100%",display:"flex",left:!0,marginTop:1,children:(0,r.jsx)(_,{description:t,domainUrl:n,isHorizontalDesign:l,userFullName:c})})]}),!l&&(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(_,{userFullName:c,domainUrl:n,description:t,isHorizontalDesign:l}),(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,r.jsx)(C,{followerCount:i,fullName:c,id:s,imageUrl:e,isHorizontalDesign:l,profileUrl:g,showFollowerCount:a})})]})]})}var T=n(451190);const P=24;function j({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:s,top:a,width:l,height:d}=e.getBoundingClientRect(),c=s+window.pageXOffset,u=a+window.pageYOffset,p=c+l+i+12>window.innerWidth,h={left:p?c:c+l,top:u+d/2},m={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-i:12,top:-i/2-44},g={top:-12,left:-12,fill:"white"},f=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return(0,r.jsxs)(o.xu,{position:"absolute",zIndex:T.b,dangerouslySetInlineStyle:{__style:h},children:[(0,r.jsx)(o.xu,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:m},width:i,overflow:"hidden",children:t}),(0,r.jsx)(o.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsx)("svg",{width:P,height:P,children:(0,r.jsx)("path",{d:f})})})]})}var R=n(311866),O=n(51610),k=n(34411),A=n(585967);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.PureComponent{constructor(e){super(e),D(this,"anchorRef",(0,i.createRef)()),D(this,"loadUser",(()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(R.ZP.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((e=>{var n;t&&this.setState({detailedUser:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),R.ZP.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then((e=>{var n;t&&this.setState({userPins:null===(n=e.resource_response)||void 0===n?void 0:n.data})})),t&&this.setState({isLoaded:!0}))})),D(this,"handleScroll",(()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())})),D(this,"timeoutDismiss",(()=>{this.dismissTimeout=setTimeout((()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))}),150)})),D(this,"handleDisplayCard",(()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:s}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:a}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(a)?s&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout((()=>{s&&this.setState({isVisible:!0})}),300))})),D(this,"handleHideCard",(()=>{this.timeoutDismiss()})),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:s,viewParameter:a,viewType:l}=this.props,{isVisible:d,user:c,userPins:p}=this.state,{about:h,domain_url:m,follower_count:g,full_name:f,id:_,image_medium_url:y,show_creator_profile:v,verified_identity:x}=c||{},b=s.isAuth&&s.id===_,w=Boolean(null==x?void 0:x.verified),{group:S}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),I="enabled2_horizontal"===S;return(0,r.jsxs)(o.xu,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[(0,r.jsxs)(o.xu,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[(0,r.jsx)(o.xu,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!b&&!!c&&!!i&&d&&(0,r.jsx)(o.xu,{children:(0,r.jsx)(O.Z,{children:(0,r.jsx)(o.mh,{children:(0,r.jsx)(j,{anchor:this.anchorRef.current,isHorizontalDesign:I,children:(0,r.jsx)(o.xu,{color:"white",zIndex:T.b,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:(0,r.jsxs)(o.xu,{width:"100%",children:[(0,r.jsx)(u,{isHorizontalDesign:I,userPins:p}),(0,r.jsx)(E,{avatarUrl:null!=y?y:"",description:null!=h?h:"",domainUrl:m,followerCount:null!=g?g:0,id:null!=_?_:"",isCreator:v,isHorizontalDesign:I,isVerified:null!=w&&w,userFullName:null!=f?f:"",username:i,viewParameter:a,viewType:l})]})})})})})})]})}}function N(e){const t=(0,A.B)(),n=(0,k.Z)();return(0,r.jsx)(L,{...e,requestContext:t,viewer:n})}},702403:(e,t,n)=>{n.d(t,{FC:()=>i,z9:()=>o,EC:()=>r,m9:()=>s,BS:()=>a,_5:()=>l,A6:()=>d});const i=424,o=800,r=508,s=424,a=278,l=640,d=508},418448:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(641483),o=n(549135);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:r,isUnauth:s,pinId:a,viewParameter:l,viewType:d}){return"undefined"==typeof window?Promise.resolve():((0,i.ZP)(`web.${s?"unauth":"auth"}.download.click.${r||"no_category"}`),(0,o.j)(82,{objectId:a,view:d||3,viewParameter:l||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},628402:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(40142),r=n(893945),s=n(174523),a=n(311866);var l=n(883119),d=n(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:n,onFavorite:c,onUnfavorite:u,pinId:p,size:h}){const m=(0,s.ZP)(),g=(0,o.useDispatch)(),[f,_]=(0,i.useState)(!1),[y,v]=(0,i.useState)(e),[x,b]=(0,i.useState)(null!=t?t:0),w=async()=>{var e;v(!y),_(!0),y?(b(x-1),await g((e=p,async t=>{await a.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),_(!1)):(b(x+1),await g(function(e){return async t=>{await a.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),_(!1))},S=x<10?x:m._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==t&&x>0&&(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:S}),(0,d.jsx)(r.Z,{isCloseupButton:n,isDisabled:f,isFavorited:y,onTap:()=>{w()},size:h})]})}},893945:(e,t,n)=>{n.d(t,{W:()=>a,Z:()=>l});var i=n(174523),o=n(883119),r=n(785893);const s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:n,onTap:l,size:d}){const c=(0,i.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:n?a:s,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:t,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:n?a:s,size:d})})}},801500:(e,t,n)=>{function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}n.d(t,{J:()=>i,E:()=>o})},557162:(e,t,n)=>{n.d(t,{c:()=>o,t:()=>r});var i=n(740060);function o({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},740060:(e,t,n)=>{n.d(t,{Z:()=>h,J:()=>d});var i=n(667294),o=n(39527),r=n(762803),s=n(159617),a=n(785893);const{Provider:l,useHook:d}=(0,r.ZP)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:s.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:h,showAccountMenuFlyout:m},g]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(s.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const f=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:h,showAccountMenuFlyout:m,updateHeaderState:g})),[g,n,r,d,h,m]);return(0,a.jsx)(l,{value:f,children:(0,a.jsx)(o.t,{children:e})})}},176082:(e,t,n)=>{n.d(t,{ZP:()=>d});var i=n(326149),o=n(883119),r=n(785893);const s="rgb(255,255,255)",a={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},l=({accessibilityLabel:e,active:t,children:n,color:i="darkGray",focused:l,hovered:d,icon:c,isSVG:u,iconOnly:p,shouldPad:h})=>{const m="darkGray"===i?{hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:a,iconOnly:{backgroundColor:s}}:{hovered:{backgroundColor:"rgba(255,255,255,0.4)"},active:{backgroundColor:s},focused:a,iconOnly:{backgroundColor:"rgba(255,255,255,0.0)"}},g=p?{...m.iconOnly}:{...d?m.hovered:Object.freeze({}),...t?m.active:Object.freeze({}),...l?m.focused:Object.freeze({})},f="white"===i&&t?"darkGray":i;return(0,r.jsx)(o.xu,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:n?"pill":"circle",dangerouslySetInlineStyle:{__style:g},children:(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:p?30:48,minWidth:p?30:48}},paddingX:h?3:0,children:[u?(0,r.jsx)(o.JO,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:c},color:f,inline:!0,size:p?16:20}):(0,r.jsx)(o.JO,{accessibilityLabel:e,icon:c,color:f,inline:!0,size:p?16:20}),n]})})},d=e=>{const{accessibilityLabel:t,children:n,color:o="darkGray",onClick:s,icon:a,isSVG:d,shadowType:c,shouldPad:u,iconOnly:p}=e;return(0,r.jsx)(i.Z,{accessibilityLabel:t,className:c||"",dataTestId:"lego-button",onClick:s,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:i,focused:s})=>(0,r.jsx)(l,{active:e,accessibilityLabel:t,color:o,hovered:i,focused:s,icon:a,isSVG:d,iconOnly:p,shouldPad:u,children:n})})}},515743:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(281810),r=n(87398),s=n(155656),a=n(840667),l=n(883119),d=n(535258),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"masonryRef",(0,i.createRef)()),u(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return(0,c.jsx)("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2},children:(0,c.jsx)(t,{...e})})}))}componentDidUpdate(e){const{widthOffset:t,useMasonry9:n}=this.props;t!==e.widthOffset&&(n||this.masonryRef.current&&this.masonryRef.current.handleResize())}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t;return{gutterWidth:n?d.oX:e,paddingBottom:n?16:6}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:u,masonryRef:p,measurementStore:h,scrollContainer:m,serverRender:g,useMasonry9:f,virtualize:_,inScrollOptimizationExperiment:y,isGridCentered:v,minCols:x}=this.props,{gutterWidth:b}=this.getGutters();let w,S=null;return S=f?(0,c.jsx)(a.Z,{columnWidth:e+b,gutterWidth:0,comp:this.renderItem,minCols:x,ref:e=>{this.masonryRef.current=e,p&&(p.current=e)},items:n,flexible:t,loadItems:u,measurementStore:h,scrollContainer:m,virtualize:_}):(0,c.jsx)(l.Rk,{columnWidth:e+b,gutterWidth:0,comp:this.renderItem,minCols:x,ref:e=>{this.masonryRef.current=e,p&&(p.current=e)},items:n,flexible:t,layout:i||"basic",loadItems:u,measurementStore:h,_deferScrollPositionUpdate:!!y,scrollContainer:m,virtualize:_}),v&&(w="gridCentered"),(0,c.jsxs)("div",{className:w,children:[g&&(0,c.jsx)(s.Z,{unsafeCSS:t?(0,r.Z)((e||d.xf)+b,n.length||d.g5,x||d.yc):(0,o.Z)((e||d.xf)+b,n.length||d.g5,x||d.yc)}),(0,c.jsx)("div",{children:S})]})}}u(p,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:d.yc,paddingStyle:"simplified",useMasonry9:!1})},785705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(551687),r=n(255038),s=n(840667),a=n(883119);const l={},d=(e,t)=>{if(null!=e)return l[e]&&l[e].screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth,cache:t?s.Z.createMeasurementStore():a.Rk.createMeasurementStore()}),l[e].cache};var c=n(181307),u=n(666584),p=n(515743),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="undefined"!=typeof window?()=>window:void 0;class f extends i.Component{constructor(...e){super(...e),m(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,h.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:(0,h.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;e||t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:s,layout:a,masonryRef:l,minCols:c,paddingStyle:u,scrollContainer:m,serverRender:f,useMasonry9:_,virtualize:y,widthOffset:v}=this.props;return(0,h.jsx)(p.Z,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,inScrollOptimizationExperiment:o,isGridCentered:r,items:s,layout:a,loadItems:this.loadItems,masonryRef:l,measurementStore:d(e,_),minCols:c,paddingStyle:u,scrollContainer:m||g,serverRender:f,useMasonry9:_,virtualize:y,widthOffset:v})}}function _({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,isAtEnd:s,isFetching:a,isGridCentered:l=!0,isLoaded:d,items:p,pinData:m,layout:_,loadItems:y,masonryRef:v,minCols:x,paddingStyle:b,scrollContainer:w,serverRender:S=!0,useMasonry9:I,virtualize:C,widthOffset:E,includeBackgroundImages:T,includeVideos:P}){const j=(0,u.N5)(),R=(0,c.tc)("scroll_gestalt_defer_pos_update");let O=!1;return null!=j&&j.isAuthenticated&&(O=R().anyEnabled),(0,h.jsx)(r.Z,{isAtEndOfFeed:s,pinData:m,itemCount:p.length,includeBackgroundImages:T,includeVideos:P,children:(0,h.jsx)(f,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:o,inScrollOptimizationExperiment:O,isFetching:a,isGridCentered:l,items:p,layout:_,loadItems:y,masonryRef:v,minCols:x,paddingStyle:b,scrollContainer:w||g,serverRender:S,useMasonry9:I,virtualize:C,widthOffset:E})})}},840667:(e,t,n)=>{n.d(t,{Z:()=>z});var i=n(667294);class o{constructor(e=[],t=(()=>null)){var n,i,o;o=[],(i="items")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.items=e,this.getItemLayoutInfo=t}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g}const a="resizeanim";class l{constructor(e,t){r(this,"_window",s()),r(this,"_elementsMap",new WeakMap),r(this,"_handleScroll",(e=>{const t=e.target;if(t.className&&"function"==typeof t.className.indexOf&&t.className.indexOf("contract-trigger")<0&&t.className.indexOf("expand-trigger")<0)return;const n=e.currentTarget,i=this._elementsMap.get(n);if(!i)throw new Error("No subscription on element.");this._resetTriggers(n,i.resizeTriggers),i.animationFrameId&&window.cancelAnimationFrame(i.animationFrameId),i.animationFrameId=window.requestAnimationFrame((()=>{(!i.previousDimensions||n.offsetWidth!==i.previousDimensions.width||n.offsetHeight!==i.previousDimensions.height)&&(i.previousDimensions={width:n.offsetWidth,height:n.offsetHeight},i.resizeHandlers.forEach((t=>{t.call(n,e)})))}))})),this._window=e,this._nonce=t}_resetTriggers(e,t){const n=t.firstElementChild,i=t.lastElementChild,o=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}_createStyles(e){if(!e.getElementById("ResizeListener")){const t=`${"@$keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } "}.resize-triggers { ${"animation: 1ms resizeanim; "} visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="ResizeListener",i.type="text/css",null!=this._nonce&&i.setAttribute("nonce",this._nonce),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n.appendChild(i)}}addResizeListener(e,t){if(e)if(e===window)window.addEventListener("resize",t,!1);else{if(!this._elementsMap.has(e)){const t=e.ownerDocument,n=this._window.getComputedStyle(e);n&&"static"===n.position&&(e.style.position="relative"),this._createStyles(t);const i=t.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),this._resetTriggers(e,i),e.addEventListener("scroll",this._handleScroll,!0);const o=t=>{t.animationName===a&&this._resetTriggers(e,i)};i.addEventListener("animationstart",o),this._elementsMap.set(e,{resizeTriggers:i,animationHandler:o,resizeHandlers:[]})}const n=this._elementsMap.get(e);n&&n.resizeHandlers.push(t)}}removeResizeListener(e,t){if(e)if(e===window)window.removeEventListener("resize",t,!1);else{const n=this._elementsMap.get(e);if(!n)return;n.resizeHandlers.splice(n.resizeHandlers.indexOf(t),1),0===n.resizeHandlers.length&&(e.removeEventListener("scroll",this._handleScroll,!0),n.resizeTriggers.removeEventListener("animationstart",n.animationHandler),e.removeChild(n.resizeTriggers),this._elementsMap.delete(e))}}}r(l,"sharedInstance",new l(s()));var d=n(785893);function c({children:e,defaultSize:t,disableWidth:n=!1,disableHeight:o=!1,onResize:r}){const[s,a]=(0,i.useState)({width:0,height:0}),c=(0,i.useRef)(),u=(0,i.useRef)(),p=(0,i.useCallback)((()=>{if(u.current){const e=u.current.offsetHeight||0,t=u.current.offsetWidth||0,i=window.getComputedStyle(u.current)||{},l=parseInt(i.paddingLeft,10)||0,d=parseInt(i.paddingRight,10)||0,c=e-(parseInt(i.paddingTop,10)||0)-(parseInt(i.paddingBottom,10)||0),p=t-l-d;(!o&&s.height!==c||!n&&s.width!==p)&&(a({width:p,height:c}),r({width:p,height:c}))}}),[s,o,n,r,u.current]);(0,i.useEffect)((()=>{var e,t;null!==(e=c.current)&&void 0!==e&&null!==(t=e.parentNode)&&void 0!==t&&t.ownerDocument.defaultView&&c.current.parentNode instanceof c.current.parentNode.ownerDocument.defaultView.HTMLElement&&(u.current=c.current.parentNode,p())}),[]),(0,i.useEffect)((()=>(u.current&&l.sharedInstance.addResizeListener(u.current,p),()=>{u.current&&l.sharedInstance.removeResizeListener(u.current,p)})),[u.current,p]);const h={overflow:"visible",margin:"auto",display:"flex",justifyContent:"center"};return o||(h.height=0),n||(h.width=0),(0,d.jsx)("div",{className:"AutoSizer",ref:c,style:h,children:e})}var u=n(294184),p=n.n(u),h=n(618446),m=n.n(h);class g extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="itemSizeCache",i=new WeakMap,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.componentDidRender()}shouldComponentUpdate(e){const{customSize:t,layout:n}=e,{customSize:i,layout:o}=this.props;if(!m()(i,t))return!0;if(n.items.length!==o.items.length)return!0;if(n.items.some(((e,t)=>e!==o.items[t])))return!0;const r=n.items.map(n.getItemLayoutInfo),s=o.items.map(o.getItemLayoutInfo);return!(!r.some(((e,t)=>e!==s[t]))||!r.some(((e,t)=>!m()(e,s[t]))))}componentDidUpdate(){this.componentDidRender()}componentDidRender(){const{onRenderedItems:e}=this.props;e&&e(this.itemSizeCache),this.itemSizeCache=new WeakMap}getElementHeight(e){return e&&(e.clientHeight||e.scrollHeight)||0}measureItem(e,t){t&&this.itemSizeCache.set(e,{width:t.clientWidth||t.scrollWidth||0,height:this.getElementHeight(t)||this.getElementHeight(t.children&&t.children[0])})}render(){const{renderItem:e,layout:t,customSize:n,itemsToMeasureLimit:i}=this.props,o=[],r=[];t.items.forEach(((n,s)=>{const a=t.getItemLayoutInfo(n);if(!a)return;const l="number"==typeof a.customIndex?a.customIndex:s,c=`item-${l}`;if(!a.size&&o.length<(i||1/0)){const t=e({item:n,index:l,isMeasuring:!0,constraints:a.constraints});o.push((0,d.jsx)("div",{className:"Collection-Item Collection-Item-Measuring",style:{pointerEvents:"none",position:"absolute",visibility:"hidden",top:-9999,left:-9999,...a.constraints},ref:e=>this.measureItem(n,e),children:t},c))}if(a.position){const t=e({item:n,index:l,isMeasuring:!1,constraints:a.constraints});if(!a.position)return;r.push((0,d.jsx)("div",{className:"Collection-Item",style:{position:"absolute",top:0,left:0,transform:`translate(${a.position.left}px, ${a.position.top}px)`,...a.size},children:t},c))}}));const s=n||t.size;return(0,d.jsxs)("div",{style:{position:"relative",...s},className:"Collection",children:[o,r]})}}const f=function({layout:e,overscan:t=200,scrollContainerSize:n,scrollPosition:i,children:r}){const s=i.top-t,a=i.top+n.height+t,l=i.left-t,d=i.left+n.width+t,c=e.items.filter((t=>{const n=e.getItemLayoutInfo(t);if(!n)return!1;const{size:i,position:o}=n;return!i||!o||o.top+i.height>=s&&o.top<=a&&o.left+i.width>=l&&o.left<=d})),u=new o(c,e.getItemLayoutInfo);return u.size=e.size,u.contentFilledSize=e.contentFilledSize,u.isMeasuring=e.isMeasuring,r(u,e.size?e.size:void 0)};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),_(this,"state",{layout:this.props.initialLayout||new o,initialItemCount:0,previousItems:[],previousContentContainerSize:this.props.contentContainerSize}),_(this,"contentContainerRef",(0,i.createRef)()),_(this,"handleItemsRendered",(e=>{this.handleItemsRenderedAnimationFrame||(this.handleItemsRenderedAnimationFrame=requestAnimationFrame((()=>{this.handleItemsRenderedAnimationFrame=null;const{getItemLayoutOptions:t,layoutEngine:n,onLayoutUpdated:i,items:r,contentContainerSize:s}=this.props,{layout:a}=this.state,l=((e,t)=>{const n=new WeakMap;let i=!1;return e.items.forEach((o=>{const r=e.getItemLayoutInfo(o),s=t.get(o);r&&s&&!m()(r.size,s)&&(n.set(o,{...r,size:s}),i=!0)})),i?new o(e.items,(t=>n.get(t)||e.getItemLayoutInfo(t))):e})(a,e);if(a===l)i&&i(a);else{const e=n.buildLayout({containerSize:s,items:r.filter(Boolean),getItemLayoutOptions:t,previousLayout:l});this.setState({layout:e})}})))})),_(this,"renderCollection",((e,t)=>{const{items:n,renderItem:i,layoutEngine:o,scrollContainerSize:r,contentContainerSize:s}=this.props,{initialItemCount:a}=this.state,l="function"==typeof o.itemsToMeasureLimit?o.itemsToMeasureLimit({initialLayout:n.length===a,layout:e,scrollContainerSize:r,contentContainerSize:s}):o.itemsToMeasureLimit||1/0;return(0,d.jsx)(g,{renderItem:i,layout:e,onRenderedItems:this.handleItemsRendered,customSize:t,itemsToMeasureLimit:l})}))}static getDerivedStateFromProps(e,t){const{items:n,getItemLayoutOptions:i,layoutEngine:o,contentContainerSize:r}=e,{previousItems:s,previousContentContainerSize:a,layout:l,initialItemCount:d}=t,c={initialItemCount:d||n.length,previousContentContainerSize:r,previousItems:n};if(!(u=s,p=n,(u===p||u.length===p.length&&u.every(((e,t)=>e===p[t])))&&m()(r,a))){return{layout:o.buildLayout({containerSize:r,items:n.filter(Boolean),getItemLayoutOptions:i,previousLayout:l}),contentContainerSize:r,...c}}var u,p;return c}componentDidMount(){const{onLayoutUpdated:e}=this.props,{layout:t}=this.state;e&&e(t)}componentWillUnmount(){this.handleItemsRenderedAnimationFrame&&cancelAnimationFrame(this.handleItemsRenderedAnimationFrame)}getLayout(){return this.state.layout}render(){const{virtualize:e,virtualOverscan:t,scrollPosition:n,scrollContainerSize:i,contentContainerSize:o}=this.props,{layout:r}=this.state;let s=null;if(e&&i&&n){const e="function"==typeof t?t({layout:r,scrollContainerSize:i,contentContainerSize:o}):t||0;s=(0,d.jsx)(f,{layout:r,scrollContainerSize:i,scrollPosition:n,overscan:e,children:this.renderCollection})}else s=this.renderCollection(r);return(0,d.jsx)("div",{className:"LayoutRenderer",children:s})}}function v(e){null!==e.id&&(window.cancelAnimationFrame(e.id),e.id=null)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_(y,"defaultProps",{virtualOverscan:function({scrollContainerSize:e}){return 2*Math.max(e.width,e.height)}});class b{constructor(){x(this,"_mountedInstances",[]),x(this,"_originalBodyPointerEvents",null),x(this,"_disablePointerEventsTimeoutId",null),x(this,"_enablePointerEventsAfterDelayCallback",(()=>{this._enablePointerEventsIfDisabled(),this._mountedInstances.forEach((({options:e})=>{e.resetIsScrolling&&e.resetIsScrolling()}))})),x(this,"_handleScroll",(e=>{e.currentTarget===window&&null==this._originalBodyPointerEvents&&document.body&&(this._originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),this._enablePointerEventsAfterDelay(),this._mountedInstances.forEach((({scrollElement:t,options:n})=>{t===e.currentTarget&&n.handleScroll()}))}))}_enablePointerEventsIfDisabled(){this._disablePointerEventsTimeoutId&&(this._disablePointerEventsTimeoutId=null,document.body&&null!=this._originalBodyPointerEvents&&(document.body.style.pointerEvents=this._originalBodyPointerEvents),this._originalBodyPointerEvents=null)}_enablePointerEventsAfterDelay(){this._disablePointerEventsTimeoutId&&v(this._disablePointerEventsTimeoutId);let e=0;this._mountedInstances.forEach((({options:t})=>{e=Math.max(e,t.scrollingResetTimeInterval)})),this._disablePointerEventsTimeoutId=function(e,t){let n;Promise.resolve().then((()=>{n=Date.now()}));const i={id:null},o=()=>{Date.now()-n>=t?e.call():i.id=window.requestAnimationFrame(o)};return i.id=window.requestAnimationFrame(o),i}(this._enablePointerEventsAfterDelayCallback,e)}registerScrollListener(e,t){this._mountedInstances.some((({scrollElement:t})=>t===e))||e.addEventListener("scroll",this._handleScroll),this._mountedInstances.push({scrollElement:e,options:t})}unregisterScrollListener(e){this._mountedInstances=this._mountedInstances.filter((({scrollElement:t})=>t!==e)),this._mountedInstances.length||(e.removeEventListener("scroll",this._handleScroll),this._disablePointerEventsTimeoutId&&(v(this._disablePointerEventsTimeoutId),this._enablePointerEventsIfDisabled()))}}x(b,"sharedInstance",new b);var w=n(823493),S=n.n(w);function I(e,t){const n=(0,i.useRef)(!0);(0,i.useEffect)(((...t)=>{if(!n.current)return e(...t);n.current=!1}),t)}const C=e=>"undefined"!=typeof window&&e===window;function E(e,t){if(e){if(C(e)){const{innerHeight:e,innerWidth:t}=window;return{height:"number"==typeof e?e:0,width:"number"==typeof t?t:0}}{const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}}return t}function T(e){return C(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}const P=()=>"undefined"!=typeof window?window:void 0;function j(e,t){return e&&t?function(e,t){if(C(t)&&document.documentElement){const t=document.documentElement,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}{const n=T(t),i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{top:i.top+n.top-o.top,left:i.left+n.left-o.left}}}(e,t):{top:0,left:0}}function R(e,t){const n=T(e);return{left:n.left-t.left,top:n.top-t.top}}const O={Masonry:{overflowAnchor:"none"}};function k({items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:r,initialLayout:s,virtualize:a,virtualOverscan:u,scrollContainer:h,scrollTracker:m}){const[g,f]=(0,i.useState)(),_=(0,i.useCallback)((e=>{e&&e!==g&&f(e)}),[g]),{scrollContainerSize:v,scrollPosition:x}=function({scrollContainer:e=P(),scrollChild:t,scrollingResetTimeInterval:n=150,serverSize:o={width:0,height:0}}){const[r,s]=(0,i.useState)((()=>j(t,e)));I((()=>{const n=j(t,e);s(n)}),[t,e]);const[a,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)((()=>E(e,o))),[p,h]=(0,i.useState)((()=>e?R(e,r):{left:0,top:0}));I((()=>{if(e){const t=R(e,r);h(t)}}),[e,r.top,r.left]),I((()=>{e&&u(E(e,o))}),[e,o.width,o.height]);const m=(0,i.useCallback)((()=>{u(E(e,o)),s(j(t,e))}),[t,e,o]);(0,i.useEffect)((()=>(l.sharedInstance.addResizeListener(e,m),()=>{e&&l.sharedInstance.removeResizeListener(e,m)})),[e,m]);const g=(0,i.useCallback)(S()(((e,t)=>{const n=j(e,t);r.top===n.top&&r.left===n.left||s(n)}),1e3),[j,s,r,1e3]),f=(0,i.useCallback)((()=>{e&&(g(t,e),h(R(e,r)),d(!0))}),[t,e,R,h,d,r,g]),_=(0,i.useCallback)((()=>d(!1)),[]);return(0,i.useEffect)((()=>(e&&b.sharedInstance.registerScrollListener(e,{scrollingResetTimeInterval:n,handleScroll:f,handleScrollEnded:_}),()=>{e&&b.sharedInstance.unregisterScrollListener(e)})),[e,n,f,_]),{scrollContainerSize:c,scrollPosition:p,isScrolling:a}}({scrollContainer:h,scrollChild:g});(0,i.useEffect)((()=>{m&&h&&v&&m.handleContainerResized(v)}),[v.width,v.height]),(0,i.useEffect)((()=>{m&&h&&x&&m.handleContainerScrolled(x)}),[x.top,x.left]);const[w,C]=(0,i.useState)({width:0,height:0});return(0,d.jsx)("div",{className:p()("Masonry",{"Masonry-Premount":!g}),style:O.Masonry,ref:_,children:(0,d.jsx)(c,{disableHeight:!0,onResize:C,children:(0,d.jsx)(y,{items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:o,onLayoutUpdated:e=>{r&&r(e),m&&h&&m.handleLayoutUpdated(e)},initialLayout:s,scrollContainerSize:v,scrollPosition:x,contentContainerSize:w,virtualize:a,virtualOverscan:u})})})}class A{constructor({minCols:e=2,colWidth:t=250,gutter:n=20,flexible:i=false}={}){this.minCols=e,this.colWidth=t,this.gutter=n,this.flexible=i}static getColumnIndex(e){let t=0;for(let n=0;n<e.length;n+=1)e[n]<e[t]&&(t=n);return t}getColumnInfo(e){const{gutter:t,minCols:n}=this;let i=0,o=0;if(this.flexible){if(t)throw new Error("Flexible grid layouts do not support gutters.");e.width&&(o=Math.max(Math.ceil(e.width/this.colWidth),n),i=Math.floor(e.width/o))}else i=this.colWidth,e.width&&(o=Math.max(Math.floor((e.width+t)/(i+t)),n));return{width:i,count:o}}buildLayout(e){throw new Error("Subclasses must implement")}itemsToMeasureLimit({initialLayout:e,contentContainerSize:t}){return e?1/0:this.getColumnInfo(t).count||1/0}}class D extends A{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),s=new Array(r).fill(0),a=new WeakMap;let l=!1;const d={width:0,height:0};t.forEach(((e,t)=>{const o=n?n.getItemLayoutInfo(e):void 0;if(r>0&&null!=o&&o.size){const n=o.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");const r=D.getColumnIndex(s),l=s[r],c=l+(0===l?0:this.gutter),u=r*(i+this.gutter);a.set(e,{...o,size:{...n,width:i},position:{left:u,top:c},customIndex:t}),s[r]=c+n.height,d.width<u+n.width&&(d.width=u+n.width),d.height<c+n.height&&(d.height=c+n.height)}else a.set(e,{constraints:{width:i||void 0}}),l=!0}));const c=new o(t,(e=>a.get(e)));return c.size=d,c.contentFilledSize={width:d.width,height:Math.min(...s)},c.isMeasuring=l,c}}class L extends A{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:r}=this.getColumnInfo(e),s=new WeakMap;let a=0,l=[],d=0,c=0,u=!1;const p={width:0,height:0};let h=0;for(let o=0;o<t.length;o+=1){const e=t[o],p=n?n.getItemLayoutInfo(e):void 0;if(r>0&&p&&p.size){const n=p.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");if(l[d%r]={item:e,itemLayoutInfo:p},n.height>c&&(c=n.height),l.length===r||o===t.length-1){for(let e=0;e<l.length;e+=1){const t=l[e],{size:n,constraints:r}=t.itemLayoutInfo;if(!n||!r)throw new Error("Row entries must already have sizes and constraints.");s.set(t.item,{size:{width:i,height:n.height},position:{left:e*(i+this.gutter),top:a},constraints:r,customIndex:o})}l.length===r&&(h=a+c),a+=c+this.gutter,l=[],c=0}d+=1}else s.set(e,{constraints:{width:i}}),u=!0}const m=new o(t,(e=>s.get(e)));return m.size=p,m.contentFilledSize={width:p.width,height:h},m.isMeasuring=u,m}}var N=n(583704);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=({containerSize:e})=>2*e.height;class B{constructor(e,t=Z){M(this,"isMeasuring",!1),M(this,"isFetching",!1),M(this,"fetchMoreIfReady",S()((()=>{if(this.isMeasuring||this.isFetching)return;if(!this.scrollPosition||!this.containerSize||!this.layoutSize)return;const e="function"==typeof this.fetchOverscan?this.fetchOverscan({layoutSize:this.layoutSize,scrollPosition:this.scrollPosition,containerSize:this.containerSize}):this.fetchOverscan;this.layoutSize.height-this.scrollPosition.top-this.containerSize.height>=e||(this.isFetching=!0,this.fetchMore())}),100)),this.fetchMore=e,this.fetchOverscan=t}handleLayoutUpdated(e){(!this.items||this.items&&this.items.length!==e.items.length)&&(this.isFetching=!1),this.layoutSize=e.size,this.isMeasuring=!!e.isMeasuring,this.items=e.items,this.fetchMoreIfReady()}handleContainerResized(e){this.containerSize=e,this.fetchMoreIfReady()}handleContainerScrolled(e){this.scrollPosition=e,this.fetchMoreIfReady()}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=({scrollContainerSize:e})=>.7*e.height;class z extends i.Component{static getDerivedStateFromProps({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o}){return{layoutEngine:z.layoutOptionsToLayoutEngine({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})}}constructor(e){super(e),F(this,"fetchMore",(()=>new Promise((e=>{const{items:t,loadItems:n}=this.props;"function"==typeof n?setTimeout((()=>{n({from:t.length}),e(!0)})):e(!1)})))),F(this,"handleLayoutUpdated",(e=>{const{measurementStore:t}=this.state;t.layout=e})),F(this,"renderItem",(({item:e,index:t,isMeasuring:n,constraints:i})=>{const{comp:o}=this.props;return(0,d.jsx)(o,{data:e,itemIdx:t,isMeasuring:n,constraints:i})}));const{minCols:t,columnWidth:n,gutterWidth:i,flexible:r,layout:s,measurementStore:a,items:l,loadItems:c,fetchBoundsOffset:u}=e,p=a||z.createMeasurementStore(),h=z.layoutOptionsToLayoutEngine({layout:s,minCols:t,columnWidth:n,gutterWidth:i,flexible:r});p.layout=new o(l,p.layout.getItemLayoutInfo);const m="function"==typeof c?new B(this.fetchMore,(({containerSize:e})=>Math.max(0,2*e.height+u))):void 0;this.state={nonce:0,scrollTracker:m,layoutEngine:h,measurementStore:p}}updatePosition(){}reflow(){const{measurementStore:e}=this.state;e.layout=new o,this.setState((({nonce:e})=>({nonce:e+1})))}render(){const{getItemLayoutOptions:e,items:t,scrollContainer:n,virtualize:i}=this.props,{layoutEngine:o,measurementStore:r,nonce:s,scrollTracker:a}=this.state;return(0,d.jsx)(k,{items:t,renderItem:this.renderItem,getItemLayoutOptions:e,layoutEngine:o,scrollContainer:(l=n,l?"function"==typeof l?l():l:"undefined"!=typeof window?window:null),scrollTracker:a,onLayoutUpdated:this.handleLayoutUpdated,initialLayout:r.layout,virtualize:i,virtualOverscan:U},`Masonry-${s}`);var l}}F(z,"createMeasurementStore",(()=>({layout:new o}))),F(z,"defaultProps",{columnWidth:236,fetchBoundsOffset:0,layout:"default",minCols:3,virtualize:!1}),F(z,"layoutOptionsToLayoutEngine",(0,N.HP)((({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:o})=>new("uniformRow"===e?L:D)({minCols:t,colWidth:n,gutter:i,flexible:o}))))},281810:(e,t,n)=>{function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:o*e}px) and (max-width: ${(o+1)*e-1}px) {\n  .gridCentered {\n    width: ${o*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},87398:(e,t,n)=>{function i(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let o=n;o<t+1;o+=1){i+=`\n@media (min-width: ${o===n?0:(o-1)*e}px) and (max-width: ${o*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${o}),\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},864793:(e,t,n)=>{n.d(t,{rh:()=>p,ZP:()=>h,_E:()=>m,G7:()=>g,l6:()=>f});var i=n(631739),o=n(750980),r=n(517458),s=n(754999),a=n(946753),l=n(998035),d=n(883119),c=n(785893);const u=()=>["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function p(e,t){var n,s,a;if(!t.isAuth)return!1;const d=(0,l.Nc)(e)||(0,l.o)(e),c=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.Z.BoardPrivacy.PUBLIC,p=(null===(s=e.board)||void 0===s?void 0:s.privacy)===i.Z.BoardPrivacy.PROTECTED,h=(u()&&p||c)&&!e.is_repin&&(null===(a=e.pinner)||void 0===a?void 0:a.id)===t.id,{isStoryPin:m}=(0,r.Z)(e);return d&&(!p||u())||t.isPartner&&h||["employees","enabled"].includes(o.Z.getInstance().v2ActivateExperiment("web_ps4p"))&&m&&h}function h(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function m(e,t,n,i){const{isStoryPin:o,isVideo:s}=(0,r.Z)(e),u=(0,l.Nc)(e),p=(0,l.o)(e)&&(o||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),m=(new Date).getTime()-h.getTime(),g=Math.floor(m/36e5),f=p?p["24h_realtime"].is_realtime:null,_=p?p["24h_realtime"].timestamp:null;let y=null;p&&(y=o||s?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const v=y!==_,x=e=>(0,a.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),b={timeframe:"",lastUpdated:""};if(p)if(f){const e=p["24h_realtime"].impression>=(o||s?p.all_time_realtime.impression:p["30d_realtime"].impression);b.timeframe=e?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):o||s?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(v||g>48)if(o||s){const e=i(p.all_time_realtime.timestamp);b.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),b.lastUpdated=x(e)}else{const e=i(p["30d_realtime"].timestamp);b.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=x(e)}else{const e=i(p["24h_realtime"].timestamp);b.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),b.lastUpdated=x(e)}else b.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,c.jsxs)(d.xu,{alignItems:o||"lg"!==t?"center":void 0,display:o||"lg"!==t?"flex":void 0,children:[(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:b.lastUpdated}),(o||["md","sm"].includes(t))&&!!p&&(0,c.jsx)(d.xv,{color:"gray",inline:!0,size:"sm",children:" "}),(0,c.jsx)(d.xv,{align:"end",color:"gray",size:"sm",children:b.timeframe})]})}function g(e,t){return(0,s.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function f(e,t){return(0,s.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},777158:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function o(e){return e<160?"header-only":"none"}function r(e){const[t,n]=(0,i.useState)(e.current?o(e.current.clientHeight||0):"none");return function(e,t){const n=(0,i.useRef)();(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))})),n.current}(e,(({height:e})=>{const i=o(e);i!==t&&n(i)})),t}},250777:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(549135),r=n(626173);function s(e,t){const{componentType:n,contextLogData:s,viewParameter:a,viewType:l}=(0,r.E)();return(0,i.useCallback)((()=>{(0,o.j)(e,{component:n,view:l,viewParameter:a,...s,...t||{}})}),[t,n,s,e,a,l])}},335529:(e,t,n)=>{n.d(t,{X:()=>o,Z:()=>r});var i=n(667294);const o=120;function r(e,t=0,n=o){const[r,s]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)((()=>{if(!e){const e=setTimeout((()=>s("inactive")),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>s("active")),t);return()=>{clearTimeout(e)}}s("active")}),[e]),r}},818270:(e,t,n)=>{n.d(t,{B:()=>o,$:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("SurfaceContext",{surface:"Unknown"})},626173:(e,t,n)=>{n.d(t,{B:()=>o,E:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("trackingParametersContext")},752187:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(268648),o=n(560133),r=n(45815),s=n(233088),a=n(883119),l=n(549135),d=n(181307),c=n(626173),u=n(785893);function p({sizing:e="default",children:t,collageChipId:n,componentType:p,contextLogData:h,elementType:m,pin:g,viewParameter:f,viewType:_}){const y=(0,c.E)(),{group:v}=(0,d.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:x,id:b}=g;let w,S=`/pin/${n||b}/`;if(x){const{carousel_slots:e=[],id:t,index:n=0}=x;S=`/pin/${b}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}w={...w||{},...(0,o.Kl)(g,h)||{}};const I=(0,i.Z)({href:S,externalData:{auxData:w,pin:g}});return(0,u.jsx)(a.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if((0,l.j)(101,{...h,component:p||y.componentType,element:m,objectId:b,view:_||y.viewType,viewParameter:f||y.viewParameter,...(0,o.Kl)(g,h)||{}}),(0,l.j)(8948,{closeup_navigation_type:"click",view:_||y.viewType,viewParameter:f||y.viewParameter,component:p||y.componentType,element:m,objectId:b,...h,...(0,o.Kl)(g,h)||{}}),v){const e=Number(s.y7.getItem(r.J)||0);s.y7.setItem(r.J,e+1)}})(),I({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:S,role:"link",children:t})}},505812:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(752187),o=n(883119),r=n(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function a({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:a}=n||{},l=a&&a.length>=3?a.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:l.map((n=>{var a,l,d,c;const u=(null===(a=n.images)||void 0===a?void 0:a["750x"])||{},p=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,src:null!==(c=u.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,r.jsx)(i.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)}))})}},546352:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,additionalStyles:t={}}){return(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},452963:(e,t,n)=>{n.d(t,{F:()=>a,Z:()=>l});var i=n(185062),o=n(883119),r=n(785893);const s={impressed:{backgroundColor:"#adebad"}},a=()=>void 0!==(0,i.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"white",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},514560:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(881220),r=n(174523),s=n(883119),a=n(785893);function l(e){const t=(0,r.ZP)(),{onHide:n}=e,i=(0,a.jsx)(s.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,a.jsx)(o.Z,{onHide:n,text:i})}var d=n(311866),c=n(34411),u=n(475446);const p=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const p=(0,r.ZP)(),[h,m]=(0,i.useState)(0),g=(0,c.Z)(),{showOneToast:f}=(0,u.F9)();if(!g.isEmployee)return null;const _=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:y,icon_url:v,signal_id:x,signal_message:b}=o[h];return(0,a.jsx)(s.mh,{children:(0,a.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,a.jsxs)(s.xu,{padding:4,width:"100%",children:[o.length>1&&(0,a.jsx)(s.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,a.jsx)(s.mQ,{activeTabIndex:h,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),m(e)})({activeTabIndex:t,event:e})},tabs:_})}),(0,a.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,a.jsx)(s.X6,{size:"sm",children:p._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,a.jsx)(s.xu,{paddingY:3,children:(0,a.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,a.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:v?(0,a.jsx)(s.Ee,{alt:p._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:v}):(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:40,width:40})}),(0,a.jsx)(s.xv,{size:"md",children:b})]})}),(0,a.jsx)(s.xu,{marginBottom:3,children:(0,a.jsx)(s.xv,{size:"md",children:p._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,a.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,a.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:p._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:x,user:g.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),t(),f((({onHide:e})=>(0,a.jsx)(l,{onHide:e})))}}),(0,a.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:p._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})};var h=n(975151),m=n(907669),g=n(551687),f=n(689859);function _({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[l,d]=(0,i.useState)(!1),c=(0,i.useRef)();return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(g.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,a.jsx)(f.Z,{children:(0,a.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,a.jsx)(m.Z,{children:(0,a.jsx)(h.Z,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,a.jsx)(s.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,a.jsxs)(s.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,a.jsx)(s.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,a.jsx)(s.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,a.jsx)(s.xv,{color:"white",size:"md",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,a.jsx)(p,{anchor:c.current,onDismiss:()=>d(!1),pinId:t,signals:e})]})}function y({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:s}=e;return n?(0,a.jsx)(_,{pinId:t,signals:n}):i?(0,a.jsx)(_,{pinId:t,signals:i}):o?(0,a.jsx)(_,{pinId:t,signals:o}):r?(0,a.jsx)(_,{pinId:t,signals:r}):s?(0,a.jsx)(_,{pinId:t,signals:s}):null}},907669:(e,t,n)=>{n.d(t,{Z:()=>r,N:()=>s});var i=n(883119),o=n(785893);function r({children:e,fullWidth:t}){return(0,o.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function s({children:e,enabled:t}){return t?(0,o.jsx)(r,{children:e}):e}},7713:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(335529),r=n(785893);function s(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function a({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.X,visibility:a}){return"none"!==a&&e?(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:s(t,n)[a]},children:e}):null}},818026:(e,t,n)=>{n.d(t,{ZP:()=>f});var i=n(667294),o=n(546352),r=n(174523),s=n(365217),a=n(451875),l=n(549135),d=n(883119),c=n(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:a.Oc,filter:"blur(10px)",opacity:1}},p={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},h={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],g=["pfy","pfyBoard"];function f({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:f=!1}){var _;const y=(0,r.ZP)(),[v,x]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>x(!0)),[]);const S=()=>w(!0),{feedbackText:I,images:C,showFeedbackOverlay:E,undoAction:T,undoText:P}=n,j=C&&(null===(_=C["236x"])||void 0===_?void 0:_.url),{image:R,subTitle:O,title:k,unfollow:A}=null!=I?I:{},D=!m.includes(e),L=g.includes(e),N=()=>{(0,l.j)(101,{view:1,viewParameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[j&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...v?u.blurred:{},backgroundImage:`url("${j}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...p.base,...p.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...h.base,...!E&&v?h.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!f&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"white",size:"sm",children:k})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[R&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:R.width,height:R.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:O||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:R.url||""})})}),(0,c.jsx)(d.xv,{color:"white",overflow:"normal",children:O})]}),t?(0,c.jsxs)(i.Fragment,{children:[T&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:T,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:y._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!T&&!b&&A&&!L&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(A.action,A.actionOptions,S),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),D&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:N,text:y._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{children:D&&(0,c.jsx)(d.rU,{href:"/edit",onClick:N,children:(0,c.jsx)(d.xv,{color:"white",weight:"bold",overflow:"normal",children:y._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!T&&!b&&A&&!L&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(A.action,A.actionOptions,S),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),T&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:T,text:P||y._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},665035:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(40142),r=n(101161),s=n(519922),a=n(83742),l=n(537343),d=n(174523),c=n(250777),u=n(529110),p=n(698602),h=n(784655),m=n(626173),g=n(883119),f=n(785893);function _({feedbackData:e,feedbackType:t,pin:n,pinTitle:_,setForcePrimary:y,transparentBackground:v}){const x=(0,d.ZP)(),b=(0,o.useDispatch)(),{viewParameter:w,viewType:S}=(0,m.E)(),[I,C]=(0,i.useState)(!1),[E,T]=(0,i.useState)(),{ad_match_reason:P,show_ad_reasons:j,board:R,category:O,description:k,id:A="",images:D,is_promoted:L,pinner:N,promoter:M,recommendation_reason:Z,source_interest:B,videos:F}=n;var U;const z=(U=L?60:50,function(e){return(0,l.ZP)((e||"").trim(),U)})(null!=k?k:""),H=(0,s.Z)(D,"236x"),G=(0,h.iR)(F),V=(0,c.Z)(101,{component:0,element:981,feedback_type:t,objectId:A}),W=()=>{j||(y(!1),b((0,p.i0)(A)),C(!1))},$=(0,r.Z)({pin:n,viewParameter:w,viewType:S});return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.xu,{"data-test-id":"feedback-button",ref:T,children:(0,f.jsx)(g.hU,{accessibilityLabel:x._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:v?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{I?W():(y(!0),C(!0)),V()},size:"sm"})}),I&&(0,f.jsx)(g.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(a.Z,{anchor:E,ad_match_reason:P,bestPinImgSrc:(0,u.P0)(n),board:R,feedbackData:e,feedbackType:t,hideDownload:G,onLinkClick:()=>{I&&W()},onDismiss:W,onHide:W,onDownloadHideFlyout:()=>{y(!1),C(!1)},pinCategory:O,pinDescription:z,pinId:A,pinImgSrc:H,pinner:N,pinTitle:_,promoter:M,recommendationReason:Z,reportPin:$,sourceInterest:B,viewParameter:w,viewType:S})})]})}},83742:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),o=n(40142),r=n(549156),s=n(883119),a=n(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:o}){return(0,a.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(r.Z,{id:"ad-reason-icon",children:(0,a.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,a.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(s.xv,{children:o})}),i&&n&&(0,a.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(s.JO,{accessibilityLabel:n,color:"darkGray",icon:"arrow-forward"})})]})}var d=n(451190),c=n(702925),u=n(174523),p=n(946753),h=n(549135);const{ACCOUNT_SETTINGS:m,CANONICAL_MAIN_URL:g,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:_}=c.Z.settings;function y({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:y,isGeoPostalCodeMatched:v,isGeoRegionMatched:x,isShoppingTargetingRematched:b}){const w=(0,u.ZP)();return(0,a.jsx)(d.Z,{accessibilityModalLabel:w._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,a.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,a.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",left:!0,children:(0,a.jsx)(s.hU,{accessibilityLabel:w._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,a.jsx)(s.X6,{align:"center",size:"md",children:w._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,a.jsxs)(s.xu,{children:[(0,a.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,a.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{href:_,inline:!0,onClick:()=>{(0,h.j)(101,{component:13756,element:12057})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,a.jsx)(r.Z,{id:"ad-reasons",children:(0,a.jsxs)(s.kC,{direction:"column",flex:"none",gap:4,children:[v||x?(0,a.jsx)(s.iP,{role:"link",href:`${g}${m}`,onTap:()=>{(0,h.j)(101,{component:13756,element:12059})},target:"blank",children:(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:w._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(w._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,o&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(w._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),c&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:w._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),b&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(w._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),y&&(0,a.jsx)(l,{iconAccessibilityLabel:w._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(w._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),(0,a.jsx)(s.xu,{marginBottom:1,children:(0,a.jsx)(s.xv,{children:w._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,a.jsxs)(s.kC,{direction:"column",gap:1,children:[(0,a.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,a.jsx)(s.iz,{})}),(0,a.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,a.jsx)(s.X6,{size:"sm",children:w._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,p.nk)(w._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{inline:!0,href:f,onClick:()=>{(0,h.j)(101,{component:13756,element:12058})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var v=n(535718),x=n(34411),b=n(585967);function w({pinId:e,onDismiss:t}){var n,r,s,l;const{locale:d}=(0,b.B)(),{country:c=""}=(0,x.Z)(),u=(0,v.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),p=(0,v.Z)({name:"LocalesResource"}),m=(0,o.useSelector)((({pins:t})=>t[e]));(0,i.useEffect)((()=>{(0,h.j)(120,{component:13756})}),[]);const{ad_targeting_attribution:g,promoter:f}=null!=m?m:{},{is_age_matched:_=!1,is_behavior_targeting_matched:w=!1,is_customer_list_matched:S=!1,is_geo_postal_code_matched:I=!1,is_geo_region_matched:C=!1,is_shopping_retargeting_matched:E=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,n)=>({...t,[n]:e[n]})),{})}(g))&&void 0!==n?n:{},T=null!==(r=null==f?void 0:f.full_name)&&void 0!==r?r:"",P=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(s=u.data)&&void 0!==s?s:[],c),j=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(l=p.data)&&void 0!==l?l:[],d);return(0,a.jsx)(y,{brandName:T,country:P,language:j,isAgeMatched:_,isBehaviorTargetingMatched:w,isCustomerListMatched:S,isGeoPostalCodeMatched:I,isGeoRegionMatched:C,isShoppingTargetingRematched:E,onDismiss:t})}var S=n(595657),I=n(418448),C=n(539484),E=n(374284),T=n(538958),P=n(860179),j=n(266750),R=n(778423),O=n(454217),k=n(698602),A=n(365217),D=n(708206),L=n(855168);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M={color:"white",textDecorationColor:"white"};class Z extends i.Component{constructor(e){super(e),N(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:s}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:s})})),N(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=i&&i.board&&i.board.url||e.url),o?(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,a.jsx)(s.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,a.jsx)(s.zd,{height:40,wash:!0,width:40,children:(0,a.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),N(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})})),N(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),N(this,"feedbackHelpers",(0,O.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:p.nk})),N(this,"makeNavigateLink",((e,t,n,i)=>{const o={display:"inline",...i?M:{}};return(0,a.jsx)(s.rU,{onClick:this.props.onLinkClick,role:"link",href:t,inline:!0,children:(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:o},children:n})},e)})),N(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),N(this,"hidePinOption",(e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:s,actionOptions:a}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&R.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&(0,O.yl)(o),throughProperties:o&&(0,O.XZ)(o),clientTrackingParams:(0,S.Z)(i)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:s,actionOptions:a,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),N(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},s=r&&R.ReasonToChoose[r],a=i&&(0,O.yl)(i),l=i&&(0,O.XZ)(i),d="pfyBoard"===t,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:s,pinFeedbackType:d?2:4,throughId:a,throughProperties:l,clientTrackingParams:(0,S.Z)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,p.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,p.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),N(this,"unfollowBoardOption",(()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=(0,p.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}})),N(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,o=`/topics/${i}`,r=this.makeNavigateLink("topicUrl",o,n,!0),s=(0,p.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),a=(0,p.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:j.X},feedbackText:{title:"",subTitle:a},text:s,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),N(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o=`/${n}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,p.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),N(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),N(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),s=(o||"topic"===t)&&!r,a=this.hidePinOption(s),l=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[a,...s||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,p=[a,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:p};case"topic":const h=this.unfollowTopicOption(),m=[a,...s&&h?[h]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};case"pfy":case"pfyBoard":const g=[a,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:g};default:const f=[a,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}})),N(this,"pinHiddenFeedbackText",(e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,A.t)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:s,showPinFeedback:a,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u}=this.props;t&&n&&i?d(s,e,(0,O.EF)(n,i,s,u,c,o,h.j),this.getUndoText(i)):a(s,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),l(s))}makeStrongText(e,t){return(0,a.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;(0,h.j)(101,{...t,view:o,viewParameter:i,element:e,component:(0,O.nb)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:l}=r,d=[],c=l.length;for(let u=0;u<c;u+=1){const r=l[u],c=A.P.includes(r.action),p=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,c,r.actionOptions,r.action);if("downloadPin"!==r.action){const e=(0,C.Z)({url:r.link||""});let t="";Array.isArray(r.text)?t=r.text.join(""):"string"!=typeof r.text&&"number"!=typeof r.text||(t=r.text.toString()),d.push(r.link?(0,a.jsx)(s.Lt.Link,{href:r.link,isExternal:e,option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}):(0,a.jsx)(s.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,p),option:{value:r.action||"",label:t},dataTestId:r.dataTestId||""}))}else if(!e&&"undefined"!=typeof window&&"windows"!==(0,T.ZP)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:l,pinCategory:c}=this.props;d.push((0,a.jsx)(s.Lt.Item,{onSelect:()=>{(0,I.Z)({category:c,filename:r||l,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i})},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:n,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:h,viewParameter:m,viewType:g}=this.props,{description:f}=e,_=this.getRecommendationDescriptionImage();return(0,a.jsxs)(i.Fragment,{children:[t?(0,a.jsx)(E.Z,{anchor:n,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:p,viewParameter:m,viewType:g}):(0,a.jsx)(s.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:P.lI,headerContent:f&&(0,a.jsxs)(s.kC,{alignItems:"center",children:[(0,a.jsx)(s.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,a.jsx)(s.xv,{color:"darkGray",overflow:"normal",size:"md",children:f})}),_]}),children:this.renderButtons()}),h&&(0,a.jsx)(w,{onDismiss:()=>d(c),pinId:c})]})}}const B=(0,D.compose)((0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,k.I1)(t)),showPinFeedback:(t,n)=>e((0,k.ZP)(t,n)),showPinFeedbackOverlay:t=>e((0,k.Ib)(t)),showPinFeedbackUndo:(t,n,i,o)=>e((0,k.NA)(t,n,i,o)),showAdReasonsModal:t=>e((0,k.b9)(t)),hideAdReasonsModal:t=>e((0,k.yj)(t))}))),L.EN)((function(e){const t=(0,u.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:i=!1}=(0,o.useSelector)((({pins:t})=>t[e.pinId]));return(0,a.jsx)(Z,{...e,showAdReasons:i,adTargetingAttribution:n,i18n:t})}))},374284:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(174523),o=n(365217),r=n(883119),s=n(860179),a=n(946753),l=n(778423),d=n(549135),c=n(454217),u=n(785893);function p({anchor:e,feedbackData:t,feedbackType:n,pinId:p,onDismiss:h,onHide:m,recommendationReason:g,viewParameter:f,viewType:_}){const y=(0,i.ZP)(),v=(0,c.ZP)({i18n:y,interpolateNamedTemplate:a.nk}),x=(e,i)=>{const r=g&&g.reason&&l.ReasonToChoose[g.reason],s=g&&(0,c.yl)(g),a=g&&(0,c.XZ)(g),{action:u,actionOptions:h}=v.getHidePinAction({feedbackData:t,feedbackType:n,pinId:p,recommendationReasonId:r,throughId:s,throughProperties:a,complaintReason:e});(e=>{(0,d.j)(101,{view:_,viewParameter:f,element:e,component:(0,c.nb)(n)})})(i),(0,o.t)(u,h),m()},b="promoted"===n?[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:y._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:h,zIndex:s.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:y._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:b.map((({text:e,reason:t,elementType:n})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>x(t,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},773788:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(294184),r=n.n(o),s=n(539484),a=n(204478),l=n(174523),d=n(883119),c=n(785893);class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:l,url:u}=this.props;if(o&&t)return null;const p="boardless"===l?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let h,m;if(!n||e||o){const e=o?(0,c.jsx)(d.xv,{color:"white",size:"lg",weight:"bold",children:p.length<=20?p:(0,a.Z)(p,20)}):(0,c.jsx)(d.X6,{color:"white",size:"sm",lineClamp:1,children:p}),t=(0,s.Z)({url:u})?"nofollow":"none";h=u?(0,c.jsx)(d.rU,{rel:t,href:u,children:e}):e}else h=(0,c.jsx)(d.xv,{color:"white",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(m=e?"board":"saved"),(0,c.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",m):r()("SavedAnimation",m),children:h})}}const p=function(e){const t=(0,l.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},488023:(e,t,n)=>{n.d(t,{Y:()=>a,Z:()=>u});var i=n(174523),o=n(549135),r=n(883119),s=n(785893);const a=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view:4,viewParameter:3106},d={view:5,viewParameter:3069},c={component:13668,view:4,viewParameter:3106};function u({pinId:e,surface:t}){const n=(0,i.ZP)(),u=()=>{const e=a.includes(t)?c:"BaseBoardPinGrid"===t?d:"UserProfilePinGrid"===t?l:{};(0,o.j)(101,{element:10573,...e})},p=n._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,s.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:a.includes(t)?(0,s.jsx)(r.zx,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(h=p,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,s.jsx)(r.hU,{role:"link",accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var h}},577302:(e,t,n)=>{function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:()=>i})},398791:(e,t,n)=>{n.d(t,{Z:()=>J});var i=n(667294),o=n(40142),r=n(963232),s=n(517458),a=n(515528);function l({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:o,rich_summary:r,title:l}=t,{isOwnPin:d,isPromoted:c}=(0,s.Z)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(c){if(a.ZF.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return l||t||o||""}return o||""}var d=n(784655);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n(746857),p=n(864793);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m({attributionOption:e,board:t,contentType:n,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:a,isOwnBoard:d,pin:c,showImageOnly:m,showNativeReactions:g,showPromotedShoppingPrice:f,surface:_,viewer:y,isORBACProfileManager:v,inMsgPinCardUpdateExp:x=!1}){var b;const{isPromoted:w,isSponsored:S}=(0,s.Z)(c),{promoter:I,pin_note:C}=c,E=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:s=!1}){const{is_downstream_promotion:a,native_creator:l,promoter:d,sponsorship:c}=i;if("promoted"===t||d&&!a||c)return"default";if((!s||"ConversationView"!==r)&&h.includes(r))return"none";if(n)return"none";let u="default";return e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?u:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":u}({attributionOption:e,feedbackType:o,isGroupBoard:a,pin:c,showImageOnly:m,surface:_,inMsgPinCardUpdateExp:x}),T=m?"":l({isGroupBoard:a,pin:c,surface:_}),P=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(_)&&!w&&!m&&Boolean((0,u.Z)(c,_)),j="ShoppingList"===_,R="BaseBoardPinGrid"===_&&C?null===(b=C.text)||void 0===b?void 0:b.trim():null,O=w,k="shopping"===n,A=/ShoppingSquareGridRelatedProducts/.test(_);let D=2;w?D=3:(P||"none"!==E)&&(D=k||A?2:1);let L,N,M,Z;if(k||(w&&A||f)){var B,F;const e=null===(B=c.rich_summary)||void 0===B||null===(F=B.products)||void 0===F?void 0:F[0],{offer_summary:t}=e||{};L=t?t.standard_price:void 0,N=t?t.price||t.max_price:void 0}if(k&&!w){var U,z,H;const{rating_count:e,rating_value:t,review_count:n}=(null===(U=c.rich_summary)||void 0===U?void 0:U.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(M={count:e||n,rating:t}),Z=null===(z=c.rich_metadata)||void 0===z||null===(H=z.products)||void 0===H?void 0:H[0].shipping_info}const G=(0,p.rh)(c,y),V="CreatorProfileStoryPinGrid"!==_&&"CreatorProfileActivityPinGrid"!==_,W=a&&!S;return{attributionType:E,board:t,contentType:n,feedbackData:i,feedbackType:o,isDarkPromoter:!w&&!!I,pinNoteText:R,pinTitle:T,productCurrentPrice:N,productOriginalPrice:L,productRating:M,productShipping:Z,showCarouselEllipsis:r,showFavoriteButton:!v&&("BaseBoardPinGrid"===_&&d||Boolean(null==t?void 0:t.should_show_board_activity)),showGroupBoardAvatar:W,showNativeReactions:g,showOverflowMenu:O,showPinStats:G,showSource:P,showTextContent:V,showVisitSiteButton:j,titleLines:D}}var g=n(631739),f=n(30494),_=n(233088),y=n(702403),v=n(344886);const x=["ShoppingCatalogsProductsMetadata"];var b=n(577302),w=n(551687),S=n(586840);const I={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var C=n(789875),E=n(601750),T=n(300970),P=n(215484),j=n(609304),R=n(593482);var O=n(689859),k=n(174523),A=n(767523),D=n(383722),L=n(34411),N=(n(883119),n(488023)),M=n(438280),Z=n(159276),B=n(818270),F=n(626173),U=n(345513),z=n(452963),H=n(181307),G=n(382745),V=n(855168),W=n(785893);const $=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(19509),n.e(92982)]).then(n.bind(n,969810)))),q=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Y=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],X=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"],K=["BaseBoardPinGrid","UserProfilePinGrid",...N.Y];const J=(0,o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,s=r.board&&r.board.id,a=(s?t[`${s}`]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:a,isSocialSeasonalBoard:e,reduxPin:r}}),(()=>({})))((function({blockClickEvents:e,attributionOption:t,board:n,debugImpressionState:u,feedbackOptions:h,imageOnlyOption:N="default",isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,reduxPin:te,resolution:ne="default",saveButtonOptions:ie,shouldShowFooter:oe=!0,surface:re,trackingParameters:se,...ae}){var le;const de=(0,k.ZP)(),{collaborated_by_me:ce,collaborator_count:ue,is_collaborative:pe}=n||{},{pinner:he,showFeedback:me,sponsorship:ge}=te,fe=(0,j.Z)(te),_e=(0,L.Z)(),ye=(0,A.Z)(),ve=(0,V.TH)(),{slotIndex:xe,viewParameter:be}=se,{anyEnabled:we}=(0,H.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(re)),Se=(0,o.useSelector)((({ui:e})=>e.views)),Ie=(0,o.useSelector)((({ui:e})=>e)),Ce=Ie.app?Ie.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},Ee=(0,d.i8)(te.id,Ce),Te=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Pe=(0,P.Z)(te),je=(0,E.Z)(te),Re=_e.isAuth&&_e.isEmployee,Oe=_e.isAuth&&((0,T.Z)(null,_e)||(0,R.Z)(null,_e))&&!_e.isPartner;let ke=Oe;"TodayArticleFeed"===re&&(ke=!1),"default"!==N&&(ke="image-only"===N),function(e){return a.zI.includes(e)}(re)&&(ke=!1),"ShoppingSquareGridDomainNoMetadata"===re&&(ke=!0);let Ae=t;Oe&&!Ae&&(Ae="image-only");const De=(0,C.Z)({feedbackOptions:h,pin:te,viewParameter:be},de),{data:Le}=h||{},Ne="number"==typeof ue&&ue>0||pe,Me=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=I[t];return!!n&&"dense"===e[n]}(Se,re),Ze=Boolean(Ne&&"BaseBoardPinGrid"===re),Be=(0,D.Z)(),Fe=(0,o.useSelector)((({users:e})=>{var t,n,i,o;return e&&e[null!==(t=null===(n=Be.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?e[null!==(i=null===(o=Be.data)||void 0===o?void 0:o.id)&&void 0!==i?i:""]:Be.data})),Ue=(0,b.Z)(_e,n);let ze=!1;if(!!(0,V.LX)(ve.pathname,{path:"/:username/_created/",exact:!0}))ze=(0,Z.q6)(_e,null==Fe?void 0:Fe.id,ye);else if((0,G.am)(ve)||(0,G.OJ)(ve)){const e=n&&n.owner&&n.owner.id||"";ze=(0,Z.q6)(_e,e,ye)}const He=Boolean(_e.isAuth&&he&&he.id===_e.id),Ge=Boolean(ce||Ne&&Ue),Ve=_e.isAuth&&_e.isPartner,We=te.is_quick_promotable&&!["ShoppingSquareGridHomefeedBoth","ShoppingListGrid"].includes(re),$e=(0,i.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:p}){const h=u.isAuth?u.boardCount:void 0;let m=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);return s?m={type:"promote"}:(p||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&"BoardlessPins"!==c&&(m={type:"classic"}),i&&(m={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||x.includes(c)||r)&&(m={type:"none"}),{board:e,derivedSaveButtonOptions:m,showLikeButton:p&&n&&a.UP.includes(c),supportsReactionBar:!t}}({board:n,isInlineBetterSave:we,isDenseView:Me,isGroupBoard:Ze,isOwnBoard:Ue,isOwnPin:He,isORBACProfileManager:ze,isQuickPromotable:We,isRemovable:fe,saveButtonOptions:ie,surface:re,viewer:_e,viewerIsCollaborator:Ge})),[n,we,Me,Ze,Ue,He,ze,We,fe,ie,re,_e,Ge]),{isPromoted:qe}=(0,s.Z)(te),{anyEnabled:Ye}=(0,H.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let Xe;["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed","ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(re)&&!qe&&(Xe="white");const Ke=(0,i.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:a.Wv.includes(n),shoppingLabelColor:t}}({allowProductCarousel:Pe,shoppingLabelColor:Xe,surface:re})),[Pe,Xe,re]),Je=je,Qe=(0,i.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:a,isORBACProfileManager:u,pin:p,surface:h,viewer:m}){var g;const{isOwnPin:f,isPromoted:_}=(0,s.Z)(p),y=l({isGroupBoard:o,pin:p,surface:h}),v=e&&(0,r.Z)({action:4,board:e,viewer:m})||f,x=p.savedInfo&&p.savedInfo.localPinId,b=Boolean(a&&!o||"UserProfilePinGrid"===h&&v||x),w=o&&v||b||u&&!(0,d.hy)(p),S=Boolean((null==e?void 0:e.is_collaborative)||b),I=!(_||a||o||c.includes(h)||u),C="CloseupRelatedProducts"!==h&&!u,{tracked_link:E,link:T}=p,P=!(null===(g=null!=E?E:T)||void 0===g||!g);let j=o&&i?"equally-spaced":"default",R="default";return i&&(R=o?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(R="icon-only",j="equally-spaced"),{actionBarEditBeforeShare:S,feedbackData:t,feedbackType:n,layout:j,pinTitle:y,showEditButton:w,showOverflowMenu:I,showShareButton:C,showSourceLinkButton:P,sourceLinkStyle:R}}({board:n,feedbackData:Le,feedbackType:De,isDenseView:Me,isGroupBoard:Ze,isOwnBoard:Ue,isORBACProfileManager:ze,pin:te,surface:re,viewer:_e})),[n,Le,De,Me,Ze,Ue,ze,te,re,_e]),et=!ze&&(0,p.rh)(te,_e)&&K.includes(re),tt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(re),nt=!qe&&tt?"shopping":"standard",it=(0,M.J6)(te),ot=(0,H.tc)("web_ag_msg_pin_card_update"),rt="ConversationView"===re&&ot({dangerouslySkipActivation:!0}).anyEnabled,st=(0,i.useMemo)((()=>m({attributionOption:Ae,board:n,contentType:nt,feedbackData:Le,feedbackType:De,hasCarouselData:je,isGroupBoard:Ze,isOwnBoard:Ue,isORBACProfileManager:ze,pin:te,showImageOnly:ke,showNativeReactions:it,showPromotedShoppingPrice:Ye&&qe&&tt,surface:re,viewer:_e,inMsgPinCardUpdateExp:rt})),[Ae,n,nt,Le,De,je,Ze,Ue,ze,qe,tt,te,Ye,ke,it,re,_e,rt]),at=Boolean(st.pinTitle)||st.contentType||st.userNote||st.showSource||"none"!==st.attributionType||st.showNativeReactions||st.productCurrentPrice||st.productOriginalPrice||st.showPinStats;let lt=oe&&(at||Ze);"BaseBoardPinGrid"===re&&Ue&&Ve||ge?lt=!0:q.includes(re)||Me&&(Ue||ce)||J?lt=!1:He||"CreatorProfileStoryPinGrid"!==re&&"CreatorProfileActivityPinGrid"!==re||(lt=!1);const dt=Boolean(me),ct=(0,H.tc)("web_others_board_feed_ads_border"),ut={showNoPinBorderRadius:"TopicBestPinNarrow"===re||"TopicBestPinWide"===re||rt&&"ConversationView"===re,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===re&&qe&&ct().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:pt}=(0,H.aq)("hfp_homefeed_control_cta_variants"),ht={feedbackType:De,isHomefeedTunerVariantExp:pt},{anyEnabled:mt}=(0,H.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),gt=(0,i.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:s,showPromotedVideos:a,surface:l}){let d="backend";"CloseupRelatedProducts"===l?d={height:v.GZ,width:v.OE}:"TopicBestPinWide"===l?d={height:y.m9,width:y.BS}:"TopicBestPinNarrow"===l?d={height:y._5,width:y.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l)?d={height:v.zX,width:v.zX}:o&&(d=o);const c=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l);let u="none",p=null!=s?s:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingSquareGridCrop"===l&&n||"ShoppingDynamicHeightGrid"===l&&!r||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",p="high-res"));const h=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",m=(0,f.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===_.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:p,rootMargin:m,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:a}}({hasCarouselData:je,isDenseView:Me,isPromoted:qe,isSocialSeasonalBoard:J,pinImageCrop:Q,pinImageFit:ee,resolution:ne,showPromotedVideos:mt,surface:re})),[je,Me,qe,J,Q,ee,ne,mt,re]),ft=Re&&(0,z.F)(),_t=(0,i.useMemo)((()=>({debugImpressionState:u,slotIndex:xe})),[u,xe]);return(0,W.jsx)(w.Z,{name:"PinRepConfiguration",children:(0,W.jsx)(F.B,{value:se,children:(0,W.jsxs)(B.B,{value:{surface:re},children:[(0,W.jsx)(U.Z,{actionBarProps:Qe,blockClickEvents:e,currentlyPlayingVideo:Ee,footerProps:st,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(re)||"BoardMoreIdeasTabContent"===re,impressionsDebuggerProps:_t,obscuredPinOverlayProps:ht,pin:te,pinVisualProps:gt,presentationProps:ut,primaryContentProps:$e,secondaryContentProps:Ke,showAccessoryContent:Je,showActionBar:!X.includes(re),showFooter:lt,showImpressionsDebugger:ft,showObscuredPinOverlay:dt,showPrimaryAndSecondaryContent:!Y.includes(re),showSeeStatsButton:et,showSignalDebugger:Re,surface:re,...(0,S.Z)(ae,["pinId"])}),Te.shouldOpenModal&&Te.newPin&&(null===(le=Te.originalPin)||void 0===le?void 0:le.id)===te.id&&(0,W.jsx)(w.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,W.jsx)(O.Z,{children:(0,W.jsx)($,{experience:Te.experience,newPin:Te.newPin})})})]})})})}))},345513:(e,t,n)=>{n.d(t,{J:()=>Vt,Z:()=>Wt});var i=n(667294),o=n(907669),r=n(551687),s=n(517458),a=n(689859),l=n(174523),d=n(585967),c=n(626173),u=n(100001),p=n(439887),h=n(542756);function m(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&(0,h.Z)(o).hostname||""}(n,t)),o.replace("www.","")}var g=n(268648),f=n(250777),_=n(560133),y=n(855168),v=n(883119),x=n(785893);const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function w({pin:e,sourceLinkStyle:t,surface:n,url:o}){const r=(0,l.ZP)(),[s,a]=(0,i.useState)(!1),{id:d}=e,h=m(e),w=(0,y.TH)(),S=(0,_.Kl)(e)||{},{slotIndex:I}=(0,c.E)(),C=(0,p.Z)(e,w),E=(0,f.Z)(12,{grid_index:I,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),T=(0,f.Z)(101,{element:162,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),P=(0,f.Z)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:I,objectId:d,clientTrackingParams:C,...(0,_.Kl)(e)||{}}),j=()=>{E(),T(),P()},R=(0,g.Z)({href:o,target:"blank",externalData:{auxData:S,pin:e,surface:n}});return"icon-only"===t?(0,x.jsx)(v.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),R({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{...b.container,...s?b.containerHovered:Object.freeze({}),..."truncated-text"===t?b.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),position:"relative",children:(0,x.jsx)(u.Z,{hovered:s,pin:e,slotIndex:I,viewType:1,children:(0,x.jsx)(v.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),j(),R({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,x.jsxs)(v.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between",children:[(0,x.jsx)(v.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,x.jsx)(v.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,x.jsx)(v.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:h})})]})})})})}const S=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(48035)]).then(n.bind(n,395553)))),I=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,665035)))),C=(0,i.lazy)((()=>n.e(5035).then(n.bind(n,806841))));const E=(0,i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:u,onToggleFlyout:p,pin:h,pinTitle:m,setForcePrimary:g,showEditButton:f,showOverflowMenu:_,showShareButton:y,showSourceLinkButton:b,sourceLinkStyle:E,surface:T}){var P;const j=(0,l.ZP)(),R=(0,v.JZ)(),{isRTL:O}=(0,d.B)(),{viewParameter:k,viewType:A}=(0,c.E)(),{carousel_data:D,id:L,savedInfo:N,tracked_link:M,link:Z}=h,B=null!==(P=null!=M?M:Z)&&void 0!==P?P:"",{isLeadPin:F}=(0,s.Z)(h),[U,z]=(0,i.useState)(f),[H,G]=(0,i.useState)(f),[V,W]=(0,i.useState)(f),$={...O?{marginLeft:f&&_?-44:0}:{marginRight:f&&_?-44:0},transition:O?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},q={opacity:V?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},Y={...O?{marginRight:H?4:0}:{marginLeft:H?4:0},transition:O?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,i.useEffect)((()=>{let e;return f&&_?(G(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{z(!0),requestAnimationFrame((()=>{W(!0)}))}))}),800)):(G(f),z(f),requestAnimationFrame((()=>{W(f)}))),()=>{clearTimeout(e)}}),[f,_]);let X=null;b&&(X=(0,x.jsx)(o.Z,{children:F?(0,x.jsx)(v.zx,{role:"button",accessibilityLabel:j._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:j._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,x.jsx)(w,{pin:h,sourceLinkStyle:E,surface:T,url:B})}));const K=y&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"send-share-link",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(C,{pin:h,setForcePrimary:g})})})})}),J=Boolean(null==N?void 0:N.localPinId)?null==N?void 0:N.localPinId:L,Q=U&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:R?void 0:{__style:q},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(S,{carouselSlotCurrentIndex:D&&D.index,component:0,onToggleModal:p,pinId:J,style:{size:"sm"},view:A,viewParameter:k,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,x.jsxs)(v.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:X}),e?Q:K,e?K:Q]}):(0,x.jsxs)(v.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,x.jsx)(v.xu,{flex:"shrink",children:X}),(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:R?void 0:{__style:$},children:(0,x.jsxs)(v.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?Q:K,e?K:Q,_&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:R?void 0:{__style:Y},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(I,{feedbackData:t,feedbackType:n,pin:h,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var T=n(40142),P=n(224982),j=n(589444),R=n(549135);function O({direction:e,swipeHandler:t}){const n=(0,l.ZP)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,x.jsx)(v.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,x.jsx)(v.JO,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const k=(0,T.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e((0,P.Z)(t,n))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=(0,c.E)(),s=(0,j.Z)({pin:e});if(!s)return null;const{id:a=""}=e,{carousel_slots:l=[],index:d=0,id:u}=s;function p(o){return()=>{const s="left"===o?d-1:d+1;t(a,s),((t=0,o)=>{(0,R.j)(108,{objectId:a,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...(0,_.Kl)(e)||{}})})(d,s)}}return(0,x.jsxs)(v.xu,{height:"100%",position:"relative",width:"100%",children:[d>0&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(O,{direction:"left",swipeHandler:p("left")})}),d<l.length-1&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(O,{direction:"right",swipeHandler:p("right")})})]})}));var A=n(514560),D=n(151101);function L({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o,size:r=32,outline:s=!1}){const a=(0,x.jsx)(v.xu,{"data-test-id":"attribution-avatar",height:r,width:r,children:(0,x.jsx)(D.Z,{name:n,src:e,accessibilityLabel:o,outline:s})});return t?(0,x.jsx)(v.iP,{role:"link",href:t,onTap:i,children:a}):a}var N=n(181307);function M({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:o}){const{anyEnabled:r}=(0,N.aq)("web_disable_ads_blocker",!t);return(0,x.jsx)(v.xu,{children:(0,x.jsx)(v.xv,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:t?(0,x.jsx)(v.rU,{onClick:i,href:t,children:n}):r?(0,x.jsx)("span",{children:n}):n})})}function Z({isHover:e,link:t,onClick:n,title:i,weight:o}){return i?(0,x.jsx)(v.xv,{inline:!0,underline:e,size:"md",weight:o,children:t?(0,x.jsx)(v.rU,{onClick:n,href:t,children:i}):i}):null}var B=n(352483),F=n(234070),U=n(550242);const z=(0,T.connect)(null,(function(e){return{setMostRecentPin:t=>{e((0,U.K)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,display:o="default",isDarkPromoter:r,isPromotedByPinCreator:a,pin:l,name:d,setMostRecentPin:u,url:p,verifiedIdentity:h,isVerifiedMerchant:m}){const{viewParameter:g,viewType:_}=(0,c.E)(),[y,b]=(0,i.useState)(!1),{id:w,pinner:S,sponsorship:I,story_pin_data_id:C}=l,{isPromoted:E}=(0,s.Z)(l),T=S||l.promoter,{creator:P}=I||{},{id:j}=P||{},R=!!C,O=(0,f.Z)(101,{view:3,element:E?283:27,objectId:w,component:R?230:void 0,...j?{creator_id:j,pin_id:w}:{}}),k=()=>{u(w),O()},A=()=>{b((e=>!e))},D=p&&!e,N="overlay"===o,U=(0,x.jsxs)(v.xu,{alignItems:"center",display:N?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,x.jsx)(v.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:N?"flex":void 0,justifyContent:"center",children:(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:N?{__style:{marginTop:-45}}:void 0,children:(0,x.jsx)(B.Z,{avatarSize:N?64:32,isDarkPromoter:r,pinId:w,user:T,username:T&&T.username,viewParameter:g,viewType:_,children:(0,x.jsx)(L,{attributionNameLink:e,avatarUrl:n,name:d,onClick:()=>k(),accessibilityLabel:"",size:N?64:32,outline:N})})})}),(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:N?"flex":void 0,justifyContent:"center",marginTop:N?2:void 0,children:[(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,x.jsxs)(v.kC,{gap:1,children:[(0,x.jsx)(M,{attributionNameLink:e,name:d,onClick:()=>k(),regularWeight:!(E&&!I||a),isHover:y}),(0,x.jsx)(F.Z,{size:"sm",hasVerifiedIdentity:h,isVerifiedMerchant:m})]})}),(0,x.jsx)(Z,{isHover:y,title:t,weight:"normal"})]})]});return D?(0,x.jsx)(v.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),k()},href:p,onMouseEnter:A,onMouseLeave:A,children:U}):U}));var H=n(479996),G=n(577302),V=n(390764),W=n(628402),$=n(411221),q=n(34411),Y=n(801500),X=n(816670),K=n(613330),J=n(648381);function Q({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=(0,T.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:a,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=(0,J.s)(),h=(0,i.useRef)(null),m=(0,q.Z)(),g=(0,G.Z)(m,e),f=a===X.Ac&&(!t||1===t),_=(0,Y.E)(l,X.Ac),y=e=>{(0,R.j)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(v.xu,{ref:h,children:(0,x.jsx)(W.Z,{favorited:n,favoriteCount:t,onFavorite:()=>{y(!0),_&&d(),p&&p(!0)},onUnfavorite:()=>{y(!1),e&&f&&r((0,$.Z)({feedId:u||e.id,feedType:u?K.DV.SECTION_PINS:K.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!n&&!u&&0===s&&(0,x.jsx)(v.mh,{children:(0,x.jsx)(V.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ee=n(468966),te=n.n(ee),ne=n(529084),ie=n.n(ne),oe=n(893870),re=n.n(oe),se=n(756169),ae=n(664507),le=n.n(ae),de=n(369765),ce=n.n(de),ue=n(438280);const pe={goodIdea:te(),love:re(),thanks:le(),wow:ce(),haha:ie()},he={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},me=["CreatorProfileStoryPinGrid"];const ge=function({alignment:e="start",pinId:t,pinner:n,reactionCounts:i,surface:o}){const r=(0,q.Z)(),s=i?(0,ue.At)(i):null,a=i?(0,ue.Ud)(i):0,l=Boolean(r.isAuth&&(null==n?void 0:n.id)===r.id),d=!!s&&s.length>0&&s.map(((e,t)=>{const n=pe[he[e]];return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,x.jsx)(v.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),c=!!d&&(0,x.jsx)(v.iP,{role:"link",href:`/pin/${t}/`,children:(0,x.jsxs)(v.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,x.jsx)(v.xu,{paddingX:1,children:(0,x.jsx)(v.xv,{size:"md",children:(0,x.jsx)(se.Z,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&me.includes(o)&&(0,x.jsx)(v.xu,{height:24});return c||u};var fe=n(752187),_e=n(660310);function ye({feedbackType:e,pin:t}){const n=(0,l.ZP)(),{pinner:i,source_interest:o}=t,{full_name:r,username:s}=i||{},{name:a}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${s}/`,p=(0,_e.NO)(a),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,m=d?h:u,g={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(c||d){const e=0===g.indexOf("{"),t=d?a:r,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,x.jsxs)(v.xu,{children:[(0,x.jsx)(v.rU,{inline:!0,href:m,children:(0,x.jsx)(v.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})}),(0,x.jsx)(v.xv,{inline:!0,size:"md",children:n})]}):(0,x.jsxs)(v.xu,{children:[(0,x.jsx)(v.xv,{inline:!0,size:"md",children:n}),(0,x.jsx)(v.rU,{inline:!0,href:m,children:(0,x.jsx)(v.xv,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})})]})}return(0,x.jsx)(v.xu,{children:(0,x.jsx)(fe.Z,{pin:t,children:(0,x.jsx)(v.xv,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var ve=n(665035),xe=n(708206),be=n(958795),we=n(215828);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ie extends i.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"spamCheckExperimentGroup",null),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:n,url:i}=this.props;i&&t&&(0,we.$3)({location:e,pin:t,surface:n})&&(0,we.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})})),Se(this,"handleClick",(e=>{const{auxData:t,location:n,onClick:i,pin:o,pinId:r,url:s}=this.props;(0,we.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),i&&i(e),s&&(0,be.h)({href:s,pinId:r,pin:o,location:n,auxData:t}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:t}=this.props;return(0,x.jsx)("a",{href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Ce=(0,xe.compose)((0,T.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),(()=>({}))),y.EN)(Ie);var Ee=n(730762);function Te(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Pe=n(549156);function je({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:s}){const a=(0,c.E)(),{ad_destination_url:l,carousel_data:d,id:u,link:p,tracked_link:h}=i;let m,g=l||h||p||"",f="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(g=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},f+="-carousel"}return(0,x.jsx)(v.xu,{"data-test-id":"otpp",children:(0,x.jsx)(Pe.Z,{id:f,children:(0,x.jsx)(Ce,{auxData:m,onClick:()=>{const e=Ee.Z.getInstance(),i=e.getViewFromContext();(0,R.j)(12,{...n,view:s||a.viewType,viewParameter:r||a.viewParameter,component:t||a.componentType,objectId:u,grid_index:a.slotIndex,pin_id:u,prefetch_percentage_complete:Te(p||"")}),(0,R.j)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:s||a.viewType,viewParameter:r||a.viewParameter,...n,component:t||a.componentType,objectId:u,grid_index:a.slotIndex,pin_id:u,prefetch_percentage_complete:Te(p||"")}),(0,R.j)(13,{closeup_navigation_type:"web_closeup",objectId:u,component:t||a.componentType,view:3,...a.contextLogData,...n}),e.addViewToContext(i)},pinId:u,surface:o,url:g,children:e})})})}var Re=n(586840);function Oe(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r,isLeadPin:a}=(0,s.Z)(t),l=(0,N.tc)("web_no_tap_tap"),d=!a&&(i||o&&r&&l().anyEnabled)?je:fe.Z;return(0,x.jsx)(d,{surface:i?n:void 0,...(0,Re.Z)(e,["surface"])})}function ke({pin:e,pinNoteText:t}){return(0,x.jsx)(Oe,{pin:e,children:(0,x.jsx)(v.xv,{lineClamp:1,overflow:"normal",size:"md",children:t})})}var Ae=n(864793),De=n(965035);function Le({value:e,valueFormat:t}){const n=(0,l.ZP)();return e||0===e?"TIME"===t?(0,De.Z)(e):(0,x.jsx)(se.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,x.jsx)(v.u,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:""})}function Ne({pin:e}){const t=(0,l.ZP)(),{isStoryPin:n,isVideo:i}=(0,s.Z)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=(0,s.Z)(e);return!n||!o&&i?i:n}(e),r=(0,Ae.ZP)(i,n,t),a=i||n?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:r.map((({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:r})=>(0,x.jsxs)(v.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,x.jsx)(v.xu,{display:"inlineBlock",marginEnd:1,children:(0,x.jsx)(v.JO,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),(0,x.jsx)(v.xv,{inline:!0,size:"md",children:(0,x.jsx)(Le,{value:null==a?void 0:a[n],valueFormat:r})})]},n)))})}function Me({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return(0,x.jsx)(Oe,{pin:n,surface:i,children:(0,x.jsxs)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,x.jsx)(v.xv,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,x.jsx)(v.xv,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Ze=n(537343),Be=n(746857);function Fe({pin:e,surface:t}){return(0,x.jsx)(Oe,{pin:e,surface:t,children:(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(v.xv,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,Be.Z)(e,t)})})})}var Ue=n(11200);function ze({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return(0,x.jsx)(v.xv,{color:"darkGray",lineClamp:e,size:"md",weight:"bold",children:(0,x.jsx)(Oe,{pin:t,surface:i,children:n})})}var He=n(335529);const Ge={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${He.X}ms ease`},visible:{opacity:1}}};function Ve({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:r,hasTitleOrSource:a,hoverTransitionState:d,isDarkPromoter:c,pin:u,pinNoteText:p,pinTitle:h,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:_,showCarouselEllipsis:y,showFavoriteButton:b,showGroupBoardAvatar:w,showNativeReactions:S,showOverflowMenu:I,showPinStats:C,showSource:E,showTextContent:P,surface:j,titleLines:R}){var O,k,A,D;const M=(0,l.ZP)(),B=(0,T.useDispatch)(),{favorited_by_me:F,favorite_user_count:U,id:G,pinner:V,reaction_counts:W,sponsorship:$,story_pin_data:q}=u,{has_affiliate_products:Y}=q||{},X=function(e,t,n){var i,o,r,a;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:p}=e,{sponsor:h}=u||{},{isPromoted:m}=(0,s.Z)(e),{official_user:g}=d||{},f=m&&!!u&&(null==p?void 0:p.id)!==(null==c?void 0:c.id),_=e.pinner||{};let y="",v="",x="",b="",w="",S="",I=!1,C=!1;var E,T,P,j,R,O;if(f)y=null!==(E=null!==(T=null==p?void 0:p.image_medium_url)&&void 0!==T?T:null==p?void 0:p.image_small_url)&&void 0!==E?E:"",v=`/${null!==(P=null==p?void 0:p.username)&&void 0!==P?P:""}/`,x=null==c?void 0:c.full_name,b=null==p?void 0:p.full_name,S=`/${null!==(j=null==p?void 0:p.username)&&void 0!==j?j:""}/`,w=`/${null!==(R=null==c?void 0:c.username)&&void 0!==R?R:""}/`,I=null==p||null===(O=p.verified_identity)||void 0===O?void 0:O.verified,C=null==p?void 0:p.is_verified_merchant;else if(m&&c)y=c.image_medium_url||c.image_small_url,x=c.full_name,b=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),S=`/${c.username}/`;else if(u&&null!=h&&h.username){var k,A,D,L,N,M;y=null!==(k=null!==(A=null!==(D=null==p?void 0:p.image_large_url)&&void 0!==D?D:null==p?void 0:p.image_medium_url)&&void 0!==A?A:null==p?void 0:p.image_small_url)&&void 0!==k?k:"",v=`/${null!==(L=null==p?void 0:p.username)&&void 0!==L?L:""}/`,x=h.full_name,b=null==p?void 0:p.full_name,S=`/${null!==(N=null==p?void 0:p.username)&&void 0!==N?N:""}/`,w=`/${h.username}/`,I=null==p||null===(M=p.verified_identity)||void 0===M?void 0:M.verified,C=null==p?void 0:p.is_verified_merchant}else if(p){var Z,B,F,U,z;y=null!==(Z=null!==(B=null!==(F=p.image_large_url)&&void 0!==F?F:p.image_medium_url)&&void 0!==B?B:p.image_small_url)&&void 0!==Z?Z:"",b=p.full_name,S=`/${null!==(U=p.username)&&void 0!==U?U:""}/`,I=null===(z=p.verified_identity)||void 0===z?void 0:z.verified,C=p.is_verified_merchant}else if("show-for-claimed-content"===t){var H,G,V,W;null!=g&&g.is_primary_website_verified&&g.username&&(y=null!==(H=null!==(G=null!==(V=g.image_large_url)&&void 0!==V?V:g.image_medium_url)&&void 0!==G?G:g.image_small_url)&&void 0!==H?H:"",b=g.full_name,S=`/${g.username}/`,I=null===(W=g.verified_identity)||void 0===W?void 0:W.verified,C=g.is_verified_merchant)}else{var $,q,Y,X;y=null!==($=null!==(q=null!==(Y=_.image_large_url)&&void 0!==Y?Y:_.image_medium_url)&&void 0!==q?q:_.image_small_url)&&void 0!==$?$:"",v=`/${_.username}/`,b=_.full_name,S=l?l.url:"",I=null===(X=_.verified_identity)||void 0===X?void 0:X.verified,C=_.is_verified_merchant}return{avatarUrl:null!==(i=y)&&void 0!==i?i:"",attributionNameLink:v,attributionTitle:null!==(o=x)&&void 0!==o?o:"",name:null!==(r=b)&&void 0!==r?r:"",sponsorUrl:w,url:null!==(a=S)&&void 0!==a?a:"",verifiedIdentity:!!I,isVerifiedMerchant:!!C}}(u,e,M),{avatarUrl:K,attributionNameLink:J,attributionTitle:ee,name:te,sponsorUrl:ne,url:ie,verifiedIdentity:oe,isVerifiedMerchant:re}=X,se=!!u.promoter&&!u.is_downstream_promotion,ae=se&&(null===(O=u.native_creator)||void 0===O?void 0:O.id)===(null===(k=u.promoter)||void 0===k?void 0:k.id),le=(0,f.Z)(101,{view:3,element:27,pin_id:G,objectId:G,component:u.story_pin_data_id?230:void 0,...null!=$&&null!==(A=$.creator)&&void 0!==A&&A.id&&null!==(D=$.sponsor)&&void 0!==D&&D.id?{creator_id:$.creator.id,sponsor_id:$.sponsor.id}:{}}),de=e=>B(de(e)),ce=(0,N.tc)("web_search_ideapin_module"),ue=!!u.story_pin_data_id&&"SearchItem"===j&&ce().anyEnabled,pe=(0,N.tc)("web_ag_msg_pin_card_update"),he="ConversationView"===j&&pe({dangerouslySkipActivation:!0}).anyEnabled,me=!ae&&$?(0,x.jsx)(Z,{link:ne||ie,onClick:()=>(de(G),void le()),title:(0,Ze.ZP)(ee,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,fe="ConversationView"===j&&he?{padding:"8px"}:Ge.container;return(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:fe},children:[y&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:a||w||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,x.jsx)(H.default,{pinId:G})}),C&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,x.jsx)(Ne,{pin:u})}),(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsxs)(v.xu,{flex:"grow",children:[(!!$||Y&&!se)&&!ae&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(v.xu,{flex:"grow",overflow:"hidden",children:(0,x.jsx)(Ue.Z,{hasAffiliateProducts:Y,isPromoted:se,sponsorName:me,sponsorshipStatus:null==$?void 0:$.status})})}),(P&&r||b)&&(0,x.jsxs)(v.xu,{marginBottom:1,children:[(g||m)&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(Me,{currentPrice:m,originalPrice:g,pin:u,surface:j})}),b?(0,x.jsxs)(v.kC,{alignItems:"start",children:[(0,x.jsx)(v.kC,{flex:"grow",children:(0,x.jsx)(ze,{numberOfLines:R,pin:u,pinTitle:h,surface:j})}),(0,x.jsx)(v.xu,{marginStart:3,children:(0,x.jsx)(Q,{board:t,favorited:!!F,favoriteCount:null!=t&&t.should_show_board_activity?null!=U?U:0:void 0,pinId:G})})]}):!ue&&(0,x.jsx)(ze,{numberOfLines:R,pin:u,pinTitle:h,surface:j}),E&&(0,x.jsx)(v.xu,{marginBottom:2,children:(0,x.jsx)(Fe,{pin:u,surface:j})})]}),(0,x.jsxs)(v.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(v.xu,{flex:"grow",children:(()=>{const t=(0,x.jsx)(z,{attributionNameLink:J,attributionTitle:se&&!$||ae?ee:"",avatarUrl:K,isDarkPromoter:!!c,isPromotedByPinCreator:!!ae,verifiedIdentity:ue&&oe,isVerifiedMerchant:ue&&re,name:te,pin:u,url:ie,display:ue?"overlay":"default"});if(ue)return t;switch(e){case"none":return null;case"image-only-credit":return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:Ge.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,x.jsx)(ye,{pin:u,feedbackType:o})});default:return Object.values(X).some((e=>Boolean(e)))?t:null}})()}),I&&(0,x.jsx)(v.xu,{flex:"none",children:(0,x.jsx)(ve.default,{feedbackData:n,feedbackType:o,pin:u,pinTitle:h,setForcePrimary:_,transparentBackground:!0})})]}),S&&!!W&&(0,x.jsx)(v.xu,{marginTop:"ConversationView"===j&&he?2:void 0,children:(0,x.jsx)(ge,{pinId:G,pinner:V,reactionCounts:W,surface:j,alignment:ue?"center":void 0})}),p&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(ke,{pin:u,pinNoteText:p})}),w&&!b&&(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!b&&(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(L,{attributionNameLink:J,avatarUrl:K,name:te}),(0,x.jsx)(v.xu,{marginStart:2,flex:"grow",children:(0,x.jsx)(v.xv,{size:"md",children:te})})]})})]})})]})}var We=n(539484),$e=n(278646);const qe=(0,i.lazy)((()=>n.e(33168).then(n.bind(n,950057)))),Ye=(0,i.lazy)((()=>n.e(69221).then(n.bind(n,379575))));function Xe({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:s,productOriginalPrice:d,productRating:c,productShipping:u,showSource:p,showVisitSiteButton:h,surface:m,titleLines:g}){var f;const y=(0,l.ZP)(),b=(0,N.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:w,group:S}=b({dangerouslySkipActivation:!0}),I=null===(f=n.rich_summary)||void 0===f?void 0:f.url;"shopping"!==e||S.includes("pwt")||b();const C=(0,We.Z)({url:I})?"nofollow":"none";return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:Ge.productContainer},height:"100%",children:(0,x.jsx)(v.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(v.xu,{children:[(d||s)&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(Me,{currentPrice:s,originalPrice:d,pin:n,surface:m})}),(0,_.qN)(n)&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(qe,{})})})}),(0,_.SP)(n)&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(Ye,{})})})}),(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(ze,{numberOfLines:g,pin:n,pinTitle:o,surface:m})}),p&&(0,x.jsx)(Fe,{pin:n,surface:m}),"shopping"===e&&w&&(c||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,x.jsx)($e.L,{count:null==c?void 0:c.count,countFormat:"number",ratingValue:null==c?void 0:c.rating,shippingInfo:u})]}),h&&I?(0,x.jsx)(v.xu,{marginTop:2,children:(0,x.jsx)(v.zx,{role:"link",fullWidth:!0,href:I,rel:C,onClick:()=>{(0,R.j)(12,{view:1,viewParameter:3563})},target:"blank",text:y._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const Ke=(0,i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:r,feedbackType:s,hoverTransitionState:a,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,productRating:m,productShipping:g,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:b,showNativeReactions:w,showOverflowMenu:S,showPinStats:I,showSource:C,showTextContent:E,showVisitSiteButton:T,surface:P,titleLines:j}){const R=u||C,O="shopping"===i?(0,x.jsx)(Xe,{contentType:i,hasTextContent:!!R,pin:d,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,productRating:m,productShipping:g,showSource:C,showVisitSiteButton:T,surface:P,titleLines:j}):(0,x.jsx)(Ve,{attributionType:e,board:n,feedbackData:r,feedbackType:s,hasTextContent:!!R,hasTitleOrSource:!!R,hoverTransitionState:a,isDarkPromoter:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,setForcePrimary:f,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:b,showNativeReactions:w,showOverflowMenu:S,showPinStats:I,showSource:C,showTextContent:E,surface:P,titleLines:j});return t?(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:O}):(0,x.jsx)(v.kC,{flex:"grow",children:(0,x.jsx)(o.Z,{fullWidth:!0,children:O})})}));var Je=n(773788),Qe=n(269307);const et=(0,i.lazy)((()=>n.e(34979).then(n.bind(n,479818)))),tt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(43473)]).then(n.bind(n,845680)))),nt=(0,i.lazy)((()=>Promise.all([n.e(46760),n.e(56103),n.e(44317),n.e(51555),n.e(22347)]).then(n.bind(n,912836)))),it=(0,i.lazy)((()=>Promise.all([n.e(76030),n.e(51555),n.e(22538)]).then(n.bind(n,23945)))),ot=(0,i.lazy)((()=>n.e(1593).then(n.bind(n,34399))));function rt({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:s,onToggleModal:l,pin:d}){const{id:u,savedInfo:p}=d,h=(0,i.useRef)(!!p),m=(0,T.useSelector)((({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:g}=(0,Qe.tY)(n);void 0!==g&&["classic","controlled","inline"].includes(e.type)&&(e=g);const{viewParameter:_,viewType:y}=(0,c.E)(),b=(0,f.Z)(101,{element:0,objectId:u});let w=null;const S={onToggleModal:s,view:y,viewParameter:_,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(m||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;w=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(it,{experience:m||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:_})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;w=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(tt,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!p&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Je.Z,{isNewlySaved:!h.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:_})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;w=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"better-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(nt,{initialSelection:n,onSave:i,onToggleFlyout:s,onToggleModal:l,pin:t,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Je.Z,{isNewlySaved:!h.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:_,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?w=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"persistent-one-click-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(et,{...S,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(w=(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"end",children:(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"pin-promote-button",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(ot,{pin:d})})})})})}));return(0,x.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,x.jsx)(v.xu,{display:"flex",margin:3,children:w&&(0,x.jsx)(v.xu,{marginStart:"auto",flex:"grow",children:w})})})}var st=n(299485),at=n(505812),lt=n(329485),dt=n(771400),ct=n(273202);const ut={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function pt({isSelected:e}){const t=(0,l.ZP)();return(0,x.jsx)(v.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?ut:{},children:(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,x.jsx)(v.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,x.jsx)(v.JO,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var ht=n(639387),mt=n(925854),gt=n(80078),ft=n(580849),_t=n(711874),yt=n(852474),vt=n(731164);const xt={},bt=e=>{vt.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,h.Z)(e);return new Promise(((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(vt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(vt.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(xt[e]&&(xt[e].loaded=!0),vt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(vt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},xt[e]||(o.send(),xt[e]={added:!0,xhr:o},vt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},wt={},St=(e,t)=>{const n="string"==typeof e?e:e.url;if(t&&n){const e="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",e)}return n};function It(e,t){return(St("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Ct(e){const{id:t}=e;t&&wt[t]&&wt[t].length>0&&wt[t].forEach((e=>{(e=>{xt[e]&&xt[e].xhr&&!xt[e].loaded&&(vt.Z.increment("web_prefetch_abort_xhr",1),xt[e].xhr.abort(),xt[e].aborted=!0)})(e)}))}function Et({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:a=!1,onError:l,onLoad:d,pin:p,pinImageCrop:h,resolution:m="default",rootMargin:g,selectionState:f,showCarousel:_,showPromotedVideos:y,surface:b}){const{contextLogData:w,slotIndex:S,viewParameter:I,viewType:C}=(0,c.E)(),{group:E}=(0,N.aq)("web_prefetch_video_in_feed"),{id:T="",aggregated_pin_data:P,image_signature:j,story_pin_data:R}=p,{pin_tags_chips:O}=P||{},{isOneTap:k,isVideo:A,isPromoted:D,isGif:L}=(0,s.Z)(p),{cropHeight:M,cropWidth:Z}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let B=null;if(e||!A||!y&&D)if(_)B=(0,x.jsx)(v.xu,{"data-test-id":"pinrep-carousel",children:(0,x.jsx)(lt.Z,{cropHeight:M,cropWidth:Z,onError:l,onLoad:d,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:T,showCarouselBadge:!1,pin:p})});else{const e="backend"===h?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0}px`}}return{}}(p):{};B=(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,x.jsx)(dt.Z,{animateGif:L&&a,cropHeight:M,cropWidth:Z,fallbackColor:n,imageFit:o,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:d,onError:l,pin:p})})}else B=(0,x.jsx)(v.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:(0,x.jsx)(ct.Z,{cropHeight:M,rootMargin:g,inAdsDesktopVideoExperiment:A&&y,pin:p,surface:b,onLoad:d,viewType:C,viewParameter:I,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:l,isExperimentalPinRep:!0})});const F=(0,x.jsx)(v.zd,{wash:!0,children:(0,x.jsx)(u.Z,{hovered:r,pin:p,slotIndex:S,viewType:1,children:B})}),U=["selected-image-only","deselected-image-only"].includes(f),z="selected-image-only"===f,H=(0,i.useRef)(!0),G=(0,i.useRef)(!1),V=(0,i.useRef)(!1),W=(0,N.aq)("web_video_quic").group;if((0,i.useEffect)((()=>{H.current||!r||k||t||G.current?r||!G.current||V.current||(Ct(R||p),V.current=!0):R?(!function(e,t){var n;const{id:i,pages:o,pages_preview:r}=e;if(!r&&!o)return;const s=r?r[0]:null==o?void 0:o[0],a=null==s||null===(n=s.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(a&&a.video){const{hlsv3:e,mp4:n}=(0,yt.Z)(a.video)||{},o=n||e;if(o&&i){var l;const e=null!==(l=St(o,t))&&void 0!==l?l:"";wt[i]=wt[i]?wt[i].concat(e):[e],bt(e)}}}(R,W),G.current=!0):(!function(e,t){const{id:n,videos:i}=e,{video_list:o}=i||{},r=(0,ht.Z)({pin:e}),{video:s}=(0,mt.Z)(r)||{},{hls:a,hlsv3:l,mp4:d}=s||{};if(o){const e=(0,yt.t)(o)||{},i=l||a||{},r=ft.K.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",s=i.duration||(null==d?void 0:d.duration)||null;if(s&&(0,_t.F)(r,s)&&r.startsWith("enabled")&&e.url){var c;const i=null!==(c=St(e.url,t))&&void 0!==c?c:"";bt(i),wt[n]=wt[n]?wt[n].concat(i):[i]}else if(i.url){var u;const e=null!==(u=St(i.url,t))&&void 0!==u?u:"";wt[n]=wt[n]?wt[n].concat(e):[e],bt(e).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[gt.VS]){const e=It(i[gt.VS],t);return wt[n]=wt[n].concat(e),bt(null!=e?e:"")}return null})).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const e=It(i[0],t);return wt[n]=wt[n].concat(e),bt(null!=e?e:"")}return null}))}}}(p,W),G.current=!0),H.current=!1}),[t,r,k,R,p,E,W]),t)return(0,x.jsxs)(i.Fragment,{children:[F,U&&(0,x.jsx)(pt,{isSelected:z}),O&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(at.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:$}=w||{},q=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(b);return(0,x.jsxs)(Oe,{contextLogData:{grid_index:S,image_signature:j,commerce_data:q?$:void 0},elementType:35,pin:p,surface:b,children:[F,O&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(at.Z,{pin:p,enableCloseupLink:!1})})]})}var Tt=n(488023),Pt=n(255539),jt=n(998864);const Rt=Pt.Z.makeSendShareButton((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,l.ZP)(),n=(0,jt.Z)();return(0,x.jsx)(v.zx,{fullWidth:!0,onClick:n((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));var Ot=n(777158);var kt=n(452963),At=n(818026),Dt=n(546352),Lt=n(7713),Nt=n(451875);const Mt="#000000",Zt="#ffffff";function Bt({selected:e=!1}){const t=(0,l.ZP)(),{isRTL:n}=(0,d.B)();return(0,x.jsx)(v.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new v.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Mt:Zt,borderRadius:Nt.Oc,boxShadow:"inset 0 0 0 3px #fff"}},children:e?(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,x.jsx)(v.JO,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,x.jsx)(v.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,x.jsx)(v.JO,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Ft={wrapper:{borderRadius:Nt.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Nt.Dv.VISUAL},savedOverlay:{backgroundColor:Nt.Dv.SAVED},legoWashOverlay:{backgroundColor:Nt.Dv.LEGO_WASH}};function Ut({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:i,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:s="none",secondaryContent:a,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:f,signalDebuggerContent:_,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:b="none",obscuredPinOverlay:w,showNoPinBorderRadius:S,showPromotedPinBorderTreatment:I,shouldUseLegoWash:C}){return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:I?Ft.promotedPinBorderTreatment:{}},height:"100%",children:(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:S?{}:Ft.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,x.jsx)(Bt,{selected:"selected"===g}),(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:S?{}:Ft.wrapper},overflow:"hidden",position:"relative",onFocus:i,onBlur:o,onMouseEnter:i,onMouseLeave:o,children:[e,(0,x.jsx)(Lt.Z,{visibility:n,children:(0,x.jsx)(Dt.Z,{additionalStyles:C?Ft.legoWashOverlay:Ft.visualOverlay})}),(0,x.jsx)(Lt.Z,{visibility:t,children:(0,x.jsx)(Dt.Z,{additionalStyles:C?Ft.legoWashOverlay:Ft.savedOverlay})}),d&&(0,x.jsx)(Lt.Z,{visibility:c,children:(0,x.jsx)(Dt.Z,{children:d})}),a&&(0,x.jsx)(Lt.Z,{visibility:l,children:(0,x.jsx)(Dt.Z,{children:a})}),r&&(0,x.jsx)(Lt.Z,{visibility:s,children:(0,x.jsx)(Dt.Z,{children:r})}),y&&(0,x.jsx)(Lt.Z,{visibility:b,children:(0,x.jsx)(Dt.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),u&&(0,x.jsx)(Lt.Z,{visibility:p,children:(0,x.jsx)(Dt.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),h&&(0,x.jsx)(Dt.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,bottom:!0,children:h})}),f&&(0,x.jsx)(Dt.Z,{children:f}),_]}),m,w&&(0,x.jsx)(v.xu,{children:w})]})})}var zt=n(515528);function Ht(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Gt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Vt=228;const Wt=(0,i.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:n,currentlyPlayingVideo:s,disableHover:a=!1,footerProps:l,forcePrimaryContentVisibility:d,impressionsDebuggerProps:u,onError:p,onLoad:h,obscuredPinOverlayProps:m,pin:g,pinVisualProps:f,presentationProps:_,primaryContentProps:y,rounding:b,selectionState:w,secondaryContentProps:S,showAccessoryContent:I,showActionBar:C,showFooter:T,showImpressionsDebugger:P,showSeeStatsButton:j,showSignalDebugger:R,showObscuredPinOverlay:O,showPrimaryAndSecondaryContent:D,surface:L}){const{savedInfo:M}=g,{viewType:Z}=(0,c.E)(),{showEnabledSaveBehavior:B}=(0,Qe.Yh)(zt.ZF.includes(L)||zt.zI.includes(L)),[F,U]=(0,i.useState)(!1),z=(0,He.Z)(F);let{isHovering:H,hoverTransitionState:G,handleMouseOver:V,handleMouseLeave:W}=function(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,hoverTransitionState:(0,He.Z)(e,0,He.X),handleMouseOver:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}();a&&(H=!1,G="inactive");const $=(0,He.Z)(!!M),q=Ht($),Y=Ht(G),X=Ht(G),K=Ht(z),J=Ht($),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(L),ee="visible"!==q||Q?q:"none",te={primaryContentVisibility:Gt(X,K,"visible"===J?"none":J),secondaryContentVisibility:(ne=Gt(X,K,J),"none"===ne?"visible":"visible"===ne?"none":"hidden"),actionBarVisibility:Gt(X,K),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ne;const ie=e=>U(e),oe=e=>U(e),re=e=>{U(e),e||W()};let se=null;d&&(te.primaryContentVisibility="visible"),"none"!==te.primaryContentVisibility&&D&&(se=(0,x.jsx)(rt,{forcePrimaryContent:ie,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:re,pin:g,...y}));let ae=null;const le=(0,i.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,s]=(0,i.useState)(!n||t),a=(0,i.useRef)(o),l=(0,i.useRef)(null);if(n){const e=a.current;a.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),s(!0),l.current=setTimeout((()=>{s(!1),l.current=null}),4e3))}return(0,i.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(g,de),ue=Ht((0,He.Z)(ce));te.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(te.secondaryContentVisibility,ue),ae=(S.allowShoppingPriceIndicator||S.shoppingLabelColor||"none"!==te.secondaryContentVisibility)&&D&&!s&&(0,x.jsx)(v.xu,{margin:2,children:(0,x.jsx)(st.Z,{pin:g,...S})});let pe=null;I&&(pe=(0,x.jsx)(k,{pin:g}),te.accessoryContentVisibility=Ht(G)),f.isSocialSeasonalBoard&&(e.showShareButton=!1);let he=null;j&&(e.showSourceLinkButton=!1,he=(0,x.jsx)(o.Z,{children:(0,x.jsx)(Tt.Z,{pinId:g.id,surface:L})}));const me=C?(0,x.jsx)(E,{onToggleFlyout:oe,pin:g,setForcePrimary:U,surface:L,...e}):null;let ge=null;T&&(ge=(0,x.jsx)(Ke,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?G:null,pin:g,setForcePrimary:U,surface:L,...l})),f.isSocialSeasonalBoard&&(ge=(0,x.jsx)(v.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,x.jsx)(v.xu,{margin:"auto",width:Vt,children:(0,x.jsx)(Rt,{isFlyoutOpen:F,onFlyoutDismiss:()=>oe(!F),onToggleFlyout:()=>oe(!F),pinId:g.id,sendType:"pin",shownWithinMasonry:!0,viewType:Z})})}));const fe=P&&(0,x.jsx)(kt.Z,{...u}),_e=R&&g.debug_info_html&&(0,x.jsx)(v.xu,{paddingY:1,children:(0,x.jsx)("pre",{children:g.debug_info_html})}),ye=(0,x.jsx)(A.Z,{pin:g}),ve=(0,i.useRef)();"header-only"===(0,Ot.Z)(ve)&&(te.actionBarVisibility="none",te.accessoryContentVisibility="none");const xe=O?(0,x.jsx)(At.ZP,{pin:g,...m}):null,be="ShoppingList"===L?{height:"100%"}:{},we=(0,N.tc)("web_ag_msg_pin_card_update"),Se="ConversationView"===L&&we({dangerouslySkipActivation:!0}).anyEnabled,Ie=(0,N.tc)("web_creator_attr_hover_overlay"),Ce=T&&"default"===l.attributionType&&zt.ZF.includes(L),Ee=!g.is_promoted&&!a&&Ce,Te=Ee&&Ie({dangerouslySkipActivation:!0}).anyEnabled;return Ee&&(ge=(0,x.jsx)(v.xu,{onMouseEnter:Ie,onFocus:Ie,children:ge})),(0,x.jsx)(r.Z,{name:"PinRepContainer",children:(0,x.jsx)(v.xu,{"data-test-id":"pin","data-test-pin-id":g.id,onFocus:Te?()=>{}:V,onBlur:Te?()=>{}:W,onMouseEnter:Te?()=>{}:V,onMouseLeave:Te?()=>{}:W,dangerouslySetInlineStyle:{__style:be},rounding:Se&&"ConversationView"===L?b:void 0,borderStyle:Se&&"ConversationView"===L?n:"none",overflow:Se&&"ConversationView"===L?"hidden":"visible",children:(0,x.jsx)(Ut,{visualOverlayVisibility:Y,savedOverlayVisibility:ee,handleMouseOverPinContent:Te?V:()=>{},handleMouseLeavePinContent:Te?W:()=>{},primaryContent:se,primaryContentVisibility:te.primaryContentVisibility,secondaryContent:ae,secondaryContentVisibility:te.secondaryContentVisibility,accessoryContent:pe,accessoryContentVisibility:te.accessoryContentVisibility,actionBar:me,actionBarVisibility:te.actionBarVisibility,seeStatsButton:he,footer:ge,selectionState:w,debugContent:fe,signalDebuggerV2Content:ye,signalDebuggerV2ContentVisibility:te.signalDebuggerV2ContentVisibility,signalDebuggerContent:_e,obscuredPinOverlay:xe,..._,children:(0,x.jsx)(v.xu,{height:"100%",ref:ve,children:(0,x.jsx)(Et,{blockClickEvents:t,isHovering:H,onError:p,onLoad:h,pin:g,surface:L,selectionState:w,...f})})})})})}))},476865:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),o=n(40142),r=n(269935),s=n(439887),a=n(28745),l=n(538958),d=n(432921),c=n(904126),u=n(883119),p=n(785893);const h={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,o,r;const{pin:{id:s,images:a,title:l,videos:m,video_status_message:g}}=e,f=g||{},_=a&&a["236x"],y=m&&(null===(t=m.video_list)||void 0===t?void 0:t[c.K.V_HLSV4]),{duration:v}=y||{};return(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(u.Zb,{children:(0,p.jsxs)(u.iP,{role:"link",href:`/pin/${s}`,rounding:2,children:[(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[_&&(0,p.jsx)(u.Ee,{alt:l||"",color:"lightGray",naturalHeight:null!==(n=_.height)&&void 0!==n?n:1,naturalWidth:null!==(o=_.width)&&void 0!==o?o:1,src:null!==(r=_.url)&&void 0!==r?r:""}),!!v&&(0,p.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,p.jsx)(d.Z,{duration:v})}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),(0,p.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,p.jsx)(u.X6,{color:"white",overflow:"normal",size:"sm",children:f.title}),(0,p.jsx)(u.xu,{marginTop:4,children:(0,p.jsx)(u.xv,{color:"white",size:"md",overflow:"normal",children:f.subtitle})})]})]}),(0,p.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,p.jsx)(u.xu,{flex:"grow",children:l&&(0,p.jsx)(u.xu,{paddingY:1,children:(0,p.jsx)(u.xv,{inline:!0,size:"md",weight:"bold",children:l})})})})]})})})}var g=n(784655),f=n(855168),_=n(398791),y=n(560133);function v({trackingParameters:e,pin:t,pinId:n,...d}){var c,u,h;const v=(0,f.TH)(),x=(0,o.useSelector)((({pins:e})=>e[n]))||t,b=(0,s.Z)(x,v),w=(0,a.Z)(x),S=!!(w&&w.url&&w.height&&w.width)||void 0,I=w&&x.videos?x.videos.id:void 0,[C,E]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>E(!0)),[]),P=(0,i.useCallback)((()=>E(!1)),[]),{componentType:j,contextLogData:R,impressionAuxFields:O,slotIndex:k,viewData:A,viewParameter:D,viewType:L}=e;return(0,p.jsx)(r.Z,{componentType:j,contextLogData:{..."undefined"!=typeof window?{pwa_type:(0,l.ZP)(window)}:{},...R,...(0,y.Kl)(x,R)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:S,videoIdStr:I,clientTrackingParams:b||`${x.tracking_params||""}-0`,imageURL:null!==(c=null===(u=x.images)||void 0===u||null===(h=u["236x"])||void 0===h?void 0:h.url)&&void 0!==c?c:"",richTypes:(0,y.GT)(x)},impressionType:"Pin",isPaused:!C,loggingId:x.id,slotIndex:k,viewData:A,viewParameter:D,viewType:L,children:(0,g._J)(x)?(0,p.jsx)(m,{pin:x}):(0,p.jsx)(_.Z,{...d,debugImpressionState:C?"started":"paused",onError:P,onLoad:T,pin:x,pinId:n,trackingParameters:{componentType:j,contextLogData:R,slotIndex:k,viewParameter:D,viewType:L}})})}},451875:(e,t,n)=>{n.d(t,{Oc:()=>i,mv:()=>o,Dv:()=>r});const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},789875:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(454217),o=n(946753);function r({feedbackOptions:e,pin:t,viewParameter:n},r){const{board:s,pinner:a}=t,{getFeedbackType:l}=(0,i.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:s,feedback:e,pin:t,pinner:a,viewParameter:n})}},519922:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},746857:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(517458),o=n(560133);function r(e,t){const{isProduct:n}=(0,i.Z)(e);return(n||"ShoppingList"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},230805:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(174523),r=n(883119),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=16,d=32;class c extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),a(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:o,selected:a,style:c,text:u,x:p,y:h,zIndex:m,backdropDiameter:g=d,dotDiameter:f=l}=this.props,{isHovering:_}=this.state,y=_?g+4:g,v={zIndex:m,position:"absolute",top:h-y/2,left:p-y/2,outline:"none"},x={backgroundColor:"rgba(0, 0, 0, 0.1)",width:y,height:y,border:"none",borderRadius:y,cursor:n?"pointer":"default"};return(0,s.jsx)("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:o,ref:e,role:"button",style:v,tabIndex:"0",children:(0,s.jsx)("div",{style:{...x,...c},children:(0,s.jsxs)(r.xu,{alignItems:"center",borderStyle:"none",color:"white",display:"flex",height:f,justifyContent:"center",position:"absolute",padding:0,width:f,dangerouslySetInlineStyle:{__style:{boxShadow:a?"0 0 0 3px #e60023":"none",borderRadius:f,top:(y-f)/2,left:(y-f)/2}},children:[!!u&&(0,s.jsx)(r.xv,{align:"center",color:"darkGray",inline:!0,size:"sm",weight:"bold",children:u}),t&&(0,s.jsx)(r.JO,{accessibilityLabel:this.props.i18n._("Tag anchor","accessibility label for an anchor for an object in a pin","accessibility label for an anchor for an object in a pin"),color:"red",icon:t,size:f/2,inline:!0})]})})})}}const u=(0,i.forwardRef)(((e,t)=>{const n=(0,o.ZP)();return(0,s.jsx)(c,{...e,forwardedRef:t,i18n:n})}))},438280:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,{At:()=>i,Ud:()=>o,J6:()=>r})},585967:(e,t,n)=>{n.d(t,{P2:()=>s,Mf:()=>a,LC:()=>l,fH:()=>d,B:()=>c});var i=n(667294),o=n(785893);const r=(0,i.createContext)(),s=r.Provider;function a(e){function t(t){const n=(0,i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},904126:(e,t,n)=>{n.d(t,{K:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},255539:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(415339),r=n(204891),s=n(451190),a=n(237574),l=n(549135),d=n(998864),c=n(883119),u=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new c.Ry(1),m=({children:e})=>e((0,d.Z)({shouldStopEventPropagation:!1}));class g extends i.Component{constructor(...e){super(...e),p(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),p(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),p(this,"flyoutProps",(()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:s,board:l,sendType:d,url:c,fullName:p,profileUrl:h,viewParameter:m,viewType:g,onExternalSend:f,showCaret:_,todayArticle:y}=this.props;let v={description:e,id:i,imageUrl:n,name:"",type:a.d.PIN,url:`/pin/${i}/`},x=a.d.PIN;switch(d){case"user":v={description:e,id:s,imageUrl:n,name:p,type:a.d.PINNER,url:h},x=a.d.USER;break;case"board":v=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:a.d.BOARD,url:l.url},x=a.d.BOARD;break;case"today_article":v=y&&{description:y.subtitle||"",id:y.id,imageUrl:n,name:y.title,type:a.d.TODAY_ARTICLE,url:(0,r.bz)(y)},x=a.d.TODAY_ARTICLE;break;case"search":v={...v,type:a.d.SEARCH,url:c},x=a.d.SEARCH}const b={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:x,sharedObject:v,viewParameter:m,viewType:g};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:_,children:(0,u.jsx)(o.default,{...b})}}))}static makeSendShareButton(e){return t=>(0,u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i}=this.props;"user"===n&&(0,l.j)(101,{component:13675,element:1079,objectId:i,view:4,viewParameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:o}=this.props,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,children:p}=this.flyoutProps();return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,u.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,u.jsx)(m,{children:t=>(0,u.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),n&&(i||o?(0,u.jsx)(c.mh,{zIndex:o?h:void 0,children:(0,u.jsx)(c.xu,{zIndex:t?s.b:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,u.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,size:"xl",positionRelativeToAnchor:!1,children:p})})}):(0,u.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:d,size:"xl",children:p}))]})}}p(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},11200:(e,t,n)=>{n.d(t,{j:()=>l,Z:()=>d});var i=n(174523),o=n(883119),r=n(181307),s=n(946753),a=n(785893);const l=[0,2,3];function d({hasAffiliateProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textWeight:c}){const u=(0,i.ZP)(),p=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let h;t?h=(0,s.nk)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):d||0===d?h=n&&!l.includes(d)?(0,s.nk)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(h=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const m=p&&!t?"Ad  ":"";return(0,a.jsxs)(o.xv,{inline:!0,size:"md",weight:c,children:[m,h]})}},533127:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(176082),o=n(785893);function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,isSVG:s,iconOnly:a}){return(0,o.jsx)(i.ZP,{accessibilityLabel:e,color:r,onClick:t,icon:n,isSVG:s,iconOnly:a})}},773808:(e,t,n)=>{n.d(t,{Z:()=>r});const i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},o=({isPadded:e,isRTL:t})=>e?"16px":t?"0 32px 32px 0":"32px 0 0 32px";function r({isSideBySide:e,isPadded:t,isRTL:n}){return e?{...i,borderRadius:o({isPadded:t,isRTL:n})}:{...i,borderRadius:t?"16px":"32px 32px 0 0"}}},56212:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(857027),o=n(96975),r=n(639387);function s(e){const{images:t={}}=(0,o.Z)((0,r.Z)({pin:e}))||{},n=(0,i.Z)({images:t});return{url:(null==n?void 0:n.url)||"",height:(null==n?void 0:n.height)||1,width:(null==n?void 0:n.width)||1}}},79267:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({children:e})=>(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:e})},711874:(e,t,n)=>{n.d(t,{Z:()=>D,F:()=>k});var i=n(667294),o=n(40142),r=n(877039),s=n(233949),a=n(647560),l=n(32529),d=n(784655),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(0,r.Z)(a.Z);class h extends i.Component{constructor(...e){super(...e),u(this,"handleVisibilityChanged",(e=>{const{pinId:t,isPromoted:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r,videoStartTime:s}=this.props,a=(0,d.i8)(t,r);e&&!a?i({pinId:t,isPromoted:!!n,currentTime:s}):!e&&a&&o({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})})),u(this,"handleVideoTimeChange",(e=>{const{pinId:t,videosAutoplaying:n}=this.props;(0,d.i8)(t,n)&&(this.currentVideoCurrentTime=e.time)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,pauseAutoplay:i,pinId:o,isPromoted:r,setCurrentVideo:s,videosAutoplaying:a}=this.props,l=(0,d.i8)(o,a),c=(0,d.X9)(o,a);this.currentVideoCurrentTime=null!=c?c:this.currentVideoCurrentTime,n!==t&&!n&&l?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){const{pinId:e,isPromoted:t,pauseAutoplay:n}=this.props;n({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){const{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:n,videosAutoplaying:i,...o}=this.props;return(0,c.jsx)(s.KS,{name:"ads_desktop_video_ads",activate:!1,children:({anyEnabled:e})=>(0,c.jsx)(p,{inAdsDesktopVideoExperiment:e,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!e,...o})})}}const m=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:s}=o,a=i?s[n]:r[n];return{appInFocus:e.ui.app.appInFocus,videosAutoplaying:o,videoStartTime:a?a.currentTime:null}}),((e,t)=>({pauseAutoplay:t=>e((0,l.Dm)(t)),setCurrentVideo:t=>e((0,l.jt)(t))})))(h);var g=n(631739),f=n(907669),_=n(551687),y=n(865791),v=n(96975),x=n(639387),b=n(925854),w=n(79267),S=n(211194),I=n(689859),C=n(883119),E=n(852474),T=n(857354),P=n(233088),j=n(181307),R=n(35764);const O=(0,i.lazy)((()=>n.e(87122).then(n.bind(n,674327)))),k=(e,t)=>!!(e.includes("below_15")&&t>=0&&t<=15e3)||(!!(e.includes("15_to_30")&&t>15e3&&t<=3e4)||(!!(e.includes("30_to_45")&&t>3e4&&t<=45e3)||(!!(e.includes("45_to_60")&&t>45e3&&t<=6e4)||!!(e.includes("above_60")&&t>6e4)))),A=({children:e,name:t})=>(0,c.jsx)(C.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),D=({closeupIsFirstPageInHistoryStack:e,imageContainerRef:t,isWideVideo:n,pin:i,shouldPadImage:o,flyoutShareProps:r})=>{const s=(0,x.Z)({pin:i}),{embed:a}=(0,y.Z)(s)||{},{video:l}=(0,b.Z)(s)||{},{hls:d={},hlsv3:u={},mp4:p={}}=l||{},h=d.duration||u.duration||p.duration||null,{group:D}=(0,j.tc)("web_mp4_video_closeup")({dangerouslySkipActivation:!0}),L=!!h&&k(D,h),N=(0,j.tc)("web_mp4_video_closeup"),M=L&&N().anyEnabled,{videos:Z}=i,{video_list:B={}}=Z||{};if(M){const e=(0,E.t)(B);e&&(l.mp4=e)}const F=a&&"gif"===a.type,{image564x:U={}}=(0,T.Ip)((0,v.Z)(s))||{},z=F?a.src:U.url,H=!!i.promoter&&!i.is_downstream_promotion,G=H&&!i.is_eligible_for_web_closeup,{access:V}=i||{},W=!!V&&V.includes("tag"),$=R.Gg-R.d2,q=o?{maxWidth:{maxWidth:$},minWidth:{minWidth:$},height:{},borderRadius:16}:{},Y="undefined"!=typeof window&&0===P.Xb.getItem(g.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),X=(0,c.jsxs)(S.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:o,styleOverrides:q,variant:"default",children:[(0,c.jsx)(C.xu,{width:"100%",ref:t,children:(0,c.jsx)(m,{autoplay:!Y,customThumbnail:z,flyoutShareProps:r,isPromoted:H,loop:G,muted:e,preferMp4:M,pinId:i.id,video:l,variant:"default"})}),W&&(0,c.jsx)(A,{name:"tag-button",children:(0,c.jsx)(_.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(f.Z,{children:(0,c.jsx)(O,{pin:i})})})})})]});return o?(0,c.jsx)(w.Z,{children:X}):X}},998035:(e,t,n)=>{n.d(t,{SR:()=>r,Nc:()=>s,o:()=>a,dZ:()=>l,$l:()=>d,nU:()=>c,Lb:()=>u,bm:()=>p,IS:()=>h,NE:()=>m});var i=n(616240),o=n(784655);function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function s(e){var t,n;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function a(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function c(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const p=({viewer:e,pin:t})=>(0,i.su)(e)&&t.is_quick_promotable_by_pinner;function h(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function m({carouselInfo:e,closePanelWidth:t,isWideVideo:n,isShortImage:i,naturalWidth:o,showCloseupContentRight:r}){return!(n||!r)&&(!!i||!e&&o<t)}},558892:(e,t,n)=>{n.d(t,{YO:()=>s,Nb:()=>a,Of:()=>l,x4:()=>c,ZP:()=>u});var i=n(667294),o=n(583704),r=n(35764);const s=({showPdp:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?r.Uj:r.zT:1,a=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,i.createContext)(l);function c(){const e=(0,i.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},136686:(e,t,n)=>{n.d(t,{zc:()=>i,Bu:()=>o,Mg:()=>r,_z:()=>s,pM:()=>a});const i="story_pin",o="closefakemodal",r="button",s="video",a="image"},35764:(e,t,n)=>{n.d(t,{Gg:()=>i,u6:()=>o,CI:()=>r,Kn:()=>s,Ch:()=>a,Gb:()=>l,Uj:()=>d,zT:()=>c,d2:()=>u,Ie:()=>p,KP:()=>h,JV:()=>m,bx:()=>g,g9:()=>f,CC:()=>_,a7:()=>y,iB:()=>v});const i=508,o=2*i,r=488,s=992,a=672,l=1176,d=.6,c=.84,u=40,p=72,h=740,m=60,g=912,f=32,_=60,y=40,v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},211194:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(773808),o=n(883119),r=n(558892),s=n(585967),a=n(35764),l=n(785893);function d({children:e,isVideo:t=!1,isWideVideo:n,shouldPadImage:d,styleOverrides:c={},variant:u}){var p,h,m;const{showCloseupContentRight:g,showPdp:f,viewportSize:_,paneWidth:{pdp:y,regular:v}}=(0,r.x4)(),x=(0,s.B)(),b="default"===u;if(!(g&&"lg"===_||b||n))return(0,l.jsx)(o.xu,{children:e});const w=f?y:v,S=(0,i.Z)({isSideBySide:g&&!n,isPadded:d,isRTL:x.isRTL}),I=n?a.KP:w,C=n?0:6,E=n?a.KP:496,T=(null===(p=c.height)||void 0===p?void 0:p.height)||"100%",P=(null===(h=c.maxWidth)||void 0===h?void 0:h.maxWidth)||I,j=(null===(m=c.minWidth)||void 0===m?void 0:m.minWidth)||w;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:c.borderRadius||S.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...d&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:b?"flex":void 0,flex:b&&n?"grow":void 0,height:b?T:void 0,justifyContent:b?"center":void 0,marginBottom:b?void 0:6,marginEnd:b?void 0:C,maxWidth:b?P:E,minWidth:b?j:344,rounding:b?void 0:2,children:e})}},595657:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(439887),o=n(584489);function r(e,t){const n=o.Z.instance;let r;if(n){const o=n.getState();if(o.pins&&e){const n=o.pins[e],s=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));n&&(r=t?e[t]:e.PinResource)}else n&&(r=(0,i.Z)(n,s))}}return r}},279224:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},132718:(e,t,n)=>{function i(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}n.d(t,{Z:()=>i})},865791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:o}=t||{};return i?{...e,embed:{type:n,src:i,subtype:o}}:null}))},639387:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},925854:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(279224),o=n(979593);const r=(0,i.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:s,V_HLSV3_MOBILE:a}=i,l=(0,o.V)(s),d=(0,o.V)(a),c=(0,o.V)(r),u=c||l||d;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},857027:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["564x","736x","orig","474x","236x"],o=({images:e={},resolutionPreferences:t=i})=>{for(const n of t)if(e[n]&&e[n].url)return e[n];return null}},857354:(e,t,n)=>{n.d(t,{eR:()=>r,Ip:()=>s,d9:()=>a});var i=n(279224);const o=e=>t=>{const{images:n}=t,i=n[e],{url:o,width:r,height:s}=i||{};return o&&r&&s?{url:o,width:r,height:s}:null},r=(0,i.Z)((e=>{const t=o("236x")(e);return t&&{...e,image236x:t}})),s=(0,i.Z)((e=>{const t=o("564x")(e);return t&&{...e,image564x:t}})),a=(0,i.Z)((e=>{const t=o("736x")(e);return t&&{...e,image736x:t}}))},96975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:o,width:r,height:s}=i;return e&&o&&r&&s?{...e,[t]:{url:o,width:r,height:s}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},860179:(e,t,n)=>{n.d(t,{bI:()=>o,Fk:()=>r,lJ:()=>s,lI:()=>a,qW:()=>l,mS:()=>d,gw:()=>c,Uo:()=>u,j1:()=>p,fS:()=>h,Cq:()=>m,km:()=>g,Dk:()=>f});var i=n(883119);const o=new i.Ry(0),r=new i.Ry(1),s=2,a=new i.Ry(s),l=2,d=new i.Ry(l),c=new i.Ry(3),u=new i.Ry(1),p=new i.Ry(3),h=3,m=4,g=new i.Ry(5),f=new i.Ry(100)},479996:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(40142),o=n(224982),r=n(589444),s=n(560133),a=n(549135),l=n(558892),d=n(883119),c=n(785893);function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:h,isEditMode:m,pinId:g,viewParameter:f,viewType:_,variant:y}){const v=(0,i.useSelector)((({pins:e})=>e[g]),i.shallowEqual),x=e||(0,r.Z)({pin:v}),b=(0,i.useDispatch)();if(!x)return null;const w=(e,t,i)=>{m||void 0===o.Z||(e.preventDefault(),e.stopPropagation(),b((0,o.Z)(String(g),i))),void 0!==p&&p(i),((e,t,n=0,i,o,r,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:p}=o;(0,a.j)(108,{...c,objectId:t,component:d,view:l,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...(0,s.Kl)(e)||{}})}})(v,g,t,i,x,f,_,n,u,m)},{carousel_slots:S=[],index:I}=x,C=void 0!==t?t:I,E="default"===y,T=E?"white":"#555",P=E?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:m?1:0,children:[...Array(S.length).keys()].map((e=>{var t;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(t=S[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>w(t,C,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===C?T:P}},rounding:"circle"})})},g+e)}))})})}},100001:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(595657),r=n(132718),s=n(639387),a=n(831251),l=n(560133),d=n(784655),c=n(549135),u=n(785893);function p({children:e,hovered:t,pin:n,slotIndex:p,trafficSource:h,viewType:m}){const[g,f]=(0,i.useState)(),[_,y]=(0,i.useState)(),{id:v,tracked_link:x,link:b}=n,w=x||b||"",S=()=>{f(!0)},I=(0,r.Z)((0,s.Z)({pin:n})),C=(0,i.useCallback)((()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:(0,o.Z)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:v,...p||{},...(0,l.Kl)(e)||{}})};return(0,a.Z)(i)})(n,w,!1).callGet({showError:!1}).then((e=>{e&&((0,c.j)(12,{clickthrough_type:"rightClick",objectId:v,view:m,viewParameter:I,...p||{},...(0,l.Kl)(n)||{}}),(0,c.j)(8948,{click_type:"clickthrough",closeup_navigation_type:h&&(0,d.sV)(h)?"deeplink":"click",clickthrough_type:"rightClick",view:m,objectId:v,viewParameter:I,...p||{},...(0,l.Kl)(n)||{}}))}))})),E=e=>{var t;g&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(C(),f(!1)),window.removeEventListener(_,E,!1))};return(0,i.useEffect)((()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?y("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?y("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&y("webkitvisibilitychange")}),[]),(0,i.useEffect)((()=>(g&&window&&window.addEventListener(_,E,!1),()=>window.removeEventListener(_,E))),[g,_]),(0,i.useEffect)((()=>(t&&window.addEventListener("contextmenu",S),()=>{window.removeEventListener("contextmenu",S)})),[t]),(0,u.jsx)(i.Fragment,{children:e})}},234070:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(702925),r=n(174523),s=n(883119),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,r.ZP)();return(0,a.jsx)(s.u,{link:(0,a.jsx)(s.rU,{href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,a.jsx)(s.xv,{color:"white",size:"sm",weight:"bold",children:t._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:t._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:c}){const u=(0,r.ZP)(),p=(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(s.JO,{accessibilityLabel:u._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[c]}),o&&(0,a.jsx)(s.xu,{marginStart:2,children:(0,a.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:u._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return(0,a.jsxs)(i.Fragment,{children:[n&&!t&&(0,a.jsx)(d,{children:p}),n&&t&&p,e&&!n&&(0,a.jsx)(s.JO,{accessibilityLabel:u._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[c]})]})}},325946:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(21755),o=n(585967),r=n(785893);function s({activate:e,children:t,isEligible:n,name:s}){return(0,r.jsx)(o.LC,{children:o=>(0,r.jsx)(i.Z,{activate:e,group:o.experiments.v2GetGroup(s)||"",isEligible:n,name:s,children:t})})}},233949:(e,t,n)=>{n.d(t,{KS:()=>i.Z});var i=n(325946)},199702:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(40142),o=n(174523),r=n(883119),s=n(855168),a=n(785893);function l({disableHistory:e,isShopping:t,pinId:n}){const l=(0,o.ZP)(),d=(0,s.k6)(),c=(0,i.useSelector)((({history:e})=>e)).previous.length>0;return(0,a.jsx)(r.hU,{accessibilityLabel:l._("Go back","Accessible icon for close button","Accessible icon for close button"),icon:t?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{c&&!e?d.goBack():d.replace(`/pin/${n}/`)},size:"lg",padding:2})}},840768:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),o=n(377587),r=n(785893);const s={nw:0,ne:90,se:180,sw:270},a={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},l={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d=(e,t,n,i)=>{if("rounded"===i){const[i,o]=a[e];return`translate(${t+i}, ${n+o}), rotate(${s[e]})`}return`translate(${t}, ${n}), rotate(${s[e]})`};function c({corner:e,x:t,y:n,size:i,cornerStyle:o}){return(0,r.jsxs)("g",{transform:d(e,t,n,o),style:{cursor:l[e]},children:[(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:`v2cropperHandle ${e}`}),"rounded"===o?(0,r.jsx)("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,r.jsx)("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:6,className:`v2cropperHandle ${e}`})]})}const u={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function p({edge:e,x:t,y:n,w:i,h:o}){return(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:o,className:`v2cropperHandle ${e}`,style:{cursor:u[e]}})}const h=20;function m({x:e,y:t,w:n,h:o}){const s="rounded";return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(c,{corner:"nw",x:e,y:t,size:h,cornerStyle:s}),(0,r.jsx)(c,{corner:"ne",x:e+n,y:t,size:h,cornerStyle:s}),(0,r.jsx)(c,{corner:"sw",x:e,y:t+o,size:h,cornerStyle:s}),(0,r.jsx)(c,{corner:"se",x:e+n,y:t+o,size:h,cornerStyle:s}),(0,r.jsx)(p,{edge:"n",x:e+h,y:t-10,w:n-40,h:30}),(0,r.jsx)(p,{edge:"e",x:e+n-h,y:t+h,w:30,h:o-40}),(0,r.jsx)(p,{edge:"s",x:e+h,y:t+o-10,w:n-40,h:30}),(0,r.jsx)(p,{edge:"w",x:e-h,y:t+h,w:30,h:o-40})]})}var g=n(883119),f=n(615071),_=n(549135);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=10,x=48;class b extends i.Component{constructor(...e){super(...e),y(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),y(this,"cropResizeDirection",null),y(this,"_cropperOverlay",(0,i.createRef)()),y(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:n,w:i,x:o,y:r}}=this.state;switch(this.cropResizeDirection){case"ne":e<o&&t>r+n?this.cropResizeDirection="sw":e<o?this.cropResizeDirection="nw":t>r+n&&(this.cropResizeDirection="se");break;case"nw":e>o+i&&t>r+n?this.cropResizeDirection="se":e>o+i?this.cropResizeDirection="ne":t>r+n&&(this.cropResizeDirection="sw");break;case"se":e<o&&t<r?this.cropResizeDirection="nw":e<o?this.cropResizeDirection="sw":t<r&&(this.cropResizeDirection="ne");break;case"sw":e>o+i&&t<r?this.cropResizeDirection="ne":e>o+i?this.cropResizeDirection="se":t<r&&(this.cropResizeDirection="nw");break;case"n":t>r+n&&(this.cropResizeDirection="s");break;case"s":t<r&&(this.cropResizeDirection="n");break;case"e":e<o&&(this.cropResizeDirection="w");break;case"w":e>o+i&&(this.cropResizeDirection="e")}})),y(this,"handleClickOutside",(e=>{const{enableClickOutside:t,entrySource:n,imageSize:i,onChange:o,viewParameter:r}=this.props,{cropArea:s}=this.state,a=e.clientX-this._cropperOverlayCoor.x,l=e.clientY-this._cropperOverlayCoor.y;var d,c;t&&(a<s.x||l<s.y||a>s.x+s.w||l>s.y+s.h)&&((0,_.j)(101,{view:72,viewParameter:r,element:11677,commerce_data:JSON.stringify({entrypoint:n})}),o({origCrop:{h:null!==(d=i.h)&&void 0!==d?d:1,w:null!==(c=i.w)&&void 0!==c?c:1,x:0,y:0}}))})),y(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,o=e.target,r=n-this._cropperOverlayCoor.x,s=i-this._cropperOverlayCoor.y,a=o.classList?Array.from(o.classList):o instanceof Element&&(null===(t=o.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];a.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),a.includes("ne")&&(this.cropResizeDirection="ne"),a.includes("nw")&&(this.cropResizeDirection="nw"),a.includes("se")&&(this.cropResizeDirection="se"),a.includes("sw")&&(this.cropResizeDirection="sw"),a.includes("n")&&(this.cropResizeDirection="n"),a.includes("s")&&(this.cropResizeDirection="s"),a.includes("e")&&(this.cropResizeDirection="e"),a.includes("w")&&(this.cropResizeDirection="w")):a.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:r,y:s}):a.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:r,y:s},this.setState({cropArea:{h:0,w:0,x:r,y:s},cropChangeType:"select"}))})),y(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:n,x:i,y:o},cropChangeType:r}=this.state,{imageSize:s}=this.props,{clientX:a,clientY:l}=e,d=a-this._cropperOverlayCoor.x,c=l-this._cropperOverlayCoor.y;if("resize"===r){var u,p;const e=Math.max(Math.min(d,(null!==(u=s.w)&&void 0!==u?u:1)-v),v),r=Math.max(Math.min(c,(null!==(p=s.h)&&void 0!==p?p:1)-v),v);switch(this._checkCropHandleValid(e,r),this.cropResizeDirection){case"ne":{const n=Math.max(t+(o-r),x),s=Math.max(e-i,x);this.setState({cropArea:{h:n,w:s,x:i,y:n<=x?o:r}});break}case"nw":{const s=Math.max(n+(i-e),x),a=Math.max(t+(o-r),x);this.setState({cropArea:{h:a,w:s,x:s===x?i:e,y:a===x?o:r}});break}case"se":{const t=Math.max(r-o,x),n=Math.max(e-i,x);this.setState({cropArea:{h:t,w:n,x:i,y:o}});break}case"sw":{const t=Math.max(r-o,x),s=Math.max(n+(i-e),x);this.setState({cropArea:{h:t,w:s,x:s===x?i:e,y:o}});break}case"n":{const e=Math.max(o-r+t,x);this.setState({cropArea:{h:e,w:n,x:i,y:e===x?o:r}});break}case"s":{const e=Math.max(r-o,x);this.setState({cropArea:{h:e,w:n,x:i,y:o}});break}case"e":{const n=Math.max(e-i,x);this.setState({cropArea:{h:t,w:n,x:i,y:o}});break}case"w":{const r=Math.max(n-e+i,x);this.setState({cropArea:{h:t,w:r,x:r===x?i:e,y:o}});break}}}else if("move"===r){var h,m;const e=d-this.cropChangeStartCoor.x,r=c-this.cropChangeStartCoor.y,a=Math.max(Math.min(i+e,(null!==(h=s.w)&&void 0!==h?h:1)-n-v),v),l=Math.max(Math.min(o+r,(null!==(m=s.h)&&void 0!==m?m:1)-t-v),v);this.cropChangeStartCoor={x:d,y:c},this.setState({cropArea:{h:t,w:n,x:a,y:l}})}else if("select"===r){var g,f;const e=Math.max(Math.min(d,null!==(g=s.w)&&void 0!==g?g:1),0),t=Math.max(Math.min(c,null!==(f=s.h)&&void 0!==f?f:1),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),y(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{disableCrop:e}=this.props,t=document.body,n=this._cropperOverlay.current;if(n&&t){if(n){const e=n.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}e?e&&n.addEventListener("mousedown",this.handleClickOutside):(window.addEventListener("mouseup",this.handleOnMouseUp),t.addEventListener("mousemove",this.handleOnMouseMove),n.addEventListener("mousedown",this.handleOnMouseDown))}}componentWillUnmount(){const{disableCrop:e,entrySource:t}=this.props,n=document.body,i=this._cropperOverlay.current;i&&n&&(e?e&&"shopping"===t&&i.removeEventListener("mousedown",this.handleClickOutside):(window.removeEventListener("mouseup",this.handleOnMouseUp),n.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown)))}handleCrop(){const{entrySource:e,imageSize:t,onChange:n,viewParameter:i}=this.props,{cropChangeType:o,cropArea:r}=this.state;if(0===r.w&&0===r.h){var s,a;this.setState({cropChangeType:null}),n({origCrop:{h:(null!==(s=t.h)&&void 0!==s?s:1)-20,w:(null!==(a=t.w)&&void 0!==a?a:1)-20,x:v,y:v}})}else{var l,d,c,u;this.setState({cropChangeType:null});const s=Math.max(Math.min(r.x,(null!==(l=t.w)&&void 0!==l?l:1)-x-v),v),a=Math.max(Math.min(r.y,(null!==(d=t.h)&&void 0!==d?d:1)-x-v),v);let m,g;if(r.h<x)m=x;else if(a+r.h>(null!==(c=t.h)&&void 0!==c?c:1)-v){var p;m=(null!==(p=t.h)&&void 0!==p?p:1)-a-v}else m=r.h;if(r.w<x)g=x;else if(s+r.w>(null!==(u=t.w)&&void 0!==u?u:1)-v){var h;g=(null!==(h=t.w)&&void 0!==h?h:1)-s-v}else g=r.w;switch(o){case"move":(0,_.j)(7603,{view:72,viewParameter:i,commerce_data:e?JSON.stringify({entrypoint:e}):void 0});break;case"resize":(0,_.j)(7604,{view:72,viewParameter:i,commerce_data:e?JSON.stringify({entrypoint:e}):void 0})}n({origCrop:{h:m,w:g,x:s,y:a}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n,disableCrop:i}=this.props,{cropArea:{h:o,w:s,x:a,y:l},cropChangeType:d}=this.state;return(0,r.jsxs)(g.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:i?"auto":"crosshair"}},children:[(0,r.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:"Mask",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,r.jsx)("rect",{x:a,y:l,width:s,height:o,id:"hole",rx:i?15:0,ry:i?15:0},`${a}${l}`),(0,r.jsx)(f.Z,{in:n&&!d,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,r.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:i?"none":"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:i?"auto":"move"}}),"select"!==d&&!i&&(0,r.jsx)(m,{x:a,y:l,w:s,h:o})]}),e]})}}var w=n(230805);function S({entrySource:e,showAnimation:t,auxData:n,index:o,isStela:s,onClick:a,onHover:l,onUnhover:d,spotlightCenter:c,viewParameter:u,viewType:p}){(0,i.useEffect)((()=>{e?(0,_.j)(120,{view:p,viewParameter:u,element:1221,commerce_data:JSON.stringify({entrypoint:e}),...n}):(0,_.j)(120,{element:1260,...n})}),[]);const h=parseFloat((.1*(o+1)).toFixed(2)),m={animation:t?`spotlightDotPop 0.6s ease-out ${h}s both`:"none"};return(0,r.jsx)(w.Z,{x:c.x,y:c.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),(0,_.j)(101,{element:s?1221:1260,viewParameter:u,...n}),a(o)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),l(o)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),d()},style:m})}var I=n(268362);const C=({entrySource:e,showAnimation:t,pinId:n,imageSignature:i,imageSize:o,currentSpotlightIdx:s,spotlightAreas:a,handleSpotlightClick:l,handleSpotlightHover:d,handleSpotlightUnhover:c,viewParameter:u,viewType:p})=>a.map(((a,h)=>{if(h===s)return null;const m=(0,I.Z)({cropArea:a,scaledWidth:o.w,scaledHeight:o.h}),g={x:m.x+m.w/2,y:m.y+m.h/2},f={commerce_data:JSON.stringify({entrypoint:e}),pin_id:n,image_signature:i,visual_objects:JSON.stringify([{x:a.x,y:a.y,w:a.w,h:a.h}])},_=`${g.x}${g.y}`;return(0,r.jsx)(S,{entrySource:e,showAnimation:t,auxData:f,index:h,isStela:!!a.is_stela,onClick:l,onHover:d,onUnhover:c,spotlightCenter:g,viewParameter:u,viewType:p},_)}));var E=n(74690);function T({cropSource:e,disableCrop:t,entrySource:n,imageSize:s,imageSignature:a,initialCropArea:l,pin:d,onChange:c,showAnimation:u,searchQuery:p,spotlightAreas:h=[],trafficSource:m,viewParameter:f,viewType:_}){const[y,v]=(0,i.useState)(!1),[x,w]=(0,i.useState)({w:0,h:0,x:0,y:0}),[S,T]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=h.findIndex((e=>(0,o.Z)(l,(0,I.Z)({cropArea:e,scaledWidth:s.w,scaledHeight:s.h}),4)));T(e)}),[s,l,h]);const P=e=>{const t=h[e],i=(0,I.Z)({cropArea:t,scaledWidth:s.w,scaledHeight:s.h});c({origCrop:i,cropSource:t.is_stela?4:1,entrySource:n,trafficSource:m})},j=h&&!!h.length,{is_eligible_for_related_products:R}=d||{},O=R||"shopping"===n;return(0,r.jsx)(i.Fragment,{children:O?(0,r.jsx)(g.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j?{pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},left:!0,position:"absolute",right:!0,top:!0,children:j&&(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(E.default,{alwaysShow:!0,cropSource:e,currentSpotlightIdx:S,height:s.h,pin:d,searchQuery:p,trafficSource:m,width:s.w,handleStelaClick:P,enablePointerEvents:!0})})}):(0,r.jsx)(b,{enableClickOutside:!y,entrySource:n,imageSize:s,initialCropArea:l,onChange:({origCrop:e})=>{c({origCrop:e,cropSource:6,entrySource:n,trafficSource:m})},previewCropArea:x,showPreviewArea:!1,disableCrop:t,viewParameter:f,children:j&&(0,r.jsx)(C,{entrySource:n,showAnimation:u,pinId:d.id,handleSpotlightHover:e=>{e!==S&&(v(!0),w((0,I.Z)({cropArea:h[e],scaledWidth:s.w,scaledHeight:s.h})))},handleSpotlightUnhover:()=>{v(!1)},imageSignature:a,imageSize:s,currentSpotlightIdx:S,spotlightAreas:h,handleSpotlightClick:P,viewParameter:f,viewType:_})},JSON.stringify(l))})}},498205:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(733785),o=n(268362);const r=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:r})=>{let s;if(e)s={...e};else{const{visual_objects:e}=t,{width:a,height:l}=(0,i.Z)({pin:t,imageSignature:r});if(n)s={x:0,y:0,w:a,h:l};else if(e&&e.length){const{x:t,y:n,w:i,h:r}=e[0];s=(0,o.Z)({cropArea:{x:t,y:n,w:i,h:r},scaledWidth:a,scaledHeight:l})}else{const[e,t]=[a/6,l/6],[n,i]=[a-2*e,l-2*t];s={x:e,y:t,w:n,h:i}}}return{x:Math.floor(s.x),y:Math.floor(s.y),w:Math.floor(s.w),h:Math.floor(s.h)}}},733785:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(857027),o=n(56212),r=n(657121);function s(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}const a=({pin:e,maxWidth:t,imageSignature:n})=>{var a,l;const{image_signature:d}=e;if(!n||""===n||d===n){const{width:n,height:i,url:r}=(0,o.Z)(e);return{...s(n,i,t),url:r}}const c=(0,r.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==c||null===(a=c.variant_set)||void 0===a||null===(l=a.variants)||void 0===l?void 0:l.flatMap((e=>e.additional_images||[])))||[],...(null==c?void 0:c.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>n===e))||{},{height:h=1,width:m=1,url:g=""}=(0,i.Z)({images:p||{}})||{};return{...s(m,h,t),url:g}}},45815:(e,t,n)=>{n.d(t,{J:()=>i,o:()=>o});const i="numSearchCloseups",o=20},527082:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:r,user:s}){const a=[o,n,e,s,r,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function o({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:o=null,rs:r="direct_navigation",scope:s="pins",selectedPinImgSig:a=null,sourceId:l=null,user:d}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:a?"personalize":null,customized_rerank_type:a?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:o,query_pin_sigs:a,redux_normalize_feed:!0,rs:r,scope:s,source_id:l,user:d}}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:r,query:s,rs:a,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:s,rs:a,scope:l,selectedPinImgSig:r,bubbleId:d,user:c})}}n.d(t,{Tb:()=>i,dM:()=>o,Ht:()=>r})},317461:(e,t,n)=>{n.d(t,{GY:()=>a,PY:()=>l,r$:()=>d,LM:()=>c});var i=n(730762),o=n(281996),r=n(549135);const s=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function a({query:e,scope:t}){return`${e}-${t}`}function l({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map((e=>null!=e?e:"")).join("-")}function d({query:e,rs:t,scope:n}){const s=i.Z.getInstance().getPreviousViewFromContext();if(!(!s.view_type&&!s.view_parameter)){const{view_type:i,view_parameter:a}=s;(0,r.j)((0,o.wF)(n),{view:i,viewParameter:a,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,r.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,r.j)(101,{component:0,element:10349,view:142})}const c=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&s.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},544260:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(551687),r=n(312827),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>null;class d extends i.Component{constructor(...e){super(...e),a(this,"view",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)})),a(this,"complete",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)})),a(this,"dismiss",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)}))}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return(0,s.jsx)(o.Z,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:Object.freeze({})}):e})}return(0,s.jsx)(l,{})}}const c=(0,i.forwardRef)(((e,t)=>{const n=(0,r.Z)(e.placementId);return(0,s.jsx)(d,{...e,experienceClient:n,ref:t})}))},390764:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(544260),r=n(514319),s=n(883119),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return(0,a.jsx)(s.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(s.xv,{color:"darkGray",weight:"bold",children:t})}),(0,a.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,a.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(s.zd,{rounding:2,height:60,children:(0,a.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{paused:!1}),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:c,fontSize:u,idealDirection:p,useMasonryFlyout:h,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:_,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:x,textAlign:b,textOverflow:w,textOverrideFn:S,textWeight:I,customizedComplete:C,pulsarZIndex:E}=this.props,T=t||(({children:e})=>h?(0,a.jsx)(s.mh,{children:e}):e),P="blue";return(0,a.jsx)(o.Z,{experienceIds:n,placementId:_,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(v&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),o.disappearTime)),(0,a.jsxs)(i.Fragment,{children:[o.has_pulsar&&(0,a.jsx)(r.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:E&&E.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?(0,a.jsx)(d,{anchor:e,dismiss:n,idealDirection:p||"down",text:o.text,thumbnails:o.thumbnail_urls}):(0,a.jsx)(T,{children:(0,a.jsx)(s.J2,{anchor:e,color:P,idealDirection:p||"down",onDismiss:m?()=>{}:n,positionRelativeToAnchor:!h&&y,shouldFocus:!1,showCaret:x,size:c,children:(0,a.jsxs)(s.xu,{column:12,padding:3,children:[(0,a.jsx)(s.xv,{align:"right"===b?"end":b,color:"white",overflow:w,size:u,weight:I||"bold",children:this.getText(o,l,S)}),o.sub_text&&(0,a.jsx)(s.xu,{paddingY:2,children:(0,a.jsx)(s.xv,{color:"white",size:u,children:o.sub_text})}),o.complete_button_cta_url&&(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{align:"right"===b?"end":b,color:"white",size:u,children:(0,a.jsx)(s.rU,{href:o.complete_button_cta_url,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:o.complete_button_text})})}),!o.complete_button_cta_url&&(o.dismiss_button_text||o.complete_button_text)&&(0,a.jsxs)(s.xu,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&(0,a.jsx)(s.xu,{marginEnd:1,column:6,children:(0,a.jsx)(s.zx,{fullWidth:!0,color:P,onClick:()=>{f&&f(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&(0,a.jsx)(s.xu,{column:o.dismiss_button_text?6:12,children:C?(0,a.jsx)(s.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,a.jsx)(s.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(s.xv,{color:"blue",weight:"bold",children:o.complete_button_text})})}):(0,a.jsx)(s.zx,{fullWidth:!0,color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),g&&g()}})})]})]})})}))]})):(t(),null))})}}c(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},282152:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(737614);function o(){const e=i.Z.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},529110:(e,t,n)=>{n.d(t,{Js:()=>a,w9:()=>d,bh:()=>c,ax:()=>p,Hx:()=>h,P0:()=>m,j:()=>g});var i=n(41743),o=n(395047),r=n(535258),s=n(227340);const a=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=2;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return(e=>"ja"===e?23:19)(t)*n}return 0},d=e=>(0,s.eK)(e),c=(e,t=!1)=>e&&e.length>0&&!t,u=(e,t,n,i)=>{let r=0;const{description:s,vaseAnnotations:a}=d(e),l={seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2};if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!c(t)&&t&&t.length>0;return!1})(0,a,e)&&(r+=l.seeMoreButtonHeight,r+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(r+=l.productSiteTitle,r+=l.productSiteTitleTopMargin),c(a,i)&&(r+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=(0,o.Z)(e);const n=35,i=2;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(s);r+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(r+=28),r},p=(e,t,n,i=!1,o,r)=>{const a=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=(0,s.fs)(e);return l(n,t)+10})(e,t):0,d=i?0:u(e,0,0,o);return a||d?d+a+10:0},h=(e,t="orig")=>(0,i.Z)(e.images,t);function m(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map((t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)}));t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const s=h(e,"orig");if(s){var a,l;const e=Math.floor((null!==(a=s.height)&&void 0!==a?a:1)*r.xf/(null!==(l=s.width)&&void 0!==l?l:1));i=e>o?o:e}return i}},233495:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702925),o=n(641483);const r={scope:"profile email",client_id:i.Z.settings.GPLUS_CLIENT_ID,app_package_name:i.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},s=e=>((0,o.ZP)("unauth_web.gapi_auth2_load.success"),e()),a=e=>{(0,o.ZP)(`unauth_web.init_google.sdk.${e}`)},l=(e=r)=>new Promise(((t,n)=>{a("start"),window.gapi.auth2?(a("exists"),window.gapi.auth2.init(e).then((()=>s(t)))):(a("load"),window.gapi.load("auth2",{callback:()=>{a("load_success"),window.gapi.auth2.init(e).then((()=>s(t)))},onerror:()=>{a("load_error"),n()},timeout:15e3,ontimeout:()=>{a("load_timeout"),n()}}))}))},419015:(e,t,n)=>{n.d(t,{lt:()=>i,Bx:()=>o,oM:()=>r,N4:()=>s,is:()=>a});const i=e=>e._("You're almost there! Log in to access all of Pinterest","loginModal.limitedLogin.subheader","Subheader text on personalized login modal/flyout to remind users to log in"),o=e=>e._("Log in to save this Pin","limitedLogin.modalHeader.repin","Title on mobile web limited login modal to prompt users to login after they clicked save button."),r=e=>e._("Log in to edit this Pin","limitedLogin.modalHeader.editPin","Title on mobile web limited login modal to prompt users to login after they clicked edit button."),s=({i18n:e,toFollow:t})=>t?e._("Log in to follow","limitedLogin.modalHeader.follow","Title on mobile web limited login modal to prompt users to login to follow a user or board."):e._("Log in to unfollow","limitedLogin.modalHeader.unfollow","Title on mobile web limited login modal to prompt users to login to unfollow a user or board."),a=e=>e._("Log in to create a Pin or board","limitedLogin.modalHeader.create","Title on mobile web limited login modal to prompt users to login to create a Pin or board.")},998864:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(419015),r=n(848101);const s=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n,limitedLoginModalSubheader:s}=(0,r.B$)(),{shouldStopEventPropagation:a}=e,l="AUTH"===n.type,d=(0,i.ZP)();return l?e=>e:(e,n)=>e=>{let i=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?i=e:e.event&&(i=e.event)),a&&i&&i.stopPropagation&&i.stopPropagation(),t&&t.setVisible(!0),s&&(n?s.setText(n):s.setText((0,o.lt)(d)))}}},269307:(e,t,n)=>{n.d(t,{ZP:()=>d,Yh:()=>c,tY:()=>u});var i=n(40142),o=n(535718),r=n(34411),s=n(153155);const a=0,l=1;function d(e){var t;const n=(0,r.Z)(),i=n.isAuth&&n.id===e,s=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||i});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=s.data)||void 0===t||!t.has_quicksave_board)}}function c(e){var t;const n=(0,i.useDispatch)(),a=(0,r.Z)(),l=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,d=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id},dangerouslyDisableFetch:!l||!e});return a.isAuth&&void 0===a.save_behavior&&d&&null!==(t=d.data)&&void 0!==t&&t.id&&n((0,s.W)(d.data.save_behavior)),{showEnabledSaveBehavior:l}}function u(e){const t=(0,r.Z)();let n;return e&&(t.save_behavior===a?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},383722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(535718),o=n(855168);function r(){const{username:e}=(0,o.UO)();return(0,i.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},648381:(e,t,n)=>{n.d(t,{k:()=>r,s:()=>s});var i=n(667294);const o=(0,i.createContext)(Object.freeze({})),r=o.Provider;function s(){return(0,i.useContext)(o)}},816670:(e,t,n)=>{n.d(t,{cg:()=>i,c7:()=>o,Ac:()=>r});const i=-1,o=5,r=6},963232:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(577302),o=n(129826);function r({action:e,board:t,viewer:n}){var r;return(0,i.Z)(n,t)||(0,o.Z)({board:t,viewer:n})&&!(null===(r=t.collaborator_permissions)||void 0===r||!r.includes(e))}},129826:(e,t,n)=>{function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,{Z:()=>i})},686723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(667294),o=n(294386),r=n(845555),s=n(504534),a=n(881220),l=n(174523),d=n(475446),c=n(659048),u=n(883119),p=n(785893);function h({iconColor:e,iconSize:t,backgroundColor:n,marginEnd:h,isCloseupActionBar:m,sharedObject:g}){const f=(0,l.ZP)(),_=(0,d.F9)(),[y,v]=(0,i.useState)(""),[x,b]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),I=f._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),C=e=>{m?navigator.clipboard.writeText(e).then((()=>{var e;e=f._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),_.showToast((({onHide:t})=>(0,p.jsx)(u.xu,{top:!0,children:(0,p.jsx)(a.Z,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{S(!0),setTimeout((()=>{S(!1)}),3e3)}))},E=async()=>{if(y)return void C(y);b(!0);const e={invite_category:3,invite_channel:12,object_type:g.type,object_id:g.id,name:g.name,description:g.description||"",path:g.url,picture:g.imageUrl};c.Z.createShareInviteData(e).then((t=>{const{invite_url:n}=t;b(!1),n&&(v(n),c.Z.logShareInvite(e,t),C(n))}))};return(0,p.jsxs)(s.Z,{iconSize:t,marginEnd:h||!1,children:[(0,p.jsx)(u.xu,{alignItems:m?"center":"stretch",display:m?"flex":"block",width:m?"100%":"auto",children:(0,p.jsx)(u.iP,{disabled:x,onTap:()=>{E()},children:(0,p.jsx)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,p.jsx)(o.Z,{backgroundColor:n,iconColor:e,size:t})})})}),!m&&(0,p.jsx)(r.Z,{text:w?I:f._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},134507:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);const r=e=>{const{size:t,name:n,textLayout:r}=e,s=`calc(${Math.sin((a=45,a*(Math.PI/180)))} * (${t}) / 2)`;var a;const l=(0,o.jsx)(i.qE,{name:n?[...n][0].toUpperCase():""});switch(r){case"bottomLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:s,paddingRight:s}},children:l});case"topLeft":return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:s,paddingRight:s}},children:l});default:return(0,o.jsx)(i.xu,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:l})}};function s(e){const{collaborators:t,outline:n=!1,size:s="fit"}=e,{colorGray0:a,colorGray100:l}=(0,i.tv)(),d="fit"===s?"100%":32,c="fit"===s?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,d).map(((e,n)=>[e,t[n]]));return(0,o.jsxs)(i.xu,{color:"white",overflow:"hidden",rounding:"circle",width:d,height:c,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:`0 0 0 2px ${a}`}:{},willChange:"transform"}},children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map((([e,t={name:"",src:void 0}],n)=>{const{width:s,height:a,top:d,left:c,textLayout:u}=e,{name:p,src:h}=t;return(0,o.jsxs)(i.xu,{position:"absolute",width:s,height:a,dangerouslySetInlineStyle:{__style:{top:d,left:c}},children:[null!=h?(0,o.jsx)(i.Ee,{alt:p,color:l,src:h,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,o.jsx)(r,{name:p,textLayout:u,size:a}),(0,o.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)}))]})}},373600:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),s=n(549135),a=n(883119),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onUndoHide:d,isGroupChat:c}=e,u=async()=>{const t=o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n});await t.callDelete(),d(),(()=>{const{component:t,element:n}=e;(0,s.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(a.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(a.xv,{inline:!0,color:"gray",children:c?t._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):t._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,l.jsx)(a.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(a.zx,{onClick:({event:e})=>{e.stopPropagation(),u()},text:t._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(731164),o=n(311866),r=n(174523),s=n(883119),a=n(549135),l=n(785893);function d(e){const t=(0,r.ZP)(),{identifier:n,onHide:d}=e,c=()=>{o.ZP.create("ShareSuggestionsHideResource",{user_identifier:n}).callCreate().then((()=>{d(),(()=>{const{component:t,element:n}=e;(0,a.j)(101,{component:t,element:n}),i.Z.increment("web_contacts.suggestions.hide",1,{surface:t})})()}))};return(0,l.jsx)(s.hU,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),c()},accessibilityLabel:t._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),s=n||"#EFEFEF";return(0,i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{id:"Oval",fill:s,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),s=n||"#EFEFEF";return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:(0,i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:s,cx:"18",cy:"18",r:"18"}),(0,i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:(0,i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},237574:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},415339:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Se});var i=n(667294),o=n(151101),r=n(134507),s=n(34411),a=n(237574),l=n(174523),d=n(883119),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{textValue:this.props.initialTextValue||""}),u(this,"handleSendMessage",(()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)})),u(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},s="conversation_share_suggestion"===i.type,a=s?(i.users||[]).filter((e=>e.id!==n)):[];return(0,c.jsxs)(d.xu,{paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,c.jsx)(d.xu,{height:48,paddingX:1,width:56,children:s?(0,c.jsx)(r.Z,{collaborators:a.map((e=>({name:e.full_name||e.first_name,src:e.image_large_url})))}):(0,c.jsx)(o.Z,{name:i.full_name||i.email||" ",src:i.image_large_url})}),(0,c.jsxs)(d.xu,{flex:"grow",marginStart:1,children:[(0,c.jsx)(d.xv,{weight:"bold",children:s?a.map((e=>e.first_name||e.full_name)).join(", "):i.full_name||i.email}),(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:s||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,c.jsx)(d.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function h(e){const t=(0,l.ZP)(),n=(0,s.Z)();return(0,c.jsx)(p,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var m=n(760620);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),g(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),g(this,"handleSendEmail",((e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}})),g(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),g(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return(0,c.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,c.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,c.jsx)(d.xu,{flex:"grow",children:(0,c.jsx)(d.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?(0,c.jsx)(d.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,c.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,c.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,c.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,c.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,m.Z)(this.state.emailValue)})})]})]})}}function _(e){const t=(0,l.ZP)();return(0,c.jsx)(f,{...e,i18n:t})}var y=n(40142),v=n(946753);function x({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=(0,l.ZP)(),s=t?r._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):r._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),a=i?(0,v.nk)(r._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):(0,v.nk)(r._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return(0,c.jsx)(d.xu,{marginBottom:4,children:(0,c.jsx)(d.iP,{onTap:()=>{t&&n()},children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:(0,c.jsx)(o.Z,{name:e})}),(0,c.jsxs)(d.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,c.jsx)(d.xv,{weight:"bold",size:"lg",children:a}),(0,c.jsx)(d.xv,{size:"sm",color:"gray",children:s})]})]})})})}var b=n(94236),w=n(373600),S=n(617629),I=n(549156);function C(e){const t=(0,l.ZP)(),{shouldShowViewChat:n,isSent:i,onClickSend:o,onViewConversation:r}=e;return(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,c.jsx)(d.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,c.jsx)(d.xu,{marginStart:1,children:(0,c.jsx)(d.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,c.jsx)(I.Z,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,c.jsx)(d.zx,{color:i?"gray":"red",disabled:i,onClick:o,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var E=n(549135);function T(e){var t,n,a;const{item:l,textFieldValue:u,onSendMessage:p,onShowSendDraft:h,onViewConversation:m,sentHistory:g}=e,[f,_]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[x,I]=(0,i.useState)(!1),T=l.id||"string"==typeof l.email&&l.email||"",P=T in g,j=""!==u,R=null!==(t=g[T])&&void 0!==t?t:"",O=(0,s.Z)().id||"",k="conversation_share_suggestion"===l.type,A=k?(l.users||[]).filter((e=>e.id!==O)):[],D=l.debug_reason&&l.debug_reason.readable_reason;let L="";"string"!=typeof l.full_name||l.full_name.match(/^\s*$/)?"string"!=typeof l.email||l.email.match(/^\s*$/)||(L=l.email):L=l.full_name;return f?(0,c.jsx)(d.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,c.jsx)(w.Z,{identifier:null!==(n=l.id)&&void 0!==n?n:l.email,onUndoHide:()=>_(!1),component:13029,element:11918,isGroupChat:A.length>1})}):(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,c.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(l)},children:(0,c.jsx)(d.Zb,{onMouseEnter:()=>{v(!(j||x&&P))},onMouseLeave:()=>v(!1),children:(0,c.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(d.xu,{height:48,width:48,children:k?(0,c.jsx)(r.Z,{collaborators:A.map((e=>({name:e.full_name||e.first_name,src:e.image_medium_url})))}):(0,c.jsx)(o.Z,{accessibilityLabel:"",name:L,src:l.image_medium_url})}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,c.jsx)(d.xu,{marginBottom:1,children:(0,c.jsx)(d.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:k?A.map((e=>e.first_name||e.full_name)).join(", "):L})}),j&&D?(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:D}):"string"==typeof l.username&&(0,c.jsx)(d.xv,{color:"gray",size:"sm",children:l.username})]}),(0,c.jsxs)(d.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[y&&(0,c.jsx)(d.xu,{display:"flex",marginEnd:2,children:(0,c.jsx)(S.Z,{identifier:null!==(a=l.id)&&void 0!==a?a:l.email,onHide:()=>_(!0),component:13029,element:11917})}),(0,c.jsx)(C,{shouldShowViewChat:P,isSent:x,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=u?1044:1039;(0,E.j)(101,{component:13029,element:i,entered_query:u,result_index:n+1,rs:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})})(),I(!0),p(l),v(!1)},onViewConversation:()=>m(R)})]})]})]})})}),(0,c.jsx)(b.Z.Consumer,{children:e=>{var t;return e?(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,c.jsx)(d.X6,{color:"blue",size:"sm",children:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var P=n(535718),j=n(192830);function R(e){const t=(0,l.ZP)(),{onChange:n,onSendMessage:o,onShowSendDraft:r,onShowImportContacts:s,sentHistory:a,value:u,paddingX:p}=e,{isLoaded:h}=(0,P.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{isLoaded:g}=(0,P.Z)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:u||"default"},noCache:!0}),f=(0,y.useSelector)((e=>e.social.shareSuggestions[u]||[]));(0,i.useEffect)((()=>{if(!u&&h){const e=f.length>0?7511:7512;(0,E.j)(e,{component:56,view:70,viewParameter:256})}}),[h]);const{dropdownOpen:_,conversationOpen:v}=(0,j.Z5)(),b=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),v(t),_()},w=f.map(((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:o,onShowSendDraft:r,onViewConversation:b,sentHistory:a,textFieldValue:u};return(0,c.jsx)(T,{...i},n)})),S=0===f.length&&(""===u&&!h||""!==u&&!g);return(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{display:"flex",paddingX:p,position:"relative",children:(0,c.jsx)(d.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,c.jsx)(d.Um,{accessibilityLabel:t._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:n,placeholder:t._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),(0,c.jsx)(d.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new d.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,c.jsxs)(d.xu,{paddingX:p,children:[(0,c.jsx)(d.xu,{paddingY:S?2:0,children:(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:S})}),(0,c.jsxs)(d.xu,{children:[w,u&&(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.Zb,{children:(0,c.jsx)(x,{email:u,isValid:(0,m.Z)(u),onClick:()=>r({email:u,full_name:u}),showSendEmailText:!1})}),!S&&(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsx)(d.Zb,{children:(0,c.jsx)(d.iP,{onTap:s,children:(0,c.jsxs)(d.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,c.jsx)(d.xu,{paddingX:3,children:(0,c.jsx)(d.xv,{weight:"bold",children:t._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var O=n(296882),k=n(686723),A=n(252688),D=n(230457),L=n(674245);function N({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const o=t||(i?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,c.jsx)("circle",{fill:r,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,c.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:o,children:[(0,c.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,c.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,c.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,c.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,c.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,c.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var M=n(845555),Z=n(504534);function B({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:o}){const r=(0,l.ZP)(),u=(0,s.Z)();return t&&[a.d.BOARD,a.d.PINNER,a.d.USER].includes(e.type)&&u.isAuth&&(e.id===u.id||u.isEmployee)?(0,c.jsxs)(Z.Z,{iconSize:i,marginEnd:!0,children:[(0,c.jsx)(d.iP,{fullWidth:!1,onTap:t,children:(0,c.jsx)(N,{backgroundColor:o,iconColor:n,size:i})}),(0,c.jsx)(M.Z,{text:r._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var F=n(447186),U=n(855168),z=n(659048);const H="#EFEFEF",G="#333333";function V({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?H:"#1877f2";return(0,c.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[(0,c.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function W({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?H:"#0DC2FF";return(0,c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function $({size:e=48,grayscale:t=!1}){const n=t?G:"#FFFFFF",i=t?H:"#25d366";return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:(0,c.jsxs)("g",{id:"surface1",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function q({size:e=48,grayscale:t=!1}){const n=t?G:"#fff",i=t?H:"#00b900";return(0,c.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,c.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function Y({size:e=48,grayscale:t=!1}){const n=t?G:"#fff";return(0,c.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,children:[(0,c.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var X=n(181307),K=n(475446),J=n(382745);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=48,te="#111111",ne="#EFEFEF",ie={backgroundColor:"#ffffff",border:"none",padding:0},oe=new Set(["JP","TW","TH"]),re=new Set(["US","UK","CA","AU","DE"]),se=e=>{(0,L.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),D.Z)};class ae extends i.Component{constructor(...e){super(...e),Q(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Q(this,"mounted",!1),Q(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(z.Z.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))})),Q(this,"selectText",(e=>{e.target.select()}))}componentDidMount(){this.mounted=!0,this.getWhatsAppURL()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===a.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case a.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case a.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case a.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);z.Z.createShareInviteData(e).then((e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,O.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!F.Z.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),(0,E.j)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){se((()=>{z.Z.shareFacebookInvite(this.getShareOptions(5))}))}openFbMessengerDialog(){se((()=>{z.Z.shareFbMessengerInvite(this.getShareOptions(6))}))}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(z.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){z.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){z.Z.shareLineInvite(this.getShareOptions(8))}openRedditDialog(){z.Z.shareRedditInvite(this.getShareOptions(29))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n,showRedditPinShare:o,activateWebRedditPinShareExp:r,showRedditBoardShare:s,activateWebRedditBoardShareExp:a,i18n:l}=this.props;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"around",children:[n&&(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:ie,children:(0,c.jsx)(q,{size:48})}),(0,c.jsx)(M.Z,{text:l._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ie,tabIndex:"-1",children:(0,c.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,c.jsx)($,{size:ee})})}),(0,c.jsx)(M.Z,{text:l._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ie,children:(0,c.jsx)(V,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!n,children:[(0,c.jsx)("button",{"aria-label":l._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ie,"data-test-id":"twitter-share-icon",children:(0,c.jsx)(W,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&(0,c.jsx)(Z.Z,{iconSize:ee,marginEnd:!1,children:this.renderEmail()})]}),(0,c.jsxs)(d.xu,{display:"flex",paddingY:4,children:[(o&&r().anyEnabled||s&&a().anyEnabled)&&(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)("button",{"aria-label":l._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:()=>this.handleSocialShareClick("reddit"),style:ie,children:(0,c.jsx)(Y,{size:ee})}),(0,c.jsx)(M.Z,{text:l._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,c.jsx)(B,{backgroundColor:ne,iconColor:te,iconSize:ee,onCreatePincodeClick:t,sharedObject:e}),(0,c.jsx)(k.default,{sharedObject:e,backgroundColor:ne,iconColor:te,iconSize:ee,marginEnd:n,isCloseupActionBar:!1},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return(0,c.jsxs)(Z.Z,{iconSize:ee,marginEnd:!0,children:[(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:ie,children:(0,c.jsx)(A.Z,{backgroundColor:ne,iconColor:te,size:ee})})}),(0,c.jsx)(M.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return(0,c.jsxs)(d.xu,{paddingX:t,children:[(0,c.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,c.jsx)(d.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),(0,c.jsx)(d.xu,{paddingX:2,children:this.renderShareOptions()})]})}}function le(e){const t=(0,l.ZP)(),n=(0,s.Z)(),i=(0,U.TH)(),o=n.isAuth&&oe.has(n.country),r=n.isAuth&&re.has(n.country),a=r&&(0,J.uM)(i),d=(0,X.tc)("web_auth_pin_reddit_share"),u=r&&(0,J.am)(i),p=(0,X.tc)("web_auth_board_reddit_share");return(0,c.jsx)(ae,{...e,toastManagerContext:(0,K.F9)(),viewer:(0,s.Z)(),showLineShare:o,i18n:t,showRedditPinShare:a,showRedditBoardShare:u,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:p})}var de=n(731164),ce=n(311866),ue=n(881220);function pe(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var he=n(818270);const me=(e,t)=>{const n={};return e.forEach((e=>{n[e]=t})),n};function ge(e){const t=(0,l.ZP)(),[n,o]=(0,i.useState)(!1),[r,u]=(0,i.useState)(null),[p,m]=(0,i.useState)({}),[g,f]=(0,i.useState)(""),[y]=(0,i.useState)(((e,t)=>"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType,t)),{showOneToast:v}=(0,K.F9)(),{surface:x}=(0,he.$)(),b=(0,s.Z)(),{conversationCreate:w}=(0,j.Z5)(),S=(0,j.NG)(),I=(t,n)=>{o(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,o=i.id;de.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),(0,E.j)(180,{element:276,objectId:o,conversation_id:t,pin_id:n})})(t,n)},C=e=>{de.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&v((({onHide:e})=>(0,c.jsx)(ue.Z,{variant:"error",duration:5e3,onHide:e,text:t})))},T=async(t,n,i)=>{const{sharedObject:o,sendType:r}=e,s=o.id,a={emails:n,user_ids:t,text:i,source:pe(x)};a[r]=s;const l=ce.ZP.create("ConversationsResource",a);try{const e=await l.callCreate(),i=e&&e.resource_response.data;w(i),I(i.id,"pin"===r?s:null),t.length>0?m({...p,...me(t,i.id)}):m({...p,...me(n,i.id)})}catch(d){C(d)}},P=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sharedObject:o,sendType:r}=e;let s;switch(r){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const a=s?S(t,{text:n,[s]:o.id,source:pe(x)},void 0,b):void 0;a&&a.then((()=>{I(t,"pin"===r?o.id:null),m({...p,[t]:t})})).catch((e=>{C(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?T([],[t.email],n):T([t.id],[],n),(0,E.j)(101,{component:56,element:276})},O=(t,n)=>{e.sendType!==a.d.SEARCH||n?P(t,n):ce.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const n=e.message;P(t,n)}))},k=()=>{o(!1),u(null)},{onCreatePincodeClick:A,onShowImport:D,sendType:L,sharedObject:N,isFlyout:M,onHide:Z,onExternalSend:B}=e,F="email"===r?(0,c.jsx)(_,{initialTextValue:y,isFlyout:M,objectId:N.id,objectType:L,onCancelDraft:k,onHide:Z,onSendMessage:O}):(0,c.jsx)(h,{initialTextValue:y,isFlyout:M,objectId:N.id,objectType:L,onCancelDraft:k,onHide:Z,onSendMessage:O,recipient:"object"==typeof r?r:void 0});return n?F:(0,c.jsxs)(d.xu,{color:"white",children:[(0,c.jsx)(le,{onCreatePincodeClick:A,onEmailIconClick:()=>{o(!0),u("email")},onExternalSend:B,onHide:Z,paddingX:4,sharedObject:N}),(0,c.jsx)(d.xu,{children:(0,c.jsx)(R,{isFlyout:M,onChange:({value:e})=>{f(e),(0,E.j)(4113,{component:13029,element:1043})},onHide:Z,onSendMessage:O,onShowImportContacts:D,onShowSendDraft:e=>{o(!0),u(e),f("")},paddingX:4,sentHistory:p,value:g})})]})}var fe=n(294184),_e=n.n(fe),ye=n(525974);const ve=["facebook","google"];function xe(e,t){return"facebook"===e?t._("Facebook"):"twitter"===e?t._("Twitter"):"google"===e?t._("Google"):t._("Other")}function be(e){const t=(0,l.ZP)(),n=_e()("sendShare",e.network),i=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return(0,c.jsx)("a",{onClick:e.onClick,role:"button",children:(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("em",{className:"icon"}),(0,c.jsxs)("div",{className:"networkInfo",children:[(0,c.jsx)("h4",{className:"title",children:xe(e.network,t)}),i?(0,c.jsx)("div",{className:"subtitle",children:i}):null]})]})})}function we({onBack:e}){const t=(0,l.ZP)(),n=(0,s.Z)(),i=n.isAuth?n.email:null,o=ve.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected));return(0,c.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[(0,c.jsxs)("div",{className:"header",children:[(0,c.jsx)("div",{className:"backNav",children:(0,c.jsxs)("a",{onClick:e,role:"button",children:[(0,c.jsx)("span",{className:"icon"}),(0,c.jsx)("span",{className:"label",children:t._("Back")})]})}),(0,c.jsx)("div",{className:"prompt",children:t._("Upload contacts from...")})]}),(0,c.jsx)("ul",{className:"socialConnectOptions",children:o.map((e=>(0,c.jsx)("li",{style:{borderLeft:"none"},children:(0,c.jsx)(be,{email:i,network:e,onClick:()=>function(e,t){ye.Z.instance().handleConnect(e,!0,{},t)}(e,t)})},e)))})]})}function Se({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:o,onHide:r,sendType:s,sharedObject:a,viewType:l,viewParameter:u}){const[p,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>((0,E.j)(7120,{objectId:a.id,view:l,viewParameter:u}),()=>{(0,E.j)(7121,{objectId:a.id,view:l,viewParameter:u});const e=m?7493:7492;(0,E.j)(e,{view:l,viewParameter:u})})),[]);const f=()=>{h(!0)},_=()=>{h(!1)},y=()=>{g(!0)};return p?(()=>{const e=t?"SendObjectBase sendShare":"";return(0,c.jsx)("div",{className:e,children:(0,c.jsx)(we,{onBack:_})})})():(0,c.jsx)(d.xu,{overflow:"hidden",children:(0,c.jsx)(ge,{isFlyout:t,onCreatePincodeClick:n,onHide:r,onShowImport:f,onMessageSent:y,onExternalSend:o,sendType:s,sharedObject:a})})}},845555:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(988089),o=n(883119),r=n(785893);const s=({text:e})=>(0,r.jsx)(o.xv,{align:"center",size:"sm",children:(0,r.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},504534:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const r=({iconSize:e,marginEnd:t,children:n})=>(0,o.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n})},74690:(e,t,n)=>{n.r(t),n.d(t,{STeLAContainerWrapper:()=>w,default:()=>S});var i=n(40142),o=n(733785),r=n(268362);function s(e){return{type:"STELA_SELECT",payload:{selectedStelaItem:e}}}var a=n(912679),l=n(667294),d=n(985726),c=n(155656),u=n(988462),p=n(907669),h=n(549135),m=n(883119),g=n(785893);const f={};function _({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageHeight:i,imageWidth:o,isSelected:r,label:s,labelPressState:a,xPos:_,yPos:y}){const v=(0,l.useRef)();(0,l.useEffect)((()=>{(0,h.j)(120,{view:3,...t})}),[]),(0,l.useEffect)((()=>{f[s]={}}),[s]),(0,l.useEffect)((()=>{const e=v.current&&v.current.getBoundingClientRect().width;f[s].width=e}),[v.current]);const x={backgroundColor:e&&r?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:(f[s]||{}).left?-((f[s]||{}).width+u.b9):void 0},b={none:{...x,opacity:0},down:{...x,animation:"stelaSlideIn .3s ease-in-out forwards"},up:{...x,animation:"stelaSlideOut .3s ease-in-out forwards"}},w=(f[s]||{}).width;let S=_,I=y;return _+w>o?S=o-w:_<0&&(S=0),y+33>i?I=i-33:y<0&&(I=0),(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{top:I,left:S}},display:"flex",position:"absolute",children:(0,g.jsxs)(p.N,{enabled:n,children:[(0,g.jsx)(c.Z,{unsafeCSS:(0,d.Z)()}),(0,g.jsx)(m.xu,{ref:v,dangerouslySetInlineStyle:e?{__style:{...x,opacity:(f[s]||{}).width?1:0}}:{__style:(f[s]||{}).width?{...b[a||"none"]}:{opacity:0}},padding:2,position:"relative",rounding:"pill",children:(0,g.jsx)(m.xv,{align:"start",color:e&&r?"white":"darkGray",overflow:"normal",size:"md",weight:"bold",children:s})})]})})}var y=n(855168);const v=()=>{};const x=(0,y.EN)((function({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,enablePointerEvents:l,handleStelaClick:d,height:c=1,index:p,history:f,labelPressState:y,onStelaDotAnimationComplete:x,pin:b,searchQuery:w,stelaDotAnimationType:S,stelaArea:I,trafficSource:C,width:E=1}){const T=(0,i.useDispatch)(),P={x:((I.label_x||I.x)+I.w/2)*E,y:((I.label_y||I.y)+I.h/2)*c},j={element:1221,image_signature:b.image_signature,visual_objects:JSON.stringify({x:I.x,y:I.y,w:I.w,h:I.h,object_category:I.label}),pin_id:b.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return(0,g.jsxs)(m.iP,{onMouseEnter:v,onMouseLeave:v,onTap:()=>{if(e?(0,h.j)(101,{view:427,...j}):(0,h.j)(101,{view:3,...j}),e&&d&&I&&p)T(s(I)),d(p);else if(I&&f){const{height:e,width:t}=(0,o.Z)({pin:b,maxWidth:u.RZ}),n=(0,r.Z)({cropArea:I,scaledWidth:t,scaledHeight:e});let i=`/pin/${b.id}/related-products/?x=${n.x}&y=${n.y}&w=${n.w}&h=${n.h}&entrySource=shopping&cropSource=4`;w&&(i=i.concat(`&q=${w}`)),C&&(i=i.concat(`&rs=${C}`)),T(s(I)),f.push(i)}},children:[(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{top:P.y,left:P.x}},display:"flex",position:"absolute","data-test-id":"stela-label-dot",children:("inOut"===S||!I.label&&("down"===y||e)||E<=400&&e)&&(0,g.jsx)(a.Z,{alwaysShow:e,contextLogData:j,isSelected:I.isSelected,onStelaDotAnimationComplete:x,stelaDotAnimationType:S,imageSignature:b.image_signature,enablePointerEvents:l})}),I.label&&!(e&&E<=400)&&(0,g.jsx)(_,{alwaysShow:e,contextLogData:j,imageWidth:E,imageHeight:c,isSelected:I.isSelected,label:I.label,labelPressState:y,xPos:P.x,yPos:P.y,enablePointerEvents:l})]})}));var b=n(477342);function w({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:o,disableSelected:r,enablePointerEvents:s,handleStelaClick:a,height:l,history:d,labelPressState:c,onStelaDotAnimationComplete:u,pin:p,searchQuery:h,shopButtonHovered:f,stelaDotAnimationType:_,trafficSource:y,width:v}){const w=(0,i.useSelector)((e=>e.stela))||{},{visual_objects:S}=p||{},I=(!!S&&(0,b.k)(S)||[]).map((e=>{if(!r&&w.selectedStelaItem){const{x:t,y:n}=w.selectedStelaItem;if(e.x===t&&e.y===n)return{...e,isSelected:!0}}return{...e,isSelected:!1}}));return(0,g.jsx)(m.xu,{height:l,position:"absolute",width:v,dangerouslySetInlineStyle:{__style:"in"===_||n&&!f?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},children:I.map(((n,i)=>(0,g.jsx)(x,{alwaysShow:e,cropSource:t,currentSpotlightIdx:o,height:l,index:i,handleStelaClick:a,labelPressState:c,onStelaDotAnimationComplete:u,pin:p,searchQuery:h,stelaDotAnimationType:_,stelaArea:n,trafficSource:y,width:v,enablePointerEvents:s},`${n.x}${n.y}`)))})}const S=(0,y.EN)(w)},912679:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(985726),r=n(155656),s=n(883119),a=n(907669),l=n(549135),d=n(988462),c=n(785893);function u({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageSignature:u,isSelected:p,onStelaDotAnimationComplete:h,stelaDotAnimationType:m}){const[g,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{g||f(!0)}),[]);let _;(0,i.useEffect)((()=>{(0,l.j)(120,{view:3,...t})}),[]),"in"===m?_="stelaSlideIn .3s ease-in-out forwards":"out"===m?_="stelaSlideOut .3s ease-in-out forwards":"inOut"===m?_="stelaSlideInThenOut 3s ease-in-out forwards":"none"===m&&(_="none");const y=e?"black":"white",v=e?{opacity:1}:{animation:_,opacity:"none"===_?0:void 0};return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)(a.N,{enabled:n,children:[(0,c.jsx)(r.Z,{unsafeCSS:(0,o.Z)()}),(0,c.jsx)(s.xu,{"data-test-id":"closeup-stela-dot",height:d.b9,width:d.b9,onAnimationEnd:()=>{h&&"inOut"===m&&h()},dangerouslySetInlineStyle:{__style:v},children:(0,c.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("g",{filter:"url(#filter0_d)",children:(0,c.jsx)("circle",{cx:"18",cy:"18",fill:p?y:"white",r:"8"})}),(0,c.jsx)("defs",{children:(0,c.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,c.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,c.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,c.jsx)("feOffset",{}),(0,c.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,c.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,c.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,c.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},985726:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(988462);const o=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 44px;\n    }\n\n    15% {\n      width: ${e+i.Nv}px;\n    }\n\n    85% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 44px;\n    }\n\n    100% {\n      width: ${e+i.Nv}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `},278646:(e,t,n)=>{n.d(t,{L:()=>g,t:()=>f});var i=n(904192),o=n(73697),r=n(549156),s=n(174523),a=n(302199),l=n(946753),d=n(585967),c=n(883119),u=n(785893);function p({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function h({count:e,countFormat:t,textSize:n}){const{locale:i}=(0,d.B)(),o=(0,s.ZP)(),p=(0,a.Z)();return(0,u.jsx)(c.xv,{size:n,children:(0,u.jsx)(r.Z,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?(0,l.nk)(o.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):p(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function m({count:e,countFormat:t,ratingTextSize:n,ratingValue:r,shippingInfo:s,showDot:a}){const l=p({count:e,ratingValue:r}),{free_shipping_price:d,free_shipping_value:c}=s||{},m=l&&!!r&&(0,u.jsx)(i.Z,{rating:r,width:12});return{rating:m&&l&&!!e&&(0,u.jsx)(h,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(c)&&(0,u.jsx)(o.ZP,{freeShippingPrice:d,freeShippingValue:c,dot:a?" ":""}),stars:m}}function g({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:s}=m({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return(0,u.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,u.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[s,o&&(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&(0,u.jsx)(c.xu,{marginTop:s?1:0,children:(0,u.jsx)(c.xv,{color:"gray",size:"md",children:r})})]})}function f({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=p({count:e,ratingValue:n}),{rating:r,shipping:s,stars:a}=m({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return(0,u.jsxs)(c.xu,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[a,r,s&&(0,u.jsx)(c.xu,{marginStart:a?1:0,children:(0,u.jsx)(c.xv,{color:"darkGray",size:"lg",children:s})})]})}},344886:(e,t,n)=>{n.d(t,{Z0:()=>i,qA:()=>o,_z:()=>r,fM:()=>s,$O:()=>a,Xv:()=>l,GZ:()=>d,OE:()=>c,zX:()=>u});const i=40,o=4,r=106,s=133,a=.1,l=10,d=246,c=197,u=236},18827:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(151101),r=n(546352),s=n(269935),a=n(7713),l=n(539484),d=n(451875),c=n(549135),u=n(883119),p=n(785893);const h={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function m({productPin:e,isTopRow:t,disablePrice:n}){var i,o,r,s;if(!e)return null;const{title:a,description:l,images:d}=e||{},c=null===(i=e.rich_summary)||void 0===i?void 0:i.products,m=c&&c[0]||null,g=((null==m?void 0:m.offer_summary)||{}).price,f=d["474x"]||{};return(0,p.jsxs)(u.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,p.jsx)(u.Ee,{alt:a||l,fit:"cover",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(r=f.width)&&void 0!==r?r:1,src:null!==(s=f.url)&&void 0!==s?s:""}),!!g&&!n&&(0,p.jsx)(u.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...h}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:g})]})}const g={container:{borderRadius:`${d.Oc}px ${d.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:d}){const{action:h,id:f,objects:_,story_type:y,subtitle:v}=n,{text:x,url:b}=h,[w,S]=(0,i.useState)(!1),I=(0,i.useCallback)((()=>S(!0)),[S]),C=(0,i.useCallback)((()=>S(!1)),[S]),E=["related_domain_collage","related_products_collage"].includes(y)?1:0,T=_[0].domain;let P,j;const R={};R.story_type=y,["search_product_collage_story","shop_article_story"].includes(y)?(P=2,j=43,R.story_id=f,R.entered_query=t):"shop_brand_story"===y||"shop_brand_affinity_story"===y?(P=1,j=92,T&&(R.commerce_data=JSON.stringify({domain:T}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(y)?(P=72,j=3050):"related_domain_collage"===y?(P=72,j=3455):"related_products_collage"===y&&(P=1,j=3177);const O=v?4:2;let k,A;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(y)){const e=h.user;k=e&&(e.image_medium_url||e.image_large_url),A=e&&e.full_name}const D=e||b,L=(0,l.Z)({url:D})?"nofollow":"none";return(0,p.jsx)(s.Z,{componentType:200,contextLogData:R||{},impressionType:"Story",loggingId:y,slotIndex:d,viewParameter:j,viewType:P,children:(0,p.jsx)(u.iP,{role:"link",rel:L,href:D,onTap:()=>(0,c.j)(101,{element:372,component:200,view:P,viewParameter:j,story_type:y,...R||{}}),children:(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",onMouseEnter:I,onMouseLeave:C,dangerouslySetInlineStyle:{__style:g.container},children:[(0,p.jsxs)(u.xu,{overflow:"hidden",rounding:4,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:g.content},children:(0,p.jsx)(m,{productPin:_[E],isTopRow:!0})}),(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,p.jsx)(m,{productPin:_[E+1]}),(0,p.jsx)(m,{productPin:_[E+2]})]})]}),(0,p.jsx)(u.xu,{color:"lightGray",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:O,rounding:"pill",children:(0,p.jsxs)(u.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[v?(0,p.jsx)(u.xu,{marginBottom:1,children:(0,p.jsx)(u.xv,{align:"start",color:"gray",children:v.format})}):null,(0,p.jsx)(u.xv,{align:"start",weight:"bold",children:x})]})}),A&&k&&(0,p.jsx)(u.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,p.jsx)(o.Z,{name:A,size:"md",src:k,outline:!0})}),(0,p.jsx)(a.Z,{visibility:w?"visible":"none",children:(0,p.jsx)(r.Z,{additionalStyles:g.visualOverlay})})]})})})}},988462:(e,t,n)=>{n.d(t,{b9:()=>i,Nv:()=>o,RZ:()=>r,Hn:()=>s,pR:()=>a});const i=36,o=44,r=446,s=16,a=48},94236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)(!1)},172738:(e,t,n)=>{n.r(t),n.d(t,{SendButton:()=>u,default:()=>p});var i=n(533127),o=n(975151),r=n(883119),s=n(785893);const a={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:l}){return(0,s.jsx)(o.Z,{children:({active:o,focused:d,hovered:c,onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:f})=>{let _={borderRadius:24};if(c){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";_={..._,backgroundColor:e}}if(o){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";_={..._,backgroundColor:e}}return d&&(_={..._,...a}),(0,s.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:f,onClick:i,children:(0,s.jsx)(r.xu,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:_},children:(0,s.jsxs)(r.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&(0,s.jsxs)(r.xu,{children:[(0,s.jsx)(r.JO,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),(0,s.jsx)(r.xu,{paddingX:3})]}),(0,s.jsx)(r.xv,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var d=n(174523),c=n(255539);const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:o,isSVG:r,iconOnly:a})=>{const c=(0,d.ZP)(),u="icon"===e,p=r&&o?o:"share",h={accessibilityLabel:c._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:p};return u?(0,s.jsx)(i.Z,{...h,isSVG:r,iconOnly:a,iconColor:t}):(0,s.jsx)(l,{...h,buttonColor:"lightGray",buttonText:c._("Send","Text for button to send this pin","Text for button to send this pin")})},p=c.Z.makeSendShareButton(u)},101161:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(584489),o=n(6582),r=n(784655);const s=({pin:e,viewParameter:t,viewType:n})=>{const{id:s,videos:a}=e,l=(0,r.VX)(e),d=(0,r.jL)(e);let c;if((0,r.iR)(a)&&a){const{video_list:e={}}=a,t=e[Object.keys(e)[0]];c=t&&t.duration}return()=>{i.Z.instance.dispatch((0,o.c)({id:s,isProduct:l,isPromoted:d,videoDuration:c,viewParameter:t,viewType:n,type:"pin"}))}}},432921:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(965035),o=n(174523),r=n(883119),s=n(785893);function a({duration:e}){const t=(0,o.ZP)();return(0,s.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(r.JO,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.xv,{color:"white",size:"sm",lineClamp:1,children:(0,i.Z)(e)})})]})}},727407:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(23279),r=n.n(o),s=n(102156);var a=n(30494),l=n(80078),d=n(549135),c=n(748455),u=n(883119),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",_={rootMargin:f,threshold:g},y={rootMargin:f,threshold:l.iM},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function b(e){return!!e.volume&&e.volume>0}class w extends i.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,i.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,o=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const o of i){const i=o*n;if(e<=i&&t>i)return o}return null}(this.videoTime,i,this.currentInterval.videoDuration,m);if("number"==typeof o&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],o=t[n+1];if(null==o)return i;if(i<=e&&e<o)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:v.PAUSED}):this.startNewInterval({viewability:i}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:b(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};b(e)&&!b(this.props)?n.isAudible=!1:!b(e)&&b(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:o,windowHeight:r,windowWidth:s,viewability:a,...l}=t;if(null!=i&&null!=o&&null!=r&&null!=s&&null!=a){const t={...l,height:i,width:o,windowHeight:r,windowWidth:s,viewability:a};(0,d.j)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:o,videoEndTime:r,isAudible:s,height:a,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},...g}=e;return{...g,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:o,endVideoTime:r,isAudible:s,height:a,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:h,controls:m,cropHeight:g,hlsConfig:f,inAdsDesktopVideoExperiment:v,isAutoPlay:x,loop:b,objectFit:w,onLoadedChange:S,onPause:I,onPlay:C,onSeek:E,onVolumeChange:T,playbackRate:P,playing:j,playsInline:R,poster:O,preload:k,rootMargin:A,src:D,surface:L,videoStartTime:N,volume:M}=this.props,{seeking:Z}=this.state,B=v?y:_;return void 0!==A&&(B.rootMargin=L?(0,a.e)(L):A),(0,p.jsx)(s.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(u.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,p.jsx)(c.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:h,controls:m,hlsConfig:f,isAutoPlay:x,loop:b,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:S,onLoop:this.handleLoop,onPause:I,onPlay:C,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:E,onTimeChange:this.handleTimeChange,onVolumeChange:T,playbackRate:P,playing:!Z&&j,playsInline:R,poster:O,preload:k,src:D,videoStartTime:N,visible:this.visible,volume:M})})})}}h(w,"defaultProps",u.nk.defaultProps)},647560:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),o=n(40142),r=n(484898),s=n(727407),a=n(974780),l=n(80078),d=n(81260),c=n(731164),u=n(172738),p=n(549135),h=(n(255539),n(174523)),m=n(883119),g=n(785893);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},y={overlay:{__style:{backgroundColor:"#000"}}};class v extends i.PureComponent{constructor(...e){super(...e),f(this,"setSendButton",(e=>{this.sendButton=e})),f(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),c.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),f(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),(0,p.j)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})})),f(this,"handleExternalSend",(()=>{c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),f(this,"renderReplayButton",(()=>(0,g.jsx)(m.iP,{onTap:this.handleRestartVideo,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})}))),f(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(u.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.iP,{onTap:this.handleShareVideo,rounding:2,children:(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})}))}componentDidMount(){const{pinId:e}=this.props;c.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),(0,p.j)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:y.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,g.jsxs)(m.xu,{position:"absolute",children:[(0,g.jsx)(m.xu,{children:this.renderShareButton()}),(0,g.jsx)(m.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function x(e){const t=(0,h.ZP)();return(0,g.jsx)(v,{...e,i18n:t})}const b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=(0,h.ZP)();return(0,g.jsx)(m.xu,{children:(0,g.jsxs)(m.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:y.overlay}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,g.jsx)(m.xu,{children:(0,g.jsx)(m.iP,{onTap:i,rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,g.jsx)(m.JO,{accessibilityLabel:r._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:_,size:30}),(0,g.jsx)(m.xu,{margin:1}),(0,g.jsx)(m.X6,{color:"white",overflow:"normal",size:"sm",children:r._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})};var w=n(136686),S=n(226806),I=n(552443),C=n(428568),E=n(32529);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),T(this,"state",{controls:"always"===this.props.showControls,duration:0,fullscreen:!1,playing:!r.Z.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),T(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!a.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:a.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(w._z),i.addSubspan("perceived_video_load",null,a.Z.now()),i.metricId.segment===w.zc&&i.removeConstraint(w.pM))})),T(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:r}=n&&i||o||{},s=(a=e||r)&&document.querySelector(`video[poster="${a}"]`)||null;var a;4===(null==s?void 0:s.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),T(this,"componentDidUpdate",((e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&"hover"===this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1})})),T(this,"handleTouch",(()=>{const{seeking:e}=this.state;e||this.setState((e=>({playing:!e.playing})))})),T(this,"handleShowControls",(()=>this.setState({controls:!0}))),T(this,"handleHideControls",(()=>this.setState({controls:!1}))),T(this,"handleReady",(()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})})),T(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:o,onEnded:r}=this.props;var s;e.stopPropagation(),o||(this.setState({playing:!1}),(s=t)&&s.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()})),T(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),T(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),T(this,"handleDurationChange",(({duration:e})=>{this.setState({duration:e})})),T(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),T(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),T(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),T(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),T(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),T(this,"handleVolumeChange",(({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})})),T(this,"exitFullscreen",(()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),T(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:s}=this.props,a={gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:""};return i?(0,g.jsx)(b,{...r}):(0,g.jsx)(x,{...a,...o})}))}render(){const{autoplay:e,contextLogData:t={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:n,isPromoted:i,loop:o,onTimeChange:a,objectFit:c,preferMp4:u,preload:p,storyPinContext:h,showControls:f,variant:_,video:y,videoStartTime:v}=this.props;t.is_closeup_video=!0;const{controls:x,fullscreen:b,playing:w,showEndCard:S,volume:I}=this.state,C=r.Z.isSafari(),E=y.hlsv3||y.hls||null,{ideaPinSessionId:T}=h||{};if(!E&&!y.mp4)return null;const P=y.mp4,j=u&&P&&P.url||E&&[{type:"video/m3u8",src:E.url}]||void 0,{height:R,thumbnail:O,width:k}=u&&P||E||{},A=n||O;let D;return D="default"===_?0:"storyPin"===_?d.yR:2,(0,g.jsx)(m.zd,{willChangeTransform:!(C&&b),rounding:D,wash:!0,children:S?this.renderCloseupVideoEndCard(null!=A?A:"",null!=R?R:1,null!=k?k:1,i):(0,g.jsx)(m.iP,{onMouseEnter:"hover"===f?this.handleShowControls:void 0,onMouseLeave:"hover"===f?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,g.jsx)(s.Z,{contextLogData:{...t,...T&&{idea_pin_session_id:T},video_id:this.props.video.id,video_play_type:"video"},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=k?k:1)/(null!=R?R:1),captions:"",controls:x,hlsConfig:{startLevel:l.VS},isAutoPlay:!!e,objectFit:c,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:a,onVolumeChange:this.handleVolumeChange,preferMp4:u,playing:w,preload:p,poster:A,src:j,videoStartTime:v,volume:I,loop:o})})})}}T(P,"defaultProps",{loop:!1,showControls:"hover"});const j=(0,o.connect)(((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:s}=o;let a=null;return a=i?s[n]:r[n],{videoStartTime:a?a.currentTime:null,isPlaying:!a||!a.paused}}),((e,t)=>({setCurrentVideo:t=>e((0,E.jt)(t))})))((function(e){const t=(0,h.ZP)(),n=(0,C.g)(),i=(0,S.EV)(),o=(0,I.c)();return(0,g.jsx)(P,{...e,i18n:t,pwtSurfaceContext:i,storyPinContext:o,storyPinStepStopwatch:n})}))},852474:(e,t,n)=>{n.d(t,{t:()=>o,Z:()=>r});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},28745:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},30494:(e,t,n)=>{n.d(t,{e:()=>i});const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const o=document.querySelector('[data-root-margin="search-one-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},756169:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(302199),o=n(585967),r=n(785893);const s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:s,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:d,value:c})=>{const u=(0,i.Z)();return(0,r.jsx)(o.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:s,shortform_maximum_fraction_digits:a,style:l,uplimit:d})})}},326149:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(975151),o=n(785893);const r=e=>{const{accessibilityLabel:t,children:n,className:r,dataTestId:s,onClick:a,onMouseEnter:l,onMouseLeave:d,style:c}=e;return(0,o.jsx)(i.Z,{children:({active:e,focused:i,hovered:u,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:f,onMouseUp:_})=>(0,o.jsx)("button",{"data-test-id":s,"aria-label":t,style:c,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:e=>{g(),l&&l(e)},onMouseLeave:e=>{f(),d&&d(e)},onMouseUp:_,onClick:a,className:r,children:n({active:e,focused:i,hovered:u})})})}},316770:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(159617),r=n(883119),s=n(313949),a=n(557162),l=n(341088),d=n(785893);function c({children:e,className:t,forwardRef:n,offset:c=0,position:u,shouldShowShadow:p=!1,style:h={},top:m}){const{setIsContentHeaderPresent:g}=(0,s.i)();(0,i.useEffect)((()=>(g(!0),function(){g(!1)})),[]);const{currentScrollPosition:f,isScrolled:_,setSubheaderShadow:y}=(0,l.WQ)();(0,i.useEffect)((()=>(p&&y("contentHeader"),()=>{p&&y(null)})),[p]);let v=!1;"pending"!==m&&(v=null!=m?f>=m:_);const x=(0,a.t)(),b=(0,d.jsx)("div",{className:t,ref:n,style:{...h,top:x+c,...v&&p?{...o.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,d.jsx)(r.Le,{top:x+c,children:b}):b}},313949:(e,t,n)=>{n.d(t,{i:()=>a,Z:()=>l});var i=n(667294),o=n(762803),r=n(785893);const{Provider:s,useHook:a}=(0,o.ZP)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1);return(0,r.jsx)(s,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},975151:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(8742);function o({children:e}){return e((0,i.Z)())}},475446:(e,t,n)=>{n.d(t,{Zo:()=>o,F9:()=>r,Cl:()=>s});var i=n(762803);const{Provider:o,useHook:r,HOC:s}=(0,i._D)("toastManagerContext")},32529:(e,t,n)=>{n.d(t,{LX:()=>i,jt:()=>o,D8:()=>r,Dm:()=>s,_L:()=>a,Sg:()=>l,Sp:()=>d});const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function s(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function a(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function d(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},752430:(e,t,n)=>{function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function s(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function a(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function l(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function d(e,t,n=!1,i=!1,o={},r=!1,s){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:s}}}function c(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function u(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function p(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function h(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function m(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,{JT:()=>i,Yh:()=>o,zN:()=>r,vr:()=>s,qb:()=>a,Uk:()=>l,V_:()=>d,WG:()=>c,ru:()=>u,Ky:()=>p,jE:()=>h,$8:()=>m})},411221:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:()=>i})},224982:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,{Z:()=>i})},698602:(e,t,n)=>{function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{NA:()=>i,I1:()=>o,ZP:()=>r,Ib:()=>s,i0:()=>a,b9:()=>l,yj:()=>d})},6582:(e,t,n)=>{function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:s}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:s}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,{c:()=>i,O:()=>o})},153155:(e,t,n)=>{n.d(t,{W:()=>o,Y:()=>r});var i=n(311866);function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))}))}},920763:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});const i={USER_FOLLOW:"USER_FOLLOW"},o={USER_BLOCK:"USER_BLOCK"}},289605:(e,t,n)=>{n.d(t,{ZN:()=>a,yA:()=>l,fv:()=>d,KF:()=>c});var i=n(311866),o=n(920763);function r(e,t){return i.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function s(e,t){return{type:o.F.USER_FOLLOW,payload:{id:e,value:t}}}function a(e,t=null){return n=>{r(e,t).callCreate().catch((()=>n(s(e,!1)))),n(s(e,!0))}}function l(e,t=null){return async n=>{n(s(e,!0)),await r(e,t).callCreate().catch((t=>{throw n(s(e,!1)),t}))}}function d(e,t=null){return n=>{r(e,t).callDelete().catch((()=>n(s(e,!0)))),n(s(e,!1))}}function c(e,t=null){return async n=>{n(s(e,!1)),await r(e,t).callDelete().catch((t=>{throw n(s(e,!0)),t}))}}},613330:(e,t,n)=>{n.d(t,{DV:()=>a,zX:()=>c,ZP:()=>u});var i=n(317461),o=n(527082),r=n(881219),s=n(451104);const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},l={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:a.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:(0,r.OV)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:s,query:l,user:d},response:c})=>{var u;return{type:a.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:l,selectedPinImgSig:s,scope:n,user:d}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,i.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({response:e})=>{var t;return{type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(t=e.resource_response.data)||void 0===t?void 0:t.tabs)||[]}},RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},d={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function c(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}const u=(e=d,t)=>{switch(t.type){case s.zP:case s.aW:{var n;const{payload:i}=t,o=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const r=l[i.resource](i);if(r){const{type:n,id:i,items:l,reversed:d}=r;let c=(l||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));d&&(c=c.reverse());const u=e[n][i];if(u||t.type!==s.aW){const o=u||[];let r=c;return t.type===s.aW&&(r=d?c.concat(o):o.concat(c)),{...e,[n]:{...e[n],[i]:r}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:s}}=t,l=e[n]||{},d=l[i]||[];let u=-1,p=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex((e=>e.type===o&&e.id===s)),p=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[n]:{...l,[i]:c(d,u,p)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:r,itemIds:s=[]}}=t,l=e[n]||{},d=l[i];if(d&&d.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))})),a=!!t.find((e=>"pin"===e.type));return{...e,[n]:{...l,[i]:a?t:[]}}}if(d&&d.length>0&&n===a.BOARD_SECTIONS){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}if(d&&d.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=d.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[n]:{...l,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:r=[],prepend:s}}=t,l=e[n]||{},d=l[i];if(d&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=r.map((e=>({id:e,type:o})));let s=0;"story"===(d[0]||{}).type&&(s=1),"story"===(d[1]||{}).type&&(s=2);const a=[...d.slice(0,s),...t,...d.slice(s)];return{...e,[n]:{...l,[i]:a}}}if(d&&n===a.BOARD_SECTIONS){const t=[...r].reverse().map((e=>({id:e,type:"board_section"}))),o=d?[...t,...d]:[...t];return{...e,[n]:{...l,[i]:o}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=r.map((e=>({id:e,type:o}))),a=d?[...s?t:d,...s?d:t]:t;return{...e,[n]:{...l,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=r.map((e=>({id:e,type:o}))),s=d?[...t,...d]:t;return{...e,[n]:{...e[n],[i]:s}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=e[n]||{};if(o[i])return{...e,[n]:{...o,[i]:null}};break}}return e}},881219:(e,t,n)=>{n.d(t,{OV:()=>i,M0:()=>o,$k:()=>r});const i=(e,t)=>`${e}:${t||""}`,o=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],r=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},604213:(e,t,n)=>{n.d(t,{Z:()=>o});const i=e=>e.startsWith("enabled")||e.startsWith("employee");class o{constructor(e={},t={},n=!1){var i,o,r;r=!1,(o="useBatching")in(i=this)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},202923:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(604213);class o extends i.Z{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},74339:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(177979),o=n(311866),r=n(604213);class s extends r.Z{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,r){const s={add_to_experiment:!!t,experiment_name:e};if(r&&(s.override_group=r),n&&(s.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new i.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(s);else{o.ZP.create("ActivateExperimentResource",s).callCreate({showError:!1})}}}},920349:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(164215);function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.Z(t,n,o)}}},164215:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(74339).Z},155656:(e,t,n)=>{n.d(t,{Z:()=>r});n(441143);var i=n(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...r}=e,s=String(t||"")||n||"";return!!s?(0,i.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(o.factory(s))}}):null}},549156:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{children:t,display:n,id:r}=e;return(0,o.jsx)(i.xu,{"data-test-id":r,display:n,children:t})}},966427:(e,t,n)=>{n.d(t,{o:()=>i,u:()=>o});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}}},799881:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(296882),o=n(641483);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,o.ZP)("setting_new_window_location")}),0),window.location.href=t,window}}},205794:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(799881),o=n(508841),r=n(641483);const s=e=>{(0,o.Z)(e)||(e="/",(0,r.ZP)("url_reset")),(0,i.Z)(e,!1)}},463080:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},925311:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class o{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):o.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):o.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):o.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):o.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=o.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportGoogleConversion(i.id,i.label,i.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,s,a;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(s=n.createElement(i)).async=!0,s.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,a)),window.fbq("init",e),window.fbq("track","PageView");const l=o.queuedFacebookConversions;for(let d=0;d<l.length;d+=1){const t=l[d];t.id===e&&(t.isCustomEvent?o.reportCustomFacebookConversion(e,t.event,t.data):o.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,o,r,s;t=window,n=document,i="script",t.twq||((o=t.twq=function(){o.exe?o.exe.apply(o,arguments):o.queue.push(arguments)}).version="1.1",o.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,s)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportPinterestConversion(e,i.event,i.data)}}}i(o,"queuedGoogleConversions",[]),i(o,"queuedFacebookConversions",[]),i(o,"queuedPinterestConversions",[]),i(o,"queuedTwitterConversions",[]);const r=o},616240:(e,t,n)=>{n.d(t,{dl:()=>d,Fl:()=>u,IC:()=>p,GG:()=>h,tW:()=>m,Pw:()=>g,k3:()=>f,su:()=>_});var i=n(300970),o=n(593482),r=n(221469),s=n(580849);const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],l=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],d=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],c=["US","CA"],u=e=>{if(l.includes(e.toUpperCase())){const e=s.K.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return a.includes(e.toUpperCase())},p=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach((e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}})),i},h=e=>!!e&&c.includes(e.toUpperCase()),m=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),g=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=(0,r.ru)("/business/convert",{next:t});e.push(n)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(n))},f=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},_=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,i.Z)(null,e)},589444:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(657121),o=n(444488);function r({pin:e,shouldUnifyImageSizes:t,additionalImages:n}){const r=(0,i.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return r&&n&&n.length>0?(0,o.Z)(null,n,e.carousel_data&&e.carousel_data.index,t,r.id):r&&r.additional_images&&r.additional_images.length>0?(0,o.Z)(e.images,r.additional_images,e.carousel_data&&e.carousel_data.index,t,r.id):e&&e.carousel_data}},215484:(e,t,n)=>{function i(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:()=>i})},444488:(e,t,n)=>{n.d(t,{Z:()=>r});const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function r(e,t,n,i,r){const s=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...s]:s;return{carousel_slots:i?o(a):a,index:n||0,id:r}}},457175:(e,t,n)=>{n.d(t,{B:()=>o,v:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ContextLogger")},304966:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(457175);const o=()=>(0,i.v)().logContextEvent},848101:(e,t,n)=>{n.d(t,{I7:()=>l,B$:()=>d,Cw:()=>s,c4:()=>a});var i=n(667294),o=n(762803);const r=(0,i.createContext)(null),s=()=>(0,i.useContext)(r),a=r.Provider,{Provider:l,useHook:d}=(0,o.ZP)("DesktopCoreLogin")},292900:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(731164),r=n(372833);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,n=this.props.type||"secondary";(0,r.B)({errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},551687:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(292900).Z},944163:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>o,mR:()=>r,_4:()=>s,iY:()=>a,Ib:()=>l});const i="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE",l="EXPERIENCE_RESOURCE_UPDATED"},50351:(e,t,n)=>{n.d(t,{xW:()=>r,NW:()=>s,Yb:()=>a,OD:()=>l,cL:()=>d,fQ:()=>c});var i=n(311866),o=n(944163);const r=(e,t,n)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:n}}),s=e=>t=>i.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n})),a=(e,t,n)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:o._4,payload:{experiences:e}}),d=e=>({type:o.mR,payload:{experiences:e}}),c=e=>({type:o.Ib,payload:{placementId:e}})},514319:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);function s({anchor:e,children:t,zIndex:n}){const s=(0,i.useRef)(null),[a,l]=(0,i.useState)(0),[d,c]=(0,i.useState)(0),{height:u,width:p}=e.getBoundingClientRect();return(0,i.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(u,p,e,n);l(i),c(o)}}),[u,p,s.current]),(0,r.jsx)(o.xu,{position:"absolute",zIndex:n?new o.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:d}},ref:s,children:t})}const a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:a,size:l,zIndex:d}=e;return t?(0,r.jsx)(s,{anchor:t,zIndex:d,children:(0,r.jsx)(o.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:(0,r.jsx)(o.o3,{paused:a,size:l})})}):null}},151101:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function s({accessibilityLabel:e,name:t,outline:n,size:s,src:a,verified:l}){return(0,o.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:s,src:r(a,t)?void 0:a,verified:l})}},451190:(e,t,n)=>{n.d(t,{b:()=>l,Z:()=>d});var i=n(667294),o=n(241933),r=n(51610),s=n(883119),a=n(785893);const l=new s.Ry(1e3);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:f,role:_,size:y,subHeading:v}){(0,i.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,a.jsx)(s.mh,{zIndex:l,children:(0,a.jsx)(r.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,a.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{o.Z.resume(),f()},role:_,size:y,subHeading:v,children:p})})})}},881220:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(500953),r=n(16539),s=n(883119),a=n(785893);function l({button:e,dataTestId:t,duration:n=2e3,href:l,iconThumbnail:d,imageUrl:c,onClick:u,onHide:p,openNewPage:h,text:m,thumbnailShape:g="square",variant:f="default"}){const[_,y]=(0,i.useState)(!1),[v,x]=(0,i.useState)(!1),b=(0,i.useRef)(),w=()=>{y(!0),b.current=setTimeout(p,r.V)},S=()=>{b.current&&clearTimeout(b.current)},I=()=>{b.current=setTimeout(w,n)};(0,o.Z)((()=>(setTimeout((()=>x(!0)),100),I(),S)));const C="string"==typeof m?m:`${m[0]} ${m[1]}`,E=c?(0,a.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.Ee,{alt:C,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,T=(0,a.jsx)(s.FN,{button:e,text:m,thumbnail:null!=d?d:E,thumbnailShape:g,variant:f});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,r.Z)(v,_)},"data-test-id":null!=t?t:"toast",onMouseEnter:S,onMouseLeave:I,children:l?(0,a.jsx)(s.iP,{role:"link",href:l,onTap:({event:e})=>null==u?void 0:u(e),target:h?"blank":null,rounding:"pill",children:T}):T})}},16539:(e,t,n)=>{n.d(t,{V:()=>i,Z:()=>o});const i=200,o=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},174523:(e,t,n)=>{n.d(t,{oz:()=>r,q6:()=>o,ZP:()=>a});var i=n(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.ZP)("i18n"),a=s},302199:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523);const o=(e,t)=>{const n=t||0,i=10**n,o=+(n?e*i:e).toFixed(8),r=Math.floor(o),s=o-r,a=s>.5-1e-8&&s<.5+1e-8?r%2==0?r:r+1:Math.round(o);return n?a/i:a},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,i.ZP)();return(t,n,i)=>{let s=0,a=0;const l=i&&i.style||void 0,d=i&&i.shortform||!1,c=i&&i.uplimit||void 0,u=i&&i.currency||void 0,p=!!c&&n>=c,h=c&&p?c:n;if("currency"===l?(s=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(s=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),d&&h>999&&(s=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),s<a)return String(h);let m=h,g="";const f=[{"100M":{value:1e8,localeKey:e._("","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],_=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],y=/^zh|ja|ko/.test(t);if(d&&h>999){const e=y?f:_;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){m=o(h/i*Math.pow(10,s))/Math.pow(10,s),g=e[t][n].localeKey;break}}}if(null==m)return"";return m.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...o,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:s,minimumFractionDigits:a,currency:u,style:l}))+g+(p?"+":"")}}},300970:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;let n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);const i=new Date(n);return i.setDate(i.getDate()+28),(new Date).getTime()<i.getTime()}},946753:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{nk:()=>r,Wc:()=>s,bF:()=>l});const o=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return i(e,t,o)}function s(e,t){return i(e,t,o).join("")}const a=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,a)}},593482:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=i?new Date(i):o;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},588527:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},586840:(e,t,n)=>{function i(e={},t=[]){return Object.keys(e).reduce(((n,i)=>t.includes(i)?n:{...n,[i]:e[i]}),{})}n.d(t,{Z:()=>i})},365217:(e,t,n)=>{n.d(t,{P:()=>s,t:()=>a});var i=n(311866);const o=()=>{};const r={complaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},s=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function a(e,t,n=o){const i=r[e];return i?i(t,n):n()}},454217:(e,t,n)=>{n.d(t,{ZP:()=>a,yl:()=>l,XZ:()=>d,nb:()=>c,EF:()=>u});var i=n(702925),o=n(365217),r=n(266750);const s=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:a,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:h,url_name:m}=c,g=r("topicUrl",`/topics/${m}`,h);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const f=`/${a.username}`,_=r("boardUrl",i.url,s(i.name)),y=r("pinnerUrl",f,s(a.full_name));return a.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:y}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:_});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          youd be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:s}){const a=t&&t.type;return i&&!o?"promoted":a||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||s&&s.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:s,throughProperties:a,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:d,...s?{through_id:s}:{},...a?{through_properties:a}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:s,sourceInterest:a})=>{if("topic"===i){if(a){const{id:n,name:i,url_name:s}=a,l=o("topicUrl",`/topics/${s}`,i,!0),d=t(e._("Well show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===i&&n&&s){const{id:i,name:r,url:a}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=s,u=`/${c}`,p=o("boardUrl",a,r,!0),h=o("pinnerUrl",u,d,!0);let m=l?t(e._("Youve unfollowed {{ formattedPinner }}s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:h,formattedBoard:p}):t(e._("Youve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return m=l?t(e._("You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:h}):t(e._("You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}const u=(e,t,n,i,r,s,a)=>()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.t)(d,l),s(n),a(101,{component:0,element:11181,view:i,viewParameter:r})}},41743:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["orig","736x","564x","474x","236x","170x"],o=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},227340:(e,t,n)=>{n.d(t,{RC:()=>s,EU:()=>a,fs:()=>l,eK:()=>d,Ly:()=>c,hP:()=>u});var i=n(395047),o=n(537343);const r=e=>"string"==typeof e?e:"",s=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=s(e),r=a(t,200);return r||(n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},d=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],r=n.map((e=>(t.annotations_with_links||{})[e]||{name:e,url:""}));let s="";const a=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=a.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?s=l:a&&a.length>3&&c!==d&&(s=a),s&&(s=(0,i.Z)((0,o.ZP)(s,496)).trim()),{description:s,vaseAnnotations:n,annotationsWithLinks:r}},c=(e,t,n)=>{const i=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return l(e)||o(t)||o(i)||e.title},u=(e,t,n)=>{const i=r(e);let o=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),s=r(t);n!==i.toLowerCase()&&n!==s.trim().toLowerCase()&&(o=e)}let s=n.visual_annotation;s&&(s=s.join(", "),o&&(o+=" "),o+=s)}return o}},912397:(e,t,n)=>{n.d(t,{h5:()=>i,n$:()=>o,W7:()=>r,hC:()=>s,vI:()=>a,YC:()=>l,s7:()=>d,BX:()=>c,a7:()=>u,JT:()=>p,a2:()=>h,X6:()=>m,PF:()=>g,I6:()=>f,oo:()=>_,vq:()=>y,Ib:()=>v,Tr:()=>x,jq:()=>b,lA:()=>w,u2:()=>S});const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",d="closeup",c="flashlight_grid",u="google_one_tap_modal",p="inspired_banner",h="hybrid_clickthrough",m="hybrid_banner",g="pin_image",f="response_flyout",_="unauth_header",y="facebook",v="twitter",x="google",b="gplus",w="microsoft",S="yahoo"},674245:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(384832),o=n(311866),r=n(702925),s=n(658551);let a=!1;const l=(e,t,n="en-US")=>{(0,s.c5)((0,i.Z)(n),s.Jg.FACEBOOK).then((()=>{const n=window.FB;n&&(a||(n.init({appId:r.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{t()&&l((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){o.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),a=!0,window.fb_init=2),e(n))})),window.fb_init=1},d=l},384832:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},266750:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},21755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(551687),r=n(181307),s=n(785893);const a=(0,i.memo)((({activate:e=!0,isEligible:t=!0,name:n,group:a,children:l})=>{const d=(0,r.tc)(n);(0,i.useEffect)((()=>{e&&t&&d&&d()}),[]);const c=a,u=`Experiment(${n}:${c})`,p=t&&c&&(c.startsWith("enabled")||c.startsWith("employee"))||!1,h={group:t?c:"",anyEnabled:p,customActivate:t&&!e?d:null};return(0,s.jsx)(o.Z,{name:u,children:l(h)})}))},197801:(e,t,n)=>{n.d(t,{u:()=>o,Y:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ExperimentContext")},181307:(e,t,n)=>{n.d(t,{tc:()=>r,aq:()=>s});var i=n(667294),o=n(197801);function r(e){const t=(0,o.Y)(),n=t.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),s=(e=>{const t=(0,i.useRef)(!1),n=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{t.current=!0,n.current&&e()}),[]),()=>{t.current?e():n.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:n,anyEnabled:r})}function s(e,t=!0){const n=r(e);return t?n():{group:"",anyEnabled:!1}}},73697:(e,t,n)=>{n.d(t,{ZP:()=>l});var i=n(174523),o=n(946753),r=n(785893);function s({dot:e}){const t=(0,i.ZP)();return(0,o.nk)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function a({dot:e,freeShippingPrice:t}){const n=(0,i.ZP)();return(0,o.nk)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function l({freeShippingPrice:e,freeShippingValue:t,dot:n}){return 0===t?(0,r.jsx)(s,{dot:n||""}):e?(0,r.jsx)(a,{dot:n||"",freeShippingPrice:e}):null}},255038:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(164485),o=n(667294),r=n(226806),s=n(139585);function a({children:e,isAtEndOfFeed:t,pinData:n,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,r.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(a),e}},169039:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),o=n(762803),r=n(666584),s=n(46509),a=n(954321),l=n(403369),d=n(590606),c=n(299962),u=n(842310),p=n(974780),h=n(182513),m=n(940094),g=n(26382),f=n(576618),_=n(939606);const y=(0,h.X)("PwtStopwatch"),v=(e,t)=>{if(p.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:o}=t;return(0,_.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:p.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return y("ignoring action - stopwatch is not actively timing",t),(0,_.A9)(`WARN.${n}.noTiming.${t.type}`),e}y("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=p.Z.now();return y(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return y(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return y(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){y(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&y(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&y(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:y(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;y(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&y(`WARNING: starting duplicate subspan name {${t.name}}`);const i=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===i))&&y(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);const o=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||o,startTime:p.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(y(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>(n.name===t.name&&e.push(n),e)),[]).length>1&&(0,_.H)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=p.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,_.H)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:o,annotations:r,binaryAnnotations:l,isSampled:h,spans:_,traceId:y}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),h){const e=t.stopTime||p.Z.now(),h=[..._.map((t=>(t.endTime===1/0&&(t.endTime=e),t)))];if(t.manualAndResourceSpans||0===_.length){const i=(0,d.Z)();h.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((e=>(0,u.Z)((0,m.p)(e,[]),i))).filter(Boolean))}const v="initial_app_load"===i.navigationType&&(0,a.Z)(),x={type:"COMPLETE",traceId:y,startTime:n,endTime:e,spans:h,annotationMap:{...(0,s.Z)(r),...(0,f.jh)("browser_",v?(0,f.D3)(v):{})},binaryAnnotationMap:(0,g.n)({metricId:i,pwtStaticContext:o,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,c.Z)({metricId:i,pwtStaticContext:o,result:x})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,_.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,o=t.reason||"";return(0,c.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:o}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()}}}return e},x=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:o=!1})=>{const s=(0,r.N5)(),a=(0,i.useRef)([]),c=(0,i.useRef)(null),[u,p]=(0,i.useReducer)(v,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)()});return s?{isTiming:u.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;a.current=[],c.current=(0,l.Z)({entryTypes:["resource"]},(t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))}))}const o={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:s,isSampled:!t||Math.random()<t};return p(o)},stop:e=>p({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:a.current,manualAndResourceSpans:o}),error:e=>{p({type:"error",stopwatchPerformanceObserver:c.current,error:e})},abort:e=>p({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t,n=!1)=>p({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,o=!1)=>p({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:o}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o=!1})=>p({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:o}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:o={},parentId:r=null,id:s=null,bypassIsTimingCheck:a=!1})=>p({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:s,bypassIsTimingCheck:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:o=null,id:r=null,bypassIsTimingCheck:s=!1})=>p({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:o,id:r,bypassIsTimingCheck:s}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r=!1})=>p({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o,bypassIsTimingCheck:r}),getSpans:(e,t)=>u.spans.filter((n=>n[e]===t)),getTraceId:()=>u.traceId}:null};var b=n(785893);const w=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:s=!0,navigationType:a,manualAndResourceSpans:l=!1})=>{const{Provider:d,useHook:c}=(0,o.js)(`Stopwatch_${e}`);return{Provider:function({children:t}){const o=x({name:e,sampleRate:n,navigationType:a,manualAndResourceSpans:l}),c=(0,r.fM)(),u=c?c.time:0,p=(0,i.useRef)(!1),h=null==o?void 0:o.isTiming,m=t=>{p.current?(p.current=!1,null==o||o.abort(t)):(0,_.A9)(`WARN.${e}.noTiming.abort`)};return(0,i.useEffect)((()=>()=>{s&&m("unloadOrClientNavigation")}),[u]),(0,b.jsx)(d,{value:{isTiming:h,abort:m,addAnnotation:(e,t)=>{null==o||o.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==o||o.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})=>{null==o||o.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:r})},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:s,id:a,bypassIsTimingCheck:l})=>{null==o||o.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:s,id:a,bypassIsTimingCheck:l})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:s,bypassIsTimingCheck:a})=>{null==o||o.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:r,id:s,bypassIsTimingCheck:a})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:s})=>{null==o||o.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r,bypassIsTimingCheck:s})},getSpans:(e,t)=>o?o.getSpans(e,t):[],getTraceId:()=>o?o.getTraceId():0,error:t=>{p.current?(p.current=!1,null==o||o.error(t)):(0,_.A9)(`WARN.${e}.noTiming.error`)},start:e=>{p.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),p.current=!0,null==o||o.start(e)},stop:t=>{p.current?(p.current=!1,null==o||o.stop(t)):(0,_.A9)(`WARN.${e}.noTiming.stop`)}},children:t})},useHook:c}}},428568:(e,t,n)=>{n.d(t,{T:()=>s,g:()=>a});var i=n(169039);const{Provider:o,useHook:r}=(0,i.Z)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),s=o,a=r},46509:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,i)=>{const o=i?`${e}_${i+1}`:e;n={...n,[o]:t}}))})),n}},904192:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(498913),r=n.n(o),s=n(883119),a=n(785893);const l=({fill:e,width:t,color:n})=>{const o="half"===e?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.xu,{position:"absolute",children:(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:n,color:o}){const s=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>s.push((0,a.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?s.push((0,a.jsx)(l,{color:o,fill:"full",width:n},s.length)):u>=.25&&s.push((0,a.jsx)(l,{color:o,fill:"half",width:n},s.length)),r()(5-s.length,(()=>s.push((0,a.jsx)(l,{color:o,fill:"empty",width:n},s.length)))),(0,a.jsx)(i.Fragment,{children:s})}},139848:(e,t,n)=>{n.d(t,{e:()=>r,Z:()=>s});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!i.has(e)&&!e.startsWith("__track__"),r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(o).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):"",s=r},886550:(e,t,n)=>{n.d(t,{UZ:()=>d,Z8:()=>c});var i=n(667294),o=(n(40142),n(311866)),r=n(762803),s=n(785893);const{Provider:a,useHook:l}=(0,r.ZP)("ResourceContext");function d({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{var n;switch(t.type){case"addListener":const i=[...null!==(n=e[t.payload.name])&&void 0!==n?n:[],t.payload.handler];return{...e,[t.payload.name]:i};case"removeListener":if(!e[t.payload.name])return e;const o=e[t.payload.name].filter((e=>e!==t.payload.handler));return{...e,[t.payload.name]:o};default:return e}}),{});o.ZP.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:o,refresh:r,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:r,normalizedResponse:o,options:n,schema:s,resource:e,response:i})))};const r=(0,i.useMemo)((()=>({listenerDispatch:n})),[]);return(0,s.jsx)(a,{value:r,children:e})}function c(e,t){const{listenerDispatch:n}=l();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}},357846:(e,t,n)=>{n.d(t,{U2:()=>l,bi:()=>d,v_:()=>c});var i=n(139848),o=n(311866),r=n(301314),s=n(678929);function a({fetchOptions:e,resource:t,retry:n}){return(l,d)=>{var c,u,p;const{bookmark:h,headers:m,options:g,refresh:f,schema:_}=e,y=(0,i.Z)(g);if(null!==(c=d().resources)&&void 0!==c&&null!==(u=c[t])&&void 0!==u&&null!==(p=u[y])&&void 0!==p&&p.fetching&&!n)return Promise.resolve();const v=n?n.bookmark:h,x=v?{...g,bookmarks:[v]}:g;return l((0,r.LQ)(t,g,!0)),o.ZP.create(t,x).callGet(void 0,m).then((i=>{var d,c,u;const p=null===(d=i.resource_response)||void 0===d?void 0:d.data,[m]=i.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==s.q){const i=n?n.count:0;if(!(i>=s.s))return l(a({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}null===(c=o.ZP.customDataManipulations)||void 0===c||c.call(o.ZP,t,p,g);const{normalizedResponse:y,resourceSchema:v}=(null===(u=o.ZP.normalizeResponse)||void 0===u?void 0:u.call(o.ZP,{data:p,opts:{bookmark:h,options:g,schema:_},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?l((0,r.Dm)(t,g,i,y,v)):(l((0,r.Sr)(t,g,i,y,f,v)),o.ZP.fetchCompleteCallback&&o.ZP.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:y,refresh:f,resourceSchema:v})),Promise.resolve()}),(e=>{l((0,r.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:n,options:i,schema:o})=>a({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:o}}),d=(e,{headers:t,options:n,schema:i})=>a({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}});function c(e,t,n){return i=>{const{options:s}=t;return o.ZP.create(e,s).callCreate().then((t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const o=t.resource_response.data,a=(null==n?void 0:n(o))||null;i((0,r.XM)(e,s,t,a))}return t}),(t=>(i((0,r.Tl)(e,s,t)),t)))}}},678929:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>o});const i="-end-",o=10},451104:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>o,cR:()=>r,zP:()=>s,aW:()=>a,se:()=>l});const i="CREATE_COMPLETE",o="FETCHING",r="FETCH_ERROR",s="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},301314:(e,t,n)=>{n.d(t,{XM:()=>o,LQ:()=>r,Tl:()=>s,Sr:()=>a,Dm:()=>l,jB:()=>d});var i=n(451104);function o(e,t,n,o){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function r(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const s=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function a(e,t,n,o,r,s){return{type:i.zP,payload:{isRefresh:r,normalizedResponse:o,options:t,resource:e,response:n,schema:s}}}function l(e,t,n,o,r){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:r}}}function d(e,t={}){return{type:i.se,payload:{resource:e,options:t}}}},535718:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(40142),r=n(139848),s=n(678929),a=n(855168),l=n(585967),d=n(357846);const c={};function u({enabledRouteRefresh:e,dangerouslyDisableFetch:t,headers:n,name:u,noCache:p,options:h,schema:m}){const g=(0,o.useDispatch)(),f=(0,r.e)(h),_=(0,i.useRef)(),y=(0,a.k6)(),v=y&&"POP"!==y.action,x=e=>(e[u]||c)[f]||c,b=(0,o.useSelector)((({resources:e})=>x(e).nextBookmark)),w=(0,o.useSelector)((({resources:e})=>x(e).data)),S=(0,o.useSelector)((({resources:e})=>x(e).auxData)),I=(0,o.useSelector)((({resources:e})=>x(e).error)),C=(0,o.useSelector)((({resources:e})=>Boolean(x(e).fetching))),E=Boolean(I)||void 0!==w,T=E&&!C&&b===s.q,P=Boolean(E&&e&&v&&!t),[j,R]=(0,i.useState)(P),O=(0,i.useCallback)((e=>g((0,d.U2)(u,{options:h,schema:m,bookmark:e,headers:n}))),[g,u,f,m,n]),k=()=>g((0,d.bi)(u,{options:h,schema:m,headers:n})),{isBot:A}=(0,l.B)();(0,i.useEffect)((()=>{if(!t&&_.current!==f){const e=void 0===_.current;_.current=f,!E&&!C||e&&I&&(({httpStatus:e})=>!e||e>=500)(I)?O():(!A&&p||P)&&k()}}));const D=(0,i.useCallback)((()=>{t||(k(),R(!0))}),[t,d.bi,u,f,n,R]),L=(0,i.useCallback)((()=>{!b||T||C||t||O(b)}),[t,O,b,T,C]),N=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:L,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:D}),M={auxData:S,data:w,error:I,fetchMore:L,isAtEnd:T,isFetching:C,isLoaded:E,isRefreshing:j,nextBookmark:b,refresh:D};return(0,o.shallowEqual)(M,N.current)||(!j||!N.current.data&&P||(0,o.shallowEqual)(M.data,N.current.data)||(M.isRefreshing=!1,R(!1)),N.current=M),N.current}},979593:(e,t,n)=>{n.d(t,{V:()=>i});const i=e=>{const{thumbnail:t,url:n,width:i,height:o,duration:r}=e||{};return t&&n&&i&&o&&{thumbnail:t,url:n,width:i,height:o,duration:r}||void 0}},620813:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const r=t||null;return(0,o.jsx)(i.Suspense,{fallback:r,children:e})}},689859:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(620813).Z},658551:(e,t,n)=>{n.d(t,{Jg:()=>r,ZP:()=>s,c5:()=>a});var i=n(731164);const o=.01,r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function s(e){return new Promise(((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)}))}function a(e,t=r.OTHER,n=!1){const s=n?"web":"mweb";return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===r.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval((()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gplus_one.tries_${e}`,o))}),100)}else if(t===r.FACEBOOK)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.facebook.tries_${e}`,o))}),100)}else if(t===r.GSI)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gsi.tries_${e}`,o))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},660310:(e,t,n)=>{n.d(t,{R3:()=>r,NO:()=>s,Jc:()=>a,th:()=>l,ge:()=>c});var i=n(238402);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,i.Z)({term_meta:e.map((e=>a(e)))})}function d(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>o.includes(e.toLowerCase())))?[e]:t}return[]}function c({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return d(t).map((t=>({index:n,term:t,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return d(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},281996:(e,t,n)=>{n.d(t,{lw:()=>i,_R:()=>o,wF:()=>r});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},r=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},657121:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},51610:(e,t,n)=>{n.d(t,{U:()=>s,Z:()=>a});var i=n(588527),o=n(785893);const r=()=>{},s=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:a,children:l}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||s(e)}(e,t);return(0,o.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:r,onCanPlay:n?r:s,onCanPlayThrough:s,onChange:s,onClick:e?r:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:r,onInput:s,onInvalid:s,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:e?r:s,onMouseOut:s,onMouseOver:s,onMouseUp:e?r:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:a?r:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:e?r:s,onTouchMove:e?r:s,onTouchStart:e?r:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:l})}},552443:(e,t,n)=>{n.d(t,{o:()=>s,c:()=>a});var i=n(667294),o=n(785893);const r=(0,i.createContext)(null);function s({children:e,closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:s,loadFonts:a,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:h}){const m={closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:s,loadFonts:a,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:h};return(0,o.jsx)(r.Provider,{value:m,children:e})}const a=()=>(0,i.useContext)(r)},81260:(e,t,n)=>{n.d(t,{RR:()=>i,YB:()=>o,yR:()=>r,YL:()=>s,pE:()=>a,h8:()=>l,Cc:()=>d});const i="0.8.0",o=9/16,r=8,s=10;function a(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const l={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},925265:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(561077);const o=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,i.Z)(o,e,t)},730060:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},760620:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>i.test(e)},204478:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},561077:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},395047:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/\s\s+/g,o=e=>e.replace(i," ")},754999:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(925265),o=n(730060);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},537343:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},354783:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},280313:(e,t,n)=>{n.d(t,{z_:()=>i,Yq:()=>o,T7:()=>r,Yj:()=>l,pe:()=>d,xt:()=>c,E5:()=>u});n(883119);const i="/today/",o=(e,t=0)=>({num_days:3,referrer:t,...e?{}:{redux_normalize_feed:!0}});function r(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},a={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=a[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>s[e],c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},988089:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);class s extends i.Component{constructor(e){var t,n,o;super(e),o={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",r=i[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,s={maxWidth:e,maxHeight:t},a=n?{display:"inline",...s}:{...s};return i?(0,r.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,children:this.props.children}):(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},children:this.props.children})}}const a=s},500953:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=e=>{(0,i.useEffect)(e,[])}},8742:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=()=>{const[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}}},34411:(e,t,n)=>{n.d(t,{$:()=>o,Z:()=>s});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("viewer"),s=r},377587:(e,t,n)=>{function i(e,t,n){return Object.keys(e).reduce(((n,i)=>n+Math.abs(e[i]-t[i])),0)<=n}n.d(t,{Z:()=>i})},477342:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>o})},111062:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{x:e/o,y:t/r,w:n/o,h:i/r}}n.d(t,{Z:()=>i})},268362:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:o,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*r)}}n.d(t,{Z:()=>i})},284794:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:r,entrySource:s,trafficSource:a,imageSignature:l}){const d=[];e>=0&&t>=0&&n>=0&&i>=0&&d.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),o&&d.push(`cropSource=${o}`),s&&d.push(`entrySource=${s}`),r&&d.push(`q=${r}`),l&&d.push(`imageSignature=${l}`),a&&"unknown"!==a&&d.push(`rs=${a}`);return d.length?`?${d.join("&")}`:""}n.d(t,{Z:()=>i})},312318:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(284794);function o({cropArea:e,cropSource:t,entrySource:n,isUnified:o,imageSignature:r,pinId:s,searchQuery:a,trafficSource:l,view:d}){return`/pin/${s}/${o?"related-products":"visual-search"}/${o||"products"!==d?"":"products/"}${(0,i.Z)({cropArea:e,cropSource:t,entrySource:n,trafficSource:l,searchQuery:a,imageSignature:r})}`}},526947:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>v,useRoleBasedAccessControlContext:()=>y});var i=n(667294),o=n(616627),r=n(535718),s=n(34411),a=n(181307),l=n(354783);const d=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,l.Z)(n)]=e[n]:t[(0,l.Z)(n)]=d(e[n]));return t},c=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...d(e[r])});const i=n.sort((({user:{businessName:e}},{user:{businesName:t}})=>e.localeCompare(t))),o=new Map;for(const r of i)o.set(r.id,r);return o};var u=n(652382);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,n]=(0,i.useReducer)(h,p),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:s}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})}),[t,e,r]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!s})}),[t,e,s])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:s}=t;(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacVisibility",s)}),[s]),(0,i.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:o,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:c(e,t)})}),[n])}};var g=n(762803),f=n(785893);const{Provider:_,useHook:y}=(0,g.js)("RoleBasedAccessControlContext"),v=({children:e})=>{const t=(0,a.tc)("web_m10n_business_access_orbac_www"),n=(0,s.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(l),{activeProfile:p,headerVisible:h,profiles:g=[]}=d,y=g?Array.from(g.values()):[],v=(0,o.Z)(y),x=!!(n.isAuth&&y.length>0)&&v,b=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:C,toggleHeaderVisibility:E}=c;(0,i.useEffect)((()=>{l&&("string"!=typeof v?p||S(b):S(v))}),[v,b,l,S,p]),(0,i.useEffect)((()=>{l&&(x&&!h&&E(!0),!x&&h&&E(!1))}),[E,x,l,h,g]);const{data:T}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),P=null==T?void 0:T.profiles;let j;n&&n.isAuth&&d.activeProfile===n.id?j={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(j=d.profiles.get(p)),(0,i.useEffect)((()=>{P&&u(P,b)}),[u,P,b]);const R=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(_,{value:{profiles:R,headerVisible:d.headerVisible,activeProfile:j,changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:C,toggleHeaderVisibility:E},children:e})}},767523:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181307),o=n(526947);const r=()=>{const e=(0,i.tc)("web_m10n_business_access_orbac_www"),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},616627:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(40142),o=n(34411),r=n(382745),s=n(855168);const a=e=>{var t;const n=(0,s.TH)(),a=(0,o.Z)(),l=(0,s.$B)("/:username"),d=null==l||null===(t=l.params)||void 0===t?void 0:t.username,c=(0,s.$B)("/pin/:id"),u=(0,i.useSelector)((e=>{var t,n,i,o;return!(null==c||null===(t=c.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[c.params.id])||void 0===i||null===(o=i.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(n))return!1;if((0,r.RU)(n))return!0;const p=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&d||u&&n)&&(i===d||u===n)}));return!!p&&p.id}},159276:(e,t,n)=>{n.d(t,{Ms:()=>i,lJ:()=>o,q6:()=>r,D3:()=>s,KY:()=>a,N1:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),s=(e,t,n)=>!!(r(e,t,n)||e&&e.isAuth&&t===e.id),a=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return s(e,i,n)};function l(e,t,n){const i=t?t.id:"";return s(e,i,n)}},192830:(e,t,n)=>{n.d(t,{i5:()=>x,sX:()=>w,Z5:()=>v,NG:()=>b,MT:()=>S});var i=n(667294),o=n(40142),r=n(311866),s=n(682492),a=n.n(s);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function d(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const o=t(i);return n[o]?(a()(n[o],i),e):(n[o]=i,e.concat([i]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,n){let i=l(e,t).concat(n);return i=d(i,(e=>e.id)),c(i)}const p={conversationsUnseenCount:0,data:{},open:null,showConversationsDropdown:!1,ui:{},unread:0};function h(e=p,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:o}=t.payload,r=o.resource_response.data;if("ConversationMessagesResource"===i){const t=r||[],i=(null==n?void 0:n.conversation_id)||"",o=u(e,i,t),s=o[o.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:o,unread:0,last_message:s}}}}if("ConversationsResource"===i){const t=r||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:o,board:r,emails:s,unread:a,users:l,last_message:d}=e,c=u(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:o,board:r,emails:s||[],unread:a||0,users:l||[],last_message:d,messages:c}})),n}if("ConversationResource"===i){const t=r||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(r){const t=r.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;if(e.data[n]){const t=u(e,n,[i]);return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:t,last_message:i}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:n,messageId:i,newMessageId:o}=t.payload;if(e.data[n]){const t=l(e,n).find((e=>e.id===i));if(t){const r={...t,id:o};let s=l(e,n).filter((e=>e.id!==i)).concat([r]);return s=d(s,(e=>e.id)),s=c(s),{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:s}}}}}return e}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var m=n(762803),g=n(886550),f=n(785893);const _=(()=>{let e=0;return()=>e++})(),{Provider:y,useHook:v}=(0,m.ZP)("Conversations");function x({children:e}){const[t,n]=(0,i.useReducer)(h,p),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,g.Z8)("ConversationMessagesResource",o),(0,g.Z8)("ConversationsResource",o),(0,g.Z8)("ConversationResource",o),(0,g.Z8)("NewsHubBadgeResource",o);const s=(0,i.useMemo)((()=>({conversations:t,conversationOpen:(e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),conversationClose:(e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),conversationCreate:e=>n({type:"CONVERSATION_CREATE",payload:e}),conversationDelete:e=>n({type:"CONVERSATION_DELETE",payload:{id:e}}),conversationGet:(e,t,i)=>{r.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))},dropdownClose:()=>{n({type:"CLOSE_DROPDOWN"})},dropdownOpen:()=>{n({type:"OPEN_DROPDOWN"})},pendingMessageSend:(e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),pendingMessageClear:(e,t,i)=>n({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:i}}),updateUnreadCount:e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})})),[t]);return(0,f.jsx)(y,{value:s,children:e})}function b(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageClear:i}=v(),s=(0,o.useSelector)((({pins:e})=>e));return(o,a,l,d)=>new Promise(((c,u)=>{const{text:p,pinId:h,boardId:m,userId:g,didItId:f}=a;function y(){const e=r.ZP.create("ConversationMessagesResource",{conversation_id:o,text:p,pin:h,board:m,user:g,user_did_it_data:f,source:l}),t=`${_()}`;n(o,{text:p,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:h?s[h]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{i(o,t,e.resource_response.data.id),c()})).catch(u)}e.data[o]?y():r.ZP.create("ConversationResource",{conversation_id:o}).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;t(n),y()}))}))}function w(e){const{conversations:t}=v();return t.data[e]}function S(e){const{conversations:t}=v();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},159617:(e,t,n)=>{n.d(t,{hu:()=>i,cI:()=>o,L1:()=>r,WZ:()=>s,fe:()=>a,Rz:()=>l});const i=64,o=80,r=22,s="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},341088:(e,t,n)=>{n.d(t,{Hv:()=>c,WQ:()=>d});var i=n(667294),o=n(823493),r=n.n(o),s=n(762803),a=n(785893);const{Provider:l,useHook:d}=(0,s.ZP)("HeaderShadow");function c({children:e}){const[t,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,p]=(0,i.useState)(null),h=r()((()=>{t&&(s(window.scrollY>0),c(window.scrollY))}),50);return(0,i.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,i.useEffect)((()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)})),[t]),(0,a.jsx)(l,{value:{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:p,subheaderShadow:u},children:e})}},27509:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(667294),o=n(316770),r=n(199702),s=n(840768),a=n(785705),l=n(476865),d=n(174523),c=n(535718),u=n(535258),p=n(883119),h=n(785893);const m=({data:e,itemIdx:t})=>(0,h.jsx)(l.default,{pin:e,pinId:e.id,surface:"RelatedProductsFeed",trackingParameters:{slotIndex:t,viewParameter:3334,viewType:72}});function g({resourceOptions:e}){const t=(0,d.ZP)(),n=(0,c.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:o,isAtEnd:r,isLoaded:s,isFetching:l,fetchMore:g}=n,f=(0,i.useRef)(null);if(!s)return(0,h.jsx)(p.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,h.jsx)(p.$j,{accessibilityLabel:t._("Loading related products","Label for loading spinner","Label for loading spinner"),show:!0})});const _=Array.isArray(o)?o:null==o?void 0:o.results;return(0,h.jsx)(p.xu,{display:"flex",maxWidth:"100%",ref:f,children:_&&(0,h.jsx)(a.default,{columnWidth:u.xf,comp:m,isAtEnd:r,isFetching:l,isLoaded:s,items:_,loadItems:()=>{l||r||g()},paddingStyle:"simplified",scrollContainer:()=>f.current||window})})}var f=n(18827);class _ extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,o=i&&i.data&&i.data.search_identifier,r=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,h.jsx)(f.Z,{story:e,dangerouslySetActionUrl:r,slotIndex:t}):(0,h.jsx)(l.default,{pin:e,pinId:e.id,surface:"FlashlightResultGrid",trackingParameters:{contextLogData:{viewData:{search_identifier:o},search_identifier:o,image_signature:n},slotIndex:t,viewParameter:3050,viewType:72}})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{visualLiveSearchResource:e}=this.props,{data:t,isFetching:n,fetchMore:i}=e,o=t&&t.results,r=t&&t.search_identifier;return(0,h.jsxs)(p.xu,{children:[o&&r&&(0,h.jsx)(p.xu,{children:(0,h.jsx)(p.Rk,{columnWidth:u.xf,comp:this.renderItem,gutterWidth:u.P2,items:o,loadItems:i,minCols:1,scrollContainer:()=>window})}),(0,h.jsx)(p.$j,{accessibilityLabel:this.props.i18n._("Loading search results...","Accessibility label for loading visual search results","Accessibility label for loading visual search results"),show:n||!r})]})}}function y(e){const t=(0,d.ZP)(),n=(0,c.Z)({name:"VisualLiveSearchResource",options:e.resourceOptions});return(0,h.jsx)(_,{...e,visualLiveSearchResource:n,i18n:t})}var v=n(498205),x=n(733785),b=n(111062),w=n(284794),S=n(312318),I=n(618446),C=n.n(I),E=n(755908),T=n(477342),P=n(557162),j=n(549135),R=n(585967),O=n(855168);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=0,D="";class L extends i.Component{constructor(...e){super(...e),k(this,"state",{searchId:""}),k(this,"saveFlashlightImageContainerRef",(e=>{this.flashlightImageContainerRef=e})),k(this,"handleCropperChange",(({origCrop:e,cropSource:t})=>{const{pinId:n,history:i,imageSignature:o}=this.props;(0,S.Z)({cropArea:e,pinId:n,cropSource:t,isUnified:!1,imageSignature:o})!==window.location.pathname+window.location.search&&i.replace({pathname:`/pin/${n}/visual-search/`,query:{...e,cropSource:t,imageSignature:o},search:(0,w.Z)({cropArea:e,cropSource:t,imageSignature:o}),state:{internalNavigation:!0}})})),k(this,"handleSearchIdChange",(e=>{this.setState({searchId:e})}))}componentDidMount(){const{initialCropArea:e,pinResource:{data:t},pinId:n,history:i,view:o,imageSignature:r}=this.props;if(!e&&t){const s=(0,v.Z)({initialCropArea:e,pin:t,imageSignature:r}),a=(0,S.Z)({cropArea:s,pinId:n,view:o,imageSignature:r});i.replace(a)}this.flashlightImageContainerRef&&D===n&&(this.flashlightImageContainerRef.scrollTop=A),(0,j.j)(13,{view:72,viewParameter:3050,viewData:{pin_id:n}})}componentDidUpdate(e){C()(e.initialCropArea,this.props.initialCropArea)||this.setState({searchId:""})}componentWillUnmount(){const{pinId:e}=this.props;this.flashlightImageContainerRef&&(A=this.flashlightImageContainerRef.scrollTop,D=e)}getResourceOptions({pinId:e,cropArea:t,width:n,height:i,cropSource:o,imageSignature:r}){return{pin_id:e,image_signature:r,crop:(0,b.Z)({cropArea:t,scaledWidth:n,scaledHeight:i}),crop_source:o}}renderSpinner(){return(0,h.jsx)(p.$j,{accessibilityLabel:this.props.i18n._("Loading visual search...","Accessibility label for loading visual search page","Accessibility label for loading visual search page"),show:!0})}renderFlashlight(){const{pinResource:{data:e},initialCropArea:t,initialCropSource:n,location:a,requestContext:l,view:d,imageSignature:c,history:u}=this.props;if(!e)return null;const{id:m,image_signature:f}=e,_=c||f,{width:b,height:w,url:S}=(0,x.Z)({pin:e,imageSignature:_});""===S&&u.push(`/pin/${m}/visual-search/`);const I=(0,v.Z)({initialCropArea:t,pin:e,imageSignature:_}),C=n||5,E=this.getResourceOptions({pinId:m,cropArea:I,width:b,height:w,cropSource:C,imageSignature:_}),j=b+20,R=!(a&&a.state&&a.state.internalNavigation),O=!!e.visual_objects&&_===f&&(0,T.m)(e.visual_objects)||[],k=l&&l.isRTL||!1,A=j+16;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,h.jsxs)(p.xu,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center",children:[(0,h.jsx)(p.xu,{position:"absolute",children:(0,h.jsx)(r.Z,{pinId:e.id})}),(0,h.jsx)(p.xu,{flex:"grow",children:(0,h.jsx)(p.xv,{align:"center",weight:"bold",children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:"products"===d?this.props.i18n._("Shop similar items","Header explaining results of flashlight products search","Header explaining results of flashlight products search"):this.props.i18n._("More Ideas","Header explaining results of flashlight search","Header explaining results of flashlight search")})})})]})}),(0,h.jsx)(P.c,{children:t=>{var n;return"products"===d?(0,h.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,h.jsx)(g,{resourceOptions:E}),";"]}):(0,h.jsxs)(p.xu,{display:"flex",paddingX:12,children:[(0,h.jsx)(p.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:j,height:"inherit",top:t+60,marginBottom:10}},ref:this.saveFlashlightImageContainerRef,children:(0,h.jsx)(p.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:b,height:w}},children:(0,h.jsxs)(p.zd,{height:w,rounding:2,width:b,children:[(0,h.jsx)(p.Ee,{alt:null!==(n=e.description)&&void 0!==n?n:"",naturalHeight:w,naturalWidth:b,src:S}),(0,h.jsx)(s.Z,{showAnimation:R,imageSignature:_,imageSize:{h:w,w:b},initialCropArea:I,onChange:this.handleCropperChange,pin:e,spotlightAreas:O})]})})}),(0,h.jsx)(p.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:60,marginLeft:k?void 0:A,marginRight:k?A:void 0}},children:(0,h.jsx)(y,{resourceOptions:E,onSearchIdChange:this.handleSearchIdChange})})]})}})]})}render(){const{pinResource:{isLoaded:e}}=this.props,{searchId:t}=this.state;return(0,h.jsx)(E.Z,{view:72,objectId:t,children:(0,h.jsx)(p.xu,{children:e?this.renderFlashlight():this.renderSpinner()})})}}function N(e){const t=(0,d.ZP)(),n=(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"detailed",fetch_visual_search_objects:!0}});return(0,h.jsx)(L,{...e,history:(0,O.k6)(),location:(0,O.TH)(),pinResource:n,requestContext:(0,R.B)(),i18n:t})}var M=n(686125),Z=n(221469);const B=(...e)=>e.every(Number.isFinite);const F=(0,M.Z)({resourceDependencies:(e,t)=>[{name:"PinResource",options:{id:t.id,field_set_key:"detailed",fetch_visual_search_objects:!0}}]})((function(){const{id:e}=(0,O.UO)(),t=(0,O.TH)(),n=(0,Z.mB)(t.search),i=t.pathname.includes("/products"),{x:o,y:r,w:s,h:a,cropSource:l}=function(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:parseInt(e[n],10)})),{})}(n),{q:d,rs:c,imageSignature:u}=n;return(0,h.jsx)(N,{initialCropArea:B(o,r,s,a)?{x:o,y:r,w:s,h:a}:void 0,initialCropSource:l||void 0,pinId:null!=e?e:"",searchQuery:d,trafficSource:c,view:i?"products":"flashlight",imageSignature:u})}))},372833:(e,t,n)=>{n.d(t,{B:()=>r,Z:()=>s});var i=n(704170);const o=[];function r(e){let t;try{t=JSON.stringify({errorObj:e})}catch(a){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"5b9eecc"}),report_data:t},Object.keys(r).map((e=>e+"="+encodeURIComponent(r[e]))).join("&"));var r;const s=window.btoa(n);if(-1===o.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/report/error/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,i.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}("csrftoken")),e.send(n),o.push(s)}o.length>100&&o.shift()}function s(){window.addEventListener("error",(e=>{const t=e.error||{};r({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,o,s;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);r({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(n=null!==(i=null==a?void 0:a.lineno)&&void 0!==i?i:null==a?void 0:a.line)&&void 0!==n?n:null==a?void 0:a.lineNumber,column:null!==(o=null!==(s=null==a?void 0:a.column)&&void 0!==s?s:null==a?void 0:a.colno)&&void 0!==o?o:null==a?void 0:a.columnNumber})}))}}},e=>{e.O(0,[33293],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5),e.O(0,[33293],(()=>{[76030,19509,92982,46760,56103,48035,5035,44317,43473,51555,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,85486,21779,93653,26623,22777,39752,9136,66584,48455,48339,68648],(()=>(t(889127),t(196819))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-authdesktop-59c30b02b2b8cc5f.mjs.map